import{r as m,a as Qn,g as Xn,c as Ne,u as Ea,b as Ht,L as P,O as dr,R as Oe,d as ei,e as ti,B as si,f as ri,h as H,N as Ot}from"./vendor-cc601bd3.js";import{C as Pa,a as ai,L as ni,B as ii,p as oi,b as Ta,c as Aa,d as li,A as ci,D as di}from"./charts-b12028b9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Da={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=m,mi=Symbol.for("react.element"),hi=Symbol.for("react.fragment"),xi=Object.prototype.hasOwnProperty,fi=ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gi={key:!0,ref:!0,__self:!0,__source:!0};function Oa(r,t,s){var a,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)xi.call(t,a)&&!gi.hasOwnProperty(a)&&(n[a]=t[a]);if(r&&r.defaultProps)for(a in t=r.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:mi,type:r,key:i,ref:o,props:n,_owner:fi.current}}bs.Fragment=hi;bs.jsx=Oa;bs.jsxs=Oa;Da.exports=bs;var e=Da.exports,Js={},Mr=Qn;Js.createRoot=Mr.createRoot,Js.hydrateRoot=Mr.hydrateRoot;const pi="modulepreload",bi=function(r){return"/"+r},$r={},kt=function(t,s,a){if(!s||s.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=bi(i),i in $r)return;$r[i]=!0;const o=i.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!a)for(let d=n.length-1;d>=0;d--){const h=n[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":pi,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},yi=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>kt(()=>Promise.resolve().then(()=>Ct),void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)};class ur extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class vi extends ur{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wi extends ur{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ji extends ur{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gs;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Gs||(Gs={}));var Ni=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};class ki{constructor(t,{headers:s={},customFetch:a,region:n=Gs.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=yi(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var a;return Ni(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let c={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:u}).catch(y=>{throw new vi(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new wi(d);if(!d.ok)throw new ji(d);let f=((a=d.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var pe={},mr={},ys={},Jt={},vs={},ws={},_i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_t=_i();const Si=_t.fetch,Ma=_t.fetch.bind(_t),$a=_t.Headers,Ci=_t.Request,Ei=_t.Response,Ct=Object.freeze(Object.defineProperty({__proto__:null,Headers:$a,Request:Ci,Response:Ei,default:Ma,fetch:Si},Symbol.toStringTag,{value:"Module"})),Pi=Xn(Ct);var js={};Object.defineProperty(js,"__esModule",{value:!0});let Ti=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};js.default=Ti;var La=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ws,"__esModule",{value:!0});const Ai=La(Pi),Di=La(js);let Oi=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ai.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let n=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,l;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const N=await i.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=N:d=JSON.parse(N))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&v===""?(f=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Di.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,c,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};ws.default=Oi;var Mi=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vs,"__esModule",{value:!0});const $i=Mi(ws);let Li=class extends $i.default{select(t){let s=!1;const a=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:a=s}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var c;const l=[t?"analyze":null,s?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vs.default=Li;var Ri=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const Fi=Ri(vs);let Ii=class extends Fi.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const a=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${a})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=a===void 0?"":`(${a})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(t,s,a){return this.url.searchParams.append(t,`not.${s}.${a}`),this}or(t,{foreignTable:s,referencedTable:a=s}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,a){return this.url.searchParams.append(t,`${s}.${a}`),this}};Jt.default=Ii;var Ui=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ys,"__esModule",{value:!0});const Mt=Ui(Jt);let Bi=class{constructor(t,{headers:s={},schema:a,fetch:n}){this.url=t,this.headers=s,this.schema=a,this.fetch=n}select(t,{head:s=!1,count:a}={}){const n=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),a&&(this.headers.Prefer=`count=${a}`),new Mt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:a=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){const o="POST",c=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),n&&c.push(`count=${n}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const a="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Mt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",a=[];return t&&a.push(`count=${t}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new Mt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ys.default=Bi;var Ns={},ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.version=void 0;ks.version="0.0.0-automated";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DEFAULT_HEADERS=void 0;const Wi=ks;Ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wi.version}`};var Ra=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mr,"__esModule",{value:!0});const Vi=Ra(ys),qi=Ra(Jt),zi=Ns;let Hi=class Fa{constructor(t,{headers:s={},schema:a,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},zi.DEFAULT_HEADERS),s),this.schemaName=a,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new Vi.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fa(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:n=!1,count:i}={}){let o;const c=new URL(`${this.url}/rpc/${t}`);let l;a||n?(o=a?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new qi.default({method:o,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};mr.default=Hi;var Et=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pe,"__esModule",{value:!0});pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const Ia=Et(mr);pe.PostgrestClient=Ia.default;const Ua=Et(ys);pe.PostgrestQueryBuilder=Ua.default;const Ba=Et(Jt);pe.PostgrestFilterBuilder=Ba.default;const Wa=Et(vs);pe.PostgrestTransformBuilder=Wa.default;const Va=Et(ws);pe.PostgrestBuilder=Va.default;const qa=Et(js);pe.PostgrestError=qa.default;var Ji=pe.default={PostgrestClient:Ia.default,PostgrestQueryBuilder:Ua.default,PostgrestFilterBuilder:Ba.default,PostgrestTransformBuilder:Wa.default,PostgrestBuilder:Va.default,PostgrestError:qa.default};const{PostgrestClient:Gi,PostgrestQueryBuilder:m0,PostgrestFilterBuilder:h0,PostgrestTransformBuilder:x0,PostgrestBuilder:f0,PostgrestError:g0}=Ji,Yi="2.11.2",Ki={"X-Client-Info":`realtime-js/${Yi}`},Zi="1.0.0",za=1e4,Qi=1e3;var jt;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(jt||(jt={}));var ve;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ve||(ve={}));var Ee;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ee||(Ee={}));var Ys;(function(r){r.websocket="websocket"})(Ys||(Ys={}));var it;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(it||(it={}));class Xi{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,s,a)}_decodeBroadcast(t,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const c=a.decode(t.slice(o,o+n));o=o+n;const l=a.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class Ha{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Q||(Q={}));const Lr=(r,t,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((i,o)=>(i[o]=eo(o,r,t,n),i),{})},eo=(r,t,s,a)=>{const n=t.find(c=>c.name===r),i=n==null?void 0:n.type,o=s[r];return i&&!a.includes(i)?Ja(i,o):Ks(o)},Ja=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return ao(t,s)}switch(r){case Q.bool:return to(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return so(t);case Q.json:case Q.jsonb:return ro(t);case Q.timestamp:return no(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Ks(t);default:return Ks(t)}},Ks=r=>r,to=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},so=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},ro=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},ao=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,a=r[s];if(r[0]==="{"&&a==="}"){let i;const o=r.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Ja(t,c))}return r},no=r=>typeof r=="string"?r.replace(" ","T"):r,Ga=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ms{constructor(t,s,a={},n=za){this.channel=t,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rr;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Rr||(Rr={}));class Ut{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ut.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ut.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ut.syncDiff(this.state,n,i,o),c())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,n){const i=this.cloneDeep(t),o=this.transformState(s),c={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),y=d.filter(g=>p.indexOf(g.presence_ref)<0),v=h.filter(g=>f.indexOf(g.presence_ref)<0);y.length>0&&(c[u]=y),v.length>0&&(l[u]=v)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},a,n)}static syncDiff(t,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),d.length>0){const h=t[c].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[c].unshift(...f)}a(c,d,l)}),this.map(o,(c,l)=>{let u=t[c];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[c]=u,n(c,u,l),u.length===0&&delete t[c]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const n=t[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fr;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Fr||(Fr={}));var Ir;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ir||(Ir={}));var Be;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Be||(Be={}));class hr{constructor(t,s={config:{}},a){this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ms(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new Ha(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ut(this),this.broadcastEndpointURL=Ga(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(d=>t==null?void 0:t(Be.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Be.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(d=>d.filter))!==null&&n!==void 0?n:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Be.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let v=0;v<p;v++){const g=f[v],{filter:{event:N,schema:x,table:E,filter:T}}=g,w=d&&d[v];if(w&&w.event===N&&w.schema===x&&w.table===E&&w.filter===T)y.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),t==null||t(Be.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Be.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Be.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Be.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this._on(t,s,a)}async send(t,s={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const n=new Ms(this,Ee.leave,{},t);n.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ms(this,t,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var n,i;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=Ee;if(a&&[c,l,u,d].indexOf(o)>=0&&a!==this._joinRef())return;let f=this._onMessage(o,s,a);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,v,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(f,a)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,v,g,N,x,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((v=s.ids)===null||v===void 0?void 0:v.includes(T))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const T=(x=(N=p==null?void 0:p.filter)===null||N===void 0?void 0:N.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:v,table:g,commit_timestamp:N,type:x,errors:E}=y;f=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:N,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(y))}p.callback(f,a)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&hr.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ee.close,{},t)}_onError(t){this._on(Ee.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Lr(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Lr(t.columns,t.old_record)),s}}const io=()=>{},oo=typeof WebSocket<"u",lo=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class co{constructor(t,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ki,this.params={},this.timeout=za,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new Xi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>kt(()=>Promise.resolve().then(()=>Ct),void 0).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${Ys.websocket}`,this.httpEndpoint=Ga(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ha(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(oo){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uo(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),kt(()=>import("./browser-8531f381.js").then(t=>t.b),["assets/browser-8531f381.js","assets/vendor-cc601bd3.js"]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zi}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case jt.connecting:return it.Connecting;case jt.open:return it.Open;case jt.closing:return it.Closing;default:return it.Closed}}isConnected(){return this.connectionState()===it.Open}channel(t,s={config:{}}){const a=new hr(`realtime:${t}`,s,this);return this.channels.push(a),a}push(t){const{topic:s,event:a,payload:n,ref:i}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let a=null;try{a=JSON.parse(atob(s.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ee.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Qi,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:a,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ee.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${a}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([lo],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class uo{constructor(t,s,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=a.close}}class xr extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class mo extends xr{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zs extends xr{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var ho=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};const Ya=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>kt(()=>Promise.resolve().then(()=>Ct),void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},xo=()=>ho(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kt(()=>Promise.resolve().then(()=>Ct),void 0)).Response:Response}),Qs=r=>{if(Array.isArray(r))return r.map(s=>Qs(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Qs(a)}),t};var ut=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};const $s=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),fo=(r,t,s)=>ut(void 0,void 0,void 0,function*(){const a=yield xo();r instanceof a&&!(s!=null&&s.noResolveJson)?r.json().then(n=>{t(new mo($s(n),r.status||500))}).catch(n=>{t(new Zs($s(n),n))}):t(new Zs($s(r),r))}),go=(r,t,s,a)=>{const n={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function Gt(r,t,s,a,n,i){return ut(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(s,go(t,a,n,i)).then(l=>{if(!l.ok)throw l;return a!=null&&a.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>fo(l,c,a))})})}function os(r,t,s,a){return ut(this,void 0,void 0,function*(){return Gt(r,"GET",t,s,a)})}function Ke(r,t,s,a,n){return ut(this,void 0,void 0,function*(){return Gt(r,"POST",t,a,n,s)})}function po(r,t,s,a,n){return ut(this,void 0,void 0,function*(){return Gt(r,"PUT",t,a,n,s)})}function bo(r,t,s,a){return ut(this,void 0,void 0,function*(){return Gt(r,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Ka(r,t,s,a,n){return ut(this,void 0,void 0,function*(){return Gt(r,"DELETE",t,a,n,s)})}var fe=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};const yo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ur={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vo{constructor(t,s={},a,n){this.url=t,this.headers=s,this.bucketId=a,this.fetch=Ya(n)}uploadOrUpdate(t,s,a,n){return fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ur),n);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=a,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(c=Object.assign(Object.assign({},c),n.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(t,s,a){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,n){return fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ur.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl)):(l=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return fe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ke(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new xr("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}update(t,s,a){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return fe(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}copy(t,s,a){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,a){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Ke(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,a){return fe(this,void 0,void 0,function*(){try{const n=yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}download(t,s){return fe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield os(this.fetch,`${this.url}/${n}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}info(t){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield os(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Qs(a),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}exists(t){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield bo(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(ce(a)&&a instanceof Zs){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const c=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${u}`)}}}remove(t){return fe(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}list(t,s,a){return fe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},yo),s),{prefix:t||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const wo="2.7.1",jo={"X-Client-Info":`storage-js/${wo}`};var xt=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};class No{constructor(t,s={},a){this.url=t,this.headers=Object.assign(Object.assign({},jo),s),this.fetch=Ya(a)}listBuckets(){return xt(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return xt(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return xt(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return xt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}emptyBucket(t){return xt(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}deleteBucket(t){return xt(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}}class ko extends No{constructor(t,s={},a){super(t,s,a)}from(t){return new vo(this.url,this.headers,t,this.fetch)}}const _o="2.49.8";let It="";typeof Deno<"u"?It="deno":typeof document<"u"?It="web":typeof navigator<"u"&&navigator.product==="ReactNative"?It="react-native":It="node";const So={"X-Client-Info":`supabase-js-${It}/${_o}`},Co={headers:So},Eo={schema:"public"},Po={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},To={};var Ao=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};const Do=r=>{let t;return r?t=r:typeof fetch>"u"?t=Ma:t=fetch,(...s)=>t(...s)},Oo=()=>typeof Headers>"u"?$a:Headers,Mo=(r,t,s)=>{const a=Do(s),n=Oo();return(i,o)=>Ao(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:r;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),a(i,Object.assign(Object.assign({},o),{headers:u}))})};var $o=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};function Lo(r){return r.endsWith("/")?r:r+"/"}function Ro(r,t){var s,a;const{db:n,auth:i,realtime:o,global:c}=r,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(a=c==null?void 0:c.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>$o(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}const Za="2.69.1",vt=30*1e3,Xs=3,Ls=Xs*vt,Fo="http://localhost:9999",Io="supabase.auth.token",Uo={"X-Client-Info":`gotrue-js/${Za}`},er="X-Supabase-Api-Version",Qa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wo=6e5;class fr extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function q(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Vo extends fr{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function qo(r){return q(r)&&r.name==="AuthApiError"}class Xa extends fr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class tt extends fr{constructor(t,s,a,n){super(t,a,n),this.name=s,this.status=a}}class Ge extends tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zo(r){return q(r)&&r.name==="AuthSessionMissingError"}class Rs extends tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xt extends tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class es extends tt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ho(r){return q(r)&&r.name==="AuthImplicitGrantRedirectError"}class Br extends tt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tr extends tt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Fs(r){return q(r)&&r.name==="AuthRetryableFetchError"}class Wr extends tt{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Bt extends tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qr=` 	
\r=`.split(""),Jo=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<qr.length;t+=1)r[qr[t].charCodeAt(0)]=-2;for(let t=0;t<Vr.length;t+=1)r[Vr[t].charCodeAt(0)]=t;return r})();function en(r,t,s){const a=Jo[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function zr(r){const t=[],s=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Ko(o,a,s)};for(let o=0;o<r.length;o+=1)en(r.charCodeAt(o),n,i);return t.join("")}function Go(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Yo(r,t){for(let s=0;s<r.length;s+=1){let a=r.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(r.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Go(a,t)}}function Ko(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let a=1;a<6;a+=1)if(!(r>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Zo(r){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<r.length;n+=1)en(r.charCodeAt(n),s,a);return new Uint8Array(t)}function Qo(r){const t=[];return Yo(r,s=>t.push(s)),new Uint8Array(t)}function Xo(r){return Math.round(Date.now()/1e3)+r}function el(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",rt={tested:!1,writable:!1},Wt=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rt.tested)return rt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),rt.tested=!0,rt.writable=!0}catch{rt.tested=!0,rt.writable=!1}return rt.writable};function tl(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{t[n]=a}),t}const tn=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>kt(()=>Promise.resolve().then(()=>Ct),void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},sl=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",sn=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},ts=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ss=async(r,t)=>{await r.removeItem(t)};class _s{constructor(){this.promise=new _s.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}_s.promiseConstructor=Promise;function Is(r){const t=r.split(".");if(t.length!==3)throw new Bt("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Bo.test(t[a]))throw new Bt("JWT not in base64url format");return{header:JSON.parse(zr(t[0])),payload:JSON.parse(zr(t[1])),signature:Zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function rl(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function al(r,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function nl(r){return("0"+r.toString(16)).substr(-2)}function il(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,nl).join("")}async function ol(r){const s=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ll(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await ol(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ft(r,t,s=!1){const a=il();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await sn(r,`${t}-code-verifier`,n);const i=await ll(a);return[i,a===i?"plain":"s256"]}const cl=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dl(r){const t=r.headers.get(er);if(!t||!t.match(cl))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ul(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function ml(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var hl=globalThis&&globalThis.__rest||function(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(r);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(r,a[n])&&(s[a[n]]=r[a[n]]);return s};const at=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),xl=[502,503,504];async function Hr(r){var t;if(!sl(r))throw new tr(at(r),0);if(xl.includes(r.status))throw new tr(at(r),r.status);let s;try{s=await r.json()}catch(i){throw new Xa(at(i),i)}let a;const n=dl(r);if(n&&n.getTime()>=Qa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Wr(at(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ge}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wr(at(s),r.status,s.weak_password.reasons);throw new Vo(at(s),r.status||500,a)}const fl=(r,t,s,a)=>{const n={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function z(r,t,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[er]||(i[er]=Qa["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gl(r,t,s+c,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(l):{data:Object.assign({},l),error:null}}async function gl(r,t,s,a,n,i){const o=fl(t,a,n,i);let c;try{c=await r(s,Object.assign({},o))}catch(l){throw console.error(l),new tr(at(l),0)}if(c.ok||await Hr(c),a!=null&&a.noResolveJson)return c;try{return await c.json()}catch(l){await Hr(l)}}function Ye(r){var t;let s=null;vl(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Xo(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:a},error:null}}function Jr(r){const t=Ye(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Qe(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function pl(r){return{data:r,error:null}}function bl(r){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=r,o=hl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function yl(r){return r}function vl(r){return r.access_token&&r.refresh_token&&r.expires_in}var wl=globalThis&&globalThis.__rest||function(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(r);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(r,a[n])&&(s[a[n]]=r[a[n]]);return s};class jl{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=tn(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(q(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qe})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=wl(t,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:bl,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qe})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,n,i,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:yl});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qe})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Qe})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qe})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){try{const{data:s,error:a}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const Nl={getItem:r=>Wt()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{Wt()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{Wt()&&globalThis.localStorage.removeItem(r)}};function Gr(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}function kl(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gt={debug:!!(globalThis&&Wt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rn extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _l extends rn{}async function Sl(r,t,s){gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),gt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await s()}finally{gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(t===0)throw gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _l(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(gt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}kl();const Cl={url:Fo,storageKey:Io,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yr(r,t,s){return await s()}class zt{constructor(t){var s,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zt.nextInstanceID,zt.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Cl),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new jl({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tn(n.fetch),this.lock=n.lock||Yr,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Sl:this.lock=Yr,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Wt()?this.storage=Nl:(this.memoryStorage={},this.storage=Gr(this.memoryStorage)):(this.memoryStorage={},this.storage=Gr(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Za}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=tl(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),Me()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ho(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new Xa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,n;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ye}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,a,n;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ft(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ye})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ye})}else throw new Xt("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:c}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jr})}else if("phone"in t){const{phone:i,password:o,options:c}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Jr})}else throw new Xt("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Rs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await ts(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ye});if(await ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=t,c=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ye}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,a,n,i,o;try{if("email"in t){const{email:c,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ft(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xt("You must provide either an email or phone number.")}catch(c){if(q(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var s,a;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:c}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ye});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ft(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:pl})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new Ge;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:o,error:c}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Xt("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ls:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qe}):await this._useSession(async s=>{var a,n,i;const{data:o,error:c}=s;if(c)throw c;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ge}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Qe})})}catch(s){if(q(s))return zo(s)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Ge;const o=n.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await ft(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:Qe});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(q(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ge;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Is(t.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:o,error:c}=s;if(c)throw c;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ge;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Me())throw new es("No browser detected.");if(t.error||t.error_description||t.error_code)throw new es(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Br("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new es("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Br("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=t;if(!i||!c||!o||!u)throw new es("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=vt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(a){if(q(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(qo(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=el(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await ft(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,c,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Me()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(q(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await al(async n=>(n>0&&await rl(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ye})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fs(i)&&Date.now()+o-a<vt})}catch(a){if(this._debug(s,"error",a),q(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),Me()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ts(this.storage,this.storageKey);if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const n=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ls;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Ls}s`),n){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Fs(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new _s;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ge;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return Fs(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vt);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/vt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vt}ms, refresh threshold is ${Xs} ticks`),n<=Xs&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rn)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await ft(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(c.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:c}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(t==null?void 0:t.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,a;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Is(n.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(o=>o.kid===t);if(a||(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+Wo>Date.now()))return a;const{data:n,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Bt("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),a=n.keys.find(o=>o.kid===t),!a)throw new Bt("No matching signing key found in JWKS");return a}async getClaims(t,s={keys:[]}){try{let a=t;if(!a){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};a=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:c,payload:l}}=Is(a);if(ul(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=ml(n.alg),d=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Qo(`${c}.${l}`)))throw new Bt("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(q(a))return{data:null,error:a};throw a}}}zt.nextInstanceID=0;const El=zt;class Pl extends El{constructor(t){super(t)}}var Tl=globalThis&&globalThis.__awaiter||function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(a.next(d))}catch(h){o(h)}}function l(d){try{u(a.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((a=a.apply(r,t||[])).next())})};class Al{constructor(t,s,a){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const c=Lo(t),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Eo,realtime:To,auth:Object.assign(Object.assign({},Po),{storageKey:u}),global:Co},h=Ro(a??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Mo(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Gi(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new ki(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ko(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Tl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:c,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pl({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new co(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const an=(r,t,s)=>new Al(r,t,s),Dl="https://zpnpsyiwguqwzldzptyp.supabase.co",Ol="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",se=an(Dl,Ol,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),nn=m.createContext();function xe(){return m.useContext(nn)}function Ml({children:r}){const[t,s]=m.useState(null),[a,n]=m.useState(!0),[i,o]=m.useState(null);m.useEffect(()=>{(async()=>{try{const{data:{session:v},error:g}=await se.auth.getSession();if(g)throw g;s((v==null?void 0:v.user)||null)}catch(v){console.error("Error checking auth session:",v),o(v.message)}finally{n(!1)}})();const{data:{subscription:y}}=se.auth.onAuthStateChange((v,g)=>{s((g==null?void 0:g.user)||null),n(!1)});return()=>{y&&y.unsubscribe()}},[]);const f={user:t,loading:a,error:i,signUp:async(p,y)=>{try{n(!0);const{data:v,error:g}=await se.auth.signUp({email:p,password:y});if(g)throw g;return v}catch(v){throw o(v.message),v}finally{n(!1)}},signIn:async(p,y)=>{try{n(!0);const{data:v,error:g}=await se.auth.signInWithPassword({email:p,password:y});if(g)throw g;return v}catch(v){throw o(v.message),v}finally{n(!1)}},signOut:async()=>{try{n(!0);const{error:p}=await se.auth.signOut();if(p)throw p}catch(p){throw o(p.message),p}finally{n(!1)}},resetPassword:async p=>{try{n(!0);const{error:y}=await se.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(y)throw y}catch(y){throw o(y.message),y}finally{n(!1)}},updatePassword:async p=>{try{n(!0);const{error:y}=await se.auth.updateUser({password:p});if(y)throw y}catch(y){throw o(y.message),y}finally{n(!1)}}};return e.jsx(nn.Provider,{value:f,children:r})}const on=m.createContext();function ze(){return m.useContext(on)}function $l({children:r}){const{user:t}=xe(),[s,a]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(!0),[l,u]=m.useState(null);m.useEffect(()=>{(async()=>{if(!t){a(null),c(!1);return}try{c(!0);const{data:v,error:g}=await se.from("profiles").select("*").eq("user_id",t.id).single();if(g&&g.code!=="PGRST116")throw g;if(v)a(v);else{const{data:N,error:x}=await se.from("profiles").insert([{user_id:t.id,email:t.email,role:"homeowner",full_name:"",avatar_url:"",created_at:new Date}]).select().single();if(x)throw x;a(N)}}catch(v){console.error("Error fetching user profile:",v),u(v.message)}finally{c(!1)}})()},[t]),m.useEffect(()=>{(async()=>{if(!t){i([]);return}try{const{data:g,error:N}=await se.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(10);if(N)throw N;i(g||[])}catch(g){console.error("Error fetching notifications:",g)}})();const v=se.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t==null?void 0:t.id}`},g=>{g.eventType==="INSERT"?i(N=>[g.new,...N].slice(0,10)):g.eventType==="UPDATE"?i(N=>N.map(x=>x.id===g.new.id?g.new:x)):g.eventType==="DELETE"&&i(N=>N.filter(x=>x.id!==g.old.id))}).subscribe();return()=>{v&&se.removeChannel(v)}},[t]);const p={userProfile:s,notifications:n,loading:o,error:l,updateProfile:async y=>{try{if(!t)throw new Error("User not authenticated");const{data:v,error:g}=await se.from("profiles").update(y).eq("user_id",t.id).select().single();if(g)throw g;return a(v),v}catch(v){throw console.error("Error updating profile:",v),v}},markNotificationAsRead:async y=>{try{const{error:v}=await se.from("notifications").update({read:!0}).eq("id",y);if(v)throw v;i(g=>g.map(N=>N.id===y?{...N,read:!0}:N))}catch(v){throw console.error("Error marking notification as read:",v),v}},markAllNotificationsAsRead:async()=>{try{if(!t)throw new Error("User not authenticated");const{error:y}=await se.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(y)throw y;i(v=>v.map(g=>({...g,read:!0})))}catch(y){throw console.error("Error marking all notifications as read:",y),y}}};return e.jsx(on.Provider,{value:p,children:r})}function Ll({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Rl=m.forwardRef(Ll),Fl=Rl;function Il({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ul=m.forwardRef(Il),Bl=Ul;function Wl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Vl=m.forwardRef(Wl),ql=Vl;function zl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Hl=m.forwardRef(zl),ln=Hl;function Jl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Gl=m.forwardRef(Jl),cn=Gl;function Yl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Kl=m.forwardRef(Yl),Kr=Kl;function Zl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ql=m.forwardRef(Zl),sr=Ql;function Xl({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const ec=m.forwardRef(Xl),ls=ec;function tc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const sc=m.forwardRef(tc),rc=sc;function ac({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const nc=m.forwardRef(ac),ct=nc;function ic({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const oc=m.forwardRef(ic),dn=oc;function lc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cc=m.forwardRef(lc),Nt=cc;function dc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const uc=m.forwardRef(dc),un=uc;function mc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const hc=m.forwardRef(mc),xc=hc;function fc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const gc=m.forwardRef(fc),pc=gc;function bc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const yc=m.forwardRef(bc),vc=yc;function wc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jc=m.forwardRef(wc),dt=jc;function Nc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const kc=m.forwardRef(Nc),rr=kc;function _c({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Sc=m.forwardRef(_c),mn=Sc;function Cc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ec=m.forwardRef(Cc),Pc=Ec;function Tc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Ac=m.forwardRef(Tc),hn=Ac;function Dc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Oc=m.forwardRef(Dc),xn=Oc;function Mc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const $c=m.forwardRef(Mc),fn=$c;function Lc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Rc=m.forwardRef(Lc),gn=Rc;function Fc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ic=m.forwardRef(Fc),ar=Ic;function Uc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Bc=m.forwardRef(Uc),Wc=Bc;function Vc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const qc=m.forwardRef(Vc),Ss=qc;function zc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Hc=m.forwardRef(zc),pn=Hc;function Jc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const Gc=m.forwardRef(Jc),bn=Gc;function Yc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Kc=m.forwardRef(Yc),St=Kc;function Zc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Qc=m.forwardRef(Zc),Zr=Qc;function Xc({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ed=m.forwardRef(Xc),qe=ed;function td({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"}))}const sd=m.forwardRef(td),rd=sd;function ad({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const nd=m.forwardRef(ad),id=nd;function od({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const ld=m.forwardRef(od),gr=ld;function cd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const dd=m.forwardRef(cd),ud=dd;function md({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const hd=m.forwardRef(md),xd=hd;function fd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const gd=m.forwardRef(fd),cs=gd;function pd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const bd=m.forwardRef(pd),yd=bd;function vd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const wd=m.forwardRef(vd),pr=wd;function jd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Nd=m.forwardRef(jd),Qr=Nd;function kd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const _d=m.forwardRef(kd),Sd=_d;function Cd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ed=m.forwardRef(Cd),Xr=Ed;function Pd({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Td=m.forwardRef(Pd),yn=Td,Us=()=>{var g,N;const{user:r,signOut:t}=xe(),{userProfile:s,notifications:a}=ze(),n=Ea(),i=Ht(),[o,c]=m.useState(!1),[l,u]=m.useState(!1),[d,h]=m.useState(!1),f=(s==null?void 0:s.role)||"homeowner",p=a.filter(x=>!x.read).length,y=async()=>{try{await t(),i("/login")}catch(x){console.error("Error signing out:",x)}},v=f==="provider"?[{name:"Dashboard",href:"/provider/dashboard",icon:ar},{name:"Jobs",href:"/provider/jobs",icon:Kr},{name:"Calendar",href:"/provider/calendar",icon:sr},{name:"Messages",href:"/provider/messages",icon:ct},{name:"Profile",href:"/provider/profile",icon:Qr},{name:"Settings",href:"/provider/settings",icon:rr}]:[{name:"Dashboard",href:"/homeowner/dashboard",icon:ar},{name:"Projects",href:"/homeowner/projects",icon:Kr},{name:"Providers",href:"/homeowner/providers",icon:pr},{name:"Messages",href:"/homeowner/messages",icon:ct},{name:"Profile",href:"/homeowner/profile",icon:Qr},{name:"Settings",href:"/homeowner/settings",icon:rr}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"block":"hidden"}`,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-white",children:[e.jsx("div",{className:"absolute top-0 right-0 pt-2 pr-2",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(yn,{className:"w-6 h-6","aria-hidden":"true"})]})}),e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(P,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsx("div",{className:"flex-1 h-0 mt-5 overflow-y-auto",children:e.jsx("nav",{className:"px-2 space-y-1",children:v.map(x=>e.jsxs(P,{to:x.href,className:`${n.pathname===x.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>c(!1),children:[e.jsx(x.icon,{className:`${n.pathname===x.href?"text-blue-600":"text-gray-400 group-hover:text-gray-500"} mr-4 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),x.name]},x.name))})})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto border-r border-gray-200 bg-white",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(P,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsx("div",{className:"flex flex-col flex-grow mt-5",children:e.jsx("nav",{className:"flex-1 px-2 space-y-1 bg-white",children:v.map(x=>e.jsxs(P,{to:x.href,className:`${n.pathname===x.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[e.jsx(x.icon,{className:`${n.pathname===x.href?"text-blue-600":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),x.name]},x.name))})})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>c(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(ln,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 px-4 flex justify-end",children:e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>u(!l),children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(cn,{className:"h-6 w-6","aria-hidden":"true"}),p>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),l&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.length>0?a.map(x=>e.jsxs("div",{className:`px-4 py-2 hover:bg-gray-50 ${x.read?"":"bg-blue-50"}`,children:[e.jsx("p",{className:"text-sm text-gray-700",children:x.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(x.created_at).toLocaleString()})]},x.id)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No notifications"})}),a.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-500",onClick:()=>{u(!1)},children:"Mark all as read"})})]})]}),e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",id:"user-menu-button","aria-expanded":d,"aria-haspopup":"true",onClick:()=>h(!d),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),s!=null&&s.avatar_url?e.jsx("img",{className:"h-8 w-8 rounded-full",src:s.avatar_url,alt:"User avatar"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:((g=s==null?void 0:s.full_name)==null?void 0:g.charAt(0))||((N=r==null?void 0:r.email)==null?void 0:N.charAt(0))||"?"})})]})}),d&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.full_name)||"User"}),e.jsx("p",{className:"text-gray-500 truncate",children:r==null?void 0:r.email})]}),e.jsx(P,{to:`/${f}/profile`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>h(!1),children:"Your Profile"}),e.jsx(P,{to:`/${f}/settings`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>h(!1),children:"Settings"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>{h(!1),y()},children:"Sign out"})]})]})]})})]}),e.jsx("main",{className:"flex-1 pb-8",children:e.jsx("div",{className:"py-6",children:e.jsx(dr,{})})})]})]})},Ad=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(P,{to:"/",className:"flex justify-center",children:e.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"ServiceConnectPro"})})}),e.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsx(dr,{})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"space-x-4",children:[e.jsx(P,{to:"/",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Home"}),e.jsx(P,{to:"/about",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"About"}),e.jsx(P,{to:"/contact",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Contact"})]})})]})]}),Dd=()=>{var v,g;const{user:r,signOut:t}=xe(),{userProfile:s,notifications:a}=ze(),n=Ea(),i=Ht(),[o,c]=m.useState(!1),[l,u]=m.useState(!1),[d,h]=m.useState(!1),f=a.filter(N=>!N.read).length,p=async()=>{try{await t(),i("/login")}catch(N){console.error("Error signing out:",N)}},y=[{name:"Dashboard",href:"/admin/dashboard",icon:ar},{name:"Users",href:"/admin/users",icon:Sd},{name:"Providers",href:"/admin/providers",icon:pr},{name:"Reports",href:"/admin/reports",icon:rc},{name:"Settings",href:"/admin/settings",icon:rr}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"block":"hidden"}`,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 pt-2 pr-2",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(yn,{className:"w-6 h-6","aria-hidden":"true"})]})}),e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(P,{to:"/admin/dashboard",className:"text-xl font-bold text-white",children:"Admin Panel"})}),e.jsx("div",{className:"flex-1 h-0 mt-5 overflow-y-auto",children:e.jsx("nav",{className:"px-2 space-y-1",children:y.map(N=>e.jsxs(P,{to:N.href,className:`${n.pathname===N.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>c(!1),children:[e.jsx(N.icon,{className:`${n.pathname===N.href?"text-gray-300":"text-gray-400 group-hover:text-gray-300"} mr-4 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),N.name]},N.name))})})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto bg-gray-800",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(P,{to:"/admin/dashboard",className:"text-xl font-bold text-white",children:"Admin Panel"})}),e.jsx("div",{className:"flex flex-col flex-grow mt-5",children:e.jsx("nav",{className:"flex-1 px-2 space-y-1",children:y.map(N=>e.jsxs(P,{to:N.href,className:`${n.pathname===N.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[e.jsx(N.icon,{className:`${n.pathname===N.href?"text-gray-300":"text-gray-400 group-hover:text-gray-300"} mr-3 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),N.name]},N.name))})})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>c(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(ln,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 px-4 flex justify-end",children:e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>u(!l),children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(cn,{className:"h-6 w-6","aria-hidden":"true"}),f>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),l&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.length>0?a.map(N=>e.jsxs("div",{className:`px-4 py-2 hover:bg-gray-50 ${N.read?"":"bg-blue-50"}`,children:[e.jsx("p",{className:"text-sm text-gray-700",children:N.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(N.created_at).toLocaleString()})]},N.id)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No notifications"})}),a.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-500",onClick:()=>{u(!1)},children:"Mark all as read"})})]})]}),e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",id:"user-menu-button","aria-expanded":d,"aria-haspopup":"true",onClick:()=>h(!d),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),s!=null&&s.avatar_url?e.jsx("img",{className:"h-8 w-8 rounded-full",src:s.avatar_url,alt:"User avatar"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:((v=s==null?void 0:s.full_name)==null?void 0:v.charAt(0))||((g=r==null?void 0:r.email)==null?void 0:g.charAt(0))||"A"})})]})}),d&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.full_name)||"Admin"}),e.jsx("p",{className:"text-gray-500 truncate",children:r==null?void 0:r.email})]}),e.jsx(P,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>h(!1),children:"Settings"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>{h(!1),p()},children:"Sign out"})]})]})]})})]}),e.jsx("main",{className:"flex-1 pb-8",children:e.jsx("div",{className:"py-6",children:e.jsx(dr,{})})})]})]})};var Yt=r=>r.type==="checkbox",ot=r=>r instanceof Date,he=r=>r==null;const vn=r=>typeof r=="object";var ae=r=>!he(r)&&!Array.isArray(r)&&vn(r)&&!ot(r),Od=r=>ae(r)&&r.target?Yt(r.target)?r.target.checked:r.target.value:r,Md=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,$d=(r,t)=>r.has(Md(t)),Ld=r=>{const t=r.constructor&&r.constructor.prototype;return ae(t)&&t.hasOwnProperty("isPrototypeOf")},br=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function de(r){let t;const s=Array.isArray(r),a=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)t=new Date(r);else if(r instanceof Set)t=new Set(r);else if(!(br&&(r instanceof Blob||a))&&(s||ae(r)))if(t=s?[]:{},!s&&!Ld(r))t=r;else for(const n in r)r.hasOwnProperty(n)&&(t[n]=de(r[n]));else return r;return t}var Cs=r=>Array.isArray(r)?r.filter(Boolean):[],ne=r=>r===void 0,R=(r,t,s)=>{if(!t||!ae(r))return s;const a=Cs(t.split(/[,[\].]+?/)).reduce((n,i)=>he(n)?n:n[i],r);return ne(a)||a===r?ne(r[t])?s:r[t]:a},$e=r=>typeof r=="boolean",yr=r=>/^\w*$/.test(r),wn=r=>Cs(r.replace(/["|']|\]/g,"").split(/\.|\[/)),Y=(r,t,s)=>{let a=-1;const n=yr(t)?[t]:wn(t),i=n.length,o=i-1;for(;++a<i;){const c=n[a];let l=s;if(a!==o){const u=r[c];l=ae(u)||Array.isArray(u)?u:isNaN(+n[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;r[c]=l,r=r[c]}};const ea={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Oe.createContext(null);var Rd=(r,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in r)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Pe.all&&(t._proxyFormState[o]=!a||Pe.all),s&&(s[o]=!0),r[o]}});return n};const Fd=typeof window<"u"?m.useLayoutEffect:m.useEffect;var Re=r=>typeof r=="string",Id=(r,t,s,a,n)=>Re(r)?(a&&t.watch.add(r),R(s,r,n)):Array.isArray(r)?r.map(i=>(a&&t.watch.add(i),R(s,i))):(a&&(t.watchAll=!0),s),jn=(r,t,s,a,n)=>t?{...s[r],types:{...s[r]&&s[r].types?s[r].types:{},[a]:n||!0}}:{},Vt=r=>Array.isArray(r)?r:[r],ta=()=>{let r=[];return{get observers(){return r},next:n=>{for(const i of r)i.next&&i.next(n)},subscribe:n=>(r.push(n),{unsubscribe:()=>{r=r.filter(i=>i!==n)}}),unsubscribe:()=>{r=[]}}},nr=r=>he(r)||!vn(r);function Xe(r,t){if(nr(r)||nr(t))return r===t;if(ot(r)&&ot(t))return r.getTime()===t.getTime();const s=Object.keys(r),a=Object.keys(t);if(s.length!==a.length)return!1;for(const n of s){const i=r[n];if(!a.includes(n))return!1;if(n!=="ref"){const o=t[n];if(ot(i)&&ot(o)||ae(i)&&ae(o)||Array.isArray(i)&&Array.isArray(o)?!Xe(i,o):i!==o)return!1}}return!0}var me=r=>ae(r)&&!Object.keys(r).length,vr=r=>r.type==="file",Te=r=>typeof r=="function",ds=r=>{if(!br)return!1;const t=r?r.ownerDocument:0;return r instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Nn=r=>r.type==="select-multiple",wr=r=>r.type==="radio",Ud=r=>wr(r)||Yt(r),Bs=r=>ds(r)&&r.isConnected;function Bd(r,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)r=ne(r)?a++:r[t[a++]];return r}function Wd(r){for(const t in r)if(r.hasOwnProperty(t)&&!ne(r[t]))return!1;return!0}function oe(r,t){const s=Array.isArray(t)?t:yr(t)?[t]:wn(t),a=s.length===1?r:Bd(r,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(ae(a)&&me(a)||Array.isArray(a)&&Wd(a))&&oe(r,s.slice(0,-1)),r}var kn=r=>{for(const t in r)if(Te(r[t]))return!0;return!1};function us(r,t={}){const s=Array.isArray(r);if(ae(r)||s)for(const a in r)Array.isArray(r[a])||ae(r[a])&&!kn(r[a])?(t[a]=Array.isArray(r[a])?[]:{},us(r[a],t[a])):he(r[a])||(t[a]=!0);return t}function _n(r,t,s){const a=Array.isArray(r);if(ae(r)||a)for(const n in r)Array.isArray(r[n])||ae(r[n])&&!kn(r[n])?ne(t)||nr(s[n])?s[n]=Array.isArray(r[n])?us(r[n],[]):{...us(r[n])}:_n(r[n],he(t)?{}:t[n],s[n]):s[n]=!Xe(r[n],t[n]);return s}var $t=(r,t)=>_n(r,t,us(t));const sa={value:!1,isValid:!1},ra={value:!0,isValid:!0};var Sn=r=>{if(Array.isArray(r)){if(r.length>1){const t=r.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!ne(r[0].attributes.value)?ne(r[0].value)||r[0].value===""?ra:{value:r[0].value,isValid:!0}:ra:sa}return sa},Cn=(r,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>ne(r)?r:t?r===""?NaN:r&&+r:s&&Re(r)?new Date(r):a?a(r):r;const aa={isValid:!1,value:null};var En=r=>Array.isArray(r)?r.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,aa):aa;function na(r){const t=r.ref;return vr(t)?t.files:wr(t)?En(r.refs).value:Nn(t)?[...t.selectedOptions].map(({value:s})=>s):Yt(t)?Sn(r.refs).value:Cn(ne(t.value)?r.ref.value:t.value,r)}var Vd=(r,t,s,a)=>{const n={};for(const i of r){const o=R(t,i);o&&Y(n,i,o._f)}return{criteriaMode:s,names:[...r],fields:n,shouldUseNativeValidation:a}},ms=r=>r instanceof RegExp,Lt=r=>ne(r)?r:ms(r)?r.source:ae(r)?ms(r.value)?r.value.source:r.value:r,ia=r=>({isOnSubmit:!r||r===Pe.onSubmit,isOnBlur:r===Pe.onBlur,isOnChange:r===Pe.onChange,isOnAll:r===Pe.all,isOnTouch:r===Pe.onTouched});const oa="AsyncFunction";var qd=r=>!!r&&!!r.validate&&!!(Te(r.validate)&&r.validate.constructor.name===oa||ae(r.validate)&&Object.values(r.validate).find(t=>t.constructor.name===oa)),zd=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),la=(r,t,s)=>!s&&(t.watchAll||t.watch.has(r)||[...t.watch].some(a=>r.startsWith(a)&&/^\.\w+/.test(r.slice(a.length))));const qt=(r,t,s,a)=>{for(const n of s||Object.keys(r)){const i=R(r,n);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(qt(c,t))break}else if(ae(c)&&qt(c,t))break}}};function ca(r,t,s){const a=R(r,s);if(a||yr(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=R(t,i),c=R(r,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(c&&c.type)return{name:i,error:c};n.pop()}return{name:s}}var Hd=(r,t,s,a)=>{s(r);const{name:n,...i}=r;return me(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||Pe.all))},Jd=(r,t,s)=>!r||!t||r===t||Vt(r).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),Gd=(r,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||r):(s?a.isOnBlur:n.isOnBlur)?!r:(s?a.isOnChange:n.isOnChange)?r:!0,Yd=(r,t)=>!Cs(R(r,t)).length&&oe(r,t),Kd=(r,t,s)=>{const a=Vt(R(r,s));return Y(a,"root",t[s]),Y(r,s,a),r},as=r=>Re(r);function da(r,t,s="validate"){if(as(r)||Array.isArray(r)&&r.every(as)||$e(r)&&!r)return{type:s,message:as(r)?r:"",ref:t}}var pt=r=>ae(r)&&!ms(r)?r:{value:r,message:""},ua=async(r,t,s,a,n,i)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:y,name:v,valueAsNumber:g,mount:N}=r._f,x=R(s,v);if(!N||t.has(v))return{};const E=c?c[0]:o,T=_=>{n&&E.reportValidity&&(E.setCustomValidity($e(_)?"":_||""),E.reportValidity())},w={},k=wr(o),D=Yt(o),B=k||D,C=(g||vr(o))&&ne(o.value)&&ne(x)||ds(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,$=jn.bind(null,v,a,w),I=(_,M,F,W=Ie.maxLength,V=Ie.minLength)=>{const K=_?M:F;w[v]={type:_?W:V,message:K,ref:o,...$(_?W:V,K)}};if(i?!Array.isArray(x)||!x.length:l&&(!B&&(C||he(x))||$e(x)&&!x||D&&!Sn(c).isValid||k&&!En(c).isValid)){const{value:_,message:M}=as(l)?{value:!!l,message:l}:pt(l);if(_&&(w[v]={type:Ie.required,message:M,ref:E,...$(Ie.required,M)},!a))return T(M),w}if(!C&&(!he(h)||!he(f))){let _,M;const F=pt(f),W=pt(h);if(!he(x)&&!isNaN(x)){const V=o.valueAsNumber||x&&+x;he(F.value)||(_=V>F.value),he(W.value)||(M=V<W.value)}else{const V=o.valueAsDate||new Date(x),K=ye=>new Date(new Date().toDateString()+" "+ye),re=o.type=="time",ue=o.type=="week";Re(F.value)&&x&&(_=re?K(x)>K(F.value):ue?x>F.value:V>new Date(F.value)),Re(W.value)&&x&&(M=re?K(x)<K(W.value):ue?x<W.value:V<new Date(W.value))}if((_||M)&&(I(!!_,F.message,W.message,Ie.max,Ie.min),!a))return T(w[v].message),w}if((u||d)&&!C&&(Re(x)||i&&Array.isArray(x))){const _=pt(u),M=pt(d),F=!he(_.value)&&x.length>+_.value,W=!he(M.value)&&x.length<+M.value;if((F||W)&&(I(F,_.message,M.message),!a))return T(w[v].message),w}if(p&&!C&&Re(x)){const{value:_,message:M}=pt(p);if(ms(_)&&!x.match(_)&&(w[v]={type:Ie.pattern,message:M,ref:o,...$(Ie.pattern,M)},!a))return T(M),w}if(y){if(Te(y)){const _=await y(x,s),M=da(_,E);if(M&&(w[v]={...M,...$(Ie.validate,M.message)},!a))return T(M.message),w}else if(ae(y)){let _={};for(const M in y){if(!me(_)&&!a)break;const F=da(await y[M](x,s),E,M);F&&(_={...F,...$(M,F.message)},T(F.message),a&&(w[v]=_))}if(!me(_)&&(w[v]={ref:E,..._},!a))return w}}return T(!0),w};const Zd={mode:Pe.onSubmit,reValidateMode:Pe.onChange,shouldFocusError:!0};function Qd(r={}){let t={...Zd,...r},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Te(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let n=ae(t.defaultValues)||ae(t.values)?de(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:de(n),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:ta(),state:ta()},p=t.criteriaMode===Pe.all,y=b=>j=>{clearTimeout(u),u=setTimeout(b,j)},v=async b=>{if(!t.disabled&&(d.isValid||h.isValid||b)){const j=t.resolver?me((await D()).errors):await C(a,!0);j!==s.isValid&&f.state.next({isValid:j})}},g=(b,j)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((b||Array.from(c.mount)).forEach(S=>{S&&(j?Y(s.validatingFields,S,j):oe(s.validatingFields,S))}),f.state.next({validatingFields:s.validatingFields,isValidating:!me(s.validatingFields)}))},N=(b,j=[],S,L,O=!0,A=!0)=>{if(L&&S&&!t.disabled){if(o.action=!0,A&&Array.isArray(R(a,b))){const U=S(R(a,b),L.argA,L.argB);O&&Y(a,b,U)}if(A&&Array.isArray(R(s.errors,b))){const U=S(R(s.errors,b),L.argA,L.argB);O&&Y(s.errors,b,U),Yd(s.errors,b)}if((d.touchedFields||h.touchedFields)&&A&&Array.isArray(R(s.touchedFields,b))){const U=S(R(s.touchedFields,b),L.argA,L.argB);O&&Y(s.touchedFields,b,U)}(d.dirtyFields||h.dirtyFields)&&(s.dirtyFields=$t(n,i)),f.state.next({name:b,isDirty:I(b,j),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Y(i,b,j)},x=(b,j)=>{Y(s.errors,b,j),f.state.next({errors:s.errors})},E=b=>{s.errors=b,f.state.next({errors:s.errors,isValid:!1})},T=(b,j,S,L)=>{const O=R(a,b);if(O){const A=R(i,b,ne(S)?R(n,b):S);ne(A)||L&&L.defaultChecked||j?Y(i,b,j?A:na(O._f)):F(b,A),o.mount&&v()}},w=(b,j,S,L,O)=>{let A=!1,U=!1;const J={name:b};if(!t.disabled){if(!S||L){(d.isDirty||h.isDirty)&&(U=s.isDirty,s.isDirty=J.isDirty=I(),A=U!==J.isDirty);const Z=Xe(R(n,b),j);U=!!R(s.dirtyFields,b),Z?oe(s.dirtyFields,b):Y(s.dirtyFields,b,!0),J.dirtyFields=s.dirtyFields,A=A||(d.dirtyFields||h.dirtyFields)&&U!==!Z}if(S){const Z=R(s.touchedFields,b);Z||(Y(s.touchedFields,b,S),J.touchedFields=s.touchedFields,A=A||(d.touchedFields||h.touchedFields)&&Z!==S)}A&&O&&f.state.next(J)}return A?J:{}},k=(b,j,S,L)=>{const O=R(s.errors,b),A=(d.isValid||h.isValid)&&$e(j)&&s.isValid!==j;if(t.delayError&&S?(l=y(()=>x(b,S)),l(t.delayError)):(clearTimeout(u),l=null,S?Y(s.errors,b,S):oe(s.errors,b)),(S?!Xe(O,S):O)||!me(L)||A){const U={...L,...A&&$e(j)?{isValid:j}:{},errors:s.errors,name:b};s={...s,...U},f.state.next(U)}},D=async b=>{g(b,!0);const j=await t.resolver(i,t.context,Vd(b||c.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return g(b),j},B=async b=>{const{errors:j}=await D(b);if(b)for(const S of b){const L=R(j,S);L?Y(s.errors,S,L):oe(s.errors,S)}else s.errors=j;return j},C=async(b,j,S={valid:!0})=>{for(const L in b){const O=b[L];if(O){const{_f:A,...U}=O;if(A){const J=c.array.has(A.name),Z=O._f&&qd(O._f);Z&&d.validatingFields&&g([L],!0);const we=await ua(O,c.disabled,i,p,t.shouldUseNativeValidation&&!j,J);if(Z&&d.validatingFields&&g([L]),we[A.name]&&(S.valid=!1,j))break;!j&&(R(we,A.name)?J?Kd(s.errors,we,A.name):Y(s.errors,A.name,we[A.name]):oe(s.errors,A.name))}!me(U)&&await C(U,j,S)}}return S.valid},$=()=>{for(const b of c.unMount){const j=R(a,b);j&&(j._f.refs?j._f.refs.every(S=>!Bs(S)):!Bs(j._f.ref))&&Ce(b)}c.unMount=new Set},I=(b,j)=>!t.disabled&&(b&&j&&Y(i,b,j),!Xe(ye(),n)),_=(b,j,S)=>Id(b,c,{...o.mount?i:ne(j)?n:Re(b)?{[b]:j}:j},S,j),M=b=>Cs(R(o.mount?i:n,b,t.shouldUnregister?R(n,b,[]):[])),F=(b,j,S={})=>{const L=R(a,b);let O=j;if(L){const A=L._f;A&&(!A.disabled&&Y(i,b,Cn(j,A)),O=ds(A.ref)&&he(j)?"":j,Nn(A.ref)?[...A.ref.options].forEach(U=>U.selected=O.includes(U.value)):A.refs?Yt(A.ref)?A.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(O)?U.checked=!!O.find(J=>J===U.value):U.checked=O===U.value||!!O)}):A.refs.forEach(U=>U.checked=U.value===O):vr(A.ref)?A.ref.value="":(A.ref.value=O,A.ref.type||f.state.next({name:b,values:de(i)})))}(S.shouldDirty||S.shouldTouch)&&w(b,O,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&ue(b)},W=(b,j,S)=>{for(const L in j){if(!j.hasOwnProperty(L))return;const O=j[L],A=`${b}.${L}`,U=R(a,A);(c.array.has(b)||ae(O)||U&&!U._f)&&!ot(O)?W(A,O,S):F(A,O,S)}},V=(b,j,S={})=>{const L=R(a,b),O=c.array.has(b),A=de(j);Y(i,b,A),O?(f.array.next({name:b,values:de(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&S.shouldDirty&&f.state.next({name:b,dirtyFields:$t(n,i),isDirty:I(b,A)})):L&&!L._f&&!he(A)?W(b,A,S):F(b,A,S),la(b,c)&&f.state.next({...s}),f.state.next({name:o.mount?b:void 0,values:de(i)})},K=async b=>{o.mount=!0;const j=b.target;let S=j.name,L=!0;const O=R(a,S),A=Z=>{L=Number.isNaN(Z)||ot(Z)&&isNaN(Z.getTime())||Xe(Z,R(i,S,Z))},U=ia(t.mode),J=ia(t.reValidateMode);if(O){let Z,we;const Qt=j.type?na(O._f):Od(b),He=b.type===ea.BLUR||b.type===ea.FOCUS_OUT,Yn=!zd(O._f)&&!t.resolver&&!R(s.errors,S)&&!O._f.deps||Gd(He,R(s.touchedFields,S),s.isSubmitted,J,U),Ds=la(S,c,He);Y(i,S,Qt),He?(O._f.onBlur&&O._f.onBlur(b),l&&l(0)):O._f.onChange&&O._f.onChange(b);const Os=w(S,Qt,He),Kn=!me(Os)||Ds;if(!He&&f.state.next({name:S,type:b.type,values:de(i)}),Yn)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?He&&v():He||v()),Kn&&f.state.next({name:S,...Ds?{}:Os});if(!He&&Ds&&f.state.next({...s}),t.resolver){const{errors:Dr}=await D([S]);if(A(Qt),L){const Zn=ca(s.errors,a,S),Or=ca(Dr,a,Zn.name||S);Z=Or.error,S=Or.name,we=me(Dr)}}else g([S],!0),Z=(await ua(O,c.disabled,i,p,t.shouldUseNativeValidation))[S],g([S]),A(Qt),L&&(Z?we=!1:(d.isValid||h.isValid)&&(we=await C(a,!0)));L&&(O._f.deps&&ue(O._f.deps),k(S,we,Z,Os))}},re=(b,j)=>{if(R(s.errors,j)&&b.focus)return b.focus(),1},ue=async(b,j={})=>{let S,L;const O=Vt(b);if(t.resolver){const A=await B(ne(b)?b:O);S=me(A),L=b?!O.some(U=>R(A,U)):S}else b?(L=(await Promise.all(O.map(async A=>{const U=R(a,A);return await C(U&&U._f?{[A]:U}:U)}))).every(Boolean),!(!L&&!s.isValid)&&v()):L=S=await C(a);return f.state.next({...!Re(b)||(d.isValid||h.isValid)&&S!==s.isValid?{}:{name:b},...t.resolver||!b?{isValid:S}:{},errors:s.errors}),j.shouldFocus&&!L&&qt(a,re,b?O:c.mount),L},ye=b=>{const j={...o.mount?i:n};return ne(b)?j:Re(b)?R(j,b):b.map(S=>R(j,S))},_e=(b,j)=>({invalid:!!R((j||s).errors,b),isDirty:!!R((j||s).dirtyFields,b),error:R((j||s).errors,b),isValidating:!!R(s.validatingFields,b),isTouched:!!R((j||s).touchedFields,b)}),De=b=>{b&&Vt(b).forEach(j=>oe(s.errors,j)),f.state.next({errors:b?s.errors:{}})},Se=(b,j,S)=>{const L=(R(a,b,{_f:{}})._f||{}).ref,O=R(s.errors,b)||{},{ref:A,message:U,type:J,...Z}=O;Y(s.errors,b,{...Z,...j,ref:L}),f.state.next({name:b,errors:s.errors,isValid:!1}),S&&S.shouldFocus&&L&&L.focus&&L.focus()},X=(b,j)=>Te(b)?f.state.subscribe({next:S=>b(_(void 0,j),S)}):_(b,j,!0),ee=b=>f.state.subscribe({next:j=>{Jd(b.name,j.name,b.exact)&&Hd(j,b.formState||d,Gn,b.reRenderRoot)&&b.callback({values:{...i},...s,...j})}}).unsubscribe,Fe=b=>(o.mount=!0,h={...h,...b.formState},ee({...b,formState:h})),Ce=(b,j={})=>{for(const S of b?Vt(b):c.mount)c.mount.delete(S),c.array.delete(S),j.keepValue||(oe(a,S),oe(i,S)),!j.keepError&&oe(s.errors,S),!j.keepDirty&&oe(s.dirtyFields,S),!j.keepTouched&&oe(s.touchedFields,S),!j.keepIsValidating&&oe(s.validatingFields,S),!t.shouldUnregister&&!j.keepDefaultValue&&oe(n,S);f.state.next({values:de(i)}),f.state.next({...s,...j.keepDirty?{isDirty:I()}:{}}),!j.keepIsValid&&v()},Tt=({disabled:b,name:j})=>{($e(b)&&o.mount||b||c.disabled.has(j))&&(b?c.disabled.add(j):c.disabled.delete(j))},ht=(b,j={})=>{let S=R(a,b);const L=$e(j.disabled)||$e(t.disabled);return Y(a,b,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:b}},name:b,mount:!0,...j}}),c.mount.add(b),S?Tt({disabled:$e(j.disabled)?j.disabled:t.disabled,name:b}):T(b,!0,j.value),{...L?{disabled:j.disabled||t.disabled}:{},...t.progressive?{required:!!j.required,min:Lt(j.min),max:Lt(j.max),minLength:Lt(j.minLength),maxLength:Lt(j.maxLength),pattern:Lt(j.pattern)}:{},name:b,onChange:K,onBlur:K,ref:O=>{if(O){ht(b,j),S=R(a,b);const A=ne(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,U=Ud(A),J=S._f.refs||[];if(U?J.find(Z=>Z===A):A===S._f.ref)return;Y(a,b,{_f:{...S._f,...U?{refs:[...J.filter(Bs),A,...Array.isArray(R(n,b))?[{}]:[]],ref:{type:A.type,name:b}}:{ref:A}}}),T(b,!1,void 0,A)}else S=R(a,b,{}),S._f&&(S._f.mount=!1),(t.shouldUnregister||j.shouldUnregister)&&!($d(c.array,b)&&o.action)&&c.unMount.add(b)}}},At=()=>t.shouldFocusError&&qt(a,re,c.mount),Kt=b=>{$e(b)&&(f.state.next({disabled:b}),qt(a,(j,S)=>{const L=R(a,S);L&&(j.disabled=L._f.disabled||b,Array.isArray(L._f.refs)&&L._f.refs.forEach(O=>{O.disabled=L._f.disabled||b}))},0,!1))},Dt=(b,j)=>async S=>{let L;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let O=de(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:A,values:U}=await D();s.errors=A,O=U}else await C(a);if(c.disabled.size)for(const A of c.disabled)Y(O,A,void 0);if(oe(s.errors,"root"),me(s.errors)){f.state.next({errors:{}});try{await b(O,S)}catch(A){L=A}}else j&&await j({...s.errors},S),At(),setTimeout(At);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:me(s.errors)&&!L,submitCount:s.submitCount+1,errors:s.errors}),L)throw L},Zt=(b,j={})=>{R(a,b)&&(ne(j.defaultValue)?V(b,de(R(n,b))):(V(b,j.defaultValue),Y(n,b,de(j.defaultValue))),j.keepTouched||oe(s.touchedFields,b),j.keepDirty||(oe(s.dirtyFields,b),s.isDirty=j.defaultValue?I(b,de(R(n,b))):I()),j.keepError||(oe(s.errors,b),d.isValid&&v()),f.state.next({...s}))},Pr=(b,j={})=>{const S=b?de(b):n,L=de(S),O=me(b),A=O?n:L;if(j.keepDefaultValues||(n=S),!j.keepValues){if(j.keepDirtyValues){const U=new Set([...c.mount,...Object.keys($t(n,i))]);for(const J of Array.from(U))R(s.dirtyFields,J)?Y(A,J,R(i,J)):V(J,R(A,J))}else{if(br&&ne(b))for(const U of c.mount){const J=R(a,U);if(J&&J._f){const Z=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(ds(Z)){const we=Z.closest("form");if(we){we.reset();break}}}}for(const U of c.mount)V(U,R(A,U))}i=de(A),f.array.next({values:{...A}}),f.state.next({values:{...A}})}c={mount:j.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:j.keepSubmitCount?s.submitCount:0,isDirty:O?!1:j.keepDirty?s.isDirty:!!(j.keepDefaultValues&&!Xe(b,n)),isSubmitted:j.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:O?{}:j.keepDirtyValues?j.keepDefaultValues&&i?$t(n,i):s.dirtyFields:j.keepDefaultValues&&b?$t(n,b):j.keepDirty?s.dirtyFields:{},touchedFields:j.keepTouched?s.touchedFields:{},errors:j.keepErrors?s.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Tr=(b,j)=>Pr(Te(b)?b(i):b,j),Jn=(b,j={})=>{const S=R(a,b),L=S&&S._f;if(L){const O=L.refs?L.refs[0]:L.ref;O.focus&&(O.focus(),j.shouldSelect&&Te(O.select)&&O.select())}},Gn=b=>{s={...s,...b}},Ar={control:{register:ht,unregister:Ce,getFieldState:_e,handleSubmit:Dt,setError:Se,_subscribe:ee,_runSchema:D,_getWatch:_,_getDirty:I,_setValid:v,_setFieldArray:N,_setDisabledField:Tt,_setErrors:E,_getFieldArray:M,_reset:Pr,_resetDefaultValues:()=>Te(t.defaultValues)&&t.defaultValues().then(b=>{Tr(b,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Kt,_subjects:f,_proxyFormState:d,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(b){o=b},get _defaultValues(){return n},get _names(){return c},set _names(b){c=b},get _formState(){return s},get _options(){return t},set _options(b){t={...t,...b}}},subscribe:Fe,trigger:ue,register:ht,handleSubmit:Dt,watch:X,setValue:V,getValues:ye,reset:Tr,resetField:Zt,clearErrors:De,unregister:Ce,setError:Se,setFocus:Jn,getFieldState:_e};return{...Ar,formControl:Ar}}function jr(r={}){const t=Oe.useRef(void 0),s=Oe.useRef(void 0),[a,n]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:Te(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Te(r.defaultValues)?void 0:r.defaultValues});t.current||(t.current={...r.formControl?r.formControl:Qd(r),formState:a},r.formControl&&r.defaultValues&&!Te(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const i=t.current.control;return i._options=r,Fd(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),Oe.useEffect(()=>i._disableForm(r.disabled),[i,r.disabled]),Oe.useEffect(()=>{r.mode&&(i._options.mode=r.mode),r.reValidateMode&&(i._options.reValidateMode=r.reValidateMode),r.errors&&!me(r.errors)&&i._setErrors(r.errors)},[i,r.errors,r.mode,r.reValidateMode]),Oe.useEffect(()=>{r.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,r.shouldUnregister]),Oe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),Oe.useEffect(()=>{r.values&&!Xe(r.values,s.current)?(i._reset(r.values,i._options.resetOptions),s.current=r.values,n(o=>({...o}))):i._resetDefaultValues()},[i,r.values]),Oe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Rd(a,i),t.current}const ma=(r,t,s)=>{if(r&&"reportValidity"in r){const a=R(s,t);r.setCustomValidity(a&&a.message||""),r.reportValidity()}},Pn=(r,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?ma(a.ref,s,r):a.refs&&a.refs.forEach(n=>ma(n,s,r))}},Xd=(r,t)=>{t.shouldUseNativeValidation&&Pn(r,t);const s={};for(const a in r){const n=R(t.fields,a),i=Object.assign(r[a]||{},{ref:n&&n.ref});if(eu(t.names||Object.keys(r),a)){const o=Object.assign({},R(s,a));Y(o,"root",i),Y(s,a,o)}else Y(s,a,i)}return s},eu=(r,t)=>r.some(s=>s.startsWith(t+"."));function Nr(r,t,s){return t===void 0&&(t={}),s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve(function(o,c){try{var l=(t.context,Promise.resolve(r[s.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:n}))).then(function(u){return i.shouldUseNativeValidation&&Pn({},i),{values:s.raw?a:u,errors:{}}}))}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:Xd((c=o,l=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(c.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),l){var h=u[d.path].types,f=h&&h[d.type];u[d.path]=jn(d.path,l,u,d.type,f?[].concat(f,d.message):d.message)}return u},{})),i)};var c,l}))}catch(o){return Promise.reject(o)}}}function mt(r){this._maxSize=r,this.clear()}mt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};mt.prototype.get=function(r){return this._values[r]};mt.prototype.set=function(r,t){return this._size>=this._maxSize&&this.clear(),r in this._values||this._size++,this._values[r]=t};var tu=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Tn=/^\d+$/,su=/^\d/,ru=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,au=/^\s*(['"]?)(.*?)(\1)\s*$/,kr=512,ha=new mt(kr),xa=new mt(kr),fa=new mt(kr),lt={Cache:mt,split:ir,normalizePath:Ws,setter:function(r){var t=Ws(r);return xa.get(r)||xa.set(r,function(a,n){for(var i=0,o=t.length,c=a;i<o-1;){var l=t[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return a;c=c[t[i++]]}c[t[i]]=n})},getter:function(r,t){var s=Ws(r);return fa.get(r)||fa.set(r,function(n){for(var i=0,o=s.length;i<o;)if(n!=null||!t)n=n[s[i++]];else return;return n})},join:function(r){return r.reduce(function(t,s){return t+(_r(s)||Tn.test(s)?"["+s+"]":(t?".":"")+s)},"")},forEach:function(r,t,s){nu(Array.isArray(r)?r:ir(r),t,s)}};function Ws(r){return ha.get(r)||ha.set(r,ir(r).map(function(t){return t.replace(au,"$2")}))}function ir(r){return r.match(tu)||[""]}function nu(r,t,s){var a=r.length,n,i,o,c;for(i=0;i<a;i++)n=r[i],n&&(lu(n)&&(n='"'+n+'"'),c=_r(n),o=!c&&/^\d+$/.test(n),t.call(s,n,c,o,i,r))}function _r(r){return typeof r=="string"&&r&&["'",'"'].indexOf(r.charAt(0))!==-1}function iu(r){return r.match(su)&&!r.match(Tn)}function ou(r){return ru.test(r)}function lu(r){return!_r(r)&&(iu(r)||ou(r))}const cu=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Es=r=>r.match(cu)||[],Ps=r=>r[0].toUpperCase()+r.slice(1),Sr=(r,t)=>Es(r).join(t).toLowerCase(),An=r=>Es(r).reduce((t,s)=>`${t}${t?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,""),du=r=>Ps(An(r)),uu=r=>Sr(r,"_"),mu=r=>Sr(r,"-"),hu=r=>Ps(Sr(r," ")),xu=r=>Es(r).map(Ps).join(" ");var Vs={words:Es,upperFirst:Ps,camelCase:An,pascalCase:du,snakeCase:uu,kebabCase:mu,sentenceCase:hu,titleCase:xu},Cr={exports:{}};Cr.exports=function(r){return Dn(fu(r),r)};Cr.exports.array=Dn;function Dn(r,t){var s=r.length,a=new Array(s),n={},i=s,o=gu(t),c=pu(r);for(t.forEach(function(u){if(!c.has(u[0])||!c.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||l(r[i],i,new Set);return a;function l(u,d,h){if(h.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!c.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!n[d]){n[d]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),d=p.length){h.add(u);do{var y=p[--d];l(y,c.get(y),h)}while(d);h.delete(u)}a[--s]=u}}}function fu(r){for(var t=new Set,s=0,a=r.length;s<a;s++){var n=r[s];t.add(n[0]),t.add(n[1])}return Array.from(t)}function gu(r){for(var t=new Map,s=0,a=r.length;s<a;s++){var n=r[s];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}function pu(r){for(var t=new Map,s=0,a=r.length;s<a;s++)t.set(r[s],s);return t}var bu=Cr.exports;const yu=ei(bu),vu=Object.prototype.toString,wu=Error.prototype.toString,ju=RegExp.prototype.toString,Nu=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ku=/^Symbol\((.*)\)(.*)$/;function _u(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function ga(r,t=!1){if(r==null||r===!0||r===!1)return""+r;const s=typeof r;if(s==="number")return _u(r);if(s==="string")return t?`"${r}"`:r;if(s==="function")return"[Function "+(r.name||"anonymous")+"]";if(s==="symbol")return Nu.call(r).replace(ku,"Symbol($1)");const a=vu.call(r).slice(8,-1);return a==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):a==="Error"||r instanceof Error?"["+wu.call(r)+"]":a==="RegExp"?ju.call(r):null}function et(r,t){let s=ga(r,t);return s!==null?s:JSON.stringify(r,function(a,n){let i=ga(this[a],t);return i!==null?i:n},2)}function On(r){return r==null?[]:[].concat(r)}let Mn,$n,Ln,Su=/\$\{\s*(\w+)\s*\}/g;Mn=Symbol.toStringTag;class pa{constructor(t,s,a,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Mn]="Error",this.name="ValidationError",this.value=s,this.path=a,this.type=n,this.errors=[],this.inner=[],On(t).forEach(i=>{if(be.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$n=Symbol.hasInstance;Ln=Symbol.toStringTag;class be extends Error{static formatError(t,s){const a=s.label||s.path||"this";return s=Object.assign({},s,{path:a,originalPath:s.path}),typeof t=="string"?t.replace(Su,(n,i)=>et(s[i])):typeof t=="function"?t(s):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,s,a,n,i){const o=new pa(t,s,a,n);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Ln]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,be)}static[$n](t){return pa[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Le={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:t,value:s,originalValue:a})=>{const n=a!=null&&a!==s?` (cast from the value \`${et(a,!0)}\`).`:".";return t!=="mixed"?`${r} must be a \`${t}\` type, but the final value was: \`${et(s,!0)}\``+n:`${r} must match the configured type. The validated value was: \`${et(s,!0)}\``+n}},ge={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Cu={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},or={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},lr={isValue:"${path} field must be ${value}"},ns={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Eu={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Pu={notType:r=>{const{path:t,value:s,spec:a}=r,n=a.types.length;if(Array.isArray(s)){if(s.length<n)return`${t} tuple value has too few items, expected a length of ${n} but got ${s.length} for value: \`${et(s,!0)}\``;if(s.length>n)return`${t} tuple value has too many items, expected a length of ${n} but got ${s.length} for value: \`${et(s,!0)}\``}return be.formatError(Le.notType,r)}};Object.assign(Object.create(null),{mixed:Le,string:ge,number:Cu,date:or,object:ns,array:Eu,boolean:lr,tuple:Pu});const Er=r=>r&&r.__isYupSchema__;class hs{static fromOptions(t,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:n,otherwise:i}=s,o=typeof a=="function"?a:(...c)=>c.every(l=>l===a);return new hs(t,(c,l)=>{var u;let d=o(...c)?n:i;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(t,s){this.fn=void 0,this.refs=t,this.refs=t,this.fn=s}resolve(t,s){let a=this.refs.map(i=>i.getValue(s==null?void 0:s.value,s==null?void 0:s.parent,s==null?void 0:s.context)),n=this.fn(a,t,s);if(n===void 0||n===t)return t;if(!Er(n))throw new TypeError("conditions must return a schema object");return n.resolve(s)}}const rs={context:"$",value:"."};function Tu(r,t){return new st(r,t)}class st{constructor(t,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===rs.context,this.isValue=this.key[0]===rs.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?rs.context:this.isValue?rs.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&lt.getter(this.path,!0),this.map=s.map}getValue(t,s,a){let n=this.isContext?a:this.isValue?t:s;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(t,s){return this.getValue(t,s==null?void 0:s.parent,s==null?void 0:s.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}st.prototype.__isYupRef=!0;const Ve=r=>r==null;function bt(r){function t({value:s,path:a="",options:n,originalValue:i,schema:o},c,l){const{name:u,test:d,params:h,message:f,skipAbsent:p}=r;let{parent:y,context:v,abortEarly:g=o.spec.abortEarly,disableStackTrace:N=o.spec.disableStackTrace}=n;function x(I){return st.isRef(I)?I.getValue(s,y,v):I}function E(I={}){const _=Object.assign({value:s,originalValue:i,label:o.spec.label,path:I.path||a,spec:o.spec,disableStackTrace:I.disableStackTrace||N},h,I.params);for(const F of Object.keys(_))_[F]=x(_[F]);const M=new be(be.formatError(I.message||f,_),s,_.path,I.type||u,_.disableStackTrace);return M.params=_,M}const T=g?c:l;let w={path:a,parent:y,type:u,from:n.from,createError:E,resolve:x,options:n,originalValue:i,schema:o};const k=I=>{be.isError(I)?T(I):I?l(null):T(E())},D=I=>{be.isError(I)?T(I):c(I)};if(p&&Ve(s))return k(!0);let C;try{var $;if(C=d.call(w,s,w),typeof(($=C)==null?void 0:$.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(k,D)}}catch(I){D(I);return}k(C)}return t.OPTIONS=r,t}function Au(r,t,s,a=s){let n,i,o;return t?(lt.forEach(t,(c,l,u)=>{let d=l?c.slice(1,c.length-1):c;r=r.resolve({context:a,parent:n,value:s});let h=r.type==="tuple",f=u?parseInt(d,10):0;if(r.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(s&&f>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);n=s,s=s&&s[f],r=h?r.spec.types[f]:r.innerType}if(!u){if(!r.fields||!r.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${r.type}")`);n=s,s=s&&s[d],r=r.fields[d]}i=d,o=l?"["+c+"]":"."+c}),{schema:r,parent:n,parentPath:i}):{parent:n,parentPath:t,schema:r}}class xs extends Set{describe(){const t=[];for(const s of this.values())t.push(st.isRef(s)?s.describe():s);return t}resolveAll(t){let s=[];for(const a of this.values())s.push(t(a));return s}clone(){return new xs(this.values())}merge(t,s){const a=this.clone();return t.forEach(n=>a.add(n)),s.forEach(n=>a.delete(n)),a}}function wt(r,t=new Map){if(Er(r)||!r||typeof r!="object")return r;if(t.has(r))return t.get(r);let s;if(r instanceof Date)s=new Date(r.getTime()),t.set(r,s);else if(r instanceof RegExp)s=new RegExp(r),t.set(r,s);else if(Array.isArray(r)){s=new Array(r.length),t.set(r,s);for(let a=0;a<r.length;a++)s[a]=wt(r[a],t)}else if(r instanceof Map){s=new Map,t.set(r,s);for(const[a,n]of r.entries())s.set(a,wt(n,t))}else if(r instanceof Set){s=new Set,t.set(r,s);for(const a of r)s.add(wt(a,t))}else if(r instanceof Object){s={},t.set(r,s);for(const[a,n]of Object.entries(r))s[a]=wt(n,t)}else throw Error(`Unable to clone ${r}`);return s}class Ae{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new xs,this._blacklist=new xs,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Le.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=wt(Object.assign({},this.spec,t)),s}label(t){let s=this.clone();return s.spec.label=t,s}meta(...t){if(t.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},t[0]),s}withMutation(t){let s=this._mutate;this._mutate=!0;let a=t(this);return this._mutate=s,a}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let s=this,a=t.clone();const n=Object.assign({},s.spec,a.spec);return a.spec=n,a.internalTests=Object.assign({},s.internalTests,a.internalTests),a._whitelist=s._whitelist.merge(t._whitelist,t._blacklist),a._blacklist=s._blacklist.merge(t._blacklist,t._whitelist),a.tests=s.tests,a.exclusiveTests=s.exclusiveTests,a.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),a.transforms=[...s.transforms,...a.transforms],a}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let s=this;if(s.conditions.length){let a=s.conditions;s=s.clone(),s.conditions=[],s=a.reduce((n,i)=>i.resolve(n,t),s),s=s.resolve(t)}return s}resolveOptions(t){var s,a,n,i;return Object.assign({},t,{from:t.from||[],strict:(s=t.strict)!=null?s:this.spec.strict,abortEarly:(a=t.abortEarly)!=null?a:this.spec.abortEarly,recursive:(n=t.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,s={}){let a=this.resolve(Object.assign({value:t},s)),n=s.assert==="ignore-optionality",i=a._cast(t,s);if(s.assert!==!1&&!a.isType(i)){if(n&&Ve(i))return i;let o=et(t),c=et(i);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${o} 
`+(c!==o?`result of cast: ${c}`:""))}return i}_cast(t,s){let a=t===void 0?t:this.transforms.reduce((n,i)=>i.call(this,n,t,this),t);return a===void 0&&(a=this.getDefault(s)),a}_validate(t,s={},a,n){let{path:i,originalValue:o=t,strict:c=this.spec.strict}=s,l=t;c||(l=this._cast(l,Object.assign({assert:!1},s)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:l,originalValue:o,options:s,tests:u},a,d=>{if(d.length)return n(d,l);this.runTests({path:i,value:l,originalValue:o,options:s,tests:this.tests},a,n)})}runTests(t,s,a){let n=!1,{tests:i,value:o,originalValue:c,path:l,options:u}=t,d=v=>{n||(n=!0,s(v,o))},h=v=>{n||(n=!0,a(v,o))},f=i.length,p=[];if(!f)return h([]);let y={value:o,originalValue:c,path:l,options:u,schema:this};for(let v=0;v<i.length;v++){const g=i[v];g(y,d,function(x){x&&(Array.isArray(x)?p.push(...x):p.push(x)),--f<=0&&h(p)})}}asNestedTest({key:t,index:s,parent:a,parentPath:n,originalParent:i,options:o}){const c=t??s;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof c=="number";let u=a[c];const d=Object.assign({},o,{strict:!0,parent:a,value:u,originalValue:i[c],key:void 0,[l?"index":"key"]:c,path:l||c.includes(".")?`${n||""}[${l?c:`"${c}"`}]`:(n?`${n}.`:"")+t});return(h,f,p)=>this.resolve(d)._validate(u,d,f,p)}validate(t,s){var a;let n=this.resolve(Object.assign({},s,{value:t})),i=(a=s==null?void 0:s.disableStackTrace)!=null?a:n.spec.disableStackTrace;return new Promise((o,c)=>n._validate(t,s,(l,u)=>{be.isError(l)&&(l.value=u),c(l)},(l,u)=>{l.length?c(new be(l,u,void 0,void 0,i)):o(u)}))}validateSync(t,s){var a;let n=this.resolve(Object.assign({},s,{value:t})),i,o=(a=s==null?void 0:s.disableStackTrace)!=null?a:n.spec.disableStackTrace;return n._validate(t,Object.assign({},s,{sync:!0}),(c,l)=>{throw be.isError(c)&&(c.value=l),c},(c,l)=>{if(c.length)throw new be(c,t,void 0,void 0,o);i=l}),i}isValid(t,s){return this.validate(t,s).then(()=>!0,a=>{if(be.isError(a))return!1;throw a})}isValidSync(t,s){try{return this.validateSync(t,s),!0}catch(a){if(be.isError(a))return!1;throw a}}_getDefault(t){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,t):wt(s)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,s){const a=this.clone({nullable:t});return a.internalTests.nullable=bt({message:s,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),a}optionality(t,s){const a=this.clone({optional:t});return a.internalTests.optionality=bt({message:s,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(t=Le.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Le.notNull){return this.nullability(!1,t)}required(t=Le.required){return this.clone().withMutation(s=>s.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let s=this.clone();return s.transforms.push(t),s}test(...t){let s;if(t.length===1?typeof t[0]=="function"?s={test:t[0]}:s=t[0]:t.length===2?s={name:t[0],test:t[1]}:s={name:t[0],message:t[1],test:t[2]},s.message===void 0&&(s.message=Le.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),n=bt(s),i=s.exclusive||s.name&&a.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(a.exclusiveTests[s.name]=!!s.exclusive),a.tests=a.tests.filter(o=>!(o.OPTIONS.name===s.name&&(i||o.OPTIONS.test===n.OPTIONS.test))),a.tests.push(n),a}when(t,s){!Array.isArray(t)&&typeof t!="string"&&(s=t,t=".");let a=this.clone(),n=On(t).map(i=>new st(i));return n.forEach(i=>{i.isSibling&&a.deps.push(i.key)}),a.conditions.push(typeof s=="function"?new hs(n,s):hs.fromOptions(n,s)),a}typeError(t){let s=this.clone();return s.internalTests.typeError=bt({message:t,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(t,s=Le.oneOf){let a=this.clone();return t.forEach(n=>{a._whitelist.add(n),a._blacklist.delete(n)}),a.internalTests.whiteList=bt({message:s,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),a}notOneOf(t,s=Le.notOneOf){let a=this.clone();return t.forEach(n=>{a._blacklist.add(n),a._whitelist.delete(n)}),a.internalTests.blacklist=bt({message:s,name:"notOneOf",test(n){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),a}strip(t=!0){let s=this.clone();return s.spec.strip=t,s}describe(t){const s=(t?this.resolve(t):this).clone(),{label:a,meta:n,optional:i,nullable:o}=s.spec;return{meta:n,label:a,optional:i,nullable:o,default:s.getDefault(t),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(h=>h.name===l.name)===u)}}}Ae.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Ae.prototype[`${r}At`]=function(t,s,a={}){const{parent:n,parentPath:i,schema:o}=Au(this,t,s,a.context);return o[r](n&&n[i],Object.assign({},a,{parent:n,path:t}))};for(const r of["equals","is"])Ae.prototype[r]=Ae.prototype.oneOf;for(const r of["not","nope"])Ae.prototype[r]=Ae.prototype.notOneOf;function Rn(){return new Fn}class Fn extends Ae{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,s,a)=>{if(a.spec.coerce&&!a.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=lr.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(s){return Ve(s)||s===!0}})}isFalse(t=lr.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(s){return Ve(s)||s===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}Rn.prototype=Fn.prototype;const Du=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ou(r){const t=cr(r);if(!t)return Date.parse?Date.parse(r):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let s=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(s=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(s=0-s)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+s,t.second,t.millisecond)}function cr(r){var t,s;const a=Du.exec(r);return a?{year:Ue(a[1]),month:Ue(a[2],1)-1,day:Ue(a[3],1),hour:Ue(a[4]),minute:Ue(a[5]),second:Ue(a[6]),millisecond:a[7]?Ue(a[7].substring(0,3)):0,precision:(t=(s=a[7])==null?void 0:s.length)!=null?t:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:Ue(a[10]),minuteOffset:Ue(a[11])}:null}function Ue(r,t=0){return Number(r)||t}let Mu=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$u=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Lu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ru="^\\d{4}-\\d{2}-\\d{2}",Fu="\\d{2}:\\d{2}:\\d{2}",Iu="(([+-]\\d{2}(:?\\d{2})?)|Z)",Uu=new RegExp(`${Ru}T${Fu}(\\.\\d+)?${Iu}$`),Bu=r=>Ve(r)||r===r.trim(),Wu={}.toString();function We(){return new In}class In extends Ae{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,s,a)=>{if(!a.spec.coerce||a.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===Wu?t:n})})}required(t){return super.required(t).withMutation(s=>s.test({message:t||Le.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(s=>s.OPTIONS.name!=="required"),t))}length(t,s=ge.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(a){return a.length===this.resolve(t)}})}min(t,s=ge.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(a){return a.length>=this.resolve(t)}})}max(t,s=ge.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:t},skipAbsent:!0,test(a){return a.length<=this.resolve(t)}})}matches(t,s){let a=!1,n,i;return s&&(typeof s=="object"?{excludeEmptyString:a=!1,message:n,name:i}=s:n=s),this.test({name:i||"matches",message:n||ge.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&a||o.search(t)!==-1})}email(t=ge.email){return this.matches(Mu,{name:"email",message:t,excludeEmptyString:!0})}url(t=ge.url){return this.matches($u,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ge.uuid){return this.matches(Lu,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let s="",a,n;return t&&(typeof t=="object"?{message:s="",allowOffset:a=!1,precision:n=void 0}=t:s=t),this.matches(Uu,{name:"datetime",message:s||ge.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||ge.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:i=>{if(!i||a)return!0;const o=cr(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:s||ge.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const o=cr(i);return o?o.precision===n:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ge.trim){return this.transform(s=>s!=null?s.trim():s).test({message:t,name:"trim",test:Bu})}lowercase(t=ge.lowercase){return this.transform(s=>Ve(s)?s:s.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Ve(s)||s===s.toLowerCase()})}uppercase(t=ge.uppercase){return this.transform(s=>Ve(s)?s:s.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Ve(s)||s===s.toUpperCase()})}}We.prototype=In.prototype;let Vu=new Date(""),qu=r=>Object.prototype.toString.call(r)==="[object Date]";class Ts extends Ae{constructor(){super({type:"date",check(t){return qu(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,s,a)=>!a.spec.coerce||a.isType(t)||t===null?t:(t=Ou(t),isNaN(t)?Ts.INVALID_DATE:new Date(t)))})}prepareParam(t,s){let a;if(st.isRef(t))a=t;else{let n=this.cast(t);if(!this._typeCheck(n))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);a=n}return a}min(t,s=or.min){let a=this.prepareParam(t,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(a)}})}max(t,s=or.max){let a=this.prepareParam(t,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(a)}})}}Ts.INVALID_DATE=Vu;Ts.prototype;function zu(r,t=[]){let s=[],a=new Set,n=new Set(t.map(([o,c])=>`${o}-${c}`));function i(o,c){let l=lt.split(o)[0];a.add(l),n.has(`${c}-${l}`)||s.push([c,l])}for(const o of Object.keys(r)){let c=r[o];a.add(o),st.isRef(c)&&c.isSibling?i(c.path,o):Er(c)&&"deps"in c&&c.deps.forEach(l=>i(l,o))}return yu.array(Array.from(a),s).reverse()}function ba(r,t){let s=1/0;return r.some((a,n)=>{var i;if((i=t.path)!=null&&i.includes(a))return s=n,!0}),s}function Un(r){return(t,s)=>ba(r,t)-ba(r,s)}const Hu=(r,t,s)=>{if(typeof r!="string")return r;let a=r;try{a=JSON.parse(r)}catch{}return s.isType(a)?a:r};function is(r){if("fields"in r){const t={};for(const[s,a]of Object.entries(r.fields))t[s]=is(a);return r.setFields(t)}if(r.type==="array"){const t=r.optional();return t.innerType&&(t.innerType=is(t.innerType)),t}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(is)}):"optional"in r?r.optional():r}const Ju=(r,t)=>{const s=[...lt.normalizePath(t)];if(s.length===1)return s[0]in r;let a=s.pop(),n=lt.getter(lt.join(s),!0)(r);return!!(n&&a in n)};let ya=r=>Object.prototype.toString.call(r)==="[object Object]";function va(r,t){let s=Object.keys(r.fields);return Object.keys(t).filter(a=>s.indexOf(a)===-1)}const Gu=Un([]);function As(r){return new Bn(r)}class Bn extends Ae{constructor(t){super({type:"object",check(s){return ya(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=Gu,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,s={}){var a;let n=super._cast(t,s);if(n===void 0)return this.getDefault(s);if(!this._typeCheck(n))return n;let i=this.fields,o=(a=s.stripUnknown)!=null?a:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(n).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},s,{parent:l,__validating:s.__validating||!1}),d=!1;for(const h of c){let f=i[h],p=h in n;if(f){let y,v=n[h];u.path=(s.path?`${s.path}.`:"")+h,f=f.resolve({value:v,context:s.context,parent:l});let g=f instanceof Ae?f.spec:void 0,N=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||h in n;continue}y=!s.__validating||!N?f.cast(n[h],u):n[h],y!==void 0&&(l[h]=y)}else p&&!o&&(l[h]=n[h]);(p!==h in l||l[h]!==n[h])&&(d=!0)}return d?l:n}_validate(t,s={},a,n){let{from:i=[],originalValue:o=t,recursive:c=this.spec.recursive}=s;s.from=[{schema:this,value:o},...i],s.__validating=!0,s.originalValue=o,super._validate(t,s,a,(l,u)=>{if(!c||!ya(u)){n(l,u);return}o=o||u;let d=[];for(let h of this._nodes){let f=this.fields[h];!f||st.isRef(f)||d.push(f.asNestedTest({options:s,key:h,parent:u,parentPath:s.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:s},a,h=>{n(h.sort(this._sortErrors).concat(l),u)})})}clone(t){const s=super.clone(t);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(t){let s=super.concat(t),a=s.fields;for(let[n,i]of Object.entries(this.fields)){const o=a[n];a[n]=o===void 0?i:o}return s.withMutation(n=>n.setFields(a,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let s={};return this._nodes.forEach(a=>{var n;const i=this.fields[a];let o=t;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),s[a]=i&&"getDefault"in i?i.getDefault(o):void 0}),s}setFields(t,s){let a=this.clone();return a.fields=t,a._nodes=zu(t,s),a._sortErrors=Un(Object.keys(t)),s&&(a._excludedEdges=s),a}shape(t,s=[]){return this.clone().withMutation(a=>{let n=a._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),n=[...a._excludedEdges,...s]),a.setFields(Object.assign(a.fields,t),n)})}partial(){const t={};for(const[s,a]of Object.entries(this.fields))t[s]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(t)}deepPartial(){return is(this)}pick(t){const s={};for(const a of t)this.fields[a]&&(s[a]=this.fields[a]);return this.setFields(s,this._excludedEdges.filter(([a,n])=>t.includes(a)&&t.includes(n)))}omit(t){const s=[];for(const a of Object.keys(this.fields))t.includes(a)||s.push(a);return this.pick(s)}from(t,s,a){let n=lt.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return Ju(i,t)&&(o=Object.assign({},i),a||delete o[t],o[s]=n(i)),o})}json(){return this.transform(Hu)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||ns.exact,test(s){if(s==null)return!0;const a=va(this.schema,s);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,s=ns.noUnknown){typeof t!="boolean"&&(s=t,t=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:s,test(n){if(n==null)return!0;const i=va(this.schema,n);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return a.spec.noUnknown=t,a}unknown(t=!0,s=ns.noUnknown){return this.noUnknown(!t,s)}transformKeys(t){return this.transform(s=>{if(!s)return s;const a={};for(const n of Object.keys(s))a[t(n)]=s[n];return a})}camelCase(){return this.transformKeys(Vs.camelCase)}snakeCase(){return this.transformKeys(Vs.snakeCase)}constantCase(){return this.transformKeys(t=>Vs.snakeCase(t).toUpperCase())}describe(t){const s=(t?this.resolve(t):this).clone(),a=super.describe(t);a.fields={};for(const[i,o]of Object.entries(s.fields)){var n;let c=t;(n=c)!=null&&n.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),a.fields[i]=o.describe(c)}return a}}As.prototype=Bn.prototype;const Yu=As().shape({email:We().email("Please enter a valid email").required("Email is required"),password:We().required("Password is required")}),Ku=()=>{const{signIn:r}=xe(),t=Ht(),[s,a]=m.useState(!1),[n,i]=m.useState(""),{register:o,handleSubmit:c,formState:{errors:l}}=jr({resolver:Nr(Yu)}),u=async d=>{try{a(!0),i("");const{user:h}=await r(d.email,d.password);h&&t("/homeowner/dashboard")}catch(h){console.error("Login error:",h),i(h.message||"Failed to sign in. Please check your credentials.")}finally{a(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(P,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:n})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(u),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${l.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("email")}),l.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${l.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("password")}),l.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Sign in"})})]})]})},Zu=As().shape({email:We().email("Please enter a valid email").required("Email is required"),password:We().required("Password is required").min(8,"Password must be at least 8 characters"),confirmPassword:We().oneOf([Tu("password"),null],"Passwords must match").required("Confirm password is required"),fullName:We().required("Full name is required"),role:We().oneOf(["homeowner","provider"],"Invalid role").required("Role is required"),agreeTerms:Rn().oneOf([!0],"You must agree to the terms and conditions")}),Qu=()=>{const{signUp:r}=xe(),t=Ht(),[s,a]=m.useState(!1),[n,i]=m.useState(""),{register:o,handleSubmit:c,formState:{errors:l}}=jr({resolver:Nr(Zu),defaultValues:{role:"homeowner",agreeTerms:!1}}),u=async d=>{try{a(!0),i("");const{data:h,error:f}=await r(d.email,d.password);if(f)throw f;if(h!=null&&h.user){const{error:p}=await se.from("profiles").insert([{user_id:h.user.id,email:d.email,full_name:d.fullName,role:d.role,created_at:new Date}]);if(p)throw p;t("/login",{state:{message:"Registration successful! Please check your email to confirm your account."}})}}catch(h){console.error("Registration error:",h),i(h.message||"Failed to create account. Please try again.")}finally{a(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(P,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:n})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(u),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${l.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("email")}),l.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",className:`appearance-none block w-full px-3 py-2 border ${l.fullName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("fullName")}),l.fullName&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.fullName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${l.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("password")}),l.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.password.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${l.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("confirmPassword")}),l.confirmPassword&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.confirmPassword.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I am a"}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("select",{id:"role",name:"role",className:`block w-full pl-3 pr-10 py-2 text-base border ${l.role?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,...o("role"),children:[e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"provider",children:"Service Provider"})]}),l.role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.role.message})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${l.agreeTerms?"border-red-300":""}`,...o("agreeTerms")}),e.jsxs("label",{htmlFor:"agreeTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",e.jsx(P,{to:"/terms",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ","and"," ",e.jsx(P,{to:"/privacy",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),l.agreeTerms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.agreeTerms.message}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Create account"})})]})]})},Xu=As().shape({email:We().email("Please enter a valid email").required("Email is required")}),em=()=>{const{resetPassword:r}=xe(),[t,s]=m.useState(!1),[a,n]=m.useState(""),[i,o]=m.useState(!1),{register:c,handleSubmit:l,formState:{errors:u}}=jr({resolver:Nr(Xu)}),d=async h=>{try{s(!0),n(""),o(!1),await r(h.email),o(!0)}catch(f){console.error("Password reset error:",f),n(f.message||"Failed to send password reset email. Please try again.")}finally{s(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."}),a&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:a})}),i&&e.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:"Password reset email sent! Check your inbox for further instructions."})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l(d),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${u.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...c("email")}),u.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.email.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t||i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send reset link"})}),e.jsx("div",{className:"text-center",children:e.jsx(P,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to sign in"})})]})]})},tm="https://zpnpsyiwguqwzldzptyp.supabase.co",sm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",Ze=an(tm,sm);function fs(r){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(r)}function ke(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function te(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function le(r){te(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||fs(r)==="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wa(r,t){te(2,arguments);var s=le(r),a=ke(t);return isNaN(a)?new Date(NaN):(a&&s.setDate(s.getDate()+a),s)}function Wn(r,t){te(2,arguments);var s=le(r),a=ke(t);if(isNaN(a))return new Date(NaN);if(!a)return s;var n=s.getDate(),i=new Date(s.getTime());i.setMonth(s.getMonth()+a+1,0);var o=i.getDate();return n>=o?i:(s.setFullYear(i.getFullYear(),i.getMonth(),n),s)}function rm(r,t){te(2,arguments);var s=le(r).getTime(),a=ke(t);return new Date(s+a)}var am={};function Pt(){return am}function ja(r,t){var s,a,n,i,o,c,l,u;te(1,arguments);var d=Pt(),h=ke((s=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=le(r),p=f.getDay(),y=(p<h?7:0)+p-h;return f.setDate(f.getDate()-y),f.setHours(0,0,0,0),f}function nm(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function Na(r){te(1,arguments);var t=le(r);return t.setHours(0,0,0,0),t}function qs(r,t){te(2,arguments);var s=Na(r),a=Na(t);return s.getTime()===a.getTime()}function im(r){return te(1,arguments),r instanceof Date||fs(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function om(r){if(te(1,arguments),!im(r)&&typeof r!="number")return!1;var t=le(r);return!isNaN(Number(t))}function lm(r){te(1,arguments);var t=le(r),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function cm(r){te(1,arguments);var t=le(r);return t.setDate(1),t.setHours(0,0,0,0),t}function dm(r,t){var s,a,n,i,o,c,l,u;te(1,arguments);var d=Pt(),h=ke((s=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=le(r),p=f.getDay(),y=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+y),f.setHours(23,59,59,999),f}function um(r,t){te(2,arguments);var s=ke(t);return rm(r,-s)}var mm=864e5;function hm(r){te(1,arguments);var t=le(r),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),n=s-a;return Math.floor(n/mm)+1}function gs(r){te(1,arguments);var t=1,s=le(r),a=s.getUTCDay(),n=(a<t?7:0)+a-t;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function Vn(r){te(1,arguments);var t=le(r),s=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(s+1,0,4),a.setUTCHours(0,0,0,0);var n=gs(a),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var o=gs(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function xm(r){te(1,arguments);var t=Vn(r),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var a=gs(s);return a}var fm=6048e5;function gm(r){te(1,arguments);var t=le(r),s=gs(t).getTime()-xm(t).getTime();return Math.round(s/fm)+1}function ps(r,t){var s,a,n,i,o,c,l,u;te(1,arguments);var d=Pt(),h=ke((s=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=le(r),p=f.getUTCDay(),y=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-y),f.setUTCHours(0,0,0,0),f}function qn(r,t){var s,a,n,i,o,c,l,u;te(1,arguments);var d=le(r),h=d.getUTCFullYear(),f=Pt(),p=ke((s=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&a!==void 0?a:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(h+1,0,p),y.setUTCHours(0,0,0,0);var v=ps(y,t),g=new Date(0);g.setUTCFullYear(h,0,p),g.setUTCHours(0,0,0,0);var N=ps(g,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=N.getTime()?h:h-1}function pm(r,t){var s,a,n,i,o,c,l,u;te(1,arguments);var d=Pt(),h=ke((s=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&a!==void 0?a:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1),f=qn(r,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var y=ps(p,t);return y}var bm=6048e5;function ym(r,t){te(1,arguments);var s=le(r),a=ps(s,t).getTime()-pm(s,t).getTime();return Math.round(a/bm)+1}function G(r,t){for(var s=r<0?"-":"",a=Math.abs(r).toString();a.length<t;)a="0"+a;return s+a}var vm={y:function(t,s){var a=t.getUTCFullYear(),n=a>0?a:1-a;return G(s==="yy"?n%100:n,s.length)},M:function(t,s){var a=t.getUTCMonth();return s==="M"?String(a+1):G(a+1,2)},d:function(t,s){return G(t.getUTCDate(),s.length)},a:function(t,s){var a=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,s){return G(t.getUTCHours()%12||12,s.length)},H:function(t,s){return G(t.getUTCHours(),s.length)},m:function(t,s){return G(t.getUTCMinutes(),s.length)},s:function(t,s){return G(t.getUTCSeconds(),s.length)},S:function(t,s){var a=s.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return G(i,s.length)}};const Je=vm;var yt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wm={G:function(t,s,a){var n=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return Je.y(t,s)},Y:function(t,s,a,n){var i=qn(t,n),o=i>0?i:1-i;if(s==="YY"){var c=o%100;return G(c,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):G(o,s.length)},R:function(t,s){var a=Vn(t);return G(a,s.length)},u:function(t,s){var a=t.getUTCFullYear();return G(a,s.length)},Q:function(t,s,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return G(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return G(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,a){var n=t.getUTCMonth();switch(s){case"M":case"MM":return Je.M(t,s);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,a){var n=t.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return G(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,a,n){var i=ym(t,n);return s==="wo"?a.ordinalNumber(i,{unit:"week"}):G(i,s.length)},I:function(t,s,a){var n=gm(t);return s==="Io"?a.ordinalNumber(n,{unit:"week"}):G(n,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):Je.d(t,s)},D:function(t,s,a){var n=hm(t);return s==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):G(n,s.length)},E:function(t,s,a){var n=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,a,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return G(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,s,a,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return G(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,s,a){var n=t.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return G(i,s.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,a){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,s,a){var n=t.getUTCHours(),i;switch(n===12?i=yt.noon:n===0?i=yt.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,s,a){var n=t.getUTCHours(),i;switch(n>=17?i=yt.evening:n>=12?i=yt.afternoon:n>=4?i=yt.morning:i=yt.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Je.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Je.H(t,s)},K:function(t,s,a){var n=t.getUTCHours()%12;return s==="Ko"?a.ordinalNumber(n,{unit:"hour"}):G(n,s.length)},k:function(t,s,a){var n=t.getUTCHours();return n===0&&(n=24),s==="ko"?a.ordinalNumber(n,{unit:"hour"}):G(n,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Je.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Je.s(t,s)},S:function(t,s){return Je.S(t,s)},X:function(t,s,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return _a(o);case"XXXX":case"XX":return nt(o);case"XXXXX":case"XXX":default:return nt(o,":")}},x:function(t,s,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"x":return _a(o);case"xxxx":case"xx":return nt(o);case"xxxxx":case"xxx":default:return nt(o,":")}},O:function(t,s,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+ka(o,":");case"OOOO":default:return"GMT"+nt(o,":")}},z:function(t,s,a,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+ka(o,":");case"zzzz":default:return"GMT"+nt(o,":")}},t:function(t,s,a,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return G(o,s.length)},T:function(t,s,a,n){var i=n._originalDate||t,o=i.getTime();return G(o,s.length)}};function ka(r,t){var s=r>0?"-":"+",a=Math.abs(r),n=Math.floor(a/60),i=a%60;if(i===0)return s+String(n);var o=t||"";return s+String(n)+o+G(i,2)}function _a(r,t){if(r%60===0){var s=r>0?"-":"+";return s+G(Math.abs(r)/60,2)}return nt(r,t)}function nt(r,t){var s=t||"",a=r>0?"-":"+",n=Math.abs(r),i=G(Math.floor(n/60),2),o=G(n%60,2);return a+i+s+o}const jm=wm;var Sa=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},zn=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},Nm=function(t,s){var a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return Sa(t,s);var o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",Sa(n,s)).replace("{{time}}",zn(i,s))},km={p:zn,P:Nm};const _m=km;var Sm=["D","DD"],Cm=["YY","YYYY"];function Em(r){return Sm.indexOf(r)!==-1}function Pm(r){return Cm.indexOf(r)!==-1}function Ca(r,t,s){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Tm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Am=function(t,s,a){var n,i=Tm[t];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};const Dm=Am;function zs(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):r.defaultWidth,a=r.formats[s]||r.formats[r.defaultWidth];return a}}var Om={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$m={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lm={date:zs({formats:Om,defaultWidth:"full"}),time:zs({formats:Mm,defaultWidth:"full"}),dateTime:zs({formats:$m,defaultWidth:"full"})};const Rm=Lm;var Fm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Im=function(t,s,a,n){return Fm[t]};const Um=Im;function Rt(r){return function(t,s){var a=s!=null&&s.context?String(s.context):"standalone",n;if(a==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=r.formattingValues[o]||r.formattingValues[i]}else{var c=r.defaultWidth,l=s!=null&&s.width?String(s.width):r.defaultWidth;n=r.values[l]||r.values[c]}var u=r.argumentCallback?r.argumentCallback(t):t;return n[u]}}var Bm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jm=function(t,s){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Gm={ordinalNumber:Jm,era:Rt({values:Bm,defaultWidth:"wide"}),quarter:Rt({values:Wm,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Rt({values:Vm,defaultWidth:"wide"}),day:Rt({values:qm,defaultWidth:"wide"}),dayPeriod:Rt({values:zm,defaultWidth:"wide",formattingValues:Hm,defaultFormattingWidth:"wide"})};const Ym=Gm;function Ft(r){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.width,n=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],c=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(c)?Zm(c,function(h){return h.test(o)}):Km(c,function(h){return h.test(o)}),u;u=r.valueCallback?r.valueCallback(l):l,u=s.valueCallback?s.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function Km(r,t){for(var s in r)if(r.hasOwnProperty(s)&&t(r[s]))return s}function Zm(r,t){for(var s=0;s<r.length;s++)if(t(r[s]))return s}function Qm(r){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(r.matchPattern);if(!a)return null;var n=a[0],i=t.match(r.parsePattern);if(!i)return null;var o=r.valueCallback?r.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var c=t.slice(n.length);return{value:o,rest:c}}}var Xm=/^(\d+)(th|st|nd|rd)?/i,eh=/\d+/i,th={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sh={any:[/^b/i,/^(a|c)/i]},rh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ah={any:[/1/i,/2/i,/3/i,/4/i]},nh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ih={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ch={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uh={ordinalNumber:Qm({matchPattern:Xm,parsePattern:eh,valueCallback:function(t){return parseInt(t,10)}}),era:Ft({matchPatterns:th,defaultMatchWidth:"wide",parsePatterns:sh,defaultParseWidth:"any"}),quarter:Ft({matchPatterns:rh,defaultMatchWidth:"wide",parsePatterns:ah,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ft({matchPatterns:nh,defaultMatchWidth:"wide",parsePatterns:ih,defaultParseWidth:"any"}),day:Ft({matchPatterns:oh,defaultMatchWidth:"wide",parsePatterns:lh,defaultParseWidth:"any"}),dayPeriod:Ft({matchPatterns:ch,defaultMatchWidth:"any",parsePatterns:dh,defaultParseWidth:"any"})};const mh=uh;var hh={code:"en-US",formatDistance:Dm,formatLong:Rm,formatRelative:Um,localize:Ym,match:mh,options:{weekStartsOn:0,firstWeekContainsDate:1}};const xh=hh;var fh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ph=/^'([^]*?)'?$/,bh=/''/g,yh=/[a-zA-Z]/;function ie(r,t,s){var a,n,i,o,c,l,u,d,h,f,p,y,v,g,N,x,E,T;te(2,arguments);var w=String(t),k=Pt(),D=(a=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:k.locale)!==null&&a!==void 0?a:xh,B=ke((i=(o=(c=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(u=s.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:k.firstWeekContainsDate)!==null&&o!==void 0?o:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=ke((p=(y=(v=(g=s==null?void 0:s.weekStartsOn)!==null&&g!==void 0?g:s==null||(N=s.locale)===null||N===void 0||(x=N.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&v!==void 0?v:k.weekStartsOn)!==null&&y!==void 0?y:(E=k.locale)===null||E===void 0||(T=E.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var $=le(r);if(!om($))throw new RangeError("Invalid time value");var I=nm($),_=um($,I),M={firstWeekContainsDate:B,weekStartsOn:C,locale:D,_originalDate:$},F=w.match(gh).map(function(W){var V=W[0];if(V==="p"||V==="P"){var K=_m[V];return K(W,D.formatLong)}return W}).join("").match(fh).map(function(W){if(W==="''")return"'";var V=W[0];if(V==="'")return vh(W);var K=jm[V];if(K)return!(s!=null&&s.useAdditionalWeekYearTokens)&&Pm(W)&&Ca(W,t,String(r)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&Em(W)&&Ca(W,t,String(r)),K(_,W,D.localize,M);if(V.match(yh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return W}).join("");return F}function vh(r){var t=r.match(ph);return t?t[1].replace(bh,"'"):r}function Hs(r,t){te(2,arguments);var s=le(r),a=le(t);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function wh(r,t){te(2,arguments);var s=ke(t);return Wn(r,-s)}Pa.register(ai,ni,ii,oi,Ta,Aa);const jh=()=>{const[r,t]=m.useState(null),[s,a]=m.useState(null),[n,i]=m.useState({totalJobs:0,pendingJobs:0,completedJobs:0,totalEarnings:0}),[o,c]=m.useState([]),[l,u]=m.useState([]),[d,h]=m.useState(!0);m.useEffect(()=>{(async()=>{const{data:{session:N}}=await Ze.auth.getSession();N&&(t(N.user),f(N.user.id))})()},[]);const f=async g=>{try{h(!0);const{data:N,error:x}=await Ze.from("profiles").select("*").eq("id",g).single();if(x)throw x;a(N),i({totalJobs:24,pendingJobs:5,completedJobs:19,totalEarnings:4850}),c([{id:1,title:"Kitchen Renovation",client:"John Smith",date:new Date(2023,4,15,10,0),address:"123 Main St, Anytown, CA",status:"scheduled"},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",date:new Date(2023,4,16,14,30),address:"456 Oak Ave, Somewhere, CA",status:"confirmed"},{id:3,title:"Deck Installation",client:"Michael Brown",date:new Date(2023,4,18,9,0),address:"789 Pine Rd, Nowhere, CA",status:"pending"}]),u([{id:1,client:"Emily Wilson",rating:5,comment:"Excellent work! Very professional and completed the job ahead of schedule.",date:new Date(2023,4,10)},{id:2,client:"David Lee",rating:4,comment:"Good quality work and reasonable pricing. Would hire again.",date:new Date(2023,4,5)}])}catch(N){console.error("Error fetching provider data:",N)}finally{h(!1)}},p={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Jobs Completed",data:[3,5,2,4,3,2],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Revenue ($)",data:[750,1200,500,900,800,700],backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgb(16, 185, 129)",borderWidth:1,yAxisID:"y1"}]},y={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jobs"}},y1:{beginAtZero:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"Revenue ($)"}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Monthly Performance"}}},v=g=>Array(5).fill(0).map((N,x)=>e.jsx("svg",{className:`h-5 w-5 ${x<g?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},x));return d?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Welcome back, ",(s==null?void 0:s.first_name)||"Provider","!"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Here's what's happening with your business today."})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(sr,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.totalJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/jobs",className:"font-medium text-blue-600 hover:text-blue-500",children:"View all"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(dt,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.pendingJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/jobs?status=pending",className:"font-medium text-blue-600 hover:text-blue-500",children:"View pending"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Nt,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.completedJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/jobs?status=completed",className:"font-medium text-blue-600 hover:text-blue-500",children:"View completed"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(mn,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Earnings"}),e.jsx("dd",{children:e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["$",n.totalEarnings]})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/jobs",className:"font-medium text-blue-600 hover:text-blue-500",children:"View details"})})})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Overview"}),e.jsx("div",{className:"mt-4 h-72",children:e.jsx(li,{data:p,options:y})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Jobs"}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:o.length>0?o.map(g=>e.jsx("li",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:e.jsx(sr,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.title}),e.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Client: ",g.client]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:ie(g.date,"MMM d, yyyy h:mm a")}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:g.address})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.status==="scheduled"?"bg-green-100 text-green-800":g.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})})]})},g.id)):e.jsx("li",{className:"py-4 text-center text-gray-500",children:"No upcoming jobs"})})})]}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/calendar",className:"font-medium text-blue-600 hover:text-blue-500",children:"View calendar"})})})]})]}),e.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Reviews"}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:l.length>0?l.map(g=>e.jsx("li",{className:"py-5",children:e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.client}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:ie(g.date,"MMM d, yyyy")})]}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:v(g.rating)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[g.rating," out of 5 stars"]})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:g.comment})})]})})},g.id)):e.jsx("li",{className:"py-5 text-center text-gray-500",children:"No reviews yet"})})})]}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(P,{to:"/provider/profile",className:"font-medium text-blue-600 hover:text-blue-500",children:"View all reviews"})})})]})]})]})},Nh=()=>{const{user:r}=xe(),{userProfile:t,updateUserProfile:s}=ze(),[a,n]=m.useState(!0),[i,o]=m.useState(!1),[c,l]=m.useState([]),[u,d]=m.useState([]),[h,f]=m.useState({first_name:"",last_name:"",company_name:"",phone:"",bio:"",services:[],years_experience:"",website:"",address:"",city:"",state:"",zip:""});m.useEffect(()=>{t&&(f({first_name:t.first_name||"",last_name:t.last_name||"",company_name:t.company_name||"",phone:t.phone||"",bio:t.bio||"",services:t.services||[],years_experience:t.years_experience||"",website:t.website||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||""}),p(),y())},[t]);const p=async()=>{try{n(!0);const w=[{id:1,client:"Emily Wilson",client_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:5,comment:"Excellent work! Very professional and completed the job ahead of schedule. The quality of work was outstanding and they were very clean and respectful of our home.",date:new Date(2023,4,10),project:"Interior Painting"},{id:2,client:"David Lee",client_avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:4,comment:"Good quality work and reasonable pricing. Would hire again for future projects. They were a bit late on the first day but made up for it by working longer hours.",date:new Date(2023,4,5),project:"Roof Repair"},{id:3,client:"Sarah Johnson",client_avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:5,comment:"I am extremely satisfied with the bathroom remodel. The attention to detail was impressive and they were very responsive to my questions and concerns throughout the project.",date:new Date(2023,3,20),project:"Bathroom Remodel"},{id:4,client:"John Smith",client_avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:4,comment:"The kitchen renovation turned out beautifully. They were knowledgeable and provided helpful suggestions throughout the process. The only reason for 4 stars instead of 5 is that the project took a bit longer than initially estimated.",date:new Date(2023,3,15),project:"Kitchen Renovation"}];l(w)}catch(w){console.error("Error fetching reviews:",w)}finally{n(!1)}},y=async()=>{try{const w=[{id:1,title:"Modern Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,3,15),client:"John Smith",location:"Anytown, CA"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,3,20),client:"Sarah Johnson",location:"Somewhere, CA"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,4,5),client:"Michael Brown",location:"Nowhere, CA"},{id:4,title:"Interior Painting",description:"Painted living room, dining room, and hallway with premium paint.",image:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,4,10),client:"Emily Wilson",location:"Anytown, CA"}];d(w)}catch(w){console.error("Error fetching projects:",w)}},v=w=>{const{name:k,value:D}=w.target;f({...h,[k]:D})},g=w=>{const k=h.services.includes(w)?h.services.filter(D=>D!==w):[...h.services,w];f({...h,services:k})},N=async w=>{w.preventDefault();try{n(!0),await new Promise(k=>setTimeout(k,1e3)),o(!1)}catch(k){console.error("Error updating profile:",k)}finally{n(!1)}},x=w=>Array(5).fill(0).map((k,D)=>e.jsx(cs,{className:`h-5 w-5 ${D<w?"text-yellow-400":"text-gray-300"}`,"aria-hidden":"true"},D)),E=w=>ie(w,"MMM d, yyyy"),T=["Kitchen Renovation","Bathroom Remodeling","Deck Building","Painting","Flooring","Electrical","Plumbing","Roofing","Landscaping","Carpentry"];return a&&!t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Profile"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"relative h-40 bg-blue-600",children:e.jsx("button",{type:"button",className:"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ls,{className:"h-5 w-5","aria-hidden":"true"})})}),e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32",src:(t==null?void 0:t.avatar_url)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}),e.jsx("button",{type:"button",className:"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ls,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsxs("div",{className:"mt-6 sm:mt-0 sm:ml-6 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.company_name)||"Your Company Name"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>o(!i),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(St,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:x(4.5)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["4.5 out of 5 stars (",c.length," reviews)"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile Information"}),!i&&e.jsx("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(St,{className:"h-5 w-5","aria-hidden":"true"})})]}),i?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:h.first_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:h.last_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company name"}),e.jsx("input",{type:"text",name:"company_name",id:"company_name",value:h.company_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:h.phone,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:3,value:h.bio,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"years_experience",className:"block text-sm font-medium text-gray-700",children:"Years of experience"}),e.jsx("input",{type:"number",name:"years_experience",id:"years_experience",value:h.years_experience,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),e.jsx("input",{type:"text",name:"website",id:"website",value:h.website,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:h.address,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",value:h.city,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",value:h.state,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP"}),e.jsx("input",{type:"text",name:"zip",id:"zip",value:h.zip,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Services"}),e.jsx("div",{className:"mt-2 grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:T.map(w=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`service-${w}`,name:`service-${w}`,type:"checkbox",checked:h.services.includes(w),onChange:()=>g(w),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:`service-${w}`,className:"ml-3 text-sm text-gray-700",children:w})]},w))})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(un,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Save"]})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[h.first_name," ",h.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Company name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.company_name||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:r==null?void 0:r.email})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.phone||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.bio||"No bio provided"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Years of experience"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.years_experience||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Website"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.website?e.jsx("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500",children:h.website}):"Not specified"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.address?e.jsxs(e.Fragment,{children:[h.address,e.jsx("br",{}),h.city,", ",h.state," ",h.zip]}):"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Services"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:h.services&&h.services.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:h.services.map(w=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w},w))}):"No services specified"})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Reviews"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"4.5 / 5"})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:c.map(w=>e.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:w.client_avatar,alt:w.client}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.client}),e.jsx("p",{className:"text-xs text-gray-500",children:E(w.date)})]})]}),e.jsx("div",{className:"flex items-center",children:x(w.rating)})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-600",children:w.comment})}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.project})})]},w.id))})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Projects"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(PlusIcon,{className:"-ml-1 mr-1 h-4 w-4","aria-hidden":"true"}),"Add Project"]})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:u.map(w=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:w.image,alt:w.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:w.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:w.description}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:E(w.date)}),e.jsx("p",{className:"text-xs text-gray-500",children:w.location})]})]})]},w.id))})})]})]})]})]})]})},kh=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState("all"),[o,c]=m.useState(""),[l,u]=m.useState("date"),[d,h]=m.useState("desc");m.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const g=[{id:1,title:"Kitchen Renovation",client:"John Smith",date:new Date(2023,4,15,10,0),address:"123 Main St, Anytown, CA",status:"scheduled",price:3500,description:"Complete kitchen renovation including new cabinets, countertops, and appliances."},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",date:new Date(2023,4,16,14,30),address:"456 Oak Ave, Somewhere, CA",status:"confirmed",price:850,description:"Fix leaking pipes and install new shower fixtures."},{id:3,title:"Deck Installation",client:"Michael Brown",date:new Date(2023,4,18,9,0),address:"789 Pine Rd, Nowhere, CA",status:"pending",price:2200,description:"Build a new 12x16 wooden deck with railings and stairs."},{id:4,title:"Interior Painting",client:"Emily Wilson",date:new Date(2023,4,5,13,0),address:"101 Elm St, Anytown, CA",status:"completed",price:1200,description:"Paint living room, dining room, and hallway. Includes primer and two coats of paint."},{id:5,title:"Roof Repair",client:"David Lee",date:new Date(2023,4,2,11,0),address:"202 Cedar Ave, Somewhere, CA",status:"completed",price:950,description:"Repair damaged shingles and fix leak in roof."},{id:6,title:"Fence Installation",client:"Jennifer Garcia",date:new Date(2023,4,20,8,0),address:"303 Maple Dr, Nowhere, CA",status:"pending",price:1800,description:"Install 100 feet of 6-foot privacy fence around backyard."},{id:7,title:"Electrical Wiring",client:"Robert Martinez",date:new Date(2023,3,28,15,0),address:"404 Birch Ln, Anytown, CA",status:"completed",price:750,description:"Update electrical panel and add new outlets in home office."},{id:8,title:"Landscaping",client:"Lisa Anderson",date:new Date(2023,4,25,10,0),address:"505 Spruce Ct, Somewhere, CA",status:"scheduled",price:1500,description:"Redesign front yard with new plants, mulch, and decorative stones."}];t(g)}catch(g){console.error("Error fetching jobs:",g)}finally{a(!1)}},y=[...r.filter(g=>{const N=n==="all"||g.status===n,x=g.title.toLowerCase().includes(o.toLowerCase())||g.client.toLowerCase().includes(o.toLowerCase())||g.address.toLowerCase().includes(o.toLowerCase());return N&&x})].sort((g,N)=>l==="date"?d==="asc"?g.date-N.date:N.date-g.date:l==="price"?d==="asc"?g.price-N.price:N.price-g.price:l==="title"?d==="asc"?g.title.localeCompare(N.title):N.title.localeCompare(g.title):l==="client"?d==="asc"?g.client.localeCompare(N.client):N.client.localeCompare(g.client):0),v=g=>{switch(g){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(dt,{className:"mr-1 h-4 w-4"}),"Pending"]});case"confirmed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Nt,{className:"mr-1 h-4 w-4"}),"Confirmed"]});case"scheduled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Nt,{className:"mr-1 h-4 w-4"}),"Scheduled"]});case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Nt,{className:"mr-1 h-4 w-4"}),"Completed"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Xr,{className:"mr-1 h-4 w-4"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:g.charAt(0).toUpperCase()+g.slice(1)})}};return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Jobs"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700",children:"Filter by status"}),e.jsxs("select",{id:"filter",name:"filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:n,onChange:g=>i(g.target.value),children:[e.jsx("option",{value:"all",children:"All Jobs"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700",children:"Sort by"}),e.jsxs("select",{id:"sort",name:"sort",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:g=>{u(g.target.value),h("asc")},children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"price",children:"Price"}),e.jsx("option",{value:"title",children:"Job Title"}),e.jsx("option",{value:"client",children:"Client Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Order"}),e.jsxs("select",{id:"order",name:"order",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:d,onChange:g=>h(g.target.value),children:[e.jsx("option",{value:"asc",children:"Ascending"}),e.jsx("option",{value:"desc",children:"Descending"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search jobs...",value:o,onChange:g=>c(g.target.value)})})]})]})}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(g=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:g.title}),e.jsx("div",{className:"ml-2",children:v(g.status)})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["$",g.price]})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsxs("div",{className:"sm:flex",children:[e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",g.client]}),e.jsx("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:g.address})]}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsx("p",{children:ie(g.date,"MMM d, yyyy h:mm a")})})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:g.description})}),e.jsxs("div",{className:"mt-3 flex justify-end space-x-3",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(fn,{className:"mr-1 h-4 w-4"}),"View Details"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ct,{className:"mr-1 h-4 w-4"}),"Message Client"]}),g.status!=="completed"&&g.status!=="cancelled"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(St,{className:"mr-1 h-4 w-4"}),"Edit"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent shadow-sm text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(Xr,{className:"mr-1 h-4 w-4"}),"Cancel"]})]})]})]})},g.id)):e.jsx("li",{className:"px-4 py-6 text-center text-gray-500",children:"No jobs found matching your criteria"})})})})]})]})},_h=()=>{const[r,t]=m.useState(new Date),[s,a]=m.useState([]),[n,i]=m.useState(!0),[o,c]=m.useState(null),[l,u]=m.useState(!1);m.useEffect(()=>{d()},[r]);const d=async()=>{try{i(!0);const B=[{id:1,title:"Kitchen Consultation",client:"John Smith",address:"123 Main St, Anytown, CA",date:new Date(2023,4,15,10,0),endDate:new Date(2023,4,15,11,30),type:"consultation",notes:"Initial consultation for kitchen renovation project."},{id:2,title:"Bathroom Remodel",client:"Sarah Johnson",address:"456 Oak Ave, Somewhere, CA",date:new Date(2023,4,16,14,30),endDate:new Date(2023,4,16,17,0),type:"work",notes:"Installing new shower fixtures and vanity."},{id:3,title:"Deck Measurement",client:"Michael Brown",address:"789 Pine Rd, Nowhere, CA",date:new Date(2023,4,18,9,0),endDate:new Date(2023,4,18,10,0),type:"measurement",notes:"Taking measurements for new deck installation."},{id:4,title:"Interior Painting",client:"Emily Wilson",address:"101 Elm St, Anytown, CA",date:new Date(2023,4,20,13,0),endDate:new Date(2023,4,20,18,0),type:"work",notes:"Painting living room and dining room."},{id:5,title:"Roof Inspection",client:"David Lee",address:"202 Cedar Ave, Somewhere, CA",date:new Date(2023,4,22,11,0),endDate:new Date(2023,4,22,12,0),type:"inspection",notes:"Inspecting roof for potential leaks."},{id:6,title:"Fence Installation",client:"Jennifer Garcia",address:"303 Maple Dr, Nowhere, CA",date:new Date(2023,4,25,8,0),endDate:new Date(2023,4,25,16,0),type:"work",notes:"Installing new privacy fence in backyard."},{id:7,title:"Electrical Work",client:"Robert Martinez",address:"404 Birch Ln, Anytown, CA",date:new Date(2023,4,28,15,0),endDate:new Date(2023,4,28,17,0),type:"work",notes:"Updating electrical panel and adding new outlets."},{id:8,title:"Landscaping Consultation",client:"Lisa Anderson",address:"505 Spruce Ct, Somewhere, CA",date:new Date(2023,4,30,10,0),endDate:new Date(2023,4,30,11,0),type:"consultation",notes:"Discussing front yard landscaping design."}];a(B)}catch(B){console.error("Error fetching events:",B)}finally{i(!1)}},h=()=>{t(wh(r,1))},f=()=>{t(Wn(r,1))},p=B=>{c(B),u(!0)},y=()=>{c(null),u(!1)},v=B=>{const $={consultation:{bg:"bg-blue-100",text:"text-blue-800",label:"Consultation"},work:{bg:"bg-green-100",text:"text-green-800",label:"Work"},measurement:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Measurement"},inspection:{bg:"bg-purple-100",text:"text-purple-800",label:"Inspection"}}[B]||{bg:"bg-gray-100",text:"text-gray-800",label:B};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.bg} ${$.text}`,children:$.label})},g=B=>ie(B,"h:mm a"),N=()=>e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(xc,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:ie(r,"MMMM yyyy")}),e.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(pc,{className:"h-5 w-5 text-gray-600"})})]}),x=()=>{const B=[],C=ja(r);for(let $=0;$<7;$++)B.push(e.jsx("div",{className:"text-center font-semibold text-gray-600 text-sm py-2",children:ie(wa(C,$),"EEEE")},$));return e.jsx("div",{className:"grid grid-cols-7 gap-1",children:B})},E=()=>{const B=cm(r),C=lm(B),$=ja(B),I=dm(C),_=[];let M=[],F=$;for(;F<=I;){for(let W=0;W<7;W++){const V=ie(F,"d"),K=s.filter(re=>qs(re.date,F));M.push(e.jsxs("div",{className:`min-h-[120px] p-2 border border-gray-200 ${Hs(F,B)?qs(F,new Date)?"bg-blue-50":"bg-white":"bg-gray-50 text-gray-400"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:`text-sm font-medium ${Hs(F,B)?qs(F,new Date)?"text-blue-600":"text-gray-900":"text-gray-400"}`,children:V}),Hs(F,B)&&e.jsx("button",{type:"button",className:"p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(qe,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx("div",{className:"mt-1 space-y-1 max-h-[80px] overflow-y-auto",children:K.map(re=>e.jsxs("div",{onClick:()=>p(re),className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200",children:[e.jsx("div",{className:"font-medium truncate",children:re.title}),e.jsx("div",{className:"text-xs text-blue-600",children:g(re.date)})]},re.id))})]},F.toString())),F=wa(F,1)}_.push(e.jsx("div",{className:"grid grid-cols-7 gap-1",children:M},F.toString())),M=[]}return e.jsx("div",{className:"space-y-1",children:_})},T=()=>{const B=s.reduce(($,I)=>{const _=ie(I.date,"yyyy-MM-dd");return $[_]||($[_]=[]),$[_].push(I),$},{}),C=Object.keys(B).sort();return e.jsx("div",{className:"space-y-6",children:C.map($=>{const I=new Date($),_=B[$];return e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:ie(I,"EEEE, MMMM d, yyyy")})}),e.jsx("ul",{className:"divide-y divide-gray-200",children:_.map(M=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 cursor-pointer",onClick:()=>p(M),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:M.title}),e.jsx("div",{className:"ml-2",children:v(M.type)})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[g(M.date)," - ",g(M.endDate)]})})]}),e.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:e.jsxs("div",{className:"sm:flex",children:[e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",M.client]}),e.jsx("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:M.address})]})}),M.notes&&e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:e.jsx("p",{children:M.notes})})]})},M.id))})]},$)})})},w=()=>o?e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:y}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:o.title}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Type:"}),e.jsx("div",{children:v(o.type)})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Date:"}),e.jsx("span",{className:"text-sm text-gray-900",children:ie(o.date,"EEEE, MMMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Time:"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[g(o.date)," - ",g(o.endDate)]})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Client:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.client})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Address:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.address})]}),o.notes&&e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Notes:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.notes})]})]})]})}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:y,children:"Close"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Edit"})]})]})]})}):null,[k,D]=m.useState("calendar");return n?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Calendar"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md ${k==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,onClick:()=>D("calendar"),children:"Calendar View"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md ${k==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,onClick:()=>D("list"),children:"List View"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(qe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Event"]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg p-6",children:k==="calendar"?e.jsxs(e.Fragment,{children:[N(),x(),E()]}):T()})}),l&&w()]})},Sh=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(""),[l,u]=m.useState(!0),[d,h]=m.useState("");m.useEffect(()=>{f()},[]),m.useEffect(()=>{s&&p(s.id)},[s]);const f=async()=>{try{u(!0);const x=[{id:1,client:{id:101,name:"John Smith",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"When can you come to look at the kitchen?",timestamp:new Date(2023,4,10,14,30),isRead:!0,sender:"client"},project:"Kitchen Renovation",unreadCount:0},{id:2,client:{id:102,name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"The bathroom looks great! Thank you for your work.",timestamp:new Date(2023,4,9,10,15),isRead:!0,sender:"client"},project:"Bathroom Remodel",unreadCount:0},{id:3,client:{id:103,name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"I have a question about the quote you sent.",timestamp:new Date(2023,4,11,9,45),isRead:!1,sender:"client"},project:"Deck Installation",unreadCount:2},{id:4,client:{id:104,name:"Emily Wilson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"Can we schedule the painting for next week?",timestamp:new Date(2023,4,8,16,20),isRead:!0,sender:"client"},project:"Interior Painting",unreadCount:0},{id:5,client:{id:105,name:"David Lee",avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"I just sent the payment for the roof repair.",timestamp:new Date(2023,4,7,11,10),isRead:!0,sender:"client"},project:"Roof Repair",unreadCount:0}];t(x),x.length>0&&!s&&a(x[0])}catch(x){console.error("Error fetching conversations:",x)}finally{u(!1)}},p=async x=>{try{const E={1:[{id:1,text:"Hi, I'm interested in renovating my kitchen. Do you offer free consultations?",timestamp:new Date(2023,4,9,9,30),sender:"client"},{id:2,text:"Yes, we do offer free consultations. I'd be happy to come take a look at your kitchen and discuss your renovation ideas.",timestamp:new Date(2023,4,9,10,15),sender:"provider"},{id:3,text:"Great! When would you be available?",timestamp:new Date(2023,4,9,10,45),sender:"client"},{id:4,text:"I have availability this Thursday or Friday afternoon. Would either of those work for you?",timestamp:new Date(2023,4,9,11,30),sender:"provider"},{id:5,text:"Friday afternoon would work well. How about 2 PM?",timestamp:new Date(2023,4,9,14,0),sender:"client"},{id:6,text:"2 PM on Friday works for me. I'll put it on my calendar. Could you please provide your address?",timestamp:new Date(2023,4,9,14,45),sender:"provider"},{id:7,text:"123 Main St, Anytown, CA. Thanks!",timestamp:new Date(2023,4,9,15,30),sender:"client"},{id:8,text:"When can you come to look at the kitchen?",timestamp:new Date(2023,4,10,14,30),sender:"client"}],2:[{id:1,text:"Hello, I'm interested in remodeling my bathroom. Can you help with that?",timestamp:new Date(2023,4,5,13,0),sender:"client"},{id:2,text:"Hi Sarah, yes we specialize in bathroom remodels. What kind of changes are you looking to make?",timestamp:new Date(2023,4,5,14,30),sender:"provider"},{id:3,text:"I want to replace the tub with a walk-in shower, new vanity, and update the flooring and lighting.",timestamp:new Date(2023,4,5,15,0),sender:"client"},{id:4,text:"That sounds like a great project. I can come by to take measurements and provide a quote. When would be a good time?",timestamp:new Date(2023,4,6,9,0),sender:"provider"},{id:5,text:"How about next Monday at 10 AM?",timestamp:new Date(2023,4,6,10,30),sender:"client"},{id:6,text:"Monday at 10 AM works for me. I'll see you then!",timestamp:new Date(2023,4,6,11,15),sender:"provider"},{id:7,text:"The bathroom looks great! Thank you for your work.",timestamp:new Date(2023,4,9,10,15),sender:"client"}],3:[{id:1,text:"Hi, I'm interested in getting a deck built in my backyard. Can you provide a quote?",timestamp:new Date(2023,4,10,15,0),sender:"client"},{id:2,text:"Hello Michael, I'd be happy to provide a quote for your deck. Could you tell me the approximate size you're looking for?",timestamp:new Date(2023,4,10,16,30),sender:"provider"},{id:3,text:"I'm thinking about a 12x16 deck with railings and stairs.",timestamp:new Date(2023,4,10,17,0),sender:"client"},{id:4,text:"Thanks for the information. I've prepared a quote based on your requirements. I'll send it over shortly.",timestamp:new Date(2023,4,11,9,0),sender:"provider"},{id:5,text:"I've sent the quote to your email. Please let me know if you have any questions.",timestamp:new Date(2023,4,11,9,15),sender:"provider"},{id:6,text:"I have a question about the quote you sent.",timestamp:new Date(2023,4,11,9,45),sender:"client"}],4:[{id:1,text:"Hello, I need to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?",timestamp:new Date(2023,4,7,10,0),sender:"client"},{id:2,text:"Hi Emily, yes I have some availability coming up. What colors are you thinking of using?",timestamp:new Date(2023,4,7,11,30),sender:"provider"},{id:3,text:"I'm thinking of a light gray for the living room and hallway, and a sage green for the dining room.",timestamp:new Date(2023,4,7,13,0),sender:"client"},{id:4,text:"Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.",timestamp:new Date(2023,4,7,14,30),sender:"provider"},{id:5,text:"The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.",timestamp:new Date(2023,4,7,15,45),sender:"client"},{id:6,text:"Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.",timestamp:new Date(2023,4,8,9,0),sender:"provider"},{id:7,text:"Can we schedule the painting for next week?",timestamp:new Date(2023,4,8,16,20),sender:"client"}],5:[{id:1,text:"Hi, I have a leak in my roof that needs to be repaired. Can you help?",timestamp:new Date(2023,4,5,9,0),sender:"client"},{id:2,text:"Hello David, I can definitely help with your roof leak. Is it causing any damage inside your home?",timestamp:new Date(2023,4,5,10,30),sender:"provider"},{id:3,text:"Yes, there's a water stain on the ceiling in my upstairs bedroom.",timestamp:new Date(2023,4,5,11,15),sender:"client"},{id:4,text:"I understand. This sounds like it needs prompt attention. I can come by tomorrow to assess the damage and provide a quote. Would that work for you?",timestamp:new Date(2023,4,5,13,0),sender:"provider"},{id:5,text:"Tomorrow would be great. I'm available all day.",timestamp:new Date(2023,4,5,14,30),sender:"client"},{id:6,text:"Perfect. I'll be there around 10 AM if that works for you.",timestamp:new Date(2023,4,5,15,0),sender:"provider"},{id:7,text:"10 AM is perfect. See you then.",timestamp:new Date(2023,4,5,15,30),sender:"client"},{id:8,text:"I've completed the roof repair. The leak was caused by damaged shingles, which I've replaced. I've also sealed the area to prevent future leaks.",timestamp:new Date(2023,4,6,16,0),sender:"provider"},{id:9,text:"Thank you for the quick service. How much do I owe you?",timestamp:new Date(2023,4,6,17,30),sender:"client"},{id:10,text:"The total comes to $950. I've sent an invoice to your email.",timestamp:new Date(2023,4,6,18,0),sender:"provider"},{id:11,text:"I just sent the payment for the roof repair.",timestamp:new Date(2023,4,7,11,10),sender:"client"}]};i(E[x]||[])}catch(E){console.error("Error fetching messages:",E)}},y=x=>{if(x.preventDefault(),!o.trim()||!s)return;const E={id:n.length+1,text:o,timestamp:new Date,sender:"provider"};i([...n,E]),t(r.map(T=>T.id===s.id?{...T,lastMessage:{text:o,timestamp:new Date,isRead:!0,sender:"provider"}}:T)),c("")},v=x=>ie(x,"h:mm a"),g=x=>{const E=new Date,T=new Date(x);return T.toDateString()===E.toDateString()?ie(T,"h:mm a"):Math.floor((E-T)/(1e3*60*60*24))<7?ie(T,"EEEE"):ie(T,"MMM d")},N=r.filter(x=>x.client.name.toLowerCase().includes(d.toLowerCase())||x.project.toLowerCase().includes(d.toLowerCase()));return l&&r.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Messages"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ss,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search conversations",value:d,onChange:x=>h(x.target.value)})]})}),e.jsx("div",{className:"overflow-y-auto h-full pb-20",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(x=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(s==null?void 0:s.id)===x.id?"bg-blue-50":""}`,onClick:()=>a(x),children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:x.client.avatar,alt:x.client.name}),x.unreadCount>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:x.unreadCount})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.client.name}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:g(x.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:x.project}),e.jsxs("p",{className:`text-sm truncate ${x.unreadCount>0?"font-semibold text-gray-900":"text-gray-500"}`,children:[x.lastMessage.sender==="provider"?"You: ":"",x.lastMessage.text]})]})]})})})},x.id))})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:s.client.avatar,alt:s.client.name}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.client.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.project})]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(hn,{className:"h-6 w-6","aria-hidden":"true"})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:n.map(x=>e.jsxs("div",{className:`flex ${x.sender==="provider"?"justify-end":"justify-start"}`,children:[x.sender==="client"&&e.jsx("img",{className:"h-8 w-8 rounded-full mr-2 self-end",src:s.client.avatar,alt:s.client.name}),e.jsxs("div",{className:`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${x.sender==="provider"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:x.text}),e.jsx("p",{className:`text-xs mt-1 text-right ${x.sender==="provider"?"text-blue-200":"text-gray-500"}`,children:v(x.timestamp)})]}),x.sender==="provider"&&e.jsx("img",{className:"h-8 w-8 rounded-full ml-2 self-end",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"You"})]},x.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:y,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(bn,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Type a message...",value:o,onChange:x=>c(x.target.value)}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(pn,{className:"h-5 w-5","aria-hidden":"true"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation from the list to view messages."})]})})})]})})})]})},Ch=()=>{const{user:r,updateUser:t}=xe();ze();const[s,a]=m.useState(!1),[n,i]=m.useState({type:"",text:""}),[o,c]=m.useState(""),[l,u]=m.useState(""),[d,h]=m.useState(""),[f,p]=m.useState({email_notifications:!0,sms_notifications:!1,new_job_requests:!0,messages:!0,reviews:!0,payment_received:!0,marketing:!1}),[y,v]=m.useState({show_profile:!0,show_contact_info:!0,show_reviews:!0,show_projects:!0});m.useEffect(()=>{r&&c(r.email||"")},[r]);const g=async k=>{k.preventDefault();try{a(!0),i({type:"",text:""}),await new Promise(D=>setTimeout(D,1e3)),i({type:"success",text:"Email updated successfully!"})}catch(D){console.error("Error updating email:",D),i({type:"error",text:D.message||"An error occurred while updating email"})}finally{a(!1)}},N=async k=>{if(k.preventDefault(),l!==d){i({type:"error",text:"Passwords do not match"});return}try{a(!0),i({type:"",text:""}),await new Promise(D=>setTimeout(D,1e3)),i({type:"success",text:"Password updated successfully!"}),u(""),h("")}catch(D){console.error("Error updating password:",D),i({type:"error",text:D.message||"An error occurred while updating password"})}finally{a(!1)}},x=k=>{p({...f,[k]:!f[k]})},E=k=>{v({...y,[k]:!y[k]})},T=async()=>{try{a(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Notification settings updated successfully!"})}catch(k){console.error("Error updating notification settings:",k),i({type:"error",text:k.message||"An error occurred while updating notification settings"})}finally{a(!1)}},w=async()=>{try{a(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Privacy settings updated successfully!"})}catch(k){console.error("Error updating privacy settings:",k),i({type:"error",text:k.message||"An error occurred while updating privacy settings"})}finally{a(!1)}};return e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your account information and password."})]}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.text&&e.jsx("div",{className:`mb-4 p-4 rounded-md ${n.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:n.text}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Address"}),e.jsx("form",{onSubmit:g,className:"mt-2",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"New Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:o,onChange:k=>c(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Email"})]})})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password"}),e.jsxs("form",{onSubmit:N,className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("input",{type:"password",name:"password",id:"password",value:l,onChange:k=>u(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:d,onChange:k=>h(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:s||!l||!d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Password"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how and when you receive notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Methods"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_notifications",name:"email_notifications",type:"checkbox",checked:f.email_notifications,onChange:()=>x("email_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_notifications",className:"font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via email."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_notifications",name:"sms_notifications",type:"checkbox",checked:f.sms_notifications,onChange:()=>x("sms_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_notifications",className:"font-medium text-gray-700",children:"SMS Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via text message."})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Types"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"new_job_requests",name:"new_job_requests",type:"checkbox",checked:f.new_job_requests,onChange:()=>x("new_job_requests"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"new_job_requests",className:"font-medium text-gray-700",children:"New Job Requests"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new job requests."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"messages",name:"messages",type:"checkbox",checked:f.messages,onChange:()=>x("messages"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"reviews",name:"reviews",type:"checkbox",checked:f.reviews,onChange:()=>x("reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"reviews",className:"font-medium text-gray-700",children:"Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new reviews."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"payment_received",name:"payment_received",type:"checkbox",checked:f.payment_received,onChange:()=>x("payment_received"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"payment_received",className:"font-medium text-gray-700",children:"Payment Received"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you receive payments."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing",name:"marketing",type:"checkbox",checked:f.marketing,onChange:()=>x("marketing"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing",className:"font-medium text-gray-700",children:"Marketing"}),e.jsx("p",{className:"text-gray-500",children:"Receive marketing and promotional emails."})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:T,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Notification Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage what information is visible to others."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_profile",name:"show_profile",type:"checkbox",checked:y.show_profile,onChange:()=>E("show_profile"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_profile",className:"font-medium text-gray-700",children:"Show Profile"}),e.jsx("p",{className:"text-gray-500",children:"Make your profile visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_contact_info",name:"show_contact_info",type:"checkbox",checked:y.show_contact_info,onChange:()=>E("show_contact_info"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_contact_info",className:"font-medium text-gray-700",children:"Show Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Make your contact information visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_reviews",name:"show_reviews",type:"checkbox",checked:y.show_reviews,onChange:()=>E("show_reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_reviews",className:"font-medium text-gray-700",children:"Show Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Make your reviews visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_projects",name:"show_projects",type:"checkbox",checked:y.show_projects,onChange:()=>E("show_projects"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_projects",className:"font-medium text-gray-700",children:"Show Projects"}),e.jsx("p",{className:"text-gray-500",children:"Make your projects visible to potential clients."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:w,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Privacy Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Permanently delete your account and all associated data."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account"})]})})]})]})})]})};Pa.register(ci,Ta,Aa);function Eh(){const{user:r}=xe(),{userProfile:t}=ze(),[s,a]=m.useState([]),[n,i]=m.useState([]),[o,c]=m.useState(!0),[l,u]=m.useState(null),d={labels:["Completed","In Progress","Pending","Cancelled"],datasets:[{data:[4,2,3,1],backgroundColor:["rgba(34, 197, 94, 0.7)","rgba(59, 130, 246, 0.7)","rgba(234, 179, 8, 0.7)","rgba(239, 68, 68, 0.7)"],borderColor:["rgba(34, 197, 94, 1)","rgba(59, 130, 246, 1)","rgba(234, 179, 8, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]};m.useEffect(()=>{async function p(){try{c(!0),u(null);const y=[{id:"1",title:"Kitchen Renovation",description:"Complete kitchen remodel including new cabinets, countertops, and appliances.",status:"in_progress",start_date:"2023-05-15",end_date:"2023-06-30",budget:15e3,provider:{id:"101",name:"Elite Home Renovations",avatar_url:"https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8}},{id:"2",title:"Bathroom Remodel",description:"Update master bathroom with new shower, vanity, and fixtures.",status:"pending",start_date:"2023-07-10",end_date:"2023-07-25",budget:8e3,provider:{id:"102",name:"Modern Plumbing Solutions",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6}},{id:"3",title:"Deck Construction",description:"Build a new composite deck in the backyard.",status:"pending",start_date:"2023-08-05",end_date:"2023-08-20",budget:12e3,provider:null},{id:"4",title:"Interior Painting",description:"Paint living room, dining room, and hallway.",status:"completed",start_date:"2023-04-10",end_date:"2023-04-15",budget:3e3,provider:{id:"103",name:"Perfect Painting Co.",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:5}}],v=[{id:"101",name:"Elite Home Renovations",service_type:"General Contractor",avatar_url:"https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:124},{id:"102",name:"Modern Plumbing Solutions",service_type:"Plumbing",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6,reviews:89},{id:"103",name:"Perfect Painting Co.",service_type:"Painting",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:5,reviews:56},{id:"104",name:"Green Thumb Landscaping",service_type:"Landscaping",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:112}];a(y),i(v)}catch(y){console.error("Error fetching dashboard data:",y),u("Failed to load dashboard data. Please try again.")}finally{c(!1)}}p()},[r]);const h=p=>{switch(p){case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Completed"]});case"in_progress":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),"In Progress"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(dt,{className:"w-4 h-4 mr-1"}),"Pending"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(xn,{className:"w-4 h-4 mr-1"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})}},f=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p);return o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):l?e.jsxs("div",{className:"p-4 text-red-700 bg-red-100 rounded-md",children:[e.jsx("p",{children:l}),e.jsx("button",{className:"mt-2 text-sm font-medium text-red-700 underline",onClick:()=>window.location.reload(),children:"Try again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.full_name)||"Homeowner","!"]}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Here's an overview of your home improvement projects and services."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-green-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Completed"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="completed").length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="in_progress").length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-yellow-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Pending"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="pending").length})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Projects"}),e.jsx(P,{to:"/homeowner/projects",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View all"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.length>0?s.slice(0,3).map(p=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p.title}),h(p.status)]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:p.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Budget"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:f(p.budget)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Timeline"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(p.start_date).toLocaleDateString()," - ",new Date(p.end_date).toLocaleDateString()]})]})]}),p.provider&&e.jsxs("div",{className:"flex items-center mt-4 space-x-2",children:[e.jsx("img",{src:p.provider.avatar_url,alt:p.provider.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.provider.name}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"ml-1 text-sm text-gray-600",children:p.provider.rating})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:[e.jsx(ct,{className:"w-4 h-4 mr-1"}),"Message"]})]})]},p.id)):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No projects found."}),e.jsxs(P,{to:"/homeowner/projects/new",className:"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"Create New Project"]})]})}),s.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50",children:e.jsxs(P,{to:"/homeowner/projects/new",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500",children:[e.jsx(qe,{className:"w-5 h-5 mr-1"}),"Create New Project"]})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Project Status"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(di,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Service Providers"}),e.jsx(P,{to:"/homeowner/providers",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View all"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:n.length>0?e.jsx("div",{className:"grid grid-cols-1 divide-y divide-gray-200 sm:grid-cols-2 sm:divide-y-0 sm:divide-x lg:grid-cols-4",children:n.map(p=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:p.avatar_url,alt:p.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.service_type})]})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:p.rating})]}),e.jsx("span",{className:"mx-2 text-gray-500",children:""}),e.jsxs("span",{className:"text-sm text-gray-500",children:[p.reviews," reviews"]})]}),e.jsxs("div",{className:"flex mt-4 space-x-2",children:[e.jsx("button",{className:"flex-1 px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:"View Profile"}),e.jsx("button",{className:"flex-1 px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Contact"})]})]},p.id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No recent service providers."}),e.jsx(P,{to:"/homeowner/providers",className:"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:"Find Service Providers"})]})})]})]})}const Ph=()=>{const{user:r}=xe(),{userProfile:t,updateUserProfile:s}=ze(),[a,n]=m.useState(!0),[i,o]=m.useState(!1),[c,l]=m.useState([]),[u,d]=m.useState({first_name:"",last_name:"",phone:"",address:"",city:"",state:"",zip:"",bio:""});m.useEffect(()=>{t&&(d({first_name:t.first_name||"",last_name:t.last_name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||"",bio:t.bio||""}),h())},[t]);const h=async()=>{try{n(!0);const g=[{id:1,title:"Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",status:"in_progress",provider:"Elite Home Renovations",provider_id:101,start_date:new Date(2023,3,15),end_date:new Date(2023,5,30),budget:45e3,spent:3e4,image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",status:"in_progress",provider:"Premium Bathroom Solutions",provider_id:102,start_date:new Date(2023,4,1),end_date:new Date(2023,5,15),budget:25e3,spent:15e3,image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",status:"completed",provider:"Outdoor Living Experts",provider_id:103,start_date:new Date(2023,2,10),end_date:new Date(2023,3,5),budget:12e3,spent:11500,image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}];l(g)}catch(g){console.error("Error fetching projects:",g)}finally{n(!1)}},f=g=>{const{name:N,value:x}=g.target;d({...u,[N]:x})},p=async g=>{g.preventDefault();try{n(!0),await new Promise(N=>setTimeout(N,1e3)),o(!1)}catch(N){console.error("Error updating profile:",N)}finally{n(!1)}},y=g=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(g),v=g=>{const x={in_progress:{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}}[g]||{bg:"bg-gray-100",text:"text-gray-800",label:g};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.bg} ${x.text}`,children:x.label})};return a&&!t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Profile"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"relative h-40 bg-blue-600",children:e.jsx("button",{type:"button",className:"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ls,{className:"h-5 w-5","aria-hidden":"true"})})}),e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32",src:(t==null?void 0:t.avatar_url)||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}),e.jsx("button",{type:"button",className:"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ls,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsx("div",{className:"mt-6 sm:mt-0 sm:ml-6 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Homeowner"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>o(!i),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(St,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Edit Profile"]})})]})})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile Information"}),!i&&e.jsx("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(St,{className:"h-5 w-5","aria-hidden":"true"})})]}),i?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:u.first_name,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:u.last_name,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:u.phone,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:3,value:u.bio,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:u.address,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",value:u.city,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",value:u.state,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP"}),e.jsx("input",{type:"text",name:"zip",id:"zip",value:u.zip,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(un,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Save"]})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[u.first_name," ",u.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:r==null?void 0:r.email})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.phone||"Not specified"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.bio||"No bio provided"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.address?e.jsxs(e.Fragment,{children:[u.address,e.jsx("br",{}),u.city,", ",u.state," ",u.zip]}):"Not specified"})]})]})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"My Projects"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"New Project"})]}),e.jsx("div",{className:"border-t border-gray-200",children:c.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:c.map(g=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-16 rounded-md overflow-hidden",children:e.jsx("img",{src:g.image,alt:g.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:g.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Provider: ",g.provider]})]}),e.jsx("div",{children:v(g.status)})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:g.description}),e.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[y(g.start_date)," - ",y(g.end_date)]}),e.jsxs("span",{children:["Budget: $",g.budget.toLocaleString()," | Spent: $",g.spent.toLocaleString()]})]})]})]})},g.id))}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"You don't have any projects yet."})})]})})]})]})]})},Th=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState("all"),[o,c]=m.useState(""),[l,u]=m.useState("date"),[d,h]=m.useState("desc");m.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const x=[{id:1,title:"Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",status:"in_progress",provider:"Elite Home Renovations",provider_id:101,start_date:new Date(2023,3,15),end_date:new Date(2023,5,30),budget:45e3,spent:3e4,image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",status:"in_progress",provider:"Premium Bathroom Solutions",provider_id:102,start_date:new Date(2023,4,1),end_date:new Date(2023,5,15),budget:25e3,spent:15e3,image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",status:"completed",provider:"Outdoor Living Experts",provider_id:103,start_date:new Date(2023,2,10),end_date:new Date(2023,3,5),budget:12e3,spent:11500,image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:4,title:"Interior Painting",description:"Painted living room, dining room, and hallway with premium paint.",status:"completed",provider:"Perfect Painting Services",provider_id:104,start_date:new Date(2023,1,15),end_date:new Date(2023,1,25),budget:5e3,spent:4800,image:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:5,title:"Roof Repair",description:"Repaired damaged shingles and fixed leak in roof.",status:"completed",provider:"Top Notch Roofing",provider_id:105,start_date:new Date(2023,0,5),end_date:new Date(2023,0,10),budget:3e3,spent:2800,image:"https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:6,title:"Landscaping Project",description:"Front yard landscaping with new plants, mulch, and decorative stones.",status:"pending",provider:"Green Thumb Landscaping",provider_id:106,start_date:new Date(2023,5,1),end_date:new Date(2023,5,15),budget:8e3,spent:0,image:"https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}];t(x)}catch(x){console.error("Error fetching projects:",x)}finally{a(!1)}},y=[...r.filter(x=>{const E=n==="all"||x.status===n,T=x.title.toLowerCase().includes(o.toLowerCase())||x.description.toLowerCase().includes(o.toLowerCase())||x.provider.toLowerCase().includes(o.toLowerCase());return E&&T})].sort((x,E)=>l==="date"?d==="asc"?x.start_date-E.start_date:E.start_date-x.start_date:l==="budget"?d==="asc"?x.budget-E.budget:E.budget-x.budget:l==="title"?d==="asc"?x.title.localeCompare(E.title):E.title.localeCompare(x.title):l==="provider"?d==="asc"?x.provider.localeCompare(E.provider):E.provider.localeCompare(x.provider):0),v=x=>{switch(x){case"in_progress":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(dt,{className:"mr-1 h-4 w-4"}),"In Progress"]});case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Nt,{className:"mr-1 h-4 w-4"}),"Completed"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(dt,{className:"mr-1 h-4 w-4"}),"Pending"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(xn,{className:"mr-1 h-4 w-4"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:x.charAt(0).toUpperCase()+x.slice(1).replace("_"," ")})}},g=x=>ie(x,"MMM d, yyyy"),N=(x,E)=>Math.round(x/E*100);return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Projects"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(qe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Project"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700",children:"Filter by status"}),e.jsxs("select",{id:"filter",name:"filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:n,onChange:x=>i(x.target.value),children:[e.jsx("option",{value:"all",children:"All Projects"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700",children:"Sort by"}),e.jsxs("select",{id:"sort",name:"sort",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:x=>{u(x.target.value),h("asc")},children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"budget",children:"Budget"}),e.jsx("option",{value:"title",children:"Project Title"}),e.jsx("option",{value:"provider",children:"Provider Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Order"}),e.jsxs("select",{id:"order",name:"order",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:d,onChange:x=>h(x.target.value),children:[e.jsx("option",{value:"asc",children:"Ascending"}),e.jsx("option",{value:"desc",children:"Descending"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search projects...",value:o,onChange:x=>c(x.target.value)})})]})]})}),e.jsx("div",{className:"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:y.length>0?y.map(x=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x.title}),v(x.status)]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:x.description}),e.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["Provider: ",x.provider]}),e.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Start: ",g(x.start_date)]}),e.jsxs("span",{children:["End: ",g(x.end_date)]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["Budget: $",x.budget.toLocaleString()]}),e.jsxs("span",{children:["Spent: $",x.spent.toLocaleString()," (",N(x.spent,x.budget),"%)"]})]}),e.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${x.status==="completed"?"bg-green-600":"bg-blue-600"}`,style:{width:`${N(x.spent,x.budget)}%`}})})]}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsxs(P,{to:`/homeowner/projects/${x.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(fn,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"View Details"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ct,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(St,{className:"h-4 w-4","aria-hidden":"true"})})]})]})]})]},x.id)):e.jsx("div",{className:"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500",children:"No projects found matching your criteria"})})]})]})},Ah=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState(""),[o,c]=m.useState("all"),[l,u]=m.useState("all"),[d,h]=m.useState("grid");m.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0),t([{id:101,name:"Michael Brown",company:"Elite Home Renovations",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:27,services:["Kitchen Renovation","Bathroom Remodeling","Basement Finishing"],description:"Specializing in high-end home renovations with over 15 years of experience. Licensed and insured contractor with a focus on quality craftsmanship.",location:"Anytown, CA",phone:"(555) 123-4567",email:"michael@elitehomerenovations.com",website:"www.elitehomerenovations.com",projects_completed:124},{id:102,name:"Jennifer Garcia",company:"Premium Bathroom Solutions",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:19,services:["Bathroom Remodeling","Plumbing","Tile Work"],description:"Bathroom renovation specialist with expertise in modern designs and water-efficient fixtures. Creating beautiful and functional bathrooms for over a decade.",location:"Somewhere, CA",phone:"(555) 234-5678",email:"jennifer@premiumbathrooms.com",website:"www.premiumbathrooms.com",projects_completed:87},{id:103,name:"David Lee",company:"Outdoor Living Experts",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:15,services:["Deck Building","Landscaping","Fence Installation"],description:"Transform your outdoor space with custom decks, professional landscaping, and quality fencing. Creating beautiful outdoor living areas that extend your home.",location:"Nowhere, CA",phone:"(555) 345-6789",email:"david@outdoorlivingexperts.com",website:"www.outdoorlivingexperts.com",projects_completed:56},{id:104,name:"Sarah Johnson",company:"Perfect Painting Services",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:32,services:["Interior Painting","Exterior Painting","Cabinet Refinishing"],description:"Professional painting services for interior and exterior projects. Attention to detail and premium materials for a flawless finish every time.",location:"Anytown, CA",phone:"(555) 456-7890",email:"sarah@perfectpainting.com",website:"www.perfectpainting.com",projects_completed:215},{id:105,name:"Robert Martinez",company:"Martinez Electrical",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/257886/pexels-photo-257886.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:24,services:["Electrical Work","Lighting Installation","Home Automation"],description:"Licensed electrician providing safe and reliable electrical services. Specializing in modern lighting solutions and smart home technology integration.",location:"Somewhere, CA",phone:"(555) 567-8901",email:"robert@martinezelectrical.com",website:"www.martinezelectrical.com",projects_completed:143},{id:106,name:"Lisa Anderson",company:"Green Thumb Landscaping",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6,reviews:18,services:["Landscaping","Garden Design","Lawn Care"],description:"Creating beautiful and sustainable outdoor spaces. From complete landscape design to regular maintenance, we help you enjoy your yard year-round.",location:"Nowhere, CA",phone:"(555) 678-9012",email:"lisa@greenthumblandscaping.com",website:"www.greenthumblandscaping.com",projects_completed:92},{id:107,name:"James Wilson",company:"Wilson Roofing & Siding",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:21,services:["Roofing","Siding","Gutter Installation"],description:"Protect your home with quality roofing and siding services. Experienced team providing durable solutions for all your exterior needs.",location:"Anytown, CA",phone:"(555) 789-0123",email:"james@wilsonroofing.com",website:"www.wilsonroofing.com",projects_completed:178},{id:108,name:"Emily Davis",company:"Custom Cabinetry & Woodwork",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5824883/pexels-photo-5824883.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:16,services:["Custom Cabinets","Woodworking","Furniture Making"],description:"Master woodworker creating custom cabinetry, built-ins, and fine furniture. Bringing your vision to life with exceptional craftsmanship and attention to detail.",location:"Somewhere, CA",phone:"(555) 890-1234",email:"emily@customcabinetry.com",website:"www.customcabinetry.com",projects_completed:64}])}catch(g){console.error("Error fetching providers:",g)}finally{a(!1)}},p=[...new Set(r.flatMap(g=>g.services))].sort(),y=r.filter(g=>{const N=g.name.toLowerCase().includes(n.toLowerCase())||g.company.toLowerCase().includes(n.toLowerCase())||g.services.some(T=>T.toLowerCase().includes(n.toLowerCase()))||g.description.toLowerCase().includes(n.toLowerCase()),x=o==="all"||g.services.includes(o),E=l==="all"||l==="5"&&g.rating>=4.8||l==="4"&&g.rating>=4&&g.rating<4.8||l==="3"&&g.rating>=3&&g.rating<4;return N&&x&&E}),v=g=>e.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((N,x)=>e.jsx(cs,{className:`h-5 w-5 ${x<Math.floor(g)?"text-yellow-400":"text-gray-300"} ${x===Math.floor(g)&&g%1>0?"text-yellow-400":""}`,"aria-hidden":"true"},x)),e.jsx("span",{className:"ml-1 text-sm text-gray-500",children:g.toFixed(1)})]});return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Service Providers"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700",children:"Filter by service"}),e.jsxs("select",{id:"service",name:"service",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:o,onChange:g=>c(g.target.value),children:[e.jsx("option",{value:"all",children:"All Services"}),p.map(g=>e.jsx("option",{value:g,children:g},g))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700",children:"Filter by rating"}),e.jsxs("select",{id:"rating",name:"rating",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:g=>u(g.target.value),children:[e.jsx("option",{value:"all",children:"All Ratings"}),e.jsx("option",{value:"5",children:"4.8+ Stars"}),e.jsx("option",{value:"4",children:"4.0+ Stars"}),e.jsx("option",{value:"3",children:"3.0+ Stars"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ss,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md",placeholder:"Search providers...",value:n,onChange:g=>i(g.target.value)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${d==="grid"?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50"} rounded-l-md`,onClick:()=>h("grid"),children:"Grid"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${d==="list"?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50"} rounded-r-md`,onClick:()=>h("list"),children:"List"})]})})]})}),d==="grid"?e.jsx("div",{className:"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:y.length>0?y.map(g=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsxs("div",{className:"h-32 w-full overflow-hidden relative",children:[e.jsx("img",{src:g.cover,alt:g.company,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-50"}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center",children:[e.jsx("img",{className:"h-12 w-12 rounded-full ring-2 ring-white",src:g.avatar,alt:g.name}),e.jsxs("div",{className:"ml-3 text-white",children:[e.jsx("p",{className:"text-sm font-medium",children:g.name}),e.jsx("p",{className:"text-xs",children:g.company})]})]})]}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[v(g.rating),e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",g.reviews,")"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:g.location})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 line-clamp-2",children:g.description}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:g.services.map((N,x)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:N},x))}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsx(P,{to:`/homeowner/providers/${g.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ct,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Zr,{className:"h-4 w-4","aria-hidden":"true"})})]})]})]})]},g.id)):e.jsx("div",{className:"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500",children:"No providers found matching your criteria"})}):e.jsx("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(g=>e.jsx("li",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-16 w-16 rounded-full",src:g.avatar,alt:g.name}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:g.company})]}),e.jsxs("div",{className:"flex items-center",children:[v(g.rating),e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",g.reviews,")"]})]})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:g.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:g.services.map((N,x)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:N},x))}),e.jsx("span",{className:"text-xs text-gray-500",children:g.location})]}),e.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[g.projects_completed," projects completed"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Zr,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"Call"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ct,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"Message"]}),e.jsx(P,{to:`/homeowner/providers/${g.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"})]})]})]})]})},g.id)):e.jsx("li",{className:"px-6 py-4 text-center text-gray-500",children:"No providers found matching your criteria"})})})]})]})},Dh=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(""),[l,u]=m.useState(!0),[d,h]=m.useState("");m.useEffect(()=>{f()},[]),m.useEffect(()=>{s&&p(s.id)},[s]);const f=async()=>{try{u(!0);const x=[{id:1,provider:{id:101,name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Elite Home Renovations"},lastMessage:{text:"I can come by on Friday at 2 PM to look at your kitchen.",timestamp:new Date(2023,4,10,14,30),isRead:!0,sender:"provider"},project:"Kitchen Renovation",unreadCount:0},{id:2,provider:{id:102,name:"Jennifer Garcia",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Perfect Painting Services"},lastMessage:{text:"I have availability next week for your painting project.",timestamp:new Date(2023,4,9,10,15),isRead:!1,sender:"provider"},project:"Interior Painting",unreadCount:2},{id:3,provider:{id:103,name:"Robert Martinez",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Martinez Electrical"},lastMessage:{text:"The electrical work in your home office is complete. All outlets are now working properly.",timestamp:new Date(2023,4,8,16,45),isRead:!0,sender:"provider"},project:"Electrical Work",unreadCount:0},{id:4,provider:{id:104,name:"Lisa Anderson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Green Thumb Landscaping"},lastMessage:{text:"I've prepared a design proposal for your front yard landscaping project.",timestamp:new Date(2023,4,7,11,30),isRead:!0,sender:"provider"},project:"Landscaping",unreadCount:0}];t(x),x.length>0&&!s&&a(x[0])}catch(x){console.error("Error fetching conversations:",x)}finally{u(!1)}},p=async x=>{try{const E={1:[{id:1,text:"Hi, I'm interested in renovating my kitchen. Do you offer free consultations?",timestamp:new Date(2023,4,9,9,30),sender:"homeowner"},{id:2,text:"Yes, we do offer free consultations. I'd be happy to come take a look at your kitchen and discuss your renovation ideas.",timestamp:new Date(2023,4,9,10,15),sender:"provider"},{id:3,text:"Great! When would you be available?",timestamp:new Date(2023,4,9,10,45),sender:"homeowner"},{id:4,text:"I have availability this Thursday or Friday afternoon. Would either of those work for you?",timestamp:new Date(2023,4,9,11,30),sender:"provider"},{id:5,text:"Friday afternoon would work well. How about 2 PM?",timestamp:new Date(2023,4,9,14,0),sender:"homeowner"},{id:6,text:"2 PM on Friday works for me. I'll put it on my calendar. Could you please provide your address?",timestamp:new Date(2023,4,9,14,45),sender:"provider"},{id:7,text:"123 Main St, Anytown, CA. Thanks!",timestamp:new Date(2023,4,9,15,30),sender:"homeowner"},{id:8,text:"I can come by on Friday at 2 PM to look at your kitchen.",timestamp:new Date(2023,4,10,14,30),sender:"provider"}],2:[{id:1,text:"Hello, I'm looking to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?",timestamp:new Date(2023,4,7,10,0),sender:"homeowner"},{id:2,text:"Hi! Yes, I have some availability coming up. What colors are you thinking of using?",timestamp:new Date(2023,4,7,11,30),sender:"provider"},{id:3,text:"I'm thinking of a light gray for the living room and hallway, and a sage green for the dining room.",timestamp:new Date(2023,4,7,13,0),sender:"homeowner"},{id:4,text:"Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.",timestamp:new Date(2023,4,7,14,30),sender:"provider"},{id:5,text:"The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.",timestamp:new Date(2023,4,7,15,45),sender:"homeowner"},{id:6,text:"Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.",timestamp:new Date(2023,4,8,9,0),sender:"provider"},{id:7,text:"I was hoping to get it done sooner. Do you have any availability next week?",timestamp:new Date(2023,4,8,16,20),sender:"homeowner"},{id:8,text:"I have availability next week for your painting project.",timestamp:new Date(2023,4,9,10,15),sender:"provider"}],3:[{id:1,text:"Hi, I need to add some outlets in my home office. Can you help with that?",timestamp:new Date(2023,4,5,9,0),sender:"homeowner"},{id:2,text:"Hello! Yes, I can help with adding outlets to your home office. How many outlets do you need and where would you like them placed?",timestamp:new Date(2023,4,5,10,30),sender:"provider"},{id:3,text:"I need 3 new outlets - one on each wall of the office. I'm currently only using extension cords which isn't ideal.",timestamp:new Date(2023,4,5,11,15),sender:"homeowner"},{id:4,text:"I understand. Using extension cords long-term can be a fire hazard. I can install the new outlets for you. When would be a good time for me to come take a look?",timestamp:new Date(2023,4,5,13,0),sender:"provider"},{id:5,text:"Would tomorrow afternoon work? I'm free after 2 PM.",timestamp:new Date(2023,4,5,14,30),sender:"homeowner"},{id:6,text:"Tomorrow at 3 PM works for me. I'll see you then!",timestamp:new Date(2023,4,5,15,0),sender:"provider"},{id:7,text:"Great, see you at 3 PM. My address is 456 Oak Ave, Somewhere, CA.",timestamp:new Date(2023,4,5,15,30),sender:"homeowner"},{id:8,text:"The electrical work in your home office is complete. All outlets are now working properly.",timestamp:new Date(2023,4,8,16,45),sender:"provider"}],4:[{id:1,text:"Hello, I'm interested in redesigning my front yard with new landscaping. Do you offer design services?",timestamp:new Date(2023,4,5,13,0),sender:"homeowner"},{id:2,text:"Hi! Yes, we offer comprehensive landscape design services. We can create a custom design based on your preferences, budget, and the specific conditions of your yard.",timestamp:new Date(2023,4,5,14,30),sender:"provider"},{id:3,text:"That sounds great. I'm looking for a low-maintenance design with native plants and perhaps a small seating area.",timestamp:new Date(2023,4,5,15,0),sender:"homeowner"},{id:4,text:"Native plants and a seating area would make a beautiful, sustainable front yard. I'd be happy to create a design proposal for you. Could we schedule a time for me to visit your property and take measurements?",timestamp:new Date(2023,4,6,9,0),sender:"provider"},{id:5,text:"Yes, that would be helpful. How about this Saturday morning?",timestamp:new Date(2023,4,6,10,30),sender:"homeowner"},{id:6,text:"Saturday morning works for me. How about 10 AM?",timestamp:new Date(2023,4,6,11,15),sender:"provider"},{id:7,text:"10 AM on Saturday is perfect. My address is 505 Spruce Ct, Somewhere, CA.",timestamp:new Date(2023,4,6,13,45),sender:"homeowner"},{id:8,text:"I've prepared a design proposal for your front yard landscaping project.",timestamp:new Date(2023,4,7,11,30),sender:"provider"}]};i(E[x]||[])}catch(E){console.error("Error fetching messages:",E)}},y=x=>{if(x.preventDefault(),!o.trim()||!s)return;const E={id:n.length+1,text:o,timestamp:new Date,sender:"homeowner"};i([...n,E]),t(r.map(T=>T.id===s.id?{...T,lastMessage:{text:o,timestamp:new Date,isRead:!0,sender:"homeowner"}}:T)),c("")},v=x=>ie(x,"h:mm a"),g=x=>{const E=new Date,T=new Date(x);return T.toDateString()===E.toDateString()?ie(T,"h:mm a"):Math.floor((E-T)/(1e3*60*60*24))<7?ie(T,"EEEE"):ie(T,"MMM d")},N=r.filter(x=>x.provider.name.toLowerCase().includes(d.toLowerCase())||x.provider.company.toLowerCase().includes(d.toLowerCase())||x.project.toLowerCase().includes(d.toLowerCase()));return l&&r.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Messages"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ss,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search conversations",value:d,onChange:x=>h(x.target.value)})]})}),e.jsx("div",{className:"overflow-y-auto h-full pb-20",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(x=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(s==null?void 0:s.id)===x.id?"bg-blue-50":""}`,onClick:()=>a(x),children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:x.provider.avatar,alt:x.provider.name}),x.unreadCount>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:x.unreadCount})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.provider.name}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:g(x.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:x.provider.company}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:x.project}),e.jsxs("p",{className:`text-sm truncate ${x.unreadCount>0?"font-semibold text-gray-900":"text-gray-500"}`,children:[x.lastMessage.sender==="homeowner"?"You: ":"",x.lastMessage.text]})]})]})})})},x.id))})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:s.provider.avatar,alt:s.provider.name}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.provider.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.provider.company}),e.jsx("p",{className:"text-xs text-gray-500",children:s.project})]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(hn,{className:"h-6 w-6","aria-hidden":"true"})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:n.map(x=>e.jsxs("div",{className:`flex ${x.sender==="homeowner"?"justify-end":"justify-start"}`,children:[x.sender==="provider"&&e.jsx("img",{className:"h-8 w-8 rounded-full mr-2 self-end",src:s.provider.avatar,alt:s.provider.name}),e.jsxs("div",{className:`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${x.sender==="homeowner"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:x.text}),e.jsx("p",{className:`text-xs mt-1 text-right ${x.sender==="homeowner"?"text-blue-200":"text-gray-500"}`,children:v(x.timestamp)})]}),x.sender==="homeowner"&&e.jsx("img",{className:"h-8 w-8 rounded-full ml-2 self-end",src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"You"})]},x.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:y,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(bn,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Type a message...",value:o,onChange:x=>c(x.target.value)}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(pn,{className:"h-5 w-5","aria-hidden":"true"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation from the list to view messages."})]})})})]})})})]})},Oh=()=>{const{user:r,updateUser:t}=xe();ze();const[s,a]=m.useState(!1),[n,i]=m.useState({type:"",text:""}),[o,c]=m.useState(""),[l,u]=m.useState(""),[d,h]=m.useState(""),[f,p]=m.useState({email_notifications:!0,sms_notifications:!1,project_updates:!0,messages:!0,quotes:!0,payment_reminders:!0,marketing:!1}),[y,v]=m.useState({share_contact_info:!0,share_project_details:!0,allow_reviews:!0});m.useEffect(()=>{r&&c(r.email||"")},[r]);const g=async k=>{k.preventDefault();try{a(!0),i({type:"",text:""}),await new Promise(D=>setTimeout(D,1e3)),i({type:"success",text:"Email updated successfully!"})}catch(D){console.error("Error updating email:",D),i({type:"error",text:D.message||"An error occurred while updating email"})}finally{a(!1)}},N=async k=>{if(k.preventDefault(),l!==d){i({type:"error",text:"Passwords do not match"});return}try{a(!0),i({type:"",text:""}),await new Promise(D=>setTimeout(D,1e3)),i({type:"success",text:"Password updated successfully!"}),u(""),h("")}catch(D){console.error("Error updating password:",D),i({type:"error",text:D.message||"An error occurred while updating password"})}finally{a(!1)}},x=k=>{p({...f,[k]:!f[k]})},E=k=>{v({...y,[k]:!y[k]})},T=async()=>{try{a(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Notification settings updated successfully!"})}catch(k){console.error("Error updating notification settings:",k),i({type:"error",text:k.message||"An error occurred while updating notification settings"})}finally{a(!1)}},w=async()=>{try{a(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Privacy settings updated successfully!"})}catch(k){console.error("Error updating privacy settings:",k),i({type:"error",text:k.message||"An error occurred while updating privacy settings"})}finally{a(!1)}};return e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your account information and password."})]}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.text&&e.jsx("div",{className:`mb-4 p-4 rounded-md ${n.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:n.text}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Address"}),e.jsx("form",{onSubmit:g,className:"mt-2",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"New Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:o,onChange:k=>c(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Email"})]})})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password"}),e.jsxs("form",{onSubmit:N,className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("input",{type:"password",name:"password",id:"password",value:l,onChange:k=>u(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:d,onChange:k=>h(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:s||!l||!d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Password"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how and when you receive notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Methods"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_notifications",name:"email_notifications",type:"checkbox",checked:f.email_notifications,onChange:()=>x("email_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_notifications",className:"font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via email."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_notifications",name:"sms_notifications",type:"checkbox",checked:f.sms_notifications,onChange:()=>x("sms_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_notifications",className:"font-medium text-gray-700",children:"SMS Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via text message."})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Types"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"project_updates",name:"project_updates",type:"checkbox",checked:f.project_updates,onChange:()=>x("project_updates"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"project_updates",className:"font-medium text-gray-700",children:"Project Updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications about updates to your projects."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"messages",name:"messages",type:"checkbox",checked:f.messages,onChange:()=>x("messages"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"quotes",name:"quotes",type:"checkbox",checked:f.quotes,onChange:()=>x("quotes"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"quotes",className:"font-medium text-gray-700",children:"Quotes"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new quotes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"payment_reminders",name:"payment_reminders",type:"checkbox",checked:f.payment_reminders,onChange:()=>x("payment_reminders"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"payment_reminders",className:"font-medium text-gray-700",children:"Payment Reminders"}),e.jsx("p",{className:"text-gray-500",children:"Receive reminders about upcoming payments."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing",name:"marketing",type:"checkbox",checked:f.marketing,onChange:()=>x("marketing"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing",className:"font-medium text-gray-700",children:"Marketing"}),e.jsx("p",{className:"text-gray-500",children:"Receive marketing and promotional emails."})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:T,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Notification Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage what information is shared with service providers."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_contact_info",name:"share_contact_info",type:"checkbox",checked:y.share_contact_info,onChange:()=>E("share_contact_info"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_contact_info",className:"font-medium text-gray-700",children:"Share Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to see your contact information."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_project_details",name:"share_project_details",type:"checkbox",checked:y.share_project_details,onChange:()=>E("share_project_details"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_project_details",className:"font-medium text-gray-700",children:"Share Project Details"}),e.jsx("p",{className:"text-gray-500",children:"Allow your project details to be shared in the community section."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"allow_reviews",name:"allow_reviews",type:"checkbox",checked:y.allow_reviews,onChange:()=>E("allow_reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"allow_reviews",className:"font-medium text-gray-700",children:"Allow Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to request reviews from you."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:w,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Privacy Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Permanently delete your account and all associated data."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account"})]})})]})]})})]})},Mh=m.createContext();function $h(){const r=m.useContext(Mh);if(r===void 0)throw new Error("useAdmin must be used within an AdminProvider");return r}function Lh(){const{hasPermission:r}=$h(),[t,s]=m.useState({adminUsers:0,pendingVerifications:0,contentPages:0,integrations:0,apiKeys:0}),[a,n]=m.useState([]),[i,o]=m.useState(!0);m.useEffect(()=>{async function l(){try{o(!0);const[{count:u},{count:d},{count:h},{count:f},{count:p},{data:y}]=await Promise.all([Ze.from("admin_users").select("*",{count:"exact",head:!0}),Ze.from("provider_verifications").select("*",{count:"exact",head:!0}).eq("status","pending"),Ze.from("content_pages").select("*",{count:"exact",head:!0}),Ze.from("integration_configs").select("*",{count:"exact",head:!0}),Ze.from("api_keys").select("*",{count:"exact",head:!0}),Ze.from("audit_logs").select("*, auth_users:user_id(email)").order("created_at",{ascending:!1}).limit(5)]);s({adminUsers:u||0,pendingVerifications:d||0,contentPages:h||0,integrations:f||0,apiKeys:p||0}),n(y||[])}catch(u){console.error("Error fetching dashboard data:",u)}finally{o(!1)}}l()},[]);const c=[{name:"Admin Users",href:"/admin/users",icon:pr,value:t.adminUsers,show:r("access_management","view_users")},{name:"Pending Verifications",href:"/admin/verifications",icon:ud,value:t.pendingVerifications,show:r("provider_management","manage_verifications")},{name:"Content Pages",href:"/admin/content",icon:Pc,value:t.contentPages,show:r("content_management","view_pages")},{name:"Integrations",href:"/admin/integrations",icon:id,value:t.integrations,show:r("integrations","view_integrations")},{name:"API Keys",href:"/admin/api-keys",icon:Wc,value:t.apiKeys,show:r("api_management","view_keys")}].filter(l=>l.show);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your system and recent activity"})]}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 mb-8",children:c.map(l=>e.jsxs(P,{to:l.href,className:"relative overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:px-6 sm:pt-6 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute rounded-md bg-primary-500 p-3",children:e.jsx(l.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 truncate text-sm font-medium text-gray-500",children:l.name})]}),e.jsx("dd",{className:"ml-16 flex items-baseline",children:e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.value})})]},l.name))}),r("access_management","view_audit_logs")&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"overflow-hidden bg-white shadow sm:rounded-md",children:[e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:a.length>0?a.map(l=>{var u;return e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("p",{className:"truncate text-sm font-medium text-primary-600",children:[l.action.charAt(0).toUpperCase()+l.action.slice(1)," ",l.entity_type.replace(/_/g," ")]})]}),e.jsx("div",{className:"ml-2 flex flex-shrink-0",children:e.jsx("p",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:new Date(l.created_at).toLocaleString()})})]}),e.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:e.jsx("div",{className:"sm:flex",children:e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:((u=l.auth_users)==null?void 0:u.email)||"Unknown user"})})})]})},l.id)}):e.jsx("li",{className:"px-4 py-5 sm:px-6 text-center text-sm text-gray-500",children:"No recent activity found"})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 text-right sm:px-6",children:e.jsx(P,{to:"/admin/audit-logs",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all activity"})})]})]})]})]})}const Rh=()=>e.jsx(Lh,{}),Fh=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState(null),[o,c]=m.useState(""),[l,u]=m.useState("all"),[d,h]=m.useState(1),[f]=m.useState(10);m.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const{data:k,error:D}=await se.from("profiles").select(`
          id,
          first_name,
          last_name,
          email,
          role,
          created_at,
          last_sign_in_at,
          is_active
        `).order("created_at",{ascending:!1});if(D)throw D;t(k||[])}catch(k){console.error("Error fetching users:",k),i("Failed to load users. Please try again later.")}finally{a(!1)}},y=async(k,D)=>{try{const{error:B}=await se.from("profiles").update({role:D}).eq("id",k);if(B)throw B;t(r.map(C=>C.id===k?{...C,role:D}:C))}catch(B){console.error("Error updating user role:",B),alert("Failed to update user role. Please try again.")}},v=async(k,D)=>{try{const B=!D,{error:C}=await se.from("profiles").update({is_active:B}).eq("id",k);if(C)throw C;t(r.map($=>$.id===k?{...$,is_active:B}:$))}catch(B){console.error("Error toggling user status:",B),alert("Failed to update user status. Please try again.")}},g=r.filter(k=>{var C,$,I;const D=((C=k.first_name)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))||(($=k.last_name)==null?void 0:$.toLowerCase().includes(o.toLowerCase()))||((I=k.email)==null?void 0:I.toLowerCase().includes(o.toLowerCase())),B=l==="all"||k.role===l;return D&&B}),N=d*f,x=N-f,E=g.slice(x,N),T=Math.ceil(g.length/f),w=k=>h(k);return s?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):n?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",n]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"User Management"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"relative w-full md:w-1/3",children:[e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:k=>c(k.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"w-full md:w-1/4",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:k=>u(k.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"homeowner",children:"Homeowner"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:E.length>0?E.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:k.first_name&&k.last_name?e.jsxs("span",{className:"text-gray-600 font-medium",children:[k.first_name.charAt(0),k.last_name.charAt(0)]}):e.jsx("span",{className:"text-gray-600 font-medium",children:k.email.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.first_name&&k.last_name?`${k.first_name} ${k.last_name}`:"No Name"})})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:k.email}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:k.role,onChange:D=>y(k.id,D.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"homeowner",children:"Homeowner"})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>v(k.id,k.is_active),className:`mr-2 px-3 py-1 rounded ${k.is_active?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,children:k.is_active?"Deactivate":"Activate"})})]},k.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-4 px-4 text-center text-gray-500",children:"No users found matching your criteria."})})})]})}),T>1&&e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",x+1," to ",Math.min(N,g.length)," of ",g.length," users"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,d-1)),disabled:d===1,className:`px-3 py-1 rounded ${d===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),[...Array(T).keys()].map(k=>e.jsx("button",{onClick:()=>w(k+1),className:`px-3 py-1 rounded ${d===k+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:k+1},k+1)),e.jsx("button",{onClick:()=>w(Math.min(T,d+1)),disabled:d===T,className:`px-3 py-1 rounded ${d===T?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Next"})]})]})]})},Ih=()=>e.jsx(Fh,{}),Uh=()=>{const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState(null),[o,c]=m.useState(""),[l,u]=m.useState("all"),[d,h]=m.useState("all"),[f,p]=m.useState(1),[y]=m.useState(10),[v,g]=m.useState([]);m.useEffect(()=>{x(),N()},[]);const N=async()=>{try{const{data:_,error:M}=await se.from("service_categories").select("*").order("name");if(M)throw M;g(_||[])}catch(_){console.error("Error fetching categories:",_)}},x=async()=>{try{a(!0);const{data:_,error:M}=await se.from("profiles").select(`
          id,
          first_name,
          last_name,
          email,
          phone,
          created_at,
          is_active,
          is_verified,
          provider_details (
            id,
            business_name,
            description,
            years_of_experience,
            service_area,
            hourly_rate,
            service_category_id,
            rating,
            total_reviews,
            total_projects
          )
        `).eq("role","provider");if(M)throw M;t(_||[])}catch(_){console.error("Error fetching providers:",_),i("Failed to load providers. Please try again later.")}finally{a(!1)}},E=async(_,M)=>{try{const F=!M,{error:W}=await se.from("profiles").update({is_active:F}).eq("id",_);if(W)throw W;t(r.map(V=>V.id===_?{...V,is_active:F}:V))}catch(F){console.error("Error toggling provider status:",F),alert("Failed to update provider status. Please try again.")}},T=async(_,M)=>{try{const F=!M,{error:W}=await se.from("profiles").update({is_verified:F}).eq("id",_);if(W)throw W;t(r.map(V=>V.id===_?{...V,is_verified:F}:V))}catch(F){console.error("Error toggling verification status:",F),alert("Failed to update verification status. Please try again.")}},w=r.filter(_=>{var V,K,re,ue,ye,_e,De,Se;const M=((V=_.first_name)==null?void 0:V.toLowerCase().includes(o.toLowerCase()))||((K=_.last_name)==null?void 0:K.toLowerCase().includes(o.toLowerCase()))||((re=_.email)==null?void 0:re.toLowerCase().includes(o.toLowerCase()))||((_e=(ye=(ue=_.provider_details)==null?void 0:ue[0])==null?void 0:ye.business_name)==null?void 0:_e.toLowerCase().includes(o.toLowerCase())),F=l==="all"||((Se=(De=_.provider_details)==null?void 0:De[0])==null?void 0:Se.service_category_id)===l,W=d==="all"||d==="active"&&_.is_active||d==="inactive"&&!_.is_active||d==="verified"&&_.is_verified||d==="unverified"&&!_.is_verified;return M&&F&&W}),k=f*y,D=k-y,B=w.slice(D,k),C=Math.ceil(w.length/y),$=_=>p(_),I=_=>{const M=v.find(F=>F.id===_);return M?M.name:"Unknown"};return s?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):n?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",n]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Service Provider Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search providers...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:_=>c(_.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),e.jsx("div",{children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:_=>u(_.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),v.map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]})}),e.jsx("div",{children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:_=>h(_.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"unverified",children:"Unverified"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projects"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:B.length>0?B.map(_=>{var M,F,W,V,K,re,ue,ye,_e,De,Se,X,ee,Fe,Ce;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:_.first_name&&_.last_name?e.jsxs("span",{className:"text-gray-600 font-medium",children:[_.first_name.charAt(0),_.last_name.charAt(0)]}):e.jsx("span",{className:"text-gray-600 font-medium",children:_.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.first_name&&_.last_name?`${_.first_name} ${_.last_name}`:"No Name"}),e.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})]})}),e.jsxs("td",{className:"py-4 px-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:((F=(M=_.provider_details)==null?void 0:M[0])==null?void 0:F.business_name)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((V=(W=_.provider_details)==null?void 0:W[0])==null?void 0:V.service_area)||"N/A"})]}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:(re=(K=_.provider_details)==null?void 0:K[0])!=null&&re.service_category_id?I(_.provider_details[0].service_category_id):"N/A"}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-900 mr-1",children:((_e=(ye=(ue=_.provider_details)==null?void 0:ue[0])==null?void 0:ye.rating)==null?void 0:_e.toFixed(1))||"N/A"}),((Se=(De=_.provider_details)==null?void 0:De[0])==null?void 0:Se.rating)&&e.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",((ee=(X=_.provider_details)==null?void 0:X[0])==null?void 0:ee.total_reviews)||0,")"]})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:((Ce=(Fe=_.provider_details)==null?void 0:Fe[0])==null?void 0:Ce.total_projects)||0}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.is_active?"Active":"Inactive"}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.is_verified?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:_.is_verified?"Verified":"Unverified"})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:()=>E(_.id,_.is_active),className:`px-3 py-1 rounded text-xs ${_.is_active?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,children:_.is_active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>T(_.id,_.is_verified),className:`px-3 py-1 rounded text-xs ${_.is_verified?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:_.is_verified?"Unverify":"Verify"}),e.jsx("button",{className:"px-3 py-1 rounded text-xs bg-gray-100 text-gray-600 hover:bg-gray-200",onClick:()=>{alert("View provider details - to be implemented")},children:"View Details"})]})})]},_.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"py-4 px-4 text-center text-gray-500",children:"No providers found matching your criteria."})})})]})}),C>1&&e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",D+1," to ",Math.min(k,w.length)," of ",w.length," providers"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>$(Math.max(1,f-1)),disabled:f===1,className:`px-3 py-1 rounded ${f===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),[...Array(C).keys()].map(_=>e.jsx("button",{onClick:()=>$(_+1),className:`px-3 py-1 rounded ${f===_+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:_+1},_+1)),e.jsx("button",{onClick:()=>$(Math.min(C,f+1)),disabled:f===C,className:`px-3 py-1 rounded ${f===C?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Next"})]})]})]})},Bh=()=>e.jsx(Uh,{}),Wh=()=>{const[r,t]=m.useState("overview"),[s,a]=m.useState("month"),[n,i]=m.useState(!0),[o,c]=m.useState(null),[l,u]=m.useState({totalUsers:0,totalProviders:0,totalHomeowners:0,totalProjects:0,completedProjects:0,totalRevenue:0,averageRating:0,userGrowth:[],projectsByCategory:[],revenueByMonth:[]});m.useEffect(()=>{d()},[s]);const d=async()=>{try{i(!0),await new Promise(p=>setTimeout(p,1e3));const f=h(s);u(f)}catch(f){console.error("Error fetching report data:",f),c("Failed to load report data. Please try again later.")}finally{i(!1)}},h=f=>{let p=[],y=[],v=[];switch(f){case"week":p=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y=[5,7,10,8,12,6,9],v=[1200,1500,1800,1600,2200,1900,1700];break;case"month":p=["Week 1","Week 2","Week 3","Week 4"],y=[25,38,42,35],v=[8500,9200,10500,9800];break;case"year":p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=[120,150,180,210,250,280,310,340,370,400,430,450],v=[35e3,42e3,38e3,45e3,52e3,58e3,62e3,59e3,65e3,7e4,75e3,8e4];break;default:p=["Week 1","Week 2","Week 3","Week 4"],y=[25,38,42,35],v=[8500,9200,10500,9800]}return{totalUsers:2458,totalProviders:587,totalHomeowners:1871,totalProjects:1245,completedProjects:876,totalRevenue:v.reduce((g,N)=>g+N,0),averageRating:4.7,userGrowth:p.map((g,N)=>({month:g,count:y[N]})),projectsByCategory:[{category:"Plumbing",count:245},{category:"Electrical",count:198},{category:"Carpentry",count:176},{category:"Painting",count:152},{category:"Landscaping",count:138},{category:"Roofing",count:112},{category:"HVAC",count:98},{category:"Other",count:126}],revenueByMonth:p.map((g,N)=>({month:g,amount:v[N]}))}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):o?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",o]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Analytics & Reports"}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:f=>a(f.target.value),children:[e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"}),e.jsx("option",{value:"year",children:"Last 12 Months"})]})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("overview"),children:"Overview"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("users"),children:"Users"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="projects"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("projects"),children:"Projects"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="revenue"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("revenue"),children:"Revenue"})]})}),r==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalUsers.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"12.5%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProjects.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"8.2%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(l.completedProjects/l.totalProjects*100),"%"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"3.7%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",l.totalRevenue.toLocaleString()]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"15.3%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Growth"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.userGrowth.map((f,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${f.count/Math.max(...l.userGrowth.map(y=>y.count))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:f.month})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Projects by Category"}),e.jsx("div",{className:"h-64 overflow-y-auto",children:l.projectsByCategory.map((f,p)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.category}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${f.count/Math.max(...l.projectsByCategory.map(y=>y.count))*100}%`}})})]},p))})]})]})]}),r==="users"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalUsers.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Service Providers"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProviders.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Homeowners"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalHomeowners.toLocaleString()})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Growth"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.userGrowth.map((f,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${f.count/Math.max(...l.userGrowth.map(y=>y.count))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:f.month})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Distribution"}),e.jsxs("div",{className:"h-64 flex items-center justify-center",children:[e.jsxs("div",{className:"w-48 h-48 rounded-full border-8 border-gray-200 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.cos(2*Math.PI*l.totalProviders/l.totalUsers)}% ${50-50*Math.sin(2*Math.PI*l.totalProviders/l.totalUsers)}%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 bg-green-500",style:{clipPath:`polygon(50% 50%, ${50+50*Math.cos(2*Math.PI*l.totalProviders/l.totalUsers)}% ${50-50*Math.sin(2*Math.PI*l.totalProviders/l.totalUsers)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-white rounded-full"})})]}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Providers (",Math.round(l.totalProviders/l.totalUsers*100),"%)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Homeowners (",Math.round(l.totalHomeowners/l.totalUsers*100),"%)"]})]})]})]})]})]})]}),r==="projects"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProjects.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.completedProjects.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[l.averageRating.toFixed(1),"/5.0"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Projects by Category"}),e.jsx("div",{className:"h-64 overflow-y-auto",children:l.projectsByCategory.map((f,p)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.category}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${f.count/Math.max(...l.projectsByCategory.map(y=>y.count))*100}%`}})})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Project Status"}),e.jsxs("div",{className:"h-64 flex items-center justify-center",children:[e.jsxs("div",{className:"w-48 h-48 rounded-full border-8 border-gray-200 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.cos(2*Math.PI*l.completedProjects/l.totalProjects)}% ${50-50*Math.sin(2*Math.PI*l.completedProjects/l.totalProjects)}%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:`polygon(50% 50%, ${50+50*Math.cos(2*Math.PI*l.completedProjects/l.totalProjects)}% ${50-50*Math.sin(2*Math.PI*l.completedProjects/l.totalProjects)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-white rounded-full"})})]}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Completed (",Math.round(l.completedProjects/l.totalProjects*100),"%)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["In Progress (",Math.round((l.totalProjects-l.completedProjects)/l.totalProjects*100),"%)"]})]})]})]})]})]})]}),r==="revenue"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",l.totalRevenue.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average per Project"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",Math.round(l.totalRevenue/l.totalProjects).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"+15.3%"})]})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Trend"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.revenueByMonth.map((f,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-purple-500 rounded-t",style:{height:`${f.amount/Math.max(...l.revenueByMonth.map(y=>y.amount))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:f.month}),e.jsxs("div",{className:"text-xs font-medium text-gray-700",children:["$",(f.amount/1e3).toFixed(1),"k"]})]},p))})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>{alert("Export functionality would be implemented here")},children:"Export Report"})})]})},Vh=()=>e.jsx(Wh,{}),qh=()=>{const[r,t]=m.useState("general"),[s,a]=m.useState(!1),[n,i]=m.useState(null),[o,c]=m.useState(null),[l,u]=m.useState({siteName:"Home Renovation Platform",siteDescription:"Connect homeowners with trusted service providers",contactEmail:"support@renovationplatform.com",supportPhone:"+1 (555) 123-4567",maintenanceMode:!1}),[d,h]=m.useState({emailProvider:"smtp",smtpHost:"smtp.example.com",smtpPort:"587",smtpUsername:"notifications@renovationplatform.com",smtpPassword:"",senderName:"Renovation Platform",senderEmail:"notifications@renovationplatform.com",enableEmailNotifications:!0}),[f,p]=m.useState({paymentGateway:"stripe",currencyCode:"USD",testMode:!0,platformFeePercentage:5,minimumWithdrawalAmount:50,autoPayoutEnabled:!1,payoutSchedule:"weekly"}),[y,v]=m.useState({requireEmailVerification:!0,twoFactorAuthEnabled:!1,passwordMinLength:8,passwordRequireSpecialChar:!0,passwordRequireNumber:!0,sessionTimeout:60,maxLoginAttempts:5,recaptchaEnabled:!0}),g=async w=>{w.preventDefault(),await T("general")},N=async w=>{w.preventDefault(),await T("email")},x=async w=>{w.preventDefault(),await T("payment")},E=async w=>{w.preventDefault(),await T("security")},T=async(w,k)=>{a(!0),c(null),i(null);try{await new Promise(D=>setTimeout(D,1e3)),i(`${w.charAt(0).toUpperCase()+w.slice(1)} settings updated successfully.`),setTimeout(()=>{i(null)},5e3)}catch(D){console.error(`Error saving ${w} settings:`,D),c(`Failed to save ${w} settings. Please try again.`)}finally{a(!1)}};return e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="general"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("general"),children:"General"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="email"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("email"),children:"Email"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="payment"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("payment"),children:"Payment"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("security"),children:"Security"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Platform Settings"}),n&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:n}),o&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),r==="general"&&e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-700",children:"Site Name"}),e.jsx("input",{type:"text",id:"siteName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.siteName,onChange:w=>u({...l,siteName:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siteDescription",className:"block text-sm font-medium text-gray-700",children:"Site Description"}),e.jsx("textarea",{id:"siteDescription",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.siteDescription,onChange:w=>u({...l,siteDescription:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),e.jsx("input",{type:"email",id:"contactEmail",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.contactEmail,onChange:w=>u({...l,contactEmail:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supportPhone",className:"block text-sm font-medium text-gray-700",children:"Support Phone"}),e.jsx("input",{type:"text",id:"supportPhone",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.supportPhone,onChange:w=>u({...l,supportPhone:w.target.value})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"maintenanceMode",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:l.maintenanceMode,onChange:w=>u({...l,maintenanceMode:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"maintenanceMode",className:"font-medium text-gray-700",children:"Maintenance Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, the site will display a maintenance message to all users except administrators."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),r==="email"&&e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emailProvider",className:"block text-sm font-medium text-gray-700",children:"Email Provider"}),e.jsxs("select",{id:"emailProvider",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.emailProvider,onChange:w=>h({...d,emailProvider:w.target.value}),children:[e.jsx("option",{value:"smtp",children:"SMTP"}),e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"mailchimp",children:"Mailchimp"}),e.jsx("option",{value:"aws_ses",children:"AWS SES"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpHost",className:"block text-sm font-medium text-gray-700",children:"SMTP Host"}),e.jsx("input",{type:"text",id:"smtpHost",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpHost,onChange:w=>h({...d,smtpHost:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpPort",className:"block text-sm font-medium text-gray-700",children:"SMTP Port"}),e.jsx("input",{type:"text",id:"smtpPort",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpPort,onChange:w=>h({...d,smtpPort:w.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpUsername",className:"block text-sm font-medium text-gray-700",children:"SMTP Username"}),e.jsx("input",{type:"text",id:"smtpUsername",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpUsername,onChange:w=>h({...d,smtpUsername:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpPassword",className:"block text-sm font-medium text-gray-700",children:"SMTP Password"}),e.jsx("input",{type:"password",id:"smtpPassword",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpPassword,onChange:w=>h({...d,smtpPassword:w.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700",children:"Sender Name"}),e.jsx("input",{type:"text",id:"senderName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.senderName,onChange:w=>h({...d,senderName:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senderEmail",className:"block text-sm font-medium text-gray-700",children:"Sender Email"}),e.jsx("input",{type:"email",id:"senderEmail",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.senderEmail,onChange:w=>h({...d,senderEmail:w.target.value})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableEmailNotifications",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:d.enableEmailNotifications,onChange:w=>h({...d,enableEmailNotifications:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableEmailNotifications",className:"font-medium text-gray-700",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Send automated email notifications for important events (new projects, messages, etc.)."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),r==="payment"&&e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentGateway",className:"block text-sm font-medium text-gray-700",children:"Payment Gateway"}),e.jsxs("select",{id:"paymentGateway",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f.paymentGateway,onChange:w=>p({...f,paymentGateway:w.target.value}),children:[e.jsx("option",{value:"stripe",children:"Stripe"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"square",children:"Square"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currencyCode",className:"block text-sm font-medium text-gray-700",children:"Currency"}),e.jsxs("select",{id:"currencyCode",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f.currencyCode,onChange:w=>p({...f,currencyCode:w.target.value}),children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),e.jsx("option",{value:"AUD",children:"AUD - Australian Dollar"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"testMode",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:f.testMode,onChange:w=>p({...f,testMode:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"testMode",className:"font-medium text-gray-700",children:"Test Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, payments will be processed in sandbox/test mode."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"platformFeePercentage",className:"block text-sm font-medium text-gray-700",children:"Platform Fee (%)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",id:"platformFeePercentage",min:"0",max:"100",step:"0.1",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md",value:f.platformFeePercentage,onChange:w=>p({...f,platformFeePercentage:parseFloat(w.target.value)})}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Percentage fee charged by the platform on each transaction."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minimumWithdrawalAmount",className:"block text-sm font-medium text-gray-700",children:"Minimum Withdrawal Amount"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",id:"minimumWithdrawalAmount",min:"0",step:"1",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 sm:text-sm border-gray-300 rounded-md",value:f.minimumWithdrawalAmount,onChange:w=>p({...f,minimumWithdrawalAmount:parseInt(w.target.value)})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"autoPayoutEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:f.autoPayoutEnabled,onChange:w=>p({...f,autoPayoutEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"autoPayoutEnabled",className:"font-medium text-gray-700",children:"Automatic Payouts"}),e.jsx("p",{className:"text-gray-500",children:"Automatically process payouts to service providers based on the schedule below."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payoutSchedule",className:"block text-sm font-medium text-gray-700",children:"Payout Schedule"}),e.jsxs("select",{id:"payoutSchedule",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f.payoutSchedule,onChange:w=>p({...f,payoutSchedule:w.target.value}),disabled:!f.autoPayoutEnabled,children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"biweekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),r==="security"&&e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"requireEmailVerification",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.requireEmailVerification,onChange:w=>v({...y,requireEmailVerification:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"requireEmailVerification",className:"font-medium text-gray-700",children:"Require Email Verification"}),e.jsx("p",{className:"text-gray-500",children:"Users must verify their email address before accessing the platform."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"twoFactorAuthEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.twoFactorAuthEnabled,onChange:w=>v({...y,twoFactorAuthEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"twoFactorAuthEnabled",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-500",children:"Allow users to enable two-factor authentication for their accounts."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordMinLength",className:"block text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("input",{type:"number",id:"passwordMinLength",min:"6",max:"32",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.passwordMinLength,onChange:w=>v({...y,passwordMinLength:parseInt(w.target.value)})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireSpecialChar",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.passwordRequireSpecialChar,onChange:w=>v({...y,passwordRequireSpecialChar:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireSpecialChar",className:"font-medium text-gray-700",children:"Require Special Character"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one special character."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireNumber",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.passwordRequireNumber,onChange:w=>v({...y,passwordRequireNumber:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireNumber",className:"font-medium text-gray-700",children:"Require Number"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one number."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-gray-700",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",id:"sessionTimeout",min:"5",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.sessionTimeout,onChange:w=>v({...y,sessionTimeout:parseInt(w.target.value)})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Users will be automatically logged out after this period of inactivity."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maxLoginAttempts",className:"block text-sm font-medium text-gray-700",children:"Maximum Login Attempts"}),e.jsx("input",{type:"number",id:"maxLoginAttempts",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.maxLoginAttempts,onChange:w=>v({...y,maxLoginAttempts:parseInt(w.target.value)})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Account will be temporarily locked after this many failed login attempts."})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"recaptchaEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.recaptchaEnabled,onChange:w=>v({...y,recaptchaEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"recaptchaEnabled",className:"font-medium text-gray-700",children:"Enable reCAPTCHA"}),e.jsx("p",{className:"text-gray-500",children:"Use Google reCAPTCHA to protect forms from spam and abuse."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]})]})]})},zh=()=>e.jsx(qh,{});function Hh({title:r,titleId:t,...s},a){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),r?m.createElement("title",{id:t},r):null,m.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Jh=m.forwardRef(Hh),Hn=Jh,je={getPosts:async(r={})=>{await new Promise(a=>setTimeout(a,800));let s=[...[{id:"1",title:"Modern Kitchen Renovation",content:"Just finished my kitchen renovation and wanted to share the results!",images:["https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["kitchen","modern","renovation"],likes_count:24,comments_count:8,is_featured:!0,created_at:"2023-05-15T14:30:00Z",user:{id:"user1",email:"sarah@example.com",user_metadata:{full_name:"Sarah Johnson"}}},{id:"2",title:"Backyard Patio Makeover",content:"Transformed our boring backyard into an outdoor oasis!",images:["https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["outdoor","patio","landscaping"],likes_count:18,comments_count:5,is_featured:!1,created_at:"2023-05-10T09:15:00Z",user:{id:"user2",email:"mike@example.com",user_metadata:{full_name:"Mike Thompson"}}},{id:"3",title:"Bathroom Remodel on a Budget",content:"How I remodeled my bathroom for under $5,000",images:["https://images.pexels.com/photos/1457847/pexels-photo-1457847.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["bathroom","budget","DIY"],likes_count:32,comments_count:12,is_featured:!0,created_at:"2023-05-05T16:45:00Z",user:{id:"user3",email:"jessica@example.com",user_metadata:{full_name:"Jessica Lee"}}},{id:"4",title:"Living Room Paint Transformation",content:"Amazing what a fresh coat of paint can do!",images:["https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["living room","paint","color"],likes_count:15,comments_count:3,is_featured:!1,created_at:"2023-04-28T11:20:00Z",user:{id:"user4",email:"david@example.com",user_metadata:{full_name:"David Wilson"}}},{id:"5",title:"DIY Floating Shelves Installation",content:"Step-by-step guide to installing floating shelves in any room",images:["https://images.pexels.com/photos/1090638/pexels-photo-1090638.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["shelves","DIY","storage"],likes_count:27,comments_count:9,is_featured:!1,created_at:"2023-04-22T08:10:00Z",user:{id:"user5",email:"emily@example.com",user_metadata:{full_name:"Emily Garcia"}}},{id:"6",title:"Home Office Renovation",content:"Created my dream home office during the pandemic",images:["https://images.pexels.com/photos/1170412/pexels-photo-1170412.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],tags:["office","workspace","renovation"],likes_count:21,comments_count:7,is_featured:!0,created_at:"2023-04-15T13:25:00Z",user:{id:"user6",email:"robert@example.com",user_metadata:{full_name:"Robert Chen"}}}]];return r.featured&&(s=s.filter(a=>a.is_featured)),r.tag&&(s=s.filter(a=>a.tags&&a.tags.includes(r.tag))),s.sort((a,n)=>new Date(n.created_at)-new Date(a.created_at)),s},getPost:async r=>(await new Promise(s=>setTimeout(s,500)),(await je.getPosts()).find(s=>s.id===r)),hasUserLikedPost:async r=>(await new Promise(t=>setTimeout(t,200)),Math.random()>.5),likePost:async r=>(await new Promise(t=>setTimeout(t,300)),{success:!0}),unlikePost:async r=>(await new Promise(t=>setTimeout(t,300)),{success:!0}),getPopularTags:async(r=10)=>(await new Promise(t=>setTimeout(t,400)),[{tag:"kitchen",count:42},{tag:"bathroom",count:38},{tag:"DIY",count:35},{tag:"renovation",count:31},{tag:"modern",count:28},{tag:"outdoor",count:25},{tag:"budget",count:22},{tag:"paint",count:19},{tag:"lighting",count:17},{tag:"storage",count:15}].slice(0,r)),createPost:async r=>(await new Promise(t=>setTimeout(t,1e3)),{id:Date.now().toString(),...r,created_at:new Date().toISOString(),likes_count:0,comments_count:0}),getComments:async r=>(await new Promise(t=>setTimeout(t,600)),[{id:"comment1",post_id:r,content:"This looks amazing! What paint color did you use?",created_at:"2023-05-16T10:30:00Z",user:{id:"user7",email:"lisa@example.com",user_metadata:{full_name:"Lisa Brown"}}},{id:"comment2",post_id:r,content:"Great job! How long did the project take?",created_at:"2023-05-15T14:45:00Z",user:{id:"user8",email:"james@example.com",user_metadata:{full_name:"James Miller"}}},{id:"comment3",post_id:r,content:"I'm planning a similar project. Would you mind sharing your contractor's info?",created_at:"2023-05-14T09:15:00Z",user:{id:"user9",email:"sophia@example.com",user_metadata:{full_name:"Sophia Martinez"}}}]),addComment:async(r,t)=>(await new Promise(s=>setTimeout(s,500)),{id:Date.now().toString(),post_id:r,content:t,created_at:new Date().toISOString(),user:{id:"current-user",email:"current@example.com",user_metadata:{full_name:"Current User"}}})};function Gh(){const[r,t]=m.useState([]),[s,a]=m.useState(!0),[n,i]=m.useState(null),[o,c]=m.useState("all"),[l,u]=m.useState({}),[d,h]=m.useState([]),[f,p]=m.useState(""),[y,v]=m.useState(!1),[g,N]=m.useState(1);m.useEffect(()=>{localStorage.getItem("hasVisitedCommunity")||(v(!0),localStorage.setItem("hasVisitedCommunity","true")),x(),E(),T()},[o]);async function x(){try{a(!0),i(null);const C={};o!=="all"&&(o==="featured"?C.featured=!0:C.tag=o);const $=await je.getPosts(C),I=f?$.filter(_=>_.title.toLowerCase().includes(f.toLowerCase())||_.content&&_.content.toLowerCase().includes(f.toLowerCase())||_.tags&&_.tags.some(M=>M.toLowerCase().includes(f.toLowerCase()))):$;t(I)}catch(C){console.error("Error fetching posts:",C),i("Failed to load posts. Please try again.")}finally{a(!1)}}async function E(){try{const C={};for(const $ of r){const I=await je.hasUserLikedPost($.id);C[$.id]=I}u(C)}catch(C){console.error("Error fetching user likes:",C)}}async function T(){try{const C=await je.getPopularTags(10);h(C)}catch(C){console.error("Error fetching popular tags:",C)}}const w=async C=>{try{l[C]?(await je.unlikePost(C),u({...l,[C]:!1}),t(r.map($=>$.id===C?{...$,likes_count:$.likes_count-1}:$))):(await je.likePost(C),u({...l,[C]:!0}),t(r.map($=>$.id===C?{...$,likes_count:$.likes_count+1}:$)))}catch($){console.error("Error toggling like:",$)}},k=C=>{C.preventDefault(),x()},D=()=>{g<3?N(g+1):v(!1)},B=()=>{v(!1)};return e.jsxs("div",{className:"bg-white min-h-screen",children:[y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome to the Community Hub!"}),g===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:"https://images.pexels.com/photos/7937386/pexels-photo-7937386.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Community Hub",className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Discover inspiration from other homeowners and share your own projects with the community."})]}),g===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:"https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Share Projects",className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Share your renovation projects, get feedback, and connect with other homeowners in your area."})]}),g===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Find Inspiration",className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Save ideas to your vision board and find the perfect inspiration for your next home project."})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx("button",{onClick:B,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Skip"}),e.jsx("button",{onClick:D,className:"inline-flex items-center rounded-md bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:g===3?"Get Started":"Next"})]}),e.jsx("div",{className:"mt-4 flex justify-center space-x-2",children:[1,2,3].map(C=>e.jsx("div",{className:`h-2 w-2 rounded-full ${g===C?"bg-primary-600":"bg-gray-300"}`},C))})]})})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between border-b border-gray-200 pb-5 pt-24",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight text-[#3361E1]",children:"Community Inspiration Hub"}),e.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:e.jsxs(P,{to:"/community/new",className:"inline-flex items-center rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:[e.jsx(qe,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Share Your Project"]})})]}),e.jsx("div",{className:"mt-6 mb-8",children:e.jsxs("form",{onSubmit:k,className:"flex w-full md:max-w-md",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(Ss,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full rounded-l-md border-0 py-3 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm",placeholder:"Search projects, tags, or ideas...",value:f,onChange:C=>p(C.target.value)})]}),e.jsx("button",{type:"submit",className:"inline-flex items-center rounded-r-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600",children:"Search"})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-medium text-[#3361E1] mb-4",children:"Categories"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsx("button",{className:`text-sm w-full text-left px-3 py-2 rounded-md ${o==="all"?"bg-primary-50 font-medium text-primary-600":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>c("all"),children:"All Projects"})}),e.jsx("li",{children:e.jsx("button",{className:`text-sm w-full text-left px-3 py-2 rounded-md ${o==="featured"?"bg-primary-50 font-medium text-primary-600":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>c("featured"),children:"Featured"})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-medium text-[#3361E1] mb-4",children:"Popular Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(C=>e.jsxs("button",{className:`inline-flex items-center rounded-full px-3 py-1.5 text-sm ${o===C.tag?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>c(C.tag),children:[C.tag,e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",C.count,")"]})]},C.tag))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-medium text-[#3361E1] mb-4",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Looking for inspiration or have questions about your project?"}),e.jsx("button",{className:"w-full inline-flex justify-center items-center rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:"Ask AI Concierge"})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[n&&e.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:n})})]})]})}),s?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#3361E1]"})}):r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-100 p-8",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No posts found"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o!=="all"?"Try a different filter or ":"","Get started by sharing your own project."]}),e.jsx("div",{className:"mt-6",children:e.jsxs(P,{to:"/community/new",className:"inline-flex items-center rounded-md bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:[e.jsx(qe,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Share Your Project"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[o==="all"?"All Projects":o==="featured"?"Featured Projects":`Projects tagged with "${o}"`,e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",r.length," ",r.length===1?"project":"projects",")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(C=>{var $,I,_,M;return e.jsxs("div",{className:"group relative bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-md",children:[e.jsxs("div",{className:"aspect-h-3 aspect-w-4 overflow-hidden rounded-t-lg bg-gray-100",children:[e.jsx(P,{to:`/community/posts/${C.id}`,children:C.images&&C.images.length>0?e.jsx("img",{src:C.images[0],alt:C.title,className:"object-cover object-center h-48 w-full group-hover:opacity-90 transition-opacity duration-300"}):e.jsx("div",{className:"flex h-48 w-full items-center justify-center bg-gray-200",children:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),C.is_featured&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800",children:"Featured"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 line-clamp-1",children:e.jsxs(P,{to:`/community/posts/${C.id}`,children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),C.title]})}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:((I=($=C.user)==null?void 0:$.user_metadata)==null?void 0:I.full_name)||((M=(_=C.user)==null?void 0:_.email)==null?void 0:M.split("@")[0])})]})}),e.jsxs("div",{className:"mt-2 flex space-x-4",children:[e.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:()=>w(C.id),children:[l[C.id]?e.jsx(Hn,{className:"h-4 w-4 text-red-500 mr-1"}):e.jsx(gn,{className:"h-4 w-4 mr-1"}),C.likes_count]}),e.jsxs(P,{to:`/community/posts/${C.id}`,className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(dn,{className:"h-4 w-4 mr-1"}),C.comments_count]}),e.jsx("button",{className:"flex items-center text-sm text-gray-500 hover:text-gray-700 ml-auto",children:e.jsx(gr,{className:"h-4 w-4"})})]}),C.tags&&C.tags.length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[C.tags.slice(0,3).map(F=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800",children:F},F)),C.tags.length>3&&e.jsxs("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800",children:["+",C.tags.length-3]})]})]})]},C.id)})})]})]})]})]}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs(P,{to:"/dashboard",className:"flex flex-col items-center justify-center w-full h-full text-[#3361E1]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),e.jsxs(P,{to:"/projects",className:"flex flex-col items-center justify-center w-full h-full text-gray-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("span",{className:"text-xs mt-1",children:"Projects"})]}),e.jsxs(P,{to:"/providers",className:"flex flex-col items-center justify-center w-full h-full text-gray-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"text-xs mt-1",children:"Providers"})]}),e.jsxs(P,{to:"/deals",className:"flex flex-col items-center justify-center w-full h-full text-gray-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs mt-1",children:"Deals"})]}),e.jsxs(P,{to:"/profile",className:"flex flex-col items-center justify-center w-full h-full text-gray-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})})]})}const Yh=()=>e.jsx(Gh,{}),Kh=()=>{var k,D,B,C,$,I,_,M,F,W,V,K,re,ue,ye,_e,De,Se;const{id:r}=ti(),{user:t}=xe(),[s,a]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(!0),[l,u]=m.useState(null),[d,h]=m.useState(!1),[f,p]=m.useState(""),[y,v]=m.useState(!1),[g,N]=m.useState(0);m.useEffect(()=>{(async()=>{try{c(!0),u(null);const ee=await je.getPost(r);if(!ee)throw new Error("Post not found");a(ee);const Fe=await je.getComments(r);if(i(Fe),t){const Ce=await je.hasUserLikedPost(r);h(Ce)}}catch(ee){console.error("Error fetching post details:",ee),u(ee.message||"Failed to load project details")}finally{c(!1)}})()},[r,t]);const x=async()=>{if(t)try{d?(await je.unlikePost(r),h(!1),a({...s,likes_count:s.likes_count-1})):(await je.likePost(r),h(!0),a({...s,likes_count:s.likes_count+1}))}catch(X){console.error("Error toggling like:",X)}},E=async X=>{if(X.preventDefault(),!!t&&f.trim())try{v(!0);const ee=await je.addComment(r,f);i([ee,...n]),p(""),a({...s,comments_count:s.comments_count+1})}catch(ee){console.error("Error adding comment:",ee)}finally{v(!1)}},T=()=>{s!=null&&s.images&&s.images.length>1&&N((g+1)%s.images.length)},w=()=>{s!=null&&s.images&&s.images.length>1&&N((g-1+s.images.length)%s.images.length)};return o?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-white",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#3361E1]"})}):l?e.jsx("div",{className:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:e.jsx("div",{className:"max-w-max mx-auto",children:e.jsxs("main",{className:"sm:flex",children:[e.jsx("p",{className:"text-4xl font-extrabold text-[#3361E1] sm:text-5xl",children:"404"}),e.jsxs("div",{className:"sm:ml-6",children:[e.jsxs("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Project not found"}),e.jsx("p",{className:"mt-1 text-base text-gray-500",children:l})]}),e.jsx("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:e.jsx(P,{to:"/community",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#3361E1] hover:bg-[#2D55C7] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#3361E1]",children:"Back to Community"})})]})]})})}):s?e.jsx("div",{className:"bg-white min-h-screen",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-24 pb-16",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(P,{to:"/community",className:"inline-flex items-center text-sm font-medium text-[#3361E1] hover:text-[#2D55C7]",children:[e.jsx(Bl,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Back to Community"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden mb-6",children:s.images&&s.images.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.images[g],alt:s.title,className:"w-full h-96 object-cover"}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 rounded-full p-2 text-gray-800 hover:bg-opacity-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:T,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 rounded-full p-2 text-gray-800 hover:bg-opacity-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2",children:s.images.map((X,ee)=>e.jsx("button",{onClick:()=>N(ee),className:`h-2 w-2 rounded-full ${ee===g?"bg-white":"bg-white bg-opacity-50"}`},ee))})]})]}):e.jsx("div",{className:"flex h-96 w-full items-center justify-center bg-gray-200",children:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium",children:((B=(D=(k=s.user)==null?void 0:k.user_metadata)==null?void 0:D.full_name)==null?void 0:B.charAt(0))||(($=(C=s.user)==null?void 0:C.email)==null?void 0:$.charAt(0))||"?"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((_=(I=s.user)==null?void 0:I.user_metadata)==null?void 0:_.full_name)||((F=(M=s.user)==null?void 0:M.email)==null?void 0:F.split("@")[0])}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),s.is_featured&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800",children:"Featured"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title}),e.jsx("div",{className:"prose max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700",children:s.content})}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.tags.map(X=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800",children:X},X))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-gray-700",onClick:x,children:[d?e.jsx(Hn,{className:"h-5 w-5 text-red-500 mr-1.5"}):e.jsx(gn,{className:"h-5 w-5 mr-1.5"}),s.likes_count," ",s.likes_count===1?"Like":"Likes"]}),e.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(dn,{className:"h-5 w-5 mr-1.5"}),s.comments_count," ",s.comments_count===1?"Comment":"Comments"]})]}),e.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(gr,{className:"h-5 w-5 mr-1.5"}),"Share"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Comments"}),e.jsxs("form",{onSubmit:E,className:"mb-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Add a comment"}),e.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3361E1] focus:ring-[#3361E1] sm:text-sm",placeholder:"Add a comment...",value:f,onChange:X=>p(X.target.value),disabled:y})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"inline-flex items-center rounded-md border border-transparent bg-[#3361E1] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-[#2D55C7] focus:outline-none focus:ring-2 focus:ring-[#3361E1] focus:ring-offset-2",disabled:y||!f.trim(),children:y?"Posting...":"Post Comment"})})]}),n.length>0?e.jsx("ul",{className:"space-y-6",children:n.map(X=>{var ee,Fe,Ce,Tt,ht,At,Kt,Dt,Zt;return e.jsxs("li",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium",children:((Ce=(Fe=(ee=X.user)==null?void 0:ee.user_metadata)==null?void 0:Fe.full_name)==null?void 0:Ce.charAt(0))||((ht=(Tt=X.user)==null?void 0:Tt.email)==null?void 0:ht.charAt(0))||"?"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((Kt=(At=X.user)==null?void 0:At.user_metadata)==null?void 0:Kt.full_name)||((Zt=(Dt=X.user)==null?void 0:Dt.email)==null?void 0:Zt.split("@")[0])}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(X.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:"text-sm text-gray-700 ml-11",children:e.jsx("p",{children:X.content})})]},X.id)})}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No comments yet. Be the first to comment!"})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"About the Author"}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium text-lg",children:((K=(V=(W=s.user)==null?void 0:W.user_metadata)==null?void 0:V.full_name)==null?void 0:K.charAt(0))||((ue=(re=s.user)==null?void 0:re.email)==null?void 0:ue.charAt(0))||"?"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-base font-medium text-gray-900",children:((_e=(ye=s.user)==null?void 0:ye.user_metadata)==null?void 0:_e.full_name)||((Se=(De=s.user)==null?void 0:De.email)==null?void 0:Se.split("@")[0])}),e.jsx("p",{className:"text-sm text-gray-500",children:"Homeowner"})]})]}),e.jsx("button",{className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View Profile"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Similar Projects"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(X=>{var ee;return e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded bg-gray-200"}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Another ",((ee=s.tags)==null?void 0:ee[0])||"renovation"," project"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"By Another User"})]})]},X)})}),e.jsx("div",{className:"mt-4",children:e.jsx(P,{to:"/community",className:"text-sm font-medium text-[#3361E1] hover:text-[#2D55C7]",children:"View more projects"})})]}),e.jsxs("div",{className:"bg-[#3361E1] rounded-lg shadow-sm p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ready to start your own project?"}),e.jsx("p",{className:"text-sm text-blue-100 mb-4",children:"Connect with top-rated professionals in your area and get started today."}),e.jsx(P,{to:"/homeowner/projects/new",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-[#3361E1] bg-white hover:bg-blue-50",children:"Start a Project"})]})]})})]})]})}):null},Zh=()=>{const{user:r}=xe(),[t,s]=m.useState([]),[a,n]=m.useState(!1),[i,o]=m.useState({title:"",imageUrl:"",sourceUrl:"",notes:""}),[c,l]=m.useState(null),[u,d]=m.useState(!1);m.useEffect(()=>{const x=localStorage.getItem("visionBoardItems");if(x)try{s(JSON.parse(x))}catch(E){console.error("Error parsing saved vision board items:",E),s([])}},[]),m.useEffect(()=>{t.length>0&&localStorage.setItem("visionBoardItems",JSON.stringify(t))},[t]);const h=()=>{if(!i.title||!i.imageUrl)return;const x={id:Date.now().toString(),...i,createdAt:new Date().toISOString()};s([...t,x]),o({title:"",imageUrl:"",sourceUrl:"",notes:""}),n(!1)},f=x=>{s(t.filter(E=>E.id!==x))},p=(x,E)=>{l(E),x.dataTransfer.effectAllowed="move"},y=x=>{x.preventDefault(),x.dataTransfer.dropEffect="move"},v=(x,E)=>{if(x.preventDefault(),c===E)return;const T=[...t],w=T.findIndex(D=>D.id===c),k=T.findIndex(D=>D.id===E);if(w!==-1&&k!==-1){const[D]=T.splice(w,1);T.splice(k,0,D),s(T)}l(null)},g=()=>{if(!r){d(!0);return}alert("Vision board saved successfully!")},N=()=>{alert("Sharing functionality coming soon!")};return e.jsxs("div",{className:"bg-white py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Your Home Renovation Vision Board"}),e.jsx("p",{className:"mt-4 text-xl text-gray-500",children:"Collect and organize inspiration for your home renovation projects. Drag and drop to arrange your ideas."}),e.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[e.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(qe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Item"]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(Fl,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Save Board"]}),e.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(gr,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Share"]})]})]}),t.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding some inspiration to your vision board."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(qe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Item"]})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(x=>e.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-200",draggable:!0,onDragStart:E=>p(E,x.id),onDragOver:y,onDrop:E=>v(E,x.id),children:[e.jsx("div",{className:"aspect-w-3 aspect-h-2",children:e.jsx("img",{src:x.imageUrl,alt:x.title,className:"object-cover w-full h-48",onError:E=>{E.target.onerror=null,E.target.src="https://via.placeholder.com/300x200?text=Image+Not+Found"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x.title}),x.sourceUrl&&e.jsx("a",{href:x.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-500 mt-1 block truncate",children:"Source Link"}),x.notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-500 line-clamp-3",children:x.notes})]}),e.jsx("button",{onClick:()=>f(x.id),className:"absolute top-2 right-2 p-1 rounded-full bg-white bg-opacity-75 text-gray-600 hover:text-red-500 focus:outline-none",children:e.jsx(yd,{className:"h-5 w-5","aria-hidden":"true"})})]},x.id))})]}),a&&e.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"mt-3 text-center sm:mt-5",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add to Vision Board"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 text-left",children:"Title *"}),e.jsx("input",{type:"text",name:"title",id:"title",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Kitchen Backsplash",value:i.title,onChange:x=>o({...i,title:x.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 text-left",children:"Image URL *"}),e.jsx("input",{type:"url",name:"imageUrl",id:"imageUrl",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"https://example.com/image.jpg",value:i.imageUrl,onChange:x=>o({...i,imageUrl:x.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"sourceUrl",className:"block text-sm font-medium text-gray-700 text-left",children:"Source URL (optional)"}),e.jsx("input",{type:"url",name:"sourceUrl",id:"sourceUrl",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"https://pinterest.com/pin/123456789",value:i.sourceUrl,onChange:x=>o({...i,sourceUrl:x.target.value})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 text-left",children:"Notes (optional)"}),e.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"I like the subway tile pattern and the gray grout.",value:i.notes,onChange:x=>o({...i,notes:x.target.value})})]})]})]})}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:h,children:"Add to Board"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>n(!1),children:"Cancel"})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-5",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Sign in to save your vision board"}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Create an account or sign in to save your vision board and access it from any device. You'll also be able to share it with service providers."})})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx(P,{to:"/register",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",children:"Sign Up"}),e.jsx(P,{to:"/login",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:col-start-1 sm:text-sm",children:"Sign In"})]}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"w-full text-sm text-gray-500 hover:text-gray-700",onClick:()=>d(!1),children:"Continue without saving"})})]})]})})]})},Qh=()=>{const{user:r}=xe(),{userProfile:t}=ze(),s=(t==null?void 0:t.role)||"homeowner";return e.jsxs("div",{className:"bg-white",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(P,{to:"/",className:"text-2xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("nav",{className:"hidden md:flex space-x-10",children:[e.jsx(P,{to:"/about",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"About"}),e.jsx(P,{to:"/pricing",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Pricing"}),e.jsx(P,{to:"/contact",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Contact"})]}),e.jsx("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:r?e.jsx(P,{to:`/${s}/dashboard`,className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(P,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(P,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})})]})})}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"relative shadow-xl sm:rounded-2xl sm:overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{className:"h-full w-full object-cover",src:"https://images.pexels.com/photos/3990359/pexels-photo-3990359.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Home renovation"}),e.jsx("div",{className:"absolute inset-0 bg-blue-700 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8",children:[e.jsxs("h1",{className:"text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl",children:[e.jsx("span",{className:"block text-white",children:"Connect with trusted"}),e.jsx("span",{className:"block text-blue-200",children:"home service professionals"})]}),e.jsx("p",{className:"mt-6 max-w-lg mx-auto text-center text-xl text-white sm:max-w-3xl",children:"Find qualified service providers for your home renovation and maintenance projects. Get quotes, schedule appointments, and manage your projects all in one place."}),e.jsx("div",{className:"mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center",children:e.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5",children:[e.jsx(P,{to:r?`/${s}/dashboard`:"/register",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-700 bg-white hover:bg-blue-50 sm:px-8",children:r?"Go to Dashboard":"Get started"}),e.jsx(P,{to:"/about",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-500 bg-opacity-60 hover:bg-opacity-70 sm:px-8",children:"Learn more"})]})})]})]})})}),e.jsx(Zh,{}),e.jsx("div",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-blue-600 font-semibold tracking-wide uppercase",children:"Features"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"A better way to manage home projects"}),e.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Our platform connects homeowners with qualified service providers and streamlines the entire project management process."})]}),e.jsx("div",{className:"mt-10",children:e.jsxs("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Project Management"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Create and manage projects, set budgets, track progress, and communicate with service providers all in one place."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Verified Providers"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"All service providers are verified and reviewed by other homeowners, ensuring you get quality work from trusted professionals."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Scheduling"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Schedule appointments, set reminders, and coordinate with service providers using our integrated calendar system."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Secure Messaging"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Communicate directly with service providers through our secure messaging system, keeping all project communications in one place."})]})]})})]})}),e.jsx("div",{className:"bg-gray-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Why Choose ServiceConnectPro"}),e.jsx("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight",children:"Powerful tools for successful home projects"}),e.jsx("p",{className:"max-w-3xl mt-5 mx-auto text-xl text-gray-500",children:"Unlike Angi, HomeAdvisor, or Thumbtack, we provide comprehensive planning tools and foster meaningful relationships with qualified service providers."})]}),e.jsxs("div",{className:"relative mt-12 lg:mt-24 lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 tracking-tight sm:text-3xl",children:"Vision Board"}),e.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Collect and organize inspiration for your home renovation projects in one place. Our interactive Vision Board helps you visualize your dream space and share ideas with service providers."}),e.jsxs("dl",{className:"mt-10 space-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Collect Inspiration"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Save images, links, and notes from around the web to build your perfect vision board."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Organize & Customize"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Drag and drop to arrange your ideas, categorize by room or project, and customize your board."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Share with Providers"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Share your vision board directly with service providers to ensure they understand your style and preferences."})]})]})]}),e.jsx("div",{className:"mt-10 -mx-4 relative lg:mt-0","aria-hidden":"true",children:e.jsx("img",{className:"relative mx-auto rounded-lg shadow-lg",width:490,src:"https://images.pexels.com/photos/7937386/pexels-photo-7937386.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Vision board example"})})]}),e.jsx("div",{className:"relative mt-12 sm:mt-16 lg:mt-24",children:e.jsxs("div",{className:"lg:grid lg:grid-flow-row-dense lg:grid-cols-2 lg:gap-8 lg:items-center",children:[e.jsxs("div",{className:"lg:col-start-2",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 tracking-tight sm:text-3xl",children:"Project Planner & Kanban"}),e.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Plan, organize, and track your home renovation projects with our intuitive project management tools. Break down complex projects into manageable tasks and visualize progress."}),e.jsxs("dl",{className:"mt-10 space-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx(vc,{className:"h-6 w-6","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Task Management"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Create tasks, set deadlines, assign responsibilities, and track progress in real-time."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx(rd,{className:"h-6 w-6","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Visual Kanban Boards"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:'Visualize your project workflow with customizable Kanban boards - move tasks from "To Do" to "In Progress" to "Complete."'})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Milestone Tracking"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Set project milestones, track completion, and celebrate progress as you transform your home."})]})]})]}),e.jsx("div",{className:"mt-10 -mx-4 relative lg:mt-0 lg:col-start-1",children:e.jsx("img",{className:"relative mx-auto rounded-lg shadow-lg",width:490,src:"https://images.pexels.com/photos/6224/hands-people-woman-working.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Project planning board"})})]})}),e.jsxs("div",{className:"relative mt-12 lg:mt-24 lg:grid lg:grid-cols-2 lg:gap-8 lg:items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 tracking-tight sm:text-3xl",children:"Project Bidding System"}),e.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Get competitive bids from qualified service providers for your home projects. Our transparent bidding system helps you find the right professional at the right price."}),e.jsxs("dl",{className:"mt-10 space-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx(mn,{className:"h-6 w-6","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Transparent Pricing"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Receive detailed quotes with itemized costs, ensuring you understand exactly what you're paying for."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Compare Options"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Easily compare multiple bids side-by-side, evaluating price, timeline, materials, and provider ratings."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Verified Providers Only"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"All bidding providers are pre-screened, verified, and reviewed by other homeowners for quality and reliability."})]})]})]}),e.jsx("div",{className:"mt-10 -mx-4 relative lg:mt-0","aria-hidden":"true",children:e.jsx("img",{className:"relative mx-auto rounded-lg shadow-lg",width:490,src:"https://images.pexels.com/photos/3760067/pexels-photo-3760067.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Comparing bids"})})]}),e.jsx("div",{className:"relative mt-12 sm:mt-16 lg:mt-24",children:e.jsxs("div",{className:"lg:grid lg:grid-flow-row-dense lg:grid-cols-2 lg:gap-8 lg:items-center",children:[e.jsxs("div",{className:"lg:col-start-2",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 tracking-tight sm:text-3xl",children:"AI Budget Estimator"}),e.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Get instant Rough Order of Magnitude (ROM) estimates for your home projects. Our AI-powered estimator helps you plan your budget before you even talk to a service provider."}),e.jsxs("dl",{className:"mt-10 space-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx(xd,{className:"h-6 w-6","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"AI-Powered Estimates"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Our intelligent system analyzes thousands of similar projects to provide accurate cost ranges for your specific needs."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Budget Planning"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Set realistic budgets based on data-driven estimates, helping you avoid unexpected costs and plan your finances."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Customizable Factors"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Adjust variables like materials, size, location, and quality to see how they impact your project cost in real-time."})]})]})]}),e.jsx("div",{className:"mt-10 -mx-4 relative lg:mt-0 lg:col-start-1",children:e.jsx("img",{className:"relative mx-auto rounded-lg shadow-lg",width:490,src:"https://images.pexels.com/photos/7821486/pexels-photo-7821486.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Budget estimation"})})]})})]})}),e.jsx("div",{className:"bg-white py-16 sm:py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Why We're Different"}),e.jsx("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"The ServiceConnectPro Advantage"}),e.jsx("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"See how we compare to other home service platforms"})]}),e.jsx("div",{className:"mt-16",children:e.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Features"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"ServiceConnectPro"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Angi / HomeAdvisor"}),e.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Thumbtack"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 bg-white",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:"Project Planning Tools"}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Comprehensive"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Limited"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"None"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:"Vision Board"}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Interactive"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"None"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"None"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:"Budget Estimation"}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"AI-Powered"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Basic"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Basic"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:"Provider Verification"}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Rigorous"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Standard"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Standard"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:"Project Management"}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Full-featured"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Basic"})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2",children:"Limited"})]})})]})]})]})})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs(P,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:["Get Started Today",e.jsx(ql,{className:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})]})})]})}),e.jsx("div",{className:"bg-blue-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Sign up for free today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Join thousands of homeowners and service providers already using ServiceConnectPro to simplify home project management."}),e.jsx(P,{to:r?`/${s}/dashboard`:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 sm:w-auto",children:r?"Go to Dashboard":"Sign up for free"})]})}),e.jsx("footer",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/about",className:"text-base text-gray-500 hover:text-gray-900",children:"About"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/pricing",className:"text-base text-gray-500 hover:text-gray-900",children:"Pricing"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/contact",className:"text-base text-gray-500 hover:text-gray-900",children:"Contact"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/terms",className:"text-base text-gray-500 hover:text-gray-900",children:"Terms"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/privacy",className:"text-base text-gray-500 hover:text-gray-900",children:"Privacy"})})]}),e.jsx("p",{className:"mt-8 text-center text-base text-gray-400",children:" 2023 ServiceConnectPro. All rights reserved."})]})})]})},Xh=()=>e.jsxs("div",{className:"bg-white",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(P,{to:"/",className:"text-2xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("nav",{className:"hidden md:flex space-x-10",children:[e.jsx(P,{to:"/about",className:"text-base font-medium text-blue-600 hover:text-blue-900",children:"About"}),e.jsx(P,{to:"/pricing",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Pricing"}),e.jsx(P,{to:"/contact",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Contact"})]}),e.jsxs("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[e.jsx(P,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(P,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})]})})}),e.jsxs("div",{className:"relative py-16 bg-white overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block lg:absolute lg:inset-y-0 lg:h-full lg:w-full",children:e.jsxs("div",{className:"relative h-full text-lg max-w-prose mx-auto","aria-hidden":"true",children:[e.jsxs("svg",{className:"absolute top-12 left-full transform translate-x-32",width:"404",height:"384",fill:"none",viewBox:"0 0 404 384",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"74b3fd99-0a6f-4271-bef2-e80eeafdf357",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("rect",{x:"0",y:"0",width:"4",height:"4",className:"text-gray-200",fill:"currentColor"})})}),e.jsx("rect",{width:"404",height:"384",fill:"url(#74b3fd99-0a6f-4271-bef2-e80eeafdf357)"})]}),e.jsxs("svg",{className:"absolute top-1/2 right-full transform -translate-y-1/2 -translate-x-32",width:"404",height:"384",fill:"none",viewBox:"0 0 404 384",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"f210dbf6-a58d-4871-961e-36d5016a0f49",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("rect",{x:"0",y:"0",width:"4",height:"4",className:"text-gray-200",fill:"currentColor"})})}),e.jsx("rect",{width:"404",height:"384",fill:"url(#f210dbf6-a58d-4871-961e-36d5016a0f49)"})]})]})}),e.jsxs("div",{className:"relative px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-lg max-w-prose mx-auto",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"block text-base text-center text-blue-600 font-semibold tracking-wide uppercase",children:"About Us"}),e.jsx("span",{className:"mt-2 block text-3xl text-center leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Our Mission and Story"})]}),e.jsx("p",{className:"mt-8 text-xl text-gray-500 leading-8",children:"ServiceConnectPro was founded with a simple mission: to transform the way homeowners and service providers connect, communicate, and collaborate on home renovation and maintenance projects."})]}),e.jsxs("div",{className:"mt-6 prose prose-blue prose-lg text-gray-500 mx-auto",children:[e.jsx("h2",{children:"Our Beginning"}),e.jsx("p",{children:"After experiencing the frustration of managing multiple home renovation projects, our founders recognized a significant gap in the market. Finding reliable contractors, communicating project requirements, tracking progress, and managing payments were all disconnected processes that created unnecessary stress and inefficiency."}),e.jsx("p",{children:"In 2020, we set out to build a platform that would address these pain points and create a seamless experience for both homeowners and service providers."}),e.jsx("div",{className:"my-12 relative",children:e.jsx("img",{className:"w-full rounded-lg shadow-lg object-cover h-96",src:"https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team meeting"})}),e.jsx("h2",{children:"Our Values"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Trust and Transparency:"})," We believe in fostering trust between homeowners and service providers through verified reviews, clear pricing, and transparent communication."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality and Excellence:"})," We are committed to connecting homeowners with skilled professionals who deliver high-quality work and exceptional service."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Innovation:"})," We continuously improve our platform with new features and tools that make home project management more efficient and enjoyable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Community:"})," We're building a community where homeowners can share ideas, find inspiration, and connect with professionals who share their vision."]})]}),e.jsx("h2",{children:"How We're Different"}),e.jsx("p",{children:"Unlike traditional contractor directories or basic project management tools, ServiceConnectPro offers an end-to-end solution that covers every aspect of home renovation and maintenance:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-blue-700 font-semibold",children:"For Homeowners"}),e.jsxs("ul",{className:"mt-2 space-y-2",children:[e.jsx("li",{children:"Find verified, reviewed service providers"}),e.jsx("li",{children:"Create detailed project plans with visual inspiration boards"}),e.jsx("li",{children:"Get multiple quotes and compare options"}),e.jsx("li",{children:"Schedule appointments and track project progress"}),e.jsx("li",{children:"Communicate directly with providers"}),e.jsx("li",{children:"Manage payments securely"}),e.jsx("li",{children:"Store project documentation and warranties"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-blue-700 font-semibold",children:"For Service Providers"}),e.jsxs("ul",{className:"mt-2 space-y-2",children:[e.jsx("li",{children:"Connect with homeowners actively seeking services"}),e.jsx("li",{children:"Showcase your portfolio and expertise"}),e.jsx("li",{children:"Manage leads and client communications"}),e.jsx("li",{children:"Create professional quotes and invoices"}),e.jsx("li",{children:"Schedule jobs and coordinate with clients"}),e.jsx("li",{children:"Build your reputation through verified reviews"}),e.jsx("li",{children:"Grow your business with our marketing tools"})]})]})]}),e.jsx("h2",{children:"Our Team"}),e.jsx("p",{children:"Our diverse team brings together expertise in technology, design, construction, and customer service. We're passionate about creating innovative solutions that make home improvement more accessible and enjoyable for everyone."}),e.jsx("div",{className:"my-12 relative",children:e.jsx("img",{className:"w-full rounded-lg shadow-lg object-cover h-96",src:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Our team"})}),e.jsx("h2",{children:"Join Our Community"}),e.jsx("p",{children:"Whether you're a homeowner planning your next renovation project or a service provider looking to grow your business, we invite you to join the ServiceConnectPro community. Together, we're transforming the home improvement industry and creating better experiences for everyone involved."}),e.jsx("div",{className:"mt-10 flex justify-center",children:e.jsx(P,{to:"/register",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Join ServiceConnectPro Today"})})]})]})]}),e.jsx("footer",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/about",className:"text-base text-gray-500 hover:text-gray-900",children:"About"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/pricing",className:"text-base text-gray-500 hover:text-gray-900",children:"Pricing"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/contact",className:"text-base text-gray-500 hover:text-gray-900",children:"Contact"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/terms",className:"text-base text-gray-500 hover:text-gray-900",children:"Terms"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(P,{to:"/privacy",className:"text-base text-gray-500 hover:text-gray-900",children:"Privacy"})})]}),e.jsx("p",{className:"mt-8 text-center text-base text-gray-400",children:" 2023 ServiceConnectPro. All rights reserved."})]})})]}),e0=()=>{Ht();const[r,t]=m.useState({name:"",email:"",subject:"",message:""}),[s,a]=m.useState(!1),[n,i]=m.useState(!1),[o,c]=m.useState(null),l=d=>{const{name:h,value:f}=d.target;t(p=>({...p,[h]:f}))},u=async d=>{d.preventDefault(),a(!0),c(null);try{await new Promise(h=>setTimeout(h,1e3)),i(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>{i(!1)},5e3)}catch{c("There was an error sending your message. Please try again.")}finally{a(!1)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"bg-blue-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-xl max-w-2xl",children:"Have questions about our platform? Need help with your project? Our team is here to assist you every step of the way."})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Send Us a Message"}),n&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:"Thank you for your message! We'll get back to you soon."}),o&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"message",className:"block text-gray-700 font-medium mb-2",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:l,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("button",{type:"submit",disabled:s,className:`w-full bg-blue-600 text-white py-3 px-4 rounded-md font-medium transition ${s?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:s?"Sending...":"Send Message"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Phone"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Monday-Friday, 9am-5pm EST"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"support@renovationplatform.com"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"We'll respond within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Office"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"123 Renovation Street"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Suite 456"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"San Francisco, CA 94103"})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]})]})})]})},t0=()=>{const[r,t]=m.useState("monthly"),s=[{name:"Basic",description:"Perfect for homeowners with occasional projects",monthlyPrice:0,yearlyPrice:0,features:["Post up to 3 projects","Connect with up to 5 service providers","Basic project management tools","Community forum access","Email support"],cta:"Get Started",highlighted:!1},{name:"Premium",description:"For homeowners with multiple renovation needs",monthlyPrice:19.99,yearlyPrice:199.99,features:["Unlimited project postings","Priority matching with providers","Advanced project management tools","Milestone tracking","Document storage","Phone and email support","Verified provider access"],cta:"Start Free Trial",highlighted:!0},{name:"Professional",description:"For service providers looking to grow their business",monthlyPrice:49.99,yearlyPrice:499.99,features:["Featured provider listing","Unlimited project bidding","Business profile customization","Client management tools","Payment processing","Marketing tools","Analytics dashboard","Priority support"],cta:"Start Free Trial",highlighted:!1}];return e.jsxs("div",{className:"bg-gray-50",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(P,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[e.jsx(P,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(P,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:flex-col sm:align-center",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 sm:text-center",children:"Pricing Plans"}),e.jsx("p",{className:"mt-5 text-xl text-gray-500 sm:text-center",children:"Choose the perfect plan for your needs. Start with a 14-day free trial."}),e.jsxs("div",{className:"relative self-center mt-6 bg-gray-100 rounded-lg p-0.5 flex sm:mt-8",children:[e.jsx("button",{type:"button",className:`${r==="monthly"?"bg-white border-gray-200 shadow-sm":"border border-transparent"} relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`,onClick:()=>t("monthly"),children:"Monthly billing"}),e.jsxs("button",{type:"button",className:`${r==="yearly"?"bg-white border-gray-200 shadow-sm":"border border-transparent"} ml-0.5 relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`,onClick:()=>t("yearly"),children:["Yearly billing",e.jsx("span",{className:"absolute -top-2 -right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Save 15%"})]})]})]}),e.jsx("div",{className:"mt-12 space-y-4 sm:mt-16 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6 lg:max-w-4xl lg:mx-auto xl:max-w-none xl:mx-0 xl:grid-cols-3",children:s.map(a=>e.jsxs("div",{className:`${a.highlighted?"border-2 border-blue-500 shadow-xl":"border border-gray-200"} rounded-lg shadow-sm divide-y divide-gray-200 bg-white`,children:[a.highlighted&&e.jsx("div",{className:"bg-blue-500 text-white text-center py-2 rounded-t-lg",children:"Most Popular"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"mt-2 text-gray-500",children:a.description}),e.jsxs("p",{className:"mt-8",children:[e.jsxs("span",{className:"text-4xl font-extrabold text-gray-900",children:["$",r==="monthly"?a.monthlyPrice:a.yearlyPrice]}),e.jsxs("span",{className:"text-base font-medium text-gray-500",children:["/",r==="monthly"?"mo":"year"]})]}),e.jsx(P,{to:"/register",className:`${a.highlighted?"bg-blue-500 hover:bg-blue-600 focus:ring-blue-500":"bg-blue-50 text-blue-700 hover:bg-blue-100 focus:ring-blue-200"} mt-8 block w-full py-3 px-6 border border-transparent rounded-md text-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2`,children:a.cta})]}),e.jsxs("div",{className:"pt-6 pb-8 px-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 tracking-wide uppercase",children:"What's included"}),e.jsx("ul",{className:"mt-6 space-y-4",children:a.features.map((n,i)=>e.jsxs("li",{className:"flex",children:[e.jsx("svg",{className:"flex-shrink-0 h-6 w-6 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"ml-3 text-base text-gray-500",children:n})]},i))})]})]},a.name))})]}),e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto divide-y-2 divide-gray-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Frequently asked questions"}),e.jsxs("dl",{className:"mt-6 space-y-6 divide-y divide-gray-200",children:[e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Can I cancel my subscription at any time?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, you can cancel your subscription at any time. Your plan will remain active until the end of your current billing period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"What payment methods do you accept?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"We accept all major credit cards, PayPal, and bank transfers for annual plans."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Do you offer discounts for non-profits or educational institutions?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, we offer special pricing for non-profits, educational institutions, and community organizations. Please contact our sales team for more information."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Can I upgrade or downgrade my plan later?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Absolutely! You can upgrade your plan at any time and the new features will be immediately available. If you downgrade, the changes will take effect at the start of your next billing cycle."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Is there a limit to how many projects I can create?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"The Basic plan allows up to 3 active projects at a time. Premium and Professional plans offer unlimited project creation."})]})]})]})}),e.jsx("div",{className:"bg-blue-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Start your free trial today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Join thousands of homeowners and service providers already using ServiceConnectPro to simplify their renovation projects."}),e.jsx(P,{to:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 sm:w-auto",children:"Sign up for free"})]})}),e.jsx("footer",{className:"bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8",children:[e.jsxs("div",{className:"xl:grid xl:grid-cols-3 xl:gap-8",children:[e.jsxs("div",{className:"space-y-8 xl:col-span-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"ServiceConnectPro"}),e.jsx("p",{className:"text-gray-300 text-base",children:"Connecting homeowners with trusted service professionals since 2023."}),e.jsx("div",{className:"flex space-x-6"})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2",children:[e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Solutions"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Homeowners"})}),e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Service Providers"})}),e.jsx("li",{children:e.jsx(P,{to:"/pricing",className:"text-base text-gray-300 hover:text-white",children:"Pricing"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Support"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Help Center"})}),e.jsx("li",{children:e.jsx(P,{to:"/contact",className:"text-base text-gray-300 hover:text-white",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"FAQ"})})]})]})]}),e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Company"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(P,{to:"/about",className:"text-base text-gray-300 hover:text-white",children:"About"})}),e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Blog"})}),e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Careers"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Legal"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Privacy"})}),e.jsx("li",{children:e.jsx(P,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Terms"})})]})]})]})]})]}),e.jsx("div",{className:"mt-12 border-t border-gray-700 pt-8",children:e.jsx("p",{className:"text-base text-gray-400 xl:text-center",children:" 2023 ServiceConnectPro. All rights reserved."})})]})})]})},s0=()=>e.jsx("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-9xl font-bold text-blue-600",children:"404"}),e.jsx("h2",{className:"mt-4 text-3xl font-extrabold text-gray-900 tracking-tight",children:"Page not found"}),e.jsx("p",{className:"mt-4 text-base text-gray-500",children:"Sorry, we couldn't find the page you're looking for."}),e.jsx("div",{className:"mt-6",children:e.jsx(P,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go back home"})})]})})})});function r0(){const{user:r,loading:t}=xe(),{userProfile:s,loading:a}=ze(),n=t||a,i=(s==null?void 0:s.role)||"homeowner";return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx(si,{children:e.jsxs(ri,{children:[e.jsx(H,{path:"/",element:e.jsx(Qh,{})}),e.jsx(H,{path:"/about",element:e.jsx(Xh,{})}),e.jsx(H,{path:"/contact",element:e.jsx(e0,{})}),e.jsx(H,{path:"/pricing",element:e.jsx(t0,{})}),e.jsxs(H,{element:e.jsx(Ad,{}),children:[e.jsx(H,{path:"/login",element:r?e.jsx(Ot,{to:`/${i}/dashboard`}):e.jsx(Ku,{})}),e.jsx(H,{path:"/register",element:r?e.jsx(Ot,{to:`/${i}/dashboard`}):e.jsx(Qu,{})}),e.jsx(H,{path:"/forgot-password",element:e.jsx(em,{})})]}),e.jsxs(H,{path:"/community",element:e.jsx(Us,{}),children:[e.jsx(H,{index:!0,element:e.jsx(Yh,{})}),e.jsx(H,{path:"project/:id",element:e.jsx(Kh,{})})]}),e.jsxs(H,{path:"/provider",element:r&&i==="provider"?e.jsx(Us,{}):e.jsx(Ot,{to:r?`/${i}/dashboard`:"/login"}),children:[e.jsx(H,{path:"dashboard",element:e.jsx(jh,{})}),e.jsx(H,{path:"profile",element:e.jsx(Nh,{})}),e.jsx(H,{path:"jobs",element:e.jsx(kh,{})}),e.jsx(H,{path:"calendar",element:e.jsx(_h,{})}),e.jsx(H,{path:"messages",element:e.jsx(Sh,{})}),e.jsx(H,{path:"settings",element:e.jsx(Ch,{})})]}),e.jsxs(H,{path:"/homeowner",element:r&&(i==="homeowner"||i==="provider")?e.jsx(Us,{}):e.jsx(Ot,{to:r?`/${i}/dashboard`:"/login"}),children:[e.jsx(H,{path:"dashboard",element:e.jsx(Eh,{})}),e.jsx(H,{path:"profile",element:e.jsx(Ph,{})}),e.jsx(H,{path:"projects",element:e.jsx(Th,{})}),e.jsx(H,{path:"providers",element:e.jsx(Ah,{})}),e.jsx(H,{path:"messages",element:e.jsx(Dh,{})}),e.jsx(H,{path:"settings",element:e.jsx(Oh,{})})]}),e.jsxs(H,{path:"/admin",element:r&&i==="admin"?e.jsx(Dd,{}):e.jsx(Ot,{to:r?`/${i}/dashboard`:"/login"}),children:[e.jsx(H,{path:"dashboard",element:e.jsx(Rh,{})}),e.jsx(H,{path:"users",element:e.jsx(Ih,{})}),e.jsx(H,{path:"providers",element:e.jsx(Bh,{})}),e.jsx(H,{path:"reports",element:e.jsx(Vh,{})}),e.jsx(H,{path:"settings",element:e.jsx(zh,{})})]}),e.jsx(H,{path:"*",element:e.jsx(s0,{})})]})})}Js.createRoot(document.getElementById("root")).render(e.jsx(Ml,{children:e.jsx($l,{children:e.jsx(r0,{})})}));
//# sourceMappingURL=index-3c346a1f.js.map
