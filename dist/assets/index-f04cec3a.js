import{r as m,a as Yn,g as Kn,c as ye,u as Ea,b as It,L as C,O as nr,R as Se,d as Qn,e as Zn,B as Xn,f as ei,h as z,N as _t}from"./vendor-cc601bd3.js";import{C as Pa,a as ti,L as si,B as ri,p as ai,b as Ta,c as Da,d as ni,A as ii,D as oi}from"./charts-b12028b9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Aa={exports:{}},us={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=m,ci=Symbol.for("react.element"),di=Symbol.for("react.fragment"),ui=Object.prototype.hasOwnProperty,hi=li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mi={key:!0,ref:!0,__self:!0,__source:!0};function Oa(a,t,s){var r,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ui.call(t,r)&&!mi.hasOwnProperty(r)&&(n[r]=t[r]);if(a&&a.defaultProps)for(r in t=a.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:ci,type:a,key:i,ref:o,props:n,_owner:hi.current}}us.Fragment=di;us.jsx=Oa;us.jsxs=Oa;Aa.exports=us;var e=Aa.exports,Bs={},Or=Yn;Bs.createRoot=Or.createRoot,Bs.hydrateRoot=Or.hydrateRoot;const fi="modulepreload",xi=function(a){return"/"+a},$r={},bt=function(t,s,r){if(!s||s.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=xi(i),i in $r)return;$r[i]=!0;const o=i.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!r)for(let d=n.length-1;d>=0;d--){const f=n[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":fi,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},gi=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>bt(()=>Promise.resolve().then(()=>wt),void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class ir extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class pi extends ir{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bi extends ir{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yi extends ir{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ws;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Ws||(Ws={}));var vi=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};class wi{constructor(t,{headers:s={},customFetch:r,region:n=Ws.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=gi(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return vi(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let c={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(c["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(c["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:u}).catch(y=>{throw new pi(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new bi(d);if(!d.ok)throw new yi(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var me={},or={},hs={},Ut={},ms={},fs={},ji=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yt=ji();const Ni=yt.fetch,$a=yt.fetch.bind(yt),Ma=yt.Headers,ki=yt.Request,_i=yt.Response,wt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ma,Request:ki,Response:_i,default:$a,fetch:Ni},Symbol.toStringTag,{value:"Module"})),Si=Kn(wt);var xs={};Object.defineProperty(xs,"__esModule",{value:!0});let Ci=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xs.default=Ci;var Ra=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fs,"__esModule",{value:!0});const Ei=Ra(Si),Pi=Ra(xs);let Ti=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ei.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,l;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const N=await i.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=N:d=JSON.parse(N))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new Pi.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,c,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};fs.default=Ti;var Di=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ms,"__esModule",{value:!0});const Ai=Di(fs);let Oi=class extends Ai.default{select(t){let s=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var c;const l=[t?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ms.default=Oi;var $i=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ut,"__esModule",{value:!0});const Mi=$i(ms);let Ri=class extends Mi.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Ut.default=Ri;var Fi=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hs,"__esModule",{value:!0});const St=Fi(Ut);let Li=class{constructor(t,{headers:s={},schema:r,fetch:n}){this.url=t,this.headers=s,this.schema=r,this.fetch=n}select(t,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new St.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new St.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&c.push(this.headers.Prefer),n&&c.push(`count=${n}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new St.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new St.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new St.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hs.default=Li;var gs={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.version=void 0;ps.version="0.0.0-automated";Object.defineProperty(gs,"__esModule",{value:!0});gs.DEFAULT_HEADERS=void 0;const Ii=ps;gs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ii.version}`};var Fa=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(or,"__esModule",{value:!0});const Ui=Fa(hs),Bi=Fa(Ut),Wi=gs;let qi=class La{constructor(t,{headers:s={},schema:r,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Wi.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new Ui.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new La(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const c=new URL(`${this.url}/rpc/${t}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Bi.default({method:o,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};or.default=qi;var jt=ye&&ye.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(me,"__esModule",{value:!0});me.PostgrestError=me.PostgrestBuilder=me.PostgrestTransformBuilder=me.PostgrestFilterBuilder=me.PostgrestQueryBuilder=me.PostgrestClient=void 0;const Ia=jt(or);me.PostgrestClient=Ia.default;const Ua=jt(hs);me.PostgrestQueryBuilder=Ua.default;const Ba=jt(Ut);me.PostgrestFilterBuilder=Ba.default;const Wa=jt(ms);me.PostgrestTransformBuilder=Wa.default;const qa=jt(fs);me.PostgrestBuilder=qa.default;const Va=jt(xs);me.PostgrestError=Va.default;var Vi=me.default={PostgrestClient:Ia.default,PostgrestQueryBuilder:Ua.default,PostgrestFilterBuilder:Ba.default,PostgrestTransformBuilder:Wa.default,PostgrestBuilder:qa.default,PostgrestError:Va.default};const{PostgrestClient:Hi,PostgrestQueryBuilder:Wm,PostgrestFilterBuilder:qm,PostgrestTransformBuilder:Vm,PostgrestBuilder:Hm,PostgrestError:zm}=Vi,zi="2.11.2",Ji={"X-Client-Info":`realtime-js/${zi}`},Gi="1.0.0",Ha=1e4,Yi=1e3;var gt;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(gt||(gt={}));var xe;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(xe||(xe={}));var we;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(we||(we={}));var qs;(function(a){a.websocket="websocket"})(qs||(qs={}));var tt;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(tt||(tt={}));class Ki{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class za{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Q||(Q={}));const Mr=(a,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Qi(o,a,t,n),i),{})},Qi=(a,t,s,r)=>{const n=t.find(c=>c.name===a),i=n==null?void 0:n.type,o=s[a];return i&&!r.includes(i)?Ja(i,o):Vs(o)},Ja=(a,t)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return to(t,s)}switch(a){case Q.bool:return Zi(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Xi(t);case Q.json:case Q.jsonb:return eo(t);case Q.timestamp:return so(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Vs(t);default:return Vs(t)}},Vs=a=>a,Zi=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Xi=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},eo=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},to=(a,t)=>{if(typeof a!="string")return a;const s=a.length-1,r=a[s];if(a[0]==="{"&&r==="}"){let i;const o=a.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Ja(t,c))}return a},so=a=>typeof a=="string"?a.replace(" ","T"):a,Ga=a=>{let t=a;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Es{constructor(t,s,r={},n=Ha){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rr;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Rr||(Rr={}));class At{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=At.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=At.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=At.syncDiff(this.state,n,i,o),c())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),c={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(c[u]=y),v.length>0&&(l[u]=v)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),d.length>0){const f=t[c].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[c].unshift(...h)}r(c,d,l)}),this.map(o,(c,l)=>{let u=t[c];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[c]=u,n(c,u,l),u.length===0&&delete t[c]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fr;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Fr||(Fr={}));var Lr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Lr||(Lr={}));var Oe;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Oe||(Oe={}));class lr{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Es(this,we.join,this.params,this.timeout),this.rejoinTimer=new za(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(we.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new At(this),this.broadcastEndpointURL=Ga(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(d=>t==null?void 0:t(Oe.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Oe.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&n!==void 0?n:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Oe.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<p;v++){const x=h[v],{filter:{event:N,schema:g,table:P,filter:D}}=x,w=d&&d[v];if(w&&w.event===N&&w.schema===g&&w.table===P&&w.filter===D)y.push(Object.assign(Object.assign({},x),{id:w.id}));else{this.unsubscribe(),t==null||t(Oe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Oe.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Oe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Oe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(we.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Es(this,we.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Es(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=we;if(r&&[c,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,v,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,v,x,N,g,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const D=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return D&&((v=s.ids)===null||v===void 0?void 0:v.includes(D))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const D=(g=(N=p==null?void 0:p.filter)===null||N===void 0?void 0:N.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return D==="*"||D===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:x,commit_timestamp:N,type:g,errors:P}=y;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:N,eventType:g,new:{},old:{},errors:P}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lr.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(we.close,{},t)}_onError(t){this._on(we.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Mr(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Mr(t.columns,t.old_record)),s}}const ro=()=>{},ao=typeof WebSocket<"u",no=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class io{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ji,this.params={},this.timeout=Ha,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ro,this.conn=null,this.sendBuffer=[],this.serializer=new Ki,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>bt(()=>Promise.resolve().then(()=>wt),void 0).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${qs.websocket}`,this.httpEndpoint=Ga(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new za(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ao){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new oo(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bt(()=>import("./browser-8531f381.js").then(t=>t.b),["assets/browser-8531f381.js","assets/vendor-cc601bd3.js"]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gi}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gt.connecting:return tt.Connecting;case gt.open:return tt.Open;case gt.closing:return tt.Closing;default:return tt.Closed}}isConnected(){return this.connectionState()===tt.Open}channel(t,s={config:{}}){const r=new lr(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(we.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Yi,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(we.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([no],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class oo{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class cr extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function oe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class lo extends cr{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hs extends cr{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var co=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};const Ya=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>bt(()=>Promise.resolve().then(()=>wt),void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},uo=()=>co(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bt(()=>Promise.resolve().then(()=>wt),void 0)).Response:Response}),zs=a=>{if(Array.isArray(a))return a.map(s=>zs(s));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=zs(r)}),t};var nt=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};const Ps=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ho=(a,t,s)=>nt(void 0,void 0,void 0,function*(){const r=yield uo();a instanceof r&&!(s!=null&&s.noResolveJson)?a.json().then(n=>{t(new lo(Ps(n),a.status||500))}).catch(n=>{t(new Hs(Ps(n),n))}):t(new Hs(Ps(a),a))}),mo=(a,t,s,r)=>{const n={method:a,headers:(t==null?void 0:t.headers)||{}};return a==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Bt(a,t,s,r,n,i){return nt(this,void 0,void 0,function*(){return new Promise((o,c)=>{a(s,mo(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ho(l,c,r))})})}function es(a,t,s,r){return nt(this,void 0,void 0,function*(){return Bt(a,"GET",t,s,r)})}function Ve(a,t,s,r,n){return nt(this,void 0,void 0,function*(){return Bt(a,"POST",t,r,n,s)})}function fo(a,t,s,r,n){return nt(this,void 0,void 0,function*(){return Bt(a,"PUT",t,r,n,s)})}function xo(a,t,s,r){return nt(this,void 0,void 0,function*(){return Bt(a,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ka(a,t,s,r,n){return nt(this,void 0,void 0,function*(){return Bt(a,"DELETE",t,r,n,s)})}var ue=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};const go={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ir={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class po{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=Ya(n)}uploadOrUpdate(t,s,r,n){return ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ir),n);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(c=Object.assign(Object.assign({},c),n.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(t,s,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ir.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ve(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new cr("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}update(t,s,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}copy(t,s,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ve(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Ve(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return ue(this,void 0,void 0,function*(){try{const n=yield Ve(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}download(t,s){return ue(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield es(this.fetch,`${this.url}/${n}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(oe(c))return{data:null,error:c};throw c}})}info(t){return ue(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield es(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:zs(r),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}exists(t){return ue(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield xo(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(oe(r)&&r instanceof Hs){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const c=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${u}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}list(t,s,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},go),s),{prefix:t||""});return{data:yield Ve(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const bo="2.7.1",yo={"X-Client-Info":`storage-js/${bo}`};var lt=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};class vo{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},yo),s),this.fetch=Ya(r)}listBuckets(){return lt(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(oe(t))return{data:null,error:t};throw t}})}getBucket(t){return lt(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return lt(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return lt(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return lt(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return lt(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}}class wo extends vo{constructor(t,s={},r){super(t,s,r)}from(t){return new po(this.url,this.headers,t,this.fetch)}}const jo="2.49.8";let Dt="";typeof Deno<"u"?Dt="deno":typeof document<"u"?Dt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dt="react-native":Dt="node";const No={"X-Client-Info":`supabase-js-${Dt}/${jo}`},ko={headers:No},_o={schema:"public"},So={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Co={};var Eo=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};const Po=a=>{let t;return a?t=a:typeof fetch>"u"?t=$a:t=fetch,(...s)=>t(...s)},To=()=>typeof Headers>"u"?Ma:Headers,Do=(a,t,s)=>{const r=Po(s),n=To();return(i,o)=>Eo(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:a;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",a),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Ao=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};function Oo(a){return a.endsWith("/")?a:a+"/"}function $o(a,t){var s,r;const{db:n,auth:i,realtime:o,global:c}=a,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ao(this,void 0,void 0,function*(){return""})};return a.accessToken?h.accessToken=a.accessToken:delete h.accessToken,h}const Qa="2.69.1",ft=30*1e3,Js=3,Ts=Js*ft,Mo="http://localhost:9999",Ro="supabase.auth.token",Fo={"X-Client-Info":`gotrue-js/${Qa}`},Gs="X-Supabase-Api-Version",Za={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Io=6e5;class dr extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function q(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Uo extends dr{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Bo(a){return q(a)&&a.name==="AuthApiError"}class Xa extends dr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ye extends dr{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class We extends Ye{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wo(a){return q(a)&&a.name==="AuthSessionMissingError"}class Ds extends Ye{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zt extends Ye{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jt extends Ye{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qo(a){return q(a)&&a.name==="AuthImplicitGrantRedirectError"}class Ur extends Ye{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ys extends Ye{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function As(a){return q(a)&&a.name==="AuthRetryableFetchError"}class Br extends Ye{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ot extends Ye{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qr=` 	
\r=`.split(""),Vo=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<qr.length;t+=1)a[qr[t].charCodeAt(0)]=-2;for(let t=0;t<Wr.length;t+=1)a[Wr[t].charCodeAt(0)]=t;return a})();function en(a,t,s){const r=Vo[a];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Vr(a){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Jo(o,r,s)};for(let o=0;o<a.length;o+=1)en(a.charCodeAt(o),n,i);return t.join("")}function Ho(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function zo(a,t){for(let s=0;s<a.length;s+=1){let r=a.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(a.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Ho(r,t)}}function Jo(a,t,s){if(t.utf8seq===0){if(a<=127){s(a);return}for(let r=1;r<6;r+=1)if(!(a>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Go(a){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<a.length;n+=1)en(a.charCodeAt(n),s,r);return new Uint8Array(t)}function Yo(a){const t=[];return zo(a,s=>t.push(s)),new Uint8Array(t)}function Ko(a){return Math.round(Date.now()/1e3)+a}function Qo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const t=Math.random()*16|0;return(a=="x"?t:t&3|8).toString(16)})}const Ce=()=>typeof window<"u"&&typeof document<"u",Ze={tested:!1,writable:!1},$t=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ze.tested)return Ze.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Ze.tested=!0,Ze.writable=!0}catch{Ze.tested=!0,Ze.writable=!1}return Ze.writable};function Zo(a){const t={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const tn=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>bt(()=>Promise.resolve().then(()=>wt),void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Xo=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",sn=async(a,t,s)=>{await a.setItem(t,JSON.stringify(s))},Gt=async(a,t)=>{const s=await a.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Yt=async(a,t)=>{await a.removeItem(t)};class bs{constructor(){this.promise=new bs.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}bs.promiseConstructor=Promise;function Os(a){const t=a.split(".");if(t.length!==3)throw new Ot("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Lo.test(t[r]))throw new Ot("JWT not in base64url format");return{header:JSON.parse(Vr(t[0])),payload:JSON.parse(Vr(t[1])),signature:Go(t[2]),raw:{header:t[0],payload:t[1]}}}async function el(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function tl(a,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await a(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function sl(a){return("0"+a.toString(16)).substr(-2)}function rl(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,sl).join("")}async function al(a){const s=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function nl(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await al(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ct(a,t,s=!1){const r=rl();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await sn(a,`${t}-code-verifier`,n);const i=await nl(r);return[i,r===i?"plain":"s256"]}const il=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ol(a){const t=a.headers.get(Gs);if(!t||!t.match(il))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ll(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function cl(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var dl=globalThis&&globalThis.__rest||function(a,t){var s={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(a);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(a,r[n])&&(s[r[n]]=a[r[n]]);return s};const Xe=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ul=[502,503,504];async function Hr(a){var t;if(!Xo(a))throw new Ys(Xe(a),0);if(ul.includes(a.status))throw new Ys(Xe(a),a.status);let s;try{s=await a.json()}catch(i){throw new Xa(Xe(i),i)}let r;const n=ol(a);if(n&&n.getTime()>=Za["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Br(Xe(s),a.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Br(Xe(s),a.status,s.weak_password.reasons);throw new Uo(Xe(s),a.status||500,r)}const hl=(a,t,s,r)=>{const n={method:a,headers:(t==null?void 0:t.headers)||{}};return a==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function H(a,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Gs]||(i[Gs]=Za["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ml(a,t,s+c,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ml(a,t,s,r,n,i){const o=hl(t,r,n,i);let c;try{c=await a(s,Object.assign({},o))}catch(l){throw console.error(l),new Ys(Xe(l),0)}if(c.ok||await Hr(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(l){await Hr(l)}}function qe(a){var t;let s=null;pl(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=Ko(a.expires_in)));const r=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:s,user:r},error:null}}function zr(a){const t=qe(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=a.weak_password),t}function ze(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function fl(a){return{data:a,error:null}}function xl(a){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=a,o=dl(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function gl(a){return a}function pl(a){return a.access_token&&a.refresh_token&&a.expires_in}var bl=globalThis&&globalThis.__rest||function(a,t){var s={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(a);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(a,r[n])&&(s[r[n]]=a[r[n]]);return s};class yl{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=tn(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ze})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=bl(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:xl,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ze})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:gl});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ze})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ze})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ze})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const vl={getItem:a=>$t()?globalThis.localStorage.getItem(a):null,setItem:(a,t)=>{$t()&&globalThis.localStorage.setItem(a,t)},removeItem:a=>{$t()&&globalThis.localStorage.removeItem(a)}};function Jr(a={}){return{getItem:t=>a[t]||null,setItem:(t,s)=>{a[t]=s},removeItem:t=>{delete a[t]}}}function wl(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dt={debug:!!(globalThis&&$t()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rn extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jl extends rn{}async function Nl(a,t,s){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),dt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,n.name);try{return await s()}finally{dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,n.name)}}else{if(t===0)throw dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new jl(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(dt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}wl();const kl={url:Mo,storageKey:Ro,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gr(a,t,s){return await s()}class Ft{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ft.nextInstanceID,Ft.nextInstanceID+=1,this.instanceID>0&&Ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},kl),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new yl({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tn(n.fetch),this.lock=n.lock||Gr,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ce()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Nl:this.lock=Gr,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:$t()?this.storage=vl:(this.memoryStorage={},this.storage=Jr(this.memoryStorage)):(this.memoryStorage={},this.storage=Jr(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qa}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Zo(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ce()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qo(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new Xa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:qe}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ct(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:qe})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qe})}else throw new zt("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:c}=t;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:zr})}else if("phone"in t){const{phone:i,password:o,options:c}=t;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:zr})}else throw new zt("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ds}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Gt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qe});if(await Yt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,c=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:qe}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ds}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:c,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ct(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zt("You must provide either an email or phone number.")}catch(c){if(q(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:qe});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ct(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fl})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new We;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await H(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:c}=await H(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new zt("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ts:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ze}):await this._useSession(async s=>{var r,n,i;const{data:o,error:c}=s;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ze})})}catch(s){if(q(s))return Wo(s)&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new We;const o=n.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await ct(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:ze});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new We;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Os(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:c}=s;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new We;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ce())throw new Jt("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ur("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jt("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ur("No code detected.");const{data:g,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=t;if(!i||!c||!o||!u)throw new Jt("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const N={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(Bo(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Qo(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ct(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,c,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return Ce()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await tl(async n=>(n>0&&await el(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qe})),(n,i)=>{const o=200*Math.pow(2,n);return i&&As(i)&&Date.now()+o-r<ft})}catch(r){if(this._debug(s,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Ce()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Gt(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ts;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Ts}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),As(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new bs;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new We;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return As(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Yt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ft);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ft}ms, refresh threshold is ${Js} ticks`),n<=Js&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rn)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ct(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:c}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Os(n.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Io>Date.now()))return r;const{data:n,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ot("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new Ot("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:c,payload:l}}=Os(r);if(ll(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=cl(n.alg),d=await this.fetchJwk(n.kid,s),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Yo(`${c}.${l}`)))throw new Ot("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Ft.nextInstanceID=0;const _l=Ft;class Sl extends _l{constructor(t){super(t)}}var Cl=globalThis&&globalThis.__awaiter||function(a,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function c(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):n(d.value).then(c,l)}u((r=r.apply(a,t||[])).next())})};class El{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const c=Oo(t),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:_o,realtime:Co,auth:Object.assign(Object.assign({},So),{storageKey:u}),global:ko},f=$o(r??{},d);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Do(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Hi(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new wi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wo(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Cl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:c,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sl({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new io(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const an=(a,t,s)=>new El(a,t,s),Pl="https://zpnpsyiwguqwzldzptyp.supabase.co",Tl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",ee=an(Pl,Tl,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),nn=m.createContext();function ge(){return m.useContext(nn)}function Dl({children:a}){const[t,s]=m.useState(null),[r,n]=m.useState(!0),[i,o]=m.useState(null);m.useEffect(()=>{(async()=>{try{const{data:{session:v},error:x}=await ee.auth.getSession();if(x)throw x;s((v==null?void 0:v.user)||null)}catch(v){console.error("Error checking auth session:",v),o(v.message)}finally{n(!1)}})();const{data:{subscription:y}}=ee.auth.onAuthStateChange((v,x)=>{s((x==null?void 0:x.user)||null),n(!1)});return()=>{y&&y.unsubscribe()}},[]);const h={user:t,loading:r,error:i,signUp:async(p,y)=>{try{n(!0);const{data:v,error:x}=await ee.auth.signUp({email:p,password:y});if(x)throw x;return v}catch(v){throw o(v.message),v}finally{n(!1)}},signIn:async(p,y)=>{try{n(!0);const{data:v,error:x}=await ee.auth.signInWithPassword({email:p,password:y});if(x)throw x;return v}catch(v){throw o(v.message),v}finally{n(!1)}},signOut:async()=>{try{n(!0);const{error:p}=await ee.auth.signOut();if(p)throw p}catch(p){throw o(p.message),p}finally{n(!1)}},resetPassword:async p=>{try{n(!0);const{error:y}=await ee.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(y)throw y}catch(y){throw o(y.message),y}finally{n(!1)}},updatePassword:async p=>{try{n(!0);const{error:y}=await ee.auth.updateUser({password:p});if(y)throw y}catch(y){throw o(y.message),y}finally{n(!1)}}};return e.jsx(nn.Provider,{value:h,children:a})}const on=m.createContext();function Fe(){return m.useContext(on)}function Al({children:a}){const{user:t}=ge(),[s,r]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(!0),[l,u]=m.useState(null);m.useEffect(()=>{(async()=>{if(!t){r(null),c(!1);return}try{c(!0);const{data:v,error:x}=await ee.from("profiles").select("*").eq("user_id",t.id).single();if(x&&x.code!=="PGRST116")throw x;if(v)r(v);else{const{data:N,error:g}=await ee.from("profiles").insert([{user_id:t.id,email:t.email,role:"homeowner",full_name:"",avatar_url:"",created_at:new Date}]).select().single();if(g)throw g;r(N)}}catch(v){console.error("Error fetching user profile:",v),u(v.message)}finally{c(!1)}})()},[t]),m.useEffect(()=>{(async()=>{if(!t){i([]);return}try{const{data:x,error:N}=await ee.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(10);if(N)throw N;i(x||[])}catch(x){console.error("Error fetching notifications:",x)}})();const v=ee.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t==null?void 0:t.id}`},x=>{x.eventType==="INSERT"?i(N=>[x.new,...N].slice(0,10)):x.eventType==="UPDATE"?i(N=>N.map(g=>g.id===x.new.id?x.new:g)):x.eventType==="DELETE"&&i(N=>N.filter(g=>g.id!==x.old.id))}).subscribe();return()=>{v&&ee.removeChannel(v)}},[t]);const p={userProfile:s,notifications:n,loading:o,error:l,updateProfile:async y=>{try{if(!t)throw new Error("User not authenticated");const{data:v,error:x}=await ee.from("profiles").update(y).eq("user_id",t.id).select().single();if(x)throw x;return r(v),v}catch(v){throw console.error("Error updating profile:",v),v}},markNotificationAsRead:async y=>{try{const{error:v}=await ee.from("notifications").update({read:!0}).eq("id",y);if(v)throw v;i(x=>x.map(N=>N.id===y?{...N,read:!0}:N))}catch(v){throw console.error("Error marking notification as read:",v),v}},markAllNotificationsAsRead:async()=>{try{if(!t)throw new Error("User not authenticated");const{error:y}=await ee.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(y)throw y;i(v=>v.map(x=>({...x,read:!0})))}catch(y){throw console.error("Error marking all notifications as read:",y),y}}};return e.jsx(on.Provider,{value:p,children:a})}function Ol({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const $l=m.forwardRef(Ol),Yr=$l;function Ml({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Rl=m.forwardRef(Ml),ln=Rl;function Fl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ll=m.forwardRef(Fl),cn=Ll;function Il({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Ul=m.forwardRef(Il),Kr=Ul;function Bl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Wl=m.forwardRef(Bl),Ks=Wl;function ql({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Vl=m.forwardRef(ql),ts=Vl;function Hl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const zl=m.forwardRef(Hl),Jl=zl;function Gl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Yl=m.forwardRef(Gl),Re=Yl;function Kl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ql=m.forwardRef(Kl),pt=Ql;function Zl({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Xl=m.forwardRef(Zl),dn=Xl;function ec({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const tc=m.forwardRef(ec),sc=tc;function rc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ac=m.forwardRef(rc),nc=ac;function ic({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oc=m.forwardRef(ic),at=oc;function lc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const cc=m.forwardRef(lc),Qs=cc;function dc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const uc=m.forwardRef(dc),hc=uc;function mc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const fc=m.forwardRef(mc),xc=fc;function gc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const pc=m.forwardRef(gc),un=pc;function bc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const yc=m.forwardRef(bc),hn=yc;function vc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wc=m.forwardRef(vc),mn=wc;function jc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const Nc=m.forwardRef(jc),Zs=Nc;function kc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const _c=m.forwardRef(kc),Xs=_c;function Sc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Cc=m.forwardRef(Sc),Ec=Cc;function Pc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Tc=m.forwardRef(Pc),ys=Tc;function Dc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Ac=m.forwardRef(Dc),ur=Ac;function Oc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const $c=m.forwardRef(Oc),hr=$c;function Mc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Rc=m.forwardRef(Mc),vt=Rc;function Fc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Lc=m.forwardRef(Fc),Qr=Lc;function Ic({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Uc=m.forwardRef(Ic),Bc=Uc;function Wc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const qc=m.forwardRef(Wc),Lt=qc;function Vc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const Hc=m.forwardRef(Vc),zc=Hc;function Jc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const Gc=m.forwardRef(Jc),fn=Gc;function Yc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Kc=m.forwardRef(Yc),Qc=Kc;function Zc({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Xc=m.forwardRef(Zc),ss=Xc;function ed({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const td=m.forwardRef(ed),mr=td;function sd({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const rd=m.forwardRef(sd),Zr=rd;function ad({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const nd=m.forwardRef(ad),id=nd;function od({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ld=m.forwardRef(od),Xr=ld;function cd({title:a,titleId:t,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),a?m.createElement("title",{id:t},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const dd=m.forwardRef(cd),xn=dd,$s=()=>{var x,N;const{user:a,signOut:t}=ge(),{userProfile:s,notifications:r}=Fe(),n=Ea(),i=It(),[o,c]=m.useState(!1),[l,u]=m.useState(!1),[d,f]=m.useState(!1),h=(s==null?void 0:s.role)||"homeowner",p=r.filter(g=>!g.read).length,y=async()=>{try{await t(),i("/login")}catch(g){console.error("Error signing out:",g)}},v=h==="provider"?[{name:"Dashboard",href:"/provider/dashboard",icon:Xs},{name:"Jobs",href:"/provider/jobs",icon:Kr},{name:"Calendar",href:"/provider/calendar",icon:Ks},{name:"Messages",href:"/provider/messages",icon:Re},{name:"Profile",href:"/provider/profile",icon:Zr},{name:"Settings",href:"/provider/settings",icon:Qs}]:[{name:"Dashboard",href:"/homeowner/dashboard",icon:Xs},{name:"Projects",href:"/homeowner/projects",icon:Kr},{name:"Providers",href:"/homeowner/providers",icon:mr},{name:"Messages",href:"/homeowner/messages",icon:Re},{name:"Profile",href:"/homeowner/profile",icon:Zr},{name:"Settings",href:"/homeowner/settings",icon:Qs}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"block":"hidden"}`,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-white",children:[e.jsx("div",{className:"absolute top-0 right-0 pt-2 pr-2",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(xn,{className:"w-6 h-6","aria-hidden":"true"})]})}),e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsx("div",{className:"flex-1 h-0 mt-5 overflow-y-auto",children:e.jsx("nav",{className:"px-2 space-y-1",children:v.map(g=>e.jsxs(C,{to:g.href,className:`${n.pathname===g.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>c(!1),children:[e.jsx(g.icon,{className:`${n.pathname===g.href?"text-blue-600":"text-gray-400 group-hover:text-gray-500"} mr-4 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),g.name]},g.name))})})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto border-r border-gray-200 bg-white",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsx("div",{className:"flex flex-col flex-grow mt-5",children:e.jsx("nav",{className:"flex-1 px-2 space-y-1 bg-white",children:v.map(g=>e.jsxs(C,{to:g.href,className:`${n.pathname===g.href?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[e.jsx(g.icon,{className:`${n.pathname===g.href?"text-blue-600":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),g.name]},g.name))})})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>c(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(ln,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 px-4 flex justify-end",children:e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>u(!l),children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(cn,{className:"h-6 w-6","aria-hidden":"true"}),p>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),l&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length>0?r.map(g=>e.jsxs("div",{className:`px-4 py-2 hover:bg-gray-50 ${g.read?"":"bg-blue-50"}`,children:[e.jsx("p",{className:"text-sm text-gray-700",children:g.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(g.created_at).toLocaleString()})]},g.id)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No notifications"})}),r.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-500",onClick:()=>{u(!1)},children:"Mark all as read"})})]})]}),e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",id:"user-menu-button","aria-expanded":d,"aria-haspopup":"true",onClick:()=>f(!d),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),s!=null&&s.avatar_url?e.jsx("img",{className:"h-8 w-8 rounded-full",src:s.avatar_url,alt:"User avatar"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:((x=s==null?void 0:s.full_name)==null?void 0:x.charAt(0))||((N=a==null?void 0:a.email)==null?void 0:N.charAt(0))||"?"})})]})}),d&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.full_name)||"User"}),e.jsx("p",{className:"text-gray-500 truncate",children:a==null?void 0:a.email})]}),e.jsx(C,{to:`/${h}/profile`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>f(!1),children:"Your Profile"}),e.jsx(C,{to:`/${h}/settings`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>f(!1),children:"Settings"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>{f(!1),y()},children:"Sign out"})]})]})]})})]}),e.jsx("main",{className:"flex-1 pb-8",children:e.jsx("div",{className:"py-6",children:e.jsx(nr,{})})})]})]})},ud=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(C,{to:"/",className:"flex justify-center",children:e.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"ServiceConnectPro"})})}),e.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsx(nr,{})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"space-x-4",children:[e.jsx(C,{to:"/",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Home"}),e.jsx(C,{to:"/about",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"About"}),e.jsx(C,{to:"/contact",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Contact"})]})})]})]}),hd=()=>{var v,x;const{user:a,signOut:t}=ge(),{userProfile:s,notifications:r}=Fe(),n=Ea(),i=It(),[o,c]=m.useState(!1),[l,u]=m.useState(!1),[d,f]=m.useState(!1),h=r.filter(N=>!N.read).length,p=async()=>{try{await t(),i("/login")}catch(N){console.error("Error signing out:",N)}},y=[{name:"Dashboard",href:"/admin/dashboard",icon:Xs},{name:"Users",href:"/admin/users",icon:id},{name:"Providers",href:"/admin/providers",icon:mr},{name:"Reports",href:"/admin/reports",icon:Jl},{name:"Settings",href:"/admin/settings",icon:Qs}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"block":"hidden"}`,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 pt-2 pr-2",children:e.jsxs("button",{type:"button",className:"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx(xn,{className:"w-6 h-6","aria-hidden":"true"})]})}),e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(C,{to:"/admin/dashboard",className:"text-xl font-bold text-white",children:"Admin Panel"})}),e.jsx("div",{className:"flex-1 h-0 mt-5 overflow-y-auto",children:e.jsx("nav",{className:"px-2 space-y-1",children:y.map(N=>e.jsxs(C,{to:N.href,className:`${n.pathname===N.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>c(!1),children:[e.jsx(N.icon,{className:`${n.pathname===N.href?"text-gray-300":"text-gray-400 group-hover:text-gray-300"} mr-4 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),N.name]},N.name))})})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto bg-gray-800",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx(C,{to:"/admin/dashboard",className:"text-xl font-bold text-white",children:"Admin Panel"})}),e.jsx("div",{className:"flex flex-col flex-grow mt-5",children:e.jsx("nav",{className:"flex-1 px-2 space-y-1",children:y.map(N=>e.jsxs(C,{to:N.href,className:`${n.pathname===N.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[e.jsx(N.icon,{className:`${n.pathname===N.href?"text-gray-300":"text-gray-400 group-hover:text-gray-300"} mr-3 flex-shrink-0 h-6 w-6`,"aria-hidden":"true"}),N.name]},N.name))})})]})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>c(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx(ln,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-1 px-4 flex justify-end",children:e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>u(!l),children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(cn,{className:"h-6 w-6","aria-hidden":"true"}),h>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),l&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length>0?r.map(N=>e.jsxs("div",{className:`px-4 py-2 hover:bg-gray-50 ${N.read?"":"bg-blue-50"}`,children:[e.jsx("p",{className:"text-sm text-gray-700",children:N.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(N.created_at).toLocaleString()})]},N.id)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No notifications"})}),r.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-500",onClick:()=>{u(!1)},children:"Mark all as read"})})]})]}),e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",id:"user-menu-button","aria-expanded":d,"aria-haspopup":"true",onClick:()=>f(!d),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),s!=null&&s.avatar_url?e.jsx("img",{className:"h-8 w-8 rounded-full",src:s.avatar_url,alt:"User avatar"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:((v=s==null?void 0:s.full_name)==null?void 0:v.charAt(0))||((x=a==null?void 0:a.email)==null?void 0:x.charAt(0))||"A"})})]})}),d&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.full_name)||"Admin"}),e.jsx("p",{className:"text-gray-500 truncate",children:a==null?void 0:a.email})]}),e.jsx(C,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>f(!1),children:"Settings"}),e.jsx("button",{type:"button",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",onClick:()=>{f(!1),p()},children:"Sign out"})]})]})]})})]}),e.jsx("main",{className:"flex-1 pb-8",children:e.jsx("div",{className:"py-6",children:e.jsx(nr,{})})})]})]})};var Wt=a=>a.type==="checkbox",st=a=>a instanceof Date,de=a=>a==null;const gn=a=>typeof a=="object";var se=a=>!de(a)&&!Array.isArray(a)&&gn(a)&&!st(a),md=a=>se(a)&&a.target?Wt(a.target)?a.target.checked:a.target.value:a,fd=a=>a.substring(0,a.search(/\.\d+(\.|$)/))||a,xd=(a,t)=>a.has(fd(t)),gd=a=>{const t=a.constructor&&a.constructor.prototype;return se(t)&&t.hasOwnProperty("isPrototypeOf")},fr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function le(a){let t;const s=Array.isArray(a),r=typeof FileList<"u"?a instanceof FileList:!1;if(a instanceof Date)t=new Date(a);else if(a instanceof Set)t=new Set(a);else if(!(fr&&(a instanceof Blob||r))&&(s||se(a)))if(t=s?[]:{},!s&&!gd(a))t=a;else for(const n in a)a.hasOwnProperty(n)&&(t[n]=le(a[n]));else return a;return t}var vs=a=>Array.isArray(a)?a.filter(Boolean):[],re=a=>a===void 0,M=(a,t,s)=>{if(!t||!se(a))return s;const r=vs(t.split(/[,[\].]+?/)).reduce((n,i)=>de(n)?n:n[i],a);return re(r)||r===a?re(a[t])?s:a[t]:r},Ee=a=>typeof a=="boolean",xr=a=>/^\w*$/.test(a),pn=a=>vs(a.replace(/["|']|\]/g,"").split(/\.|\[/)),Y=(a,t,s)=>{let r=-1;const n=xr(t)?[t]:pn(t),i=n.length,o=i-1;for(;++r<i;){const c=n[r];let l=s;if(r!==o){const u=a[c];l=se(u)||Array.isArray(u)?u:isNaN(+n[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;a[c]=l,a=a[c]}};const ea={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},je={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},De={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Se.createContext(null);var pd=(a,t,s,r=!0)=>{const n={defaultValues:t._defaultValues};for(const i in a)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==je.all&&(t._proxyFormState[o]=!r||je.all),s&&(s[o]=!0),a[o]}});return n};const bd=typeof window<"u"?m.useLayoutEffect:m.useEffect;var Te=a=>typeof a=="string",yd=(a,t,s,r,n)=>Te(a)?(r&&t.watch.add(a),M(s,a,n)):Array.isArray(a)?a.map(i=>(r&&t.watch.add(i),M(s,i))):(r&&(t.watchAll=!0),s),bn=(a,t,s,r,n)=>t?{...s[a],types:{...s[a]&&s[a].types?s[a].types:{},[r]:n||!0}}:{},Mt=a=>Array.isArray(a)?a:[a],ta=()=>{let a=[];return{get observers(){return a},next:n=>{for(const i of a)i.next&&i.next(n)},subscribe:n=>(a.push(n),{unsubscribe:()=>{a=a.filter(i=>i!==n)}}),unsubscribe:()=>{a=[]}}},er=a=>de(a)||!gn(a);function Je(a,t){if(er(a)||er(t))return a===t;if(st(a)&&st(t))return a.getTime()===t.getTime();const s=Object.keys(a),r=Object.keys(t);if(s.length!==r.length)return!1;for(const n of s){const i=a[n];if(!r.includes(n))return!1;if(n!=="ref"){const o=t[n];if(st(i)&&st(o)||se(i)&&se(o)||Array.isArray(i)&&Array.isArray(o)?!Je(i,o):i!==o)return!1}}return!0}var ce=a=>se(a)&&!Object.keys(a).length,gr=a=>a.type==="file",Ne=a=>typeof a=="function",rs=a=>{if(!fr)return!1;const t=a?a.ownerDocument:0;return a instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yn=a=>a.type==="select-multiple",pr=a=>a.type==="radio",vd=a=>pr(a)||Wt(a),Ms=a=>rs(a)&&a.isConnected;function wd(a,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)a=re(a)?r++:a[t[r++]];return a}function jd(a){for(const t in a)if(a.hasOwnProperty(t)&&!re(a[t]))return!1;return!0}function ae(a,t){const s=Array.isArray(t)?t:xr(t)?[t]:pn(t),r=s.length===1?a:wd(a,s),n=s.length-1,i=s[n];return r&&delete r[i],n!==0&&(se(r)&&ce(r)||Array.isArray(r)&&jd(r))&&ae(a,s.slice(0,-1)),a}var vn=a=>{for(const t in a)if(Ne(a[t]))return!0;return!1};function as(a,t={}){const s=Array.isArray(a);if(se(a)||s)for(const r in a)Array.isArray(a[r])||se(a[r])&&!vn(a[r])?(t[r]=Array.isArray(a[r])?[]:{},as(a[r],t[r])):de(a[r])||(t[r]=!0);return t}function wn(a,t,s){const r=Array.isArray(a);if(se(a)||r)for(const n in a)Array.isArray(a[n])||se(a[n])&&!vn(a[n])?re(t)||er(s[n])?s[n]=Array.isArray(a[n])?as(a[n],[]):{...as(a[n])}:wn(a[n],de(t)?{}:t[n],s[n]):s[n]=!Je(a[n],t[n]);return s}var Ct=(a,t)=>wn(a,t,as(t));const sa={value:!1,isValid:!1},ra={value:!0,isValid:!0};var jn=a=>{if(Array.isArray(a)){if(a.length>1){const t=a.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!re(a[0].attributes.value)?re(a[0].value)||a[0].value===""?ra:{value:a[0].value,isValid:!0}:ra:sa}return sa},Nn=(a,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>re(a)?a:t?a===""?NaN:a&&+a:s&&Te(a)?new Date(a):r?r(a):a;const aa={isValid:!1,value:null};var kn=a=>Array.isArray(a)?a.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,aa):aa;function na(a){const t=a.ref;return gr(t)?t.files:pr(t)?kn(a.refs).value:yn(t)?[...t.selectedOptions].map(({value:s})=>s):Wt(t)?jn(a.refs).value:Nn(re(t.value)?a.ref.value:t.value,a)}var Nd=(a,t,s,r)=>{const n={};for(const i of a){const o=M(t,i);o&&Y(n,i,o._f)}return{criteriaMode:s,names:[...a],fields:n,shouldUseNativeValidation:r}},ns=a=>a instanceof RegExp,Et=a=>re(a)?a:ns(a)?a.source:se(a)?ns(a.value)?a.value.source:a.value:a,ia=a=>({isOnSubmit:!a||a===je.onSubmit,isOnBlur:a===je.onBlur,isOnChange:a===je.onChange,isOnAll:a===je.all,isOnTouch:a===je.onTouched});const oa="AsyncFunction";var kd=a=>!!a&&!!a.validate&&!!(Ne(a.validate)&&a.validate.constructor.name===oa||se(a.validate)&&Object.values(a.validate).find(t=>t.constructor.name===oa)),_d=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate),la=(a,t,s)=>!s&&(t.watchAll||t.watch.has(a)||[...t.watch].some(r=>a.startsWith(r)&&/^\.\w+/.test(a.slice(r.length))));const Rt=(a,t,s,r)=>{for(const n of s||Object.keys(a)){const i=M(a,n);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Rt(c,t))break}else if(se(c)&&Rt(c,t))break}}};function ca(a,t,s){const r=M(a,s);if(r||xr(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=M(t,i),c=M(a,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(c&&c.type)return{name:i,error:c};n.pop()}return{name:s}}var Sd=(a,t,s,r)=>{s(a);const{name:n,...i}=a;return ce(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||je.all))},Cd=(a,t,s)=>!a||!t||a===t||Mt(a).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),Ed=(a,t,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||a):(s?r.isOnBlur:n.isOnBlur)?!a:(s?r.isOnChange:n.isOnChange)?a:!0,Pd=(a,t)=>!vs(M(a,t)).length&&ae(a,t),Td=(a,t,s)=>{const r=Mt(M(a,s));return Y(r,"root",t[s]),Y(a,s,r),a},Qt=a=>Te(a);function da(a,t,s="validate"){if(Qt(a)||Array.isArray(a)&&a.every(Qt)||Ee(a)&&!a)return{type:s,message:Qt(a)?a:"",ref:t}}var ut=a=>se(a)&&!ns(a)?a:{value:a,message:""},ua=async(a,t,s,r,n,i)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:v,valueAsNumber:x,mount:N}=a._f,g=M(s,v);if(!N||t.has(v))return{};const P=c?c[0]:o,D=_=>{n&&P.reportValidity&&(P.setCustomValidity(Ee(_)?"":_||""),P.reportValidity())},w={},k=pr(o),O=Wt(o),L=k||O,B=(x||gr(o))&&re(o.value)&&re(g)||rs(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=bn.bind(null,v,r,w),U=(_,$,R,W=De.maxLength,V=De.minLength)=>{const X=_?$:R;w[v]={type:_?W:V,message:X,ref:o,...I(_?W:V,X)}};if(i?!Array.isArray(g)||!g.length:l&&(!L&&(B||de(g))||Ee(g)&&!g||O&&!jn(c).isValid||k&&!kn(c).isValid)){const{value:_,message:$}=Qt(l)?{value:!!l,message:l}:ut(l);if(_&&(w[v]={type:De.required,message:$,ref:P,...I(De.required,$)},!r))return D($),w}if(!B&&(!de(f)||!de(h))){let _,$;const R=ut(h),W=ut(f);if(!de(g)&&!isNaN(g)){const V=o.valueAsNumber||g&&+g;de(R.value)||(_=V>R.value),de(W.value)||($=V<W.value)}else{const V=o.valueAsDate||new Date(g),X=_e=>new Date(new Date().toDateString()+" "+_e),ie=o.type=="time",pe=o.type=="week";Te(R.value)&&g&&(_=ie?X(g)>X(R.value):pe?g>R.value:V>new Date(R.value)),Te(W.value)&&g&&($=ie?X(g)<X(W.value):pe?g<W.value:V<new Date(W.value))}if((_||$)&&(U(!!_,R.message,W.message,De.max,De.min),!r))return D(w[v].message),w}if((u||d)&&!B&&(Te(g)||i&&Array.isArray(g))){const _=ut(u),$=ut(d),R=!de(_.value)&&g.length>+_.value,W=!de($.value)&&g.length<+$.value;if((R||W)&&(U(R,_.message,$.message),!r))return D(w[v].message),w}if(p&&!B&&Te(g)){const{value:_,message:$}=ut(p);if(ns(_)&&!g.match(_)&&(w[v]={type:De.pattern,message:$,ref:o,...I(De.pattern,$)},!r))return D($),w}if(y){if(Ne(y)){const _=await y(g,s),$=da(_,P);if($&&(w[v]={...$,...I(De.validate,$.message)},!r))return D($.message),w}else if(se(y)){let _={};for(const $ in y){if(!ce(_)&&!r)break;const R=da(await y[$](g,s),P,$);R&&(_={...R,...I($,R.message)},D(R.message),r&&(w[v]=_))}if(!ce(_)&&(w[v]={ref:P,..._},!r))return w}}return D(!0),w};const Dd={mode:je.onSubmit,reValidateMode:je.onChange,shouldFocusError:!0};function Ad(a={}){let t={...Dd,...a},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ne(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let n=se(t.defaultValues)||se(t.values)?le(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:le(n),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:ta(),state:ta()},p=t.criteriaMode===je.all,y=b=>j=>{clearTimeout(u),u=setTimeout(b,j)},v=async b=>{if(!t.disabled&&(d.isValid||f.isValid||b)){const j=t.resolver?ce((await O()).errors):await B(r,!0);j!==s.isValid&&h.state.next({isValid:j})}},x=(b,j)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((b||Array.from(c.mount)).forEach(S=>{S&&(j?Y(s.validatingFields,S,j):ae(s.validatingFields,S))}),h.state.next({validatingFields:s.validatingFields,isValidating:!ce(s.validatingFields)}))},N=(b,j=[],S,A,T=!0,E=!0)=>{if(A&&S&&!t.disabled){if(o.action=!0,E&&Array.isArray(M(r,b))){const F=S(M(r,b),A.argA,A.argB);T&&Y(r,b,F)}if(E&&Array.isArray(M(s.errors,b))){const F=S(M(s.errors,b),A.argA,A.argB);T&&Y(s.errors,b,F),Pd(s.errors,b)}if((d.touchedFields||f.touchedFields)&&E&&Array.isArray(M(s.touchedFields,b))){const F=S(M(s.touchedFields,b),A.argA,A.argB);T&&Y(s.touchedFields,b,F)}(d.dirtyFields||f.dirtyFields)&&(s.dirtyFields=Ct(n,i)),h.state.next({name:b,isDirty:U(b,j),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Y(i,b,j)},g=(b,j)=>{Y(s.errors,b,j),h.state.next({errors:s.errors})},P=b=>{s.errors=b,h.state.next({errors:s.errors,isValid:!1})},D=(b,j,S,A)=>{const T=M(r,b);if(T){const E=M(i,b,re(S)?M(n,b):S);re(E)||A&&A.defaultChecked||j?Y(i,b,j?E:na(T._f)):R(b,E),o.mount&&v()}},w=(b,j,S,A,T)=>{let E=!1,F=!1;const J={name:b};if(!t.disabled){if(!S||A){(d.isDirty||f.isDirty)&&(F=s.isDirty,s.isDirty=J.isDirty=U(),E=F!==J.isDirty);const K=Je(M(n,b),j);F=!!M(s.dirtyFields,b),K?ae(s.dirtyFields,b):Y(s.dirtyFields,b,!0),J.dirtyFields=s.dirtyFields,E=E||(d.dirtyFields||f.dirtyFields)&&F!==!K}if(S){const K=M(s.touchedFields,b);K||(Y(s.touchedFields,b,S),J.touchedFields=s.touchedFields,E=E||(d.touchedFields||f.touchedFields)&&K!==S)}E&&T&&h.state.next(J)}return E?J:{}},k=(b,j,S,A)=>{const T=M(s.errors,b),E=(d.isValid||f.isValid)&&Ee(j)&&s.isValid!==j;if(t.delayError&&S?(l=y(()=>g(b,S)),l(t.delayError)):(clearTimeout(u),l=null,S?Y(s.errors,b,S):ae(s.errors,b)),(S?!Je(T,S):T)||!ce(A)||E){const F={...A,...E&&Ee(j)?{isValid:j}:{},errors:s.errors,name:b};s={...s,...F},h.state.next(F)}},O=async b=>{x(b,!0);const j=await t.resolver(i,t.context,Nd(b||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(b),j},L=async b=>{const{errors:j}=await O(b);if(b)for(const S of b){const A=M(j,S);A?Y(s.errors,S,A):ae(s.errors,S)}else s.errors=j;return j},B=async(b,j,S={valid:!0})=>{for(const A in b){const T=b[A];if(T){const{_f:E,...F}=T;if(E){const J=c.array.has(E.name),K=T._f&&kd(T._f);K&&d.validatingFields&&x([A],!0);const be=await ua(T,c.disabled,i,p,t.shouldUseNativeValidation&&!j,J);if(K&&d.validatingFields&&x([A]),be[E.name]&&(S.valid=!1,j))break;!j&&(M(be,E.name)?J?Td(s.errors,be,E.name):Y(s.errors,E.name,be[E.name]):ae(s.errors,E.name))}!ce(F)&&await B(F,j,S)}}return S.valid},I=()=>{for(const b of c.unMount){const j=M(r,b);j&&(j._f.refs?j._f.refs.every(S=>!Ms(S)):!Ms(j._f.ref))&&ot(b)}c.unMount=new Set},U=(b,j)=>!t.disabled&&(b&&j&&Y(i,b,j),!Je(_e(),n)),_=(b,j,S)=>yd(b,c,{...o.mount?i:re(j)?n:Te(b)?{[b]:j}:j},S,j),$=b=>vs(M(o.mount?i:n,b,t.shouldUnregister?M(n,b,[]):[])),R=(b,j,S={})=>{const A=M(r,b);let T=j;if(A){const E=A._f;E&&(!E.disabled&&Y(i,b,Nn(j,E)),T=rs(E.ref)&&de(j)?"":j,yn(E.ref)?[...E.ref.options].forEach(F=>F.selected=T.includes(F.value)):E.refs?Wt(E.ref)?E.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(T)?F.checked=!!T.find(J=>J===F.value):F.checked=T===F.value||!!T)}):E.refs.forEach(F=>F.checked=F.value===T):gr(E.ref)?E.ref.value="":(E.ref.value=T,E.ref.type||h.state.next({name:b,values:le(i)})))}(S.shouldDirty||S.shouldTouch)&&w(b,T,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&pe(b)},W=(b,j,S)=>{for(const A in j){if(!j.hasOwnProperty(A))return;const T=j[A],E=`${b}.${A}`,F=M(r,E);(c.array.has(b)||se(T)||F&&!F._f)&&!st(T)?W(E,T,S):R(E,T,S)}},V=(b,j,S={})=>{const A=M(r,b),T=c.array.has(b),E=le(j);Y(i,b,E),T?(h.array.next({name:b,values:le(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&S.shouldDirty&&h.state.next({name:b,dirtyFields:Ct(n,i),isDirty:U(b,E)})):A&&!A._f&&!de(E)?W(b,E,S):R(b,E,S),la(b,c)&&h.state.next({...s}),h.state.next({name:o.mount?b:void 0,values:le(i)})},X=async b=>{o.mount=!0;const j=b.target;let S=j.name,A=!0;const T=M(r,S),E=K=>{A=Number.isNaN(K)||st(K)&&isNaN(K.getTime())||Je(K,M(i,S,K))},F=ia(t.mode),J=ia(t.reValidateMode);if(T){let K,be;const Ht=j.type?na(T._f):md(b),Ue=b.type===ea.BLUR||b.type===ea.FOCUS_OUT,zn=!_d(T._f)&&!t.resolver&&!M(s.errors,S)&&!T._f.deps||Ed(Ue,M(s.touchedFields,S),s.isSubmitted,J,F),Ss=la(S,c,Ue);Y(i,S,Ht),Ue?(T._f.onBlur&&T._f.onBlur(b),l&&l(0)):T._f.onChange&&T._f.onChange(b);const Cs=w(S,Ht,Ue),Jn=!ce(Cs)||Ss;if(!Ue&&h.state.next({name:S,type:b.type,values:le(i)}),zn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ue&&v():Ue||v()),Jn&&h.state.next({name:S,...Ss?{}:Cs});if(!Ue&&Ss&&h.state.next({...s}),t.resolver){const{errors:Dr}=await O([S]);if(E(Ht),A){const Gn=ca(s.errors,r,S),Ar=ca(Dr,r,Gn.name||S);K=Ar.error,S=Ar.name,be=ce(Dr)}}else x([S],!0),K=(await ua(T,c.disabled,i,p,t.shouldUseNativeValidation))[S],x([S]),E(Ht),A&&(K?be=!1:(d.isValid||f.isValid)&&(be=await B(r,!0)));A&&(T._f.deps&&pe(T._f.deps),k(S,be,K,Cs))}},ie=(b,j)=>{if(M(s.errors,j)&&b.focus)return b.focus(),1},pe=async(b,j={})=>{let S,A;const T=Mt(b);if(t.resolver){const E=await L(re(b)?b:T);S=ce(E),A=b?!T.some(F=>M(E,F)):S}else b?(A=(await Promise.all(T.map(async E=>{const F=M(r,E);return await B(F&&F._f?{[E]:F}:F)}))).every(Boolean),!(!A&&!s.isValid)&&v()):A=S=await B(r);return h.state.next({...!Te(b)||(d.isValid||f.isValid)&&S!==s.isValid?{}:{name:b},...t.resolver||!b?{isValid:S}:{},errors:s.errors}),j.shouldFocus&&!A&&Rt(r,ie,b?T:c.mount),A},_e=b=>{const j={...o.mount?i:n};return re(b)?j:Te(b)?M(j,b):b.map(S=>M(j,S))},Le=(b,j)=>({invalid:!!M((j||s).errors,b),isDirty:!!M((j||s).dirtyFields,b),error:M((j||s).errors,b),isValidating:!!M(s.validatingFields,b),isTouched:!!M((j||s).touchedFields,b)}),Qe=b=>{b&&Mt(b).forEach(j=>ae(s.errors,j)),h.state.next({errors:b?s.errors:{}})},Ie=(b,j,S)=>{const A=(M(r,b,{_f:{}})._f||{}).ref,T=M(s.errors,b)||{},{ref:E,message:F,type:J,...K}=T;Y(s.errors,b,{...K,...j,ref:A}),h.state.next({name:b,errors:s.errors,isValid:!1}),S&&S.shouldFocus&&A&&A.focus&&A.focus()},qt=(b,j)=>Ne(b)?h.state.subscribe({next:S=>b(_(void 0,j),S)}):_(b,j,!0),kt=b=>h.state.subscribe({next:j=>{Cd(b.name,j.name,b.exact)&&Sd(j,b.formState||d,Hn,b.reRenderRoot)&&b.callback({values:{...i},...s,...j})}}).unsubscribe,Vt=b=>(o.mount=!0,f={...f,...b.formState},kt({...b,formState:f})),ot=(b,j={})=>{for(const S of b?Mt(b):c.mount)c.mount.delete(S),c.array.delete(S),j.keepValue||(ae(r,S),ae(i,S)),!j.keepError&&ae(s.errors,S),!j.keepDirty&&ae(s.dirtyFields,S),!j.keepTouched&&ae(s.touchedFields,S),!j.keepIsValidating&&ae(s.validatingFields,S),!t.shouldUnregister&&!j.keepDefaultValue&&ae(n,S);h.state.next({values:le(i)}),h.state.next({...s,...j.keepDirty?{isDirty:U()}:{}}),!j.keepIsValid&&v()},_r=({disabled:b,name:j})=>{(Ee(b)&&o.mount||b||c.disabled.has(j))&&(b?c.disabled.add(j):c.disabled.delete(j))},_s=(b,j={})=>{let S=M(r,b);const A=Ee(j.disabled)||Ee(t.disabled);return Y(r,b,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:b}},name:b,mount:!0,...j}}),c.mount.add(b),S?_r({disabled:Ee(j.disabled)?j.disabled:t.disabled,name:b}):D(b,!0,j.value),{...A?{disabled:j.disabled||t.disabled}:{},...t.progressive?{required:!!j.required,min:Et(j.min),max:Et(j.max),minLength:Et(j.minLength),maxLength:Et(j.maxLength),pattern:Et(j.pattern)}:{},name:b,onChange:X,onBlur:X,ref:T=>{if(T){_s(b,j),S=M(r,b);const E=re(T.value)&&T.querySelectorAll&&T.querySelectorAll("input,select,textarea")[0]||T,F=vd(E),J=S._f.refs||[];if(F?J.find(K=>K===E):E===S._f.ref)return;Y(r,b,{_f:{...S._f,...F?{refs:[...J.filter(Ms),E,...Array.isArray(M(n,b))?[{}]:[]],ref:{type:E.type,name:b}}:{ref:E}}}),D(b,!1,void 0,E)}else S=M(r,b,{}),S._f&&(S._f.mount=!1),(t.shouldUnregister||j.shouldUnregister)&&!(xd(c.array,b)&&o.action)&&c.unMount.add(b)}}},Sr=()=>t.shouldFocusError&&Rt(r,ie,c.mount),Wn=b=>{Ee(b)&&(h.state.next({disabled:b}),Rt(r,(j,S)=>{const A=M(r,S);A&&(j.disabled=A._f.disabled||b,Array.isArray(A._f.refs)&&A._f.refs.forEach(T=>{T.disabled=A._f.disabled||b}))},0,!1))},Cr=(b,j)=>async S=>{let A;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let T=le(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:E,values:F}=await O();s.errors=E,T=F}else await B(r);if(c.disabled.size)for(const E of c.disabled)Y(T,E,void 0);if(ae(s.errors,"root"),ce(s.errors)){h.state.next({errors:{}});try{await b(T,S)}catch(E){A=E}}else j&&await j({...s.errors},S),Sr(),setTimeout(Sr);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ce(s.errors)&&!A,submitCount:s.submitCount+1,errors:s.errors}),A)throw A},qn=(b,j={})=>{M(r,b)&&(re(j.defaultValue)?V(b,le(M(n,b))):(V(b,j.defaultValue),Y(n,b,le(j.defaultValue))),j.keepTouched||ae(s.touchedFields,b),j.keepDirty||(ae(s.dirtyFields,b),s.isDirty=j.defaultValue?U(b,le(M(n,b))):U()),j.keepError||(ae(s.errors,b),d.isValid&&v()),h.state.next({...s}))},Er=(b,j={})=>{const S=b?le(b):n,A=le(S),T=ce(b),E=T?n:A;if(j.keepDefaultValues||(n=S),!j.keepValues){if(j.keepDirtyValues){const F=new Set([...c.mount,...Object.keys(Ct(n,i))]);for(const J of Array.from(F))M(s.dirtyFields,J)?Y(E,J,M(i,J)):V(J,M(E,J))}else{if(fr&&re(b))for(const F of c.mount){const J=M(r,F);if(J&&J._f){const K=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(rs(K)){const be=K.closest("form");if(be){be.reset();break}}}}for(const F of c.mount)V(F,M(E,F))}i=le(E),h.array.next({values:{...E}}),h.state.next({values:{...E}})}c={mount:j.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?s.submitCount:0,isDirty:T?!1:j.keepDirty?s.isDirty:!!(j.keepDefaultValues&&!Je(b,n)),isSubmitted:j.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:T?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Ct(n,i):s.dirtyFields:j.keepDefaultValues&&b?Ct(n,b):j.keepDirty?s.dirtyFields:{},touchedFields:j.keepTouched?s.touchedFields:{},errors:j.keepErrors?s.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Pr=(b,j)=>Er(Ne(b)?b(i):b,j),Vn=(b,j={})=>{const S=M(r,b),A=S&&S._f;if(A){const T=A.refs?A.refs[0]:A.ref;T.focus&&(T.focus(),j.shouldSelect&&Ne(T.select)&&T.select())}},Hn=b=>{s={...s,...b}},Tr={control:{register:_s,unregister:ot,getFieldState:Le,handleSubmit:Cr,setError:Ie,_subscribe:kt,_runSchema:O,_getWatch:_,_getDirty:U,_setValid:v,_setFieldArray:N,_setDisabledField:_r,_setErrors:P,_getFieldArray:$,_reset:Er,_resetDefaultValues:()=>Ne(t.defaultValues)&&t.defaultValues().then(b=>{Pr(b,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Wn,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(b){o=b},get _defaultValues(){return n},get _names(){return c},set _names(b){c=b},get _formState(){return s},get _options(){return t},set _options(b){t={...t,...b}}},subscribe:Vt,trigger:pe,register:_s,handleSubmit:Cr,watch:qt,setValue:V,getValues:_e,reset:Pr,resetField:qn,clearErrors:Qe,unregister:ot,setError:Ie,setFocus:Vn,getFieldState:Le};return{...Tr,formControl:Tr}}function br(a={}){const t=Se.useRef(void 0),s=Se.useRef(void 0),[r,n]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Ne(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,isReady:!1,defaultValues:Ne(a.defaultValues)?void 0:a.defaultValues});t.current||(t.current={...a.formControl?a.formControl:Ad(a),formState:r},a.formControl&&a.defaultValues&&!Ne(a.defaultValues)&&a.formControl.reset(a.defaultValues,a.resetOptions));const i=t.current.control;return i._options=a,bd(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),Se.useEffect(()=>i._disableForm(a.disabled),[i,a.disabled]),Se.useEffect(()=>{a.mode&&(i._options.mode=a.mode),a.reValidateMode&&(i._options.reValidateMode=a.reValidateMode),a.errors&&!ce(a.errors)&&i._setErrors(a.errors)},[i,a.errors,a.mode,a.reValidateMode]),Se.useEffect(()=>{a.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,a.shouldUnregister]),Se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Se.useEffect(()=>{a.values&&!Je(a.values,s.current)?(i._reset(a.values,i._options.resetOptions),s.current=a.values,n(o=>({...o}))):i._resetDefaultValues()},[i,a.values]),Se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=pd(r,i),t.current}const ha=(a,t,s)=>{if(a&&"reportValidity"in a){const r=M(s,t);a.setCustomValidity(r&&r.message||""),a.reportValidity()}},_n=(a,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?ha(r.ref,s,a):r.refs&&r.refs.forEach(n=>ha(n,s,a))}},Od=(a,t)=>{t.shouldUseNativeValidation&&_n(a,t);const s={};for(const r in a){const n=M(t.fields,r),i=Object.assign(a[r]||{},{ref:n&&n.ref});if($d(t.names||Object.keys(a),r)){const o=Object.assign({},M(s,r));Y(o,"root",i),Y(s,r,o)}else Y(s,r,i)}return s},$d=(a,t)=>a.some(s=>s.startsWith(t+"."));function yr(a,t,s){return t===void 0&&(t={}),s===void 0&&(s={}),function(r,n,i){try{return Promise.resolve(function(o,c){try{var l=(t.context,Promise.resolve(a[s.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:n}))).then(function(u){return i.shouldUseNativeValidation&&_n({},i),{values:s.raw?r:u,errors:{}}}))}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:Od((c=o,l=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(c.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),l){var f=u[d.path].types,h=f&&f[d.type];u[d.path]=bn(d.path,l,u,d.type,h?[].concat(h,d.message):d.message)}return u},{})),i)};var c,l}))}catch(o){return Promise.reject(o)}}}function it(a){this._maxSize=a,this.clear()}it.prototype.clear=function(){this._size=0,this._values=Object.create(null)};it.prototype.get=function(a){return this._values[a]};it.prototype.set=function(a,t){return this._size>=this._maxSize&&this.clear(),a in this._values||this._size++,this._values[a]=t};var Md=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Sn=/^\d+$/,Rd=/^\d/,Fd=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Ld=/^\s*(['"]?)(.*?)(\1)\s*$/,vr=512,ma=new it(vr),fa=new it(vr),xa=new it(vr),rt={Cache:it,split:tr,normalizePath:Rs,setter:function(a){var t=Rs(a);return fa.get(a)||fa.set(a,function(r,n){for(var i=0,o=t.length,c=r;i<o-1;){var l=t[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;c=c[t[i++]]}c[t[i]]=n})},getter:function(a,t){var s=Rs(a);return xa.get(a)||xa.set(a,function(n){for(var i=0,o=s.length;i<o;)if(n!=null||!t)n=n[s[i++]];else return;return n})},join:function(a){return a.reduce(function(t,s){return t+(wr(s)||Sn.test(s)?"["+s+"]":(t?".":"")+s)},"")},forEach:function(a,t,s){Id(Array.isArray(a)?a:tr(a),t,s)}};function Rs(a){return ma.get(a)||ma.set(a,tr(a).map(function(t){return t.replace(Ld,"$2")}))}function tr(a){return a.match(Md)||[""]}function Id(a,t,s){var r=a.length,n,i,o,c;for(i=0;i<r;i++)n=a[i],n&&(Wd(n)&&(n='"'+n+'"'),c=wr(n),o=!c&&/^\d+$/.test(n),t.call(s,n,c,o,i,a))}function wr(a){return typeof a=="string"&&a&&["'",'"'].indexOf(a.charAt(0))!==-1}function Ud(a){return a.match(Rd)&&!a.match(Sn)}function Bd(a){return Fd.test(a)}function Wd(a){return!wr(a)&&(Ud(a)||Bd(a))}const qd=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ws=a=>a.match(qd)||[],js=a=>a[0].toUpperCase()+a.slice(1),jr=(a,t)=>ws(a).join(t).toLowerCase(),Cn=a=>ws(a).reduce((t,s)=>`${t}${t?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,""),Vd=a=>js(Cn(a)),Hd=a=>jr(a,"_"),zd=a=>jr(a,"-"),Jd=a=>js(jr(a," ")),Gd=a=>ws(a).map(js).join(" ");var Fs={words:ws,upperFirst:js,camelCase:Cn,pascalCase:Vd,snakeCase:Hd,kebabCase:zd,sentenceCase:Jd,titleCase:Gd},Nr={exports:{}};Nr.exports=function(a){return En(Yd(a),a)};Nr.exports.array=En;function En(a,t){var s=a.length,r=new Array(s),n={},i=s,o=Kd(t),c=Qd(a);for(t.forEach(function(u){if(!c.has(u[0])||!c.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||l(a[i],i,new Set);return r;function l(u,d,f){if(f.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!c.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!n[d]){n[d]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var y=p[--d];l(y,c.get(y),f)}while(d);f.delete(u)}r[--s]=u}}}function Yd(a){for(var t=new Set,s=0,r=a.length;s<r;s++){var n=a[s];t.add(n[0]),t.add(n[1])}return Array.from(t)}function Kd(a){for(var t=new Map,s=0,r=a.length;s<r;s++){var n=a[s];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}function Qd(a){for(var t=new Map,s=0,r=a.length;s<r;s++)t.set(a[s],s);return t}var Zd=Nr.exports;const Xd=Qn(Zd),eu=Object.prototype.toString,tu=Error.prototype.toString,su=RegExp.prototype.toString,ru=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",au=/^Symbol\((.*)\)(.*)$/;function nu(a){return a!=+a?"NaN":a===0&&1/a<0?"-0":""+a}function ga(a,t=!1){if(a==null||a===!0||a===!1)return""+a;const s=typeof a;if(s==="number")return nu(a);if(s==="string")return t?`"${a}"`:a;if(s==="function")return"[Function "+(a.name||"anonymous")+"]";if(s==="symbol")return ru.call(a).replace(au,"Symbol($1)");const r=eu.call(a).slice(8,-1);return r==="Date"?isNaN(a.getTime())?""+a:a.toISOString(a):r==="Error"||a instanceof Error?"["+tu.call(a)+"]":r==="RegExp"?su.call(a):null}function Ge(a,t){let s=ga(a,t);return s!==null?s:JSON.stringify(a,function(r,n){let i=ga(this[r],t);return i!==null?i:n},2)}function Pn(a){return a==null?[]:[].concat(a)}let Tn,Dn,An,iu=/\$\{\s*(\w+)\s*\}/g;Tn=Symbol.toStringTag;class pa{constructor(t,s,r,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Tn]="Error",this.name="ValidationError",this.value=s,this.path=r,this.type=n,this.errors=[],this.inner=[],Pn(t).forEach(i=>{if(fe.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Dn=Symbol.hasInstance;An=Symbol.toStringTag;class fe extends Error{static formatError(t,s){const r=s.label||s.path||"this";return s=Object.assign({},s,{path:r,originalPath:s.path}),typeof t=="string"?t.replace(iu,(n,i)=>Ge(s[i])):typeof t=="function"?t(s):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,s,r,n,i){const o=new pa(t,s,r,n);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[An]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,fe)}static[Dn](t){return pa[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Pe={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:a,type:t,value:s,originalValue:r})=>{const n=r!=null&&r!==s?` (cast from the value \`${Ge(r,!0)}\`).`:".";return t!=="mixed"?`${a} must be a \`${t}\` type, but the final value was: \`${Ge(s,!0)}\``+n:`${a} must match the configured type. The validated value was: \`${Ge(s,!0)}\``+n}},he={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ou={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sr={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},rr={isValue:"${path} field must be ${value}"},Zt={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},lu={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},cu={notType:a=>{const{path:t,value:s,spec:r}=a,n=r.types.length;if(Array.isArray(s)){if(s.length<n)return`${t} tuple value has too few items, expected a length of ${n} but got ${s.length} for value: \`${Ge(s,!0)}\``;if(s.length>n)return`${t} tuple value has too many items, expected a length of ${n} but got ${s.length} for value: \`${Ge(s,!0)}\``}return fe.formatError(Pe.notType,a)}};Object.assign(Object.create(null),{mixed:Pe,string:he,number:ou,date:sr,object:Zt,array:lu,boolean:rr,tuple:cu});const kr=a=>a&&a.__isYupSchema__;class is{static fromOptions(t,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:n,otherwise:i}=s,o=typeof r=="function"?r:(...c)=>c.every(l=>l===r);return new is(t,(c,l)=>{var u;let d=o(...c)?n:i;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(t,s){this.fn=void 0,this.refs=t,this.refs=t,this.fn=s}resolve(t,s){let r=this.refs.map(i=>i.getValue(s==null?void 0:s.value,s==null?void 0:s.parent,s==null?void 0:s.context)),n=this.fn(r,t,s);if(n===void 0||n===t)return t;if(!kr(n))throw new TypeError("conditions must return a schema object");return n.resolve(s)}}const Kt={context:"$",value:"."};function du(a,t){return new Ke(a,t)}class Ke{constructor(t,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Kt.context,this.isValue=this.key[0]===Kt.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Kt.context:this.isValue?Kt.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&rt.getter(this.path,!0),this.map=s.map}getValue(t,s,r){let n=this.isContext?r:this.isValue?t:s;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(t,s){return this.getValue(t,s==null?void 0:s.parent,s==null?void 0:s.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ke.prototype.__isYupRef=!0;const Me=a=>a==null;function ht(a){function t({value:s,path:r="",options:n,originalValue:i,schema:o},c,l){const{name:u,test:d,params:f,message:h,skipAbsent:p}=a;let{parent:y,context:v,abortEarly:x=o.spec.abortEarly,disableStackTrace:N=o.spec.disableStackTrace}=n;function g(U){return Ke.isRef(U)?U.getValue(s,y,v):U}function P(U={}){const _=Object.assign({value:s,originalValue:i,label:o.spec.label,path:U.path||r,spec:o.spec,disableStackTrace:U.disableStackTrace||N},f,U.params);for(const R of Object.keys(_))_[R]=g(_[R]);const $=new fe(fe.formatError(U.message||h,_),s,_.path,U.type||u,_.disableStackTrace);return $.params=_,$}const D=x?c:l;let w={path:r,parent:y,type:u,from:n.from,createError:P,resolve:g,options:n,originalValue:i,schema:o};const k=U=>{fe.isError(U)?D(U):U?l(null):D(P())},O=U=>{fe.isError(U)?D(U):c(U)};if(p&&Me(s))return k(!0);let B;try{var I;if(B=d.call(w,s,w),typeof((I=B)==null?void 0:I.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(B).then(k,O)}}catch(U){O(U);return}k(B)}return t.OPTIONS=a,t}function uu(a,t,s,r=s){let n,i,o;return t?(rt.forEach(t,(c,l,u)=>{let d=l?c.slice(1,c.length-1):c;a=a.resolve({context:r,parent:n,value:s});let f=a.type==="tuple",h=u?parseInt(d,10):0;if(a.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(s&&h>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);n=s,s=s&&s[h],a=f?a.spec.types[h]:a.innerType}if(!u){if(!a.fields||!a.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${a.type}")`);n=s,s=s&&s[d],a=a.fields[d]}i=d,o=l?"["+c+"]":"."+c}),{schema:a,parent:n,parentPath:i}):{parent:n,parentPath:t,schema:a}}class os extends Set{describe(){const t=[];for(const s of this.values())t.push(Ke.isRef(s)?s.describe():s);return t}resolveAll(t){let s=[];for(const r of this.values())s.push(t(r));return s}clone(){return new os(this.values())}merge(t,s){const r=this.clone();return t.forEach(n=>r.add(n)),s.forEach(n=>r.delete(n)),r}}function xt(a,t=new Map){if(kr(a)||!a||typeof a!="object")return a;if(t.has(a))return t.get(a);let s;if(a instanceof Date)s=new Date(a.getTime()),t.set(a,s);else if(a instanceof RegExp)s=new RegExp(a),t.set(a,s);else if(Array.isArray(a)){s=new Array(a.length),t.set(a,s);for(let r=0;r<a.length;r++)s[r]=xt(a[r],t)}else if(a instanceof Map){s=new Map,t.set(a,s);for(const[r,n]of a.entries())s.set(r,xt(n,t))}else if(a instanceof Set){s=new Set,t.set(a,s);for(const r of a)s.add(xt(r,t))}else if(a instanceof Object){s={},t.set(a,s);for(const[r,n]of Object.entries(a))s[r]=xt(n,t)}else throw Error(`Unable to clone ${a}`);return s}class ke{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new os,this._blacklist=new os,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Pe.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=xt(Object.assign({},this.spec,t)),s}label(t){let s=this.clone();return s.spec.label=t,s}meta(...t){if(t.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},t[0]),s}withMutation(t){let s=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=s,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let s=this,r=t.clone();const n=Object.assign({},s.spec,r.spec);return r.spec=n,r.internalTests=Object.assign({},s.internalTests,r.internalTests),r._whitelist=s._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=s._blacklist.merge(t._blacklist,t._whitelist),r.tests=s.tests,r.exclusiveTests=s.exclusiveTests,r.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...s.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let s=this;if(s.conditions.length){let r=s.conditions;s=s.clone(),s.conditions=[],s=r.reduce((n,i)=>i.resolve(n,t),s),s=s.resolve(t)}return s}resolveOptions(t){var s,r,n,i;return Object.assign({},t,{from:t.from||[],strict:(s=t.strict)!=null?s:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(n=t.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,s={}){let r=this.resolve(Object.assign({value:t},s)),n=s.assert==="ignore-optionality",i=r._cast(t,s);if(s.assert!==!1&&!r.isType(i)){if(n&&Me(i))return i;let o=Ge(t),c=Ge(i);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(c!==o?`result of cast: ${c}`:""))}return i}_cast(t,s){let r=t===void 0?t:this.transforms.reduce((n,i)=>i.call(this,n,t,this),t);return r===void 0&&(r=this.getDefault(s)),r}_validate(t,s={},r,n){let{path:i,originalValue:o=t,strict:c=this.spec.strict}=s,l=t;c||(l=this._cast(l,Object.assign({assert:!1},s)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:l,originalValue:o,options:s,tests:u},r,d=>{if(d.length)return n(d,l);this.runTests({path:i,value:l,originalValue:o,options:s,tests:this.tests},r,n)})}runTests(t,s,r){let n=!1,{tests:i,value:o,originalValue:c,path:l,options:u}=t,d=v=>{n||(n=!0,s(v,o))},f=v=>{n||(n=!0,r(v,o))},h=i.length,p=[];if(!h)return f([]);let y={value:o,originalValue:c,path:l,options:u,schema:this};for(let v=0;v<i.length;v++){const x=i[v];x(y,d,function(g){g&&(Array.isArray(g)?p.push(...g):p.push(g)),--h<=0&&f(p)})}}asNestedTest({key:t,index:s,parent:r,parentPath:n,originalParent:i,options:o}){const c=t??s;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof c=="number";let u=r[c];const d=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[c],key:void 0,[l?"index":"key"]:c,path:l||c.includes(".")?`${n||""}[${l?c:`"${c}"`}]`:(n?`${n}.`:"")+t});return(f,h,p)=>this.resolve(d)._validate(u,d,h,p)}validate(t,s){var r;let n=this.resolve(Object.assign({},s,{value:t})),i=(r=s==null?void 0:s.disableStackTrace)!=null?r:n.spec.disableStackTrace;return new Promise((o,c)=>n._validate(t,s,(l,u)=>{fe.isError(l)&&(l.value=u),c(l)},(l,u)=>{l.length?c(new fe(l,u,void 0,void 0,i)):o(u)}))}validateSync(t,s){var r;let n=this.resolve(Object.assign({},s,{value:t})),i,o=(r=s==null?void 0:s.disableStackTrace)!=null?r:n.spec.disableStackTrace;return n._validate(t,Object.assign({},s,{sync:!0}),(c,l)=>{throw fe.isError(c)&&(c.value=l),c},(c,l)=>{if(c.length)throw new fe(c,t,void 0,void 0,o);i=l}),i}isValid(t,s){return this.validate(t,s).then(()=>!0,r=>{if(fe.isError(r))return!1;throw r})}isValidSync(t,s){try{return this.validateSync(t,s),!0}catch(r){if(fe.isError(r))return!1;throw r}}_getDefault(t){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,t):xt(s)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,s){const r=this.clone({nullable:t});return r.internalTests.nullable=ht({message:s,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),r}optionality(t,s){const r=this.clone({optional:t});return r.internalTests.optionality=ht({message:s,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=Pe.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Pe.notNull){return this.nullability(!1,t)}required(t=Pe.required){return this.clone().withMutation(s=>s.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let s=this.clone();return s.transforms.push(t),s}test(...t){let s;if(t.length===1?typeof t[0]=="function"?s={test:t[0]}:s=t[0]:t.length===2?s={name:t[0],test:t[1]}:s={name:t[0],message:t[1],test:t[2]},s.message===void 0&&(s.message=Pe.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),n=ht(s),i=s.exclusive||s.name&&r.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(r.exclusiveTests[s.name]=!!s.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===s.name&&(i||o.OPTIONS.test===n.OPTIONS.test))),r.tests.push(n),r}when(t,s){!Array.isArray(t)&&typeof t!="string"&&(s=t,t=".");let r=this.clone(),n=Pn(t).map(i=>new Ke(i));return n.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof s=="function"?new is(n,s):is.fromOptions(n,s)),r}typeError(t){let s=this.clone();return s.internalTests.typeError=ht({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(t,s=Pe.oneOf){let r=this.clone();return t.forEach(n=>{r._whitelist.add(n),r._blacklist.delete(n)}),r.internalTests.whiteList=ht({message:s,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(t,s=Pe.notOneOf){let r=this.clone();return t.forEach(n=>{r._blacklist.add(n),r._whitelist.delete(n)}),r.internalTests.blacklist=ht({message:s,name:"notOneOf",test(n){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(t=!0){let s=this.clone();return s.spec.strip=t,s}describe(t){const s=(t?this.resolve(t):this).clone(),{label:r,meta:n,optional:i,nullable:o}=s.spec;return{meta:n,label:r,optional:i,nullable:o,default:s.getDefault(t),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(f=>f.name===l.name)===u)}}}ke.prototype.__isYupSchema__=!0;for(const a of["validate","validateSync"])ke.prototype[`${a}At`]=function(t,s,r={}){const{parent:n,parentPath:i,schema:o}=uu(this,t,s,r.context);return o[a](n&&n[i],Object.assign({},r,{parent:n,path:t}))};for(const a of["equals","is"])ke.prototype[a]=ke.prototype.oneOf;for(const a of["not","nope"])ke.prototype[a]=ke.prototype.notOneOf;function On(){return new $n}class $n extends ke{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,s,r)=>{if(r.spec.coerce&&!r.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=rr.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(s){return Me(s)||s===!0}})}isFalse(t=rr.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(s){return Me(s)||s===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}On.prototype=$n.prototype;const hu=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function mu(a){const t=ar(a);if(!t)return Date.parse?Date.parse(a):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let s=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(s=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(s=0-s)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+s,t.second,t.millisecond)}function ar(a){var t,s;const r=hu.exec(a);return r?{year:Ae(r[1]),month:Ae(r[2],1)-1,day:Ae(r[3],1),hour:Ae(r[4]),minute:Ae(r[5]),second:Ae(r[6]),millisecond:r[7]?Ae(r[7].substring(0,3)):0,precision:(t=(s=r[7])==null?void 0:s.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ae(r[10]),minuteOffset:Ae(r[11])}:null}function Ae(a,t=0){return Number(a)||t}let fu=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xu=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,gu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pu="^\\d{4}-\\d{2}-\\d{2}",bu="\\d{2}:\\d{2}:\\d{2}",yu="(([+-]\\d{2}(:?\\d{2})?)|Z)",vu=new RegExp(`${pu}T${bu}(\\.\\d+)?${yu}$`),wu=a=>Me(a)||a===a.trim(),ju={}.toString();function $e(){return new Mn}class Mn extends ke{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,s,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===ju?t:n})})}required(t){return super.required(t).withMutation(s=>s.test({message:t||Pe.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(s=>s.OPTIONS.name!=="required"),t))}length(t,s=he.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,s=he.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,s=he.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,s){let r=!1,n,i;return s&&(typeof s=="object"?{excludeEmptyString:r=!1,message:n,name:i}=s:n=s),this.test({name:i||"matches",message:n||he.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&r||o.search(t)!==-1})}email(t=he.email){return this.matches(fu,{name:"email",message:t,excludeEmptyString:!0})}url(t=he.url){return this.matches(xu,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=he.uuid){return this.matches(gu,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let s="",r,n;return t&&(typeof t=="object"?{message:s="",allowOffset:r=!1,precision:n=void 0}=t:s=t),this.matches(vu,{name:"datetime",message:s||he.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||he.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=ar(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:s||he.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const o=ar(i);return o?o.precision===n:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=he.trim){return this.transform(s=>s!=null?s.trim():s).test({message:t,name:"trim",test:wu})}lowercase(t=he.lowercase){return this.transform(s=>Me(s)?s:s.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Me(s)||s===s.toLowerCase()})}uppercase(t=he.uppercase){return this.transform(s=>Me(s)?s:s.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Me(s)||s===s.toUpperCase()})}}$e.prototype=Mn.prototype;let Nu=new Date(""),ku=a=>Object.prototype.toString.call(a)==="[object Date]";class Ns extends ke{constructor(){super({type:"date",check(t){return ku(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,s,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=mu(t),isNaN(t)?Ns.INVALID_DATE:new Date(t)))})}prepareParam(t,s){let r;if(Ke.isRef(t))r=t;else{let n=this.cast(t);if(!this._typeCheck(n))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(t,s=sr.min){let r=this.prepareParam(t,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(r)}})}max(t,s=sr.max){let r=this.prepareParam(t,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(r)}})}}Ns.INVALID_DATE=Nu;Ns.prototype;function _u(a,t=[]){let s=[],r=new Set,n=new Set(t.map(([o,c])=>`${o}-${c}`));function i(o,c){let l=rt.split(o)[0];r.add(l),n.has(`${c}-${l}`)||s.push([c,l])}for(const o of Object.keys(a)){let c=a[o];r.add(o),Ke.isRef(c)&&c.isSibling?i(c.path,o):kr(c)&&"deps"in c&&c.deps.forEach(l=>i(l,o))}return Xd.array(Array.from(r),s).reverse()}function ba(a,t){let s=1/0;return a.some((r,n)=>{var i;if((i=t.path)!=null&&i.includes(r))return s=n,!0}),s}function Rn(a){return(t,s)=>ba(a,t)-ba(a,s)}const Su=(a,t,s)=>{if(typeof a!="string")return a;let r=a;try{r=JSON.parse(a)}catch{}return s.isType(r)?r:a};function Xt(a){if("fields"in a){const t={};for(const[s,r]of Object.entries(a.fields))t[s]=Xt(r);return a.setFields(t)}if(a.type==="array"){const t=a.optional();return t.innerType&&(t.innerType=Xt(t.innerType)),t}return a.type==="tuple"?a.optional().clone({types:a.spec.types.map(Xt)}):"optional"in a?a.optional():a}const Cu=(a,t)=>{const s=[...rt.normalizePath(t)];if(s.length===1)return s[0]in a;let r=s.pop(),n=rt.getter(rt.join(s),!0)(a);return!!(n&&r in n)};let ya=a=>Object.prototype.toString.call(a)==="[object Object]";function va(a,t){let s=Object.keys(a.fields);return Object.keys(t).filter(r=>s.indexOf(r)===-1)}const Eu=Rn([]);function ks(a){return new Fn(a)}class Fn extends ke{constructor(t){super({type:"object",check(s){return ya(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=Eu,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,s={}){var r;let n=super._cast(t,s);if(n===void 0)return this.getDefault(s);if(!this._typeCheck(n))return n;let i=this.fields,o=(r=s.stripUnknown)!=null?r:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(n).filter(f=>!this._nodes.includes(f))),l={},u=Object.assign({},s,{parent:l,__validating:s.__validating||!1}),d=!1;for(const f of c){let h=i[f],p=f in n;if(h){let y,v=n[f];u.path=(s.path?`${s.path}.`:"")+f,h=h.resolve({value:v,context:s.context,parent:l});let x=h instanceof ke?h.spec:void 0,N=x==null?void 0:x.strict;if(x!=null&&x.strip){d=d||f in n;continue}y=!s.__validating||!N?h.cast(n[f],u):n[f],y!==void 0&&(l[f]=y)}else p&&!o&&(l[f]=n[f]);(p!==f in l||l[f]!==n[f])&&(d=!0)}return d?l:n}_validate(t,s={},r,n){let{from:i=[],originalValue:o=t,recursive:c=this.spec.recursive}=s;s.from=[{schema:this,value:o},...i],s.__validating=!0,s.originalValue=o,super._validate(t,s,r,(l,u)=>{if(!c||!ya(u)){n(l,u);return}o=o||u;let d=[];for(let f of this._nodes){let h=this.fields[f];!h||Ke.isRef(h)||d.push(h.asNestedTest({options:s,key:f,parent:u,parentPath:s.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:s},r,f=>{n(f.sort(this._sortErrors).concat(l),u)})})}clone(t){const s=super.clone(t);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(t){let s=super.concat(t),r=s.fields;for(let[n,i]of Object.entries(this.fields)){const o=r[n];r[n]=o===void 0?i:o}return s.withMutation(n=>n.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let s={};return this._nodes.forEach(r=>{var n;const i=this.fields[r];let o=t;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),s[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),s}setFields(t,s){let r=this.clone();return r.fields=t,r._nodes=_u(t,s),r._sortErrors=Rn(Object.keys(t)),s&&(r._excludedEdges=s),r}shape(t,s=[]){return this.clone().withMutation(r=>{let n=r._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),n=[...r._excludedEdges,...s]),r.setFields(Object.assign(r.fields,t),n)})}partial(){const t={};for(const[s,r]of Object.entries(this.fields))t[s]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return Xt(this)}pick(t){const s={};for(const r of t)this.fields[r]&&(s[r]=this.fields[r]);return this.setFields(s,this._excludedEdges.filter(([r,n])=>t.includes(r)&&t.includes(n)))}omit(t){const s=[];for(const r of Object.keys(this.fields))t.includes(r)||s.push(r);return this.pick(s)}from(t,s,r){let n=rt.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return Cu(i,t)&&(o=Object.assign({},i),r||delete o[t],o[s]=n(i)),o})}json(){return this.transform(Su)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Zt.exact,test(s){if(s==null)return!0;const r=va(this.schema,s);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,s=Zt.noUnknown){typeof t!="boolean"&&(s=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:s,test(n){if(n==null)return!0;const i=va(this.schema,n);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,s=Zt.noUnknown){return this.noUnknown(!t,s)}transformKeys(t){return this.transform(s=>{if(!s)return s;const r={};for(const n of Object.keys(s))r[t(n)]=s[n];return r})}camelCase(){return this.transformKeys(Fs.camelCase)}snakeCase(){return this.transformKeys(Fs.snakeCase)}constantCase(){return this.transformKeys(t=>Fs.snakeCase(t).toUpperCase())}describe(t){const s=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,o]of Object.entries(s.fields)){var n;let c=t;(n=c)!=null&&n.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),r.fields[i]=o.describe(c)}return r}}ks.prototype=Fn.prototype;const Pu=ks().shape({email:$e().email("Please enter a valid email").required("Email is required"),password:$e().required("Password is required")}),Tu=()=>{const{signIn:a}=ge(),t=It(),[s,r]=m.useState(!1),[n,i]=m.useState(""),{register:o,handleSubmit:c,formState:{errors:l}}=br({resolver:yr(Pu)}),u=async d=>{try{r(!0),i("");const{user:f}=await a(d.email,d.password);f&&t("/homeowner/dashboard")}catch(f){console.error("Login error:",f),i(f.message||"Failed to sign in. Please check your credentials.")}finally{r(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(C,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:n})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(u),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${l.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("email")}),l.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${l.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("password")}),l.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Sign in"})})]})]})},Du=ks().shape({email:$e().email("Please enter a valid email").required("Email is required"),password:$e().required("Password is required").min(8,"Password must be at least 8 characters"),confirmPassword:$e().oneOf([du("password"),null],"Passwords must match").required("Confirm password is required"),fullName:$e().required("Full name is required"),role:$e().oneOf(["homeowner","provider"],"Invalid role").required("Role is required"),agreeTerms:On().oneOf([!0],"You must agree to the terms and conditions")}),Au=()=>{const{signUp:a}=ge(),t=It(),[s,r]=m.useState(!1),[n,i]=m.useState(""),{register:o,handleSubmit:c,formState:{errors:l}}=br({resolver:yr(Du),defaultValues:{role:"homeowner",agreeTerms:!1}}),u=async d=>{try{r(!0),i("");const{data:f,error:h}=await a(d.email,d.password);if(h)throw h;if(f!=null&&f.user){const{error:p}=await ee.from("profiles").insert([{user_id:f.user.id,email:d.email,full_name:d.fullName,role:d.role,created_at:new Date}]);if(p)throw p;t("/login",{state:{message:"Registration successful! Please check your email to confirm your account."}})}}catch(f){console.error("Registration error:",f),i(f.message||"Failed to create account. Please try again.")}finally{r(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(C,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:n})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(u),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${l.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("email")}),l.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",className:`appearance-none block w-full px-3 py-2 border ${l.fullName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("fullName")}),l.fullName&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.fullName.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${l.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("password")}),l.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.password.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",className:`appearance-none block w-full px-3 py-2 border ${l.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...o("confirmPassword")}),l.confirmPassword&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.confirmPassword.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"I am a"}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("select",{id:"role",name:"role",className:`block w-full pl-3 pr-10 py-2 text-base border ${l.role?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,...o("role"),children:[e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"provider",children:"Service Provider"})]}),l.role&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.role.message})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",className:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${l.agreeTerms?"border-red-300":""}`,...o("agreeTerms")}),e.jsxs("label",{htmlFor:"agreeTerms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",e.jsx(C,{to:"/terms",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ","and"," ",e.jsx(C,{to:"/privacy",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),l.agreeTerms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.agreeTerms.message}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Create account"})})]})]})},Ou=ks().shape({email:$e().email("Please enter a valid email").required("Email is required")}),$u=()=>{const{resetPassword:a}=ge(),[t,s]=m.useState(!1),[r,n]=m.useState(""),[i,o]=m.useState(!1),{register:c,handleSubmit:l,formState:{errors:u}}=br({resolver:yr(Ou)}),d=async f=>{try{s(!0),n(""),o(!1),await a(f.email),o(!0)}catch(h){console.error("Password reset error:",h),n(h.message||"Failed to send password reset email. Please try again.")}finally{s(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."}),r&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:r})}),i&&e.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:"Password reset email sent! Check your inbox for further instructions."})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l(d),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:`appearance-none block w-full px-3 py-2 border ${u.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...c("email")}),u.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.email.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t||i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send reset link"})}),e.jsx("div",{className:"text-center",children:e.jsx(C,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to sign in"})})]})]})},Mu="https://zpnpsyiwguqwzldzptyp.supabase.co",Ru="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",He=an(Mu,Ru);function ls(a){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(a)}function ve(a){if(a===null||a===!0||a===!1)return NaN;var t=Number(a);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Z(a,t){if(t.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+t.length+" present")}function ne(a){Z(1,arguments);var t=Object.prototype.toString.call(a);return a instanceof Date||ls(a)==="object"&&t==="[object Date]"?new Date(a.getTime()):typeof a=="number"||t==="[object Number]"?new Date(a):((typeof a=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wa(a,t){Z(2,arguments);var s=ne(a),r=ve(t);return isNaN(r)?new Date(NaN):(r&&s.setDate(s.getDate()+r),s)}function Ln(a,t){Z(2,arguments);var s=ne(a),r=ve(t);if(isNaN(r))return new Date(NaN);if(!r)return s;var n=s.getDate(),i=new Date(s.getTime());i.setMonth(s.getMonth()+r+1,0);var o=i.getDate();return n>=o?i:(s.setFullYear(i.getFullYear(),i.getMonth(),n),s)}function Fu(a,t){Z(2,arguments);var s=ne(a).getTime(),r=ve(t);return new Date(s+r)}var Lu={};function Nt(){return Lu}function ja(a,t){var s,r,n,i,o,c,l,u;Z(1,arguments);var d=Nt(),f=ve((s=(r=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ne(a),p=h.getDay(),y=(p<f?7:0)+p-f;return h.setDate(h.getDate()-y),h.setHours(0,0,0,0),h}function Iu(a){var t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),a.getTime()-t.getTime()}function Na(a){Z(1,arguments);var t=ne(a);return t.setHours(0,0,0,0),t}function Ls(a,t){Z(2,arguments);var s=Na(a),r=Na(t);return s.getTime()===r.getTime()}function Uu(a){return Z(1,arguments),a instanceof Date||ls(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function Bu(a){if(Z(1,arguments),!Uu(a)&&typeof a!="number")return!1;var t=ne(a);return!isNaN(Number(t))}function Wu(a){Z(1,arguments);var t=ne(a),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function qu(a){Z(1,arguments);var t=ne(a);return t.setDate(1),t.setHours(0,0,0,0),t}function Vu(a,t){var s,r,n,i,o,c,l,u;Z(1,arguments);var d=Nt(),f=ve((s=(r=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ne(a),p=h.getDay(),y=(p<f?-7:0)+6-(p-f);return h.setDate(h.getDate()+y),h.setHours(23,59,59,999),h}function Hu(a,t){Z(2,arguments);var s=ve(t);return Fu(a,-s)}var zu=864e5;function Ju(a){Z(1,arguments);var t=ne(a),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),n=s-r;return Math.floor(n/zu)+1}function cs(a){Z(1,arguments);var t=1,s=ne(a),r=s.getUTCDay(),n=(r<t?7:0)+r-t;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function In(a){Z(1,arguments);var t=ne(a),s=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(s+1,0,4),r.setUTCHours(0,0,0,0);var n=cs(r),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var o=cs(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Gu(a){Z(1,arguments);var t=In(a),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var r=cs(s);return r}var Yu=6048e5;function Ku(a){Z(1,arguments);var t=ne(a),s=cs(t).getTime()-Gu(t).getTime();return Math.round(s/Yu)+1}function ds(a,t){var s,r,n,i,o,c,l,u;Z(1,arguments);var d=Nt(),f=ve((s=(r=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&s!==void 0?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ne(a),p=h.getUTCDay(),y=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h}function Un(a,t){var s,r,n,i,o,c,l,u;Z(1,arguments);var d=ne(a),f=d.getUTCFullYear(),h=Nt(),p=ve((s=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,p),y.setUTCHours(0,0,0,0);var v=ds(y,t),x=new Date(0);x.setUTCFullYear(f,0,p),x.setUTCHours(0,0,0,0);var N=ds(x,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=N.getTime()?f:f-1}function Qu(a,t){var s,r,n,i,o,c,l,u;Z(1,arguments);var d=Nt(),f=ve((s=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1),h=Un(a,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var y=ds(p,t);return y}var Zu=6048e5;function Xu(a,t){Z(1,arguments);var s=ne(a),r=ds(s,t).getTime()-Qu(s,t).getTime();return Math.round(r/Zu)+1}function G(a,t){for(var s=a<0?"-":"",r=Math.abs(a).toString();r.length<t;)r="0"+r;return s+r}var eh={y:function(t,s){var r=t.getUTCFullYear(),n=r>0?r:1-r;return G(s==="yy"?n%100:n,s.length)},M:function(t,s){var r=t.getUTCMonth();return s==="M"?String(r+1):G(r+1,2)},d:function(t,s){return G(t.getUTCDate(),s.length)},a:function(t,s){var r=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,s){return G(t.getUTCHours()%12||12,s.length)},H:function(t,s){return G(t.getUTCHours(),s.length)},m:function(t,s){return G(t.getUTCMinutes(),s.length)},s:function(t,s){return G(t.getUTCSeconds(),s.length)},S:function(t,s){var r=s.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return G(i,s.length)}};const Be=eh;var mt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},th={G:function(t,s,r){var n=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Be.y(t,s)},Y:function(t,s,r,n){var i=Un(t,n),o=i>0?i:1-i;if(s==="YY"){var c=o%100;return G(c,2)}return s==="Yo"?r.ordinalNumber(o,{unit:"year"}):G(o,s.length)},R:function(t,s){var r=In(t);return G(r,s.length)},u:function(t,s){var r=t.getUTCFullYear();return G(r,s.length)},Q:function(t,s,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return G(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return G(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,r){var n=t.getUTCMonth();switch(s){case"M":case"MM":return Be.M(t,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,r){var n=t.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return G(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,r,n){var i=Xu(t,n);return s==="wo"?r.ordinalNumber(i,{unit:"week"}):G(i,s.length)},I:function(t,s,r){var n=Ku(t);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):G(n,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Be.d(t,s)},D:function(t,s,r){var n=Ju(t);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):G(n,s.length)},E:function(t,s,r){var n=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return G(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,s,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return G(o,s.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,s,r){var n=t.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return G(i,s.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,r){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,s,r){var n=t.getUTCHours(),i;switch(n===12?i=mt.noon:n===0?i=mt.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,s,r){var n=t.getUTCHours(),i;switch(n>=17?i=mt.evening:n>=12?i=mt.afternoon:n>=4?i=mt.morning:i=mt.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Be.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Be.H(t,s)},K:function(t,s,r){var n=t.getUTCHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):G(n,s.length)},k:function(t,s,r){var n=t.getUTCHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):G(n,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Be.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Be.s(t,s)},S:function(t,s){return Be.S(t,s)},X:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return _a(o);case"XXXX":case"XX":return et(o);case"XXXXX":case"XXX":default:return et(o,":")}},x:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"x":return _a(o);case"xxxx":case"xx":return et(o);case"xxxxx":case"xxx":default:return et(o,":")}},O:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+ka(o,":");case"OOOO":default:return"GMT"+et(o,":")}},z:function(t,s,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+ka(o,":");case"zzzz":default:return"GMT"+et(o,":")}},t:function(t,s,r,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return G(o,s.length)},T:function(t,s,r,n){var i=n._originalDate||t,o=i.getTime();return G(o,s.length)}};function ka(a,t){var s=a>0?"-":"+",r=Math.abs(a),n=Math.floor(r/60),i=r%60;if(i===0)return s+String(n);var o=t||"";return s+String(n)+o+G(i,2)}function _a(a,t){if(a%60===0){var s=a>0?"-":"+";return s+G(Math.abs(a)/60,2)}return et(a,t)}function et(a,t){var s=t||"",r=a>0?"-":"+",n=Math.abs(a),i=G(Math.floor(n/60),2),o=G(n%60,2);return r+i+s+o}const sh=th;var Sa=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Bn=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},rh=function(t,s){var r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Sa(t,s);var o;switch(n){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",Sa(n,s)).replace("{{time}}",Bn(i,s))},ah={p:Bn,P:rh};const nh=ah;var ih=["D","DD"],oh=["YY","YYYY"];function lh(a){return ih.indexOf(a)!==-1}function ch(a){return oh.indexOf(a)!==-1}function Ca(a,t,s){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var dh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uh=function(t,s,r){var n,i=dh[t];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};const hh=uh;function Is(a){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):a.defaultWidth,r=a.formats[s]||a.formats[a.defaultWidth];return r}}var mh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gh={date:Is({formats:mh,defaultWidth:"full"}),time:Is({formats:fh,defaultWidth:"full"}),dateTime:Is({formats:xh,defaultWidth:"full"})};const ph=gh;var bh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yh=function(t,s,r,n){return bh[t]};const vh=yh;function Pt(a){return function(t,s){var r=s!=null&&s.context?String(s.context):"standalone",n;if(r==="formatting"&&a.formattingValues){var i=a.defaultFormattingWidth||a.defaultWidth,o=s!=null&&s.width?String(s.width):i;n=a.formattingValues[o]||a.formattingValues[i]}else{var c=a.defaultWidth,l=s!=null&&s.width?String(s.width):a.defaultWidth;n=a.values[l]||a.values[c]}var u=a.argumentCallback?a.argumentCallback(t):t;return n[u]}}var wh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_h={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ch=function(t,s){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Eh={ordinalNumber:Ch,era:Pt({values:wh,defaultWidth:"wide"}),quarter:Pt({values:jh,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Pt({values:Nh,defaultWidth:"wide"}),day:Pt({values:kh,defaultWidth:"wide"}),dayPeriod:Pt({values:_h,defaultWidth:"wide",formattingValues:Sh,defaultFormattingWidth:"wide"})};const Ph=Eh;function Tt(a){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,n=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],c=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],l=Array.isArray(c)?Dh(c,function(f){return f.test(o)}):Th(c,function(f){return f.test(o)}),u;u=a.valueCallback?a.valueCallback(l):l,u=s.valueCallback?s.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function Th(a,t){for(var s in a)if(a.hasOwnProperty(s)&&t(a[s]))return s}function Dh(a,t){for(var s=0;s<a.length;s++)if(t(a[s]))return s}function Ah(a){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(a.matchPattern);if(!r)return null;var n=r[0],i=t.match(a.parsePattern);if(!i)return null;var o=a.valueCallback?a.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;var c=t.slice(n.length);return{value:o,rest:c}}}var Oh=/^(\d+)(th|st|nd|rd)?/i,$h=/\d+/i,Mh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rh={any:[/^b/i,/^(a|c)/i]},Fh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lh={any:[/1/i,/2/i,/3/i,/4/i]},Ih={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hh={ordinalNumber:Ah({matchPattern:Oh,parsePattern:$h,valueCallback:function(t){return parseInt(t,10)}}),era:Tt({matchPatterns:Mh,defaultMatchWidth:"wide",parsePatterns:Rh,defaultParseWidth:"any"}),quarter:Tt({matchPatterns:Fh,defaultMatchWidth:"wide",parsePatterns:Lh,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Tt({matchPatterns:Ih,defaultMatchWidth:"wide",parsePatterns:Uh,defaultParseWidth:"any"}),day:Tt({matchPatterns:Bh,defaultMatchWidth:"wide",parsePatterns:Wh,defaultParseWidth:"any"}),dayPeriod:Tt({matchPatterns:qh,defaultMatchWidth:"any",parsePatterns:Vh,defaultParseWidth:"any"})};const zh=Hh;var Jh={code:"en-US",formatDistance:hh,formatLong:ph,formatRelative:vh,localize:Ph,match:zh,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Gh=Jh;var Yh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qh=/^'([^]*?)'?$/,Zh=/''/g,Xh=/[a-zA-Z]/;function te(a,t,s){var r,n,i,o,c,l,u,d,f,h,p,y,v,x,N,g,P,D;Z(2,arguments);var w=String(t),k=Nt(),O=(r=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:k.locale)!==null&&r!==void 0?r:Gh,L=ve((i=(o=(c=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(u=s.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:k.firstWeekContainsDate)!==null&&o!==void 0?o:(f=k.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=ve((p=(y=(v=(x=s==null?void 0:s.weekStartsOn)!==null&&x!==void 0?x:s==null||(N=s.locale)===null||N===void 0||(g=N.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&v!==void 0?v:k.weekStartsOn)!==null&&y!==void 0?y:(P=k.locale)===null||P===void 0||(D=P.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&p!==void 0?p:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var I=ne(a);if(!Bu(I))throw new RangeError("Invalid time value");var U=Iu(I),_=Hu(I,U),$={firstWeekContainsDate:L,weekStartsOn:B,locale:O,_originalDate:I},R=w.match(Kh).map(function(W){var V=W[0];if(V==="p"||V==="P"){var X=nh[V];return X(W,O.formatLong)}return W}).join("").match(Yh).map(function(W){if(W==="''")return"'";var V=W[0];if(V==="'")return em(W);var X=sh[V];if(X)return!(s!=null&&s.useAdditionalWeekYearTokens)&&ch(W)&&Ca(W,t,String(a)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&lh(W)&&Ca(W,t,String(a)),X(_,W,O.localize,$);if(V.match(Xh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return W}).join("");return R}function em(a){var t=a.match(Qh);return t?t[1].replace(Zh,"'"):a}function Us(a,t){Z(2,arguments);var s=ne(a),r=ne(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function tm(a,t){Z(2,arguments);var s=ve(t);return Ln(a,-s)}Pa.register(ti,si,ri,ai,Ta,Da);const sm=()=>{const[a,t]=m.useState(null),[s,r]=m.useState(null),[n,i]=m.useState({totalJobs:0,pendingJobs:0,completedJobs:0,totalEarnings:0}),[o,c]=m.useState([]),[l,u]=m.useState([]),[d,f]=m.useState(!0);m.useEffect(()=>{(async()=>{const{data:{session:N}}=await He.auth.getSession();N&&(t(N.user),h(N.user.id))})()},[]);const h=async x=>{try{f(!0);const{data:N,error:g}=await He.from("profiles").select("*").eq("id",x).single();if(g)throw g;r(N),i({totalJobs:24,pendingJobs:5,completedJobs:19,totalEarnings:4850}),c([{id:1,title:"Kitchen Renovation",client:"John Smith",date:new Date(2023,4,15,10,0),address:"123 Main St, Anytown, CA",status:"scheduled"},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",date:new Date(2023,4,16,14,30),address:"456 Oak Ave, Somewhere, CA",status:"confirmed"},{id:3,title:"Deck Installation",client:"Michael Brown",date:new Date(2023,4,18,9,0),address:"789 Pine Rd, Nowhere, CA",status:"pending"}]),u([{id:1,client:"Emily Wilson",rating:5,comment:"Excellent work! Very professional and completed the job ahead of schedule.",date:new Date(2023,4,10)},{id:2,client:"David Lee",rating:4,comment:"Good quality work and reasonable pricing. Would hire again.",date:new Date(2023,4,5)}])}catch(N){console.error("Error fetching provider data:",N)}finally{f(!1)}},p={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Jobs Completed",data:[3,5,2,4,3,2],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Revenue ($)",data:[750,1200,500,900,800,700],backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgb(16, 185, 129)",borderWidth:1,yAxisID:"y1"}]},y={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jobs"}},y1:{beginAtZero:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"Revenue ($)"}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Monthly Performance"}}},v=x=>Array(5).fill(0).map((N,g)=>e.jsx("svg",{className:`h-5 w-5 ${g<x?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},g));return d?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Welcome back, ",(s==null?void 0:s.first_name)||"Provider","!"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Here's what's happening with your business today."})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ks,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.totalJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/jobs",className:"font-medium text-blue-600 hover:text-blue-500",children:"View all"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(at,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.pendingJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/jobs?status=pending",className:"font-medium text-blue-600 hover:text-blue-500",children:"View pending"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(pt,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:n.completedJobs})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/jobs?status=completed",className:"font-medium text-blue-600 hover:text-blue-500",children:"View completed"})})})]}),e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(hc,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Earnings"}),e.jsx("dd",{children:e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["$",n.totalEarnings]})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/jobs",className:"font-medium text-blue-600 hover:text-blue-500",children:"View details"})})})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Overview"}),e.jsx("div",{className:"mt-4 h-72",children:e.jsx(ni,{data:p,options:y})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Jobs"}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:o.length>0?o.map(x=>e.jsx("li",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:e.jsx(Ks,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.title}),e.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Client: ",x.client]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:te(x.date,"MMM d, yyyy h:mm a")}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:x.address})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="scheduled"?"bg-green-100 text-green-800":x.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})})]})},x.id)):e.jsx("li",{className:"py-4 text-center text-gray-500",children:"No upcoming jobs"})})})]}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/calendar",className:"font-medium text-blue-600 hover:text-blue-500",children:"View calendar"})})})]})]}),e.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Reviews"}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:l.length>0?l.map(x=>e.jsx("li",{className:"py-5",children:e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:x.client}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:te(x.date,"MMM d, yyyy")})]}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:v(x.rating)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[x.rating," out of 5 stars"]})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:x.comment})})]})})},x.id)):e.jsx("li",{className:"py-5 text-center text-gray-500",children:"No reviews yet"})})})]}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/provider/profile",className:"font-medium text-blue-600 hover:text-blue-500",children:"View all reviews"})})})]})]})]})},rm=()=>{const{user:a}=ge(),{userProfile:t,updateUserProfile:s}=Fe(),[r,n]=m.useState(!0),[i,o]=m.useState(!1),[c,l]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState({first_name:"",last_name:"",company_name:"",phone:"",bio:"",services:[],years_experience:"",website:"",address:"",city:"",state:"",zip:""});m.useEffect(()=>{t&&(h({first_name:t.first_name||"",last_name:t.last_name||"",company_name:t.company_name||"",phone:t.phone||"",bio:t.bio||"",services:t.services||[],years_experience:t.years_experience||"",website:t.website||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||""}),p(),y())},[t]);const p=async()=>{try{n(!0);const w=[{id:1,client:"Emily Wilson",client_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:5,comment:"Excellent work! Very professional and completed the job ahead of schedule. The quality of work was outstanding and they were very clean and respectful of our home.",date:new Date(2023,4,10),project:"Interior Painting"},{id:2,client:"David Lee",client_avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:4,comment:"Good quality work and reasonable pricing. Would hire again for future projects. They were a bit late on the first day but made up for it by working longer hours.",date:new Date(2023,4,5),project:"Roof Repair"},{id:3,client:"Sarah Johnson",client_avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:5,comment:"I am extremely satisfied with the bathroom remodel. The attention to detail was impressive and they were very responsive to my questions and concerns throughout the project.",date:new Date(2023,3,20),project:"Bathroom Remodel"},{id:4,client:"John Smith",client_avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",rating:4,comment:"The kitchen renovation turned out beautifully. They were knowledgeable and provided helpful suggestions throughout the process. The only reason for 4 stars instead of 5 is that the project took a bit longer than initially estimated.",date:new Date(2023,3,15),project:"Kitchen Renovation"}];l(w)}catch(w){console.error("Error fetching reviews:",w)}finally{n(!1)}},y=async()=>{try{const w=[{id:1,title:"Modern Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,3,15),client:"John Smith",location:"Anytown, CA"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,3,20),client:"Sarah Johnson",location:"Somewhere, CA"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,4,5),client:"Michael Brown",location:"Nowhere, CA"},{id:4,title:"Interior Painting",description:"Painted living room, dining room, and hallway with premium paint.",image:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",date:new Date(2023,4,10),client:"Emily Wilson",location:"Anytown, CA"}];d(w)}catch(w){console.error("Error fetching projects:",w)}},v=w=>{const{name:k,value:O}=w.target;h({...f,[k]:O})},x=w=>{const k=f.services.includes(w)?f.services.filter(O=>O!==w):[...f.services,w];h({...f,services:k})},N=async w=>{w.preventDefault();try{n(!0),await new Promise(k=>setTimeout(k,1e3)),o(!1)}catch(k){console.error("Error updating profile:",k)}finally{n(!1)}},g=w=>Array(5).fill(0).map((k,O)=>e.jsx(ss,{className:`h-5 w-5 ${O<w?"text-yellow-400":"text-gray-300"}`,"aria-hidden":"true"},O)),P=w=>te(w,"MMM d, yyyy"),D=["Kitchen Renovation","Bathroom Remodeling","Deck Building","Painting","Flooring","Electrical","Plumbing","Roofing","Landscaping","Carpentry"];return r&&!t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Profile"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"relative h-40 bg-blue-600",children:e.jsx("button",{type:"button",className:"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ts,{className:"h-5 w-5","aria-hidden":"true"})})}),e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32",src:(t==null?void 0:t.avatar_url)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}),e.jsx("button",{type:"button",className:"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ts,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsxs("div",{className:"mt-6 sm:mt-0 sm:ml-6 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.company_name)||"Your Company Name"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>o(!i),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(vt,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:g(4.5)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["4.5 out of 5 stars (",c.length," reviews)"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile Information"}),!i&&e.jsx("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(vt,{className:"h-5 w-5","aria-hidden":"true"})})]}),i?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:f.first_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:f.last_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company name"}),e.jsx("input",{type:"text",name:"company_name",id:"company_name",value:f.company_name,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:f.phone,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:3,value:f.bio,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"years_experience",className:"block text-sm font-medium text-gray-700",children:"Years of experience"}),e.jsx("input",{type:"number",name:"years_experience",id:"years_experience",value:f.years_experience,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),e.jsx("input",{type:"text",name:"website",id:"website",value:f.website,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:f.address,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",value:f.city,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",value:f.state,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP"}),e.jsx("input",{type:"text",name:"zip",id:"zip",value:f.zip,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Services"}),e.jsx("div",{className:"mt-2 grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:D.map(w=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`service-${w}`,name:`service-${w}`,type:"checkbox",checked:f.services.includes(w),onChange:()=>x(w),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:`service-${w}`,className:"ml-3 text-sm text-gray-700",children:w})]},w))})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(dn,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Save"]})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[f.first_name," ",f.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Company name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.company_name||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a==null?void 0:a.email})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.phone||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.bio||"No bio provided"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Years of experience"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.years_experience||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Website"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.website?e.jsx("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500",children:f.website}):"Not specified"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.address?e.jsxs(e.Fragment,{children:[f.address,e.jsx("br",{}),f.city,", ",f.state," ",f.zip]}):"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Services"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:f.services&&f.services.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:f.services.map(w=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w},w))}):"No services specified"})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Reviews"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"4.5 / 5"})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:c.map(w=>e.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:w.client_avatar,alt:w.client}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.client}),e.jsx("p",{className:"text-xs text-gray-500",children:P(w.date)})]})]}),e.jsx("div",{className:"flex items-center",children:g(w.rating)})]}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-600",children:w.comment})}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.project})})]},w.id))})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Projects"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(PlusIcon,{className:"-ml-1 mr-1 h-4 w-4","aria-hidden":"true"}),"Add Project"]})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:u.map(w=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:w.image,alt:w.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:w.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:w.description}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:P(w.date)}),e.jsx("p",{className:"text-xs text-gray-500",children:w.location})]})]})]},w.id))})})]})]})]})]})]})},am=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState("all"),[o,c]=m.useState(""),[l,u]=m.useState("date"),[d,f]=m.useState("desc");m.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const x=[{id:1,title:"Kitchen Renovation",client:"John Smith",date:new Date(2023,4,15,10,0),address:"123 Main St, Anytown, CA",status:"scheduled",price:3500,description:"Complete kitchen renovation including new cabinets, countertops, and appliances."},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",date:new Date(2023,4,16,14,30),address:"456 Oak Ave, Somewhere, CA",status:"confirmed",price:850,description:"Fix leaking pipes and install new shower fixtures."},{id:3,title:"Deck Installation",client:"Michael Brown",date:new Date(2023,4,18,9,0),address:"789 Pine Rd, Nowhere, CA",status:"pending",price:2200,description:"Build a new 12x16 wooden deck with railings and stairs."},{id:4,title:"Interior Painting",client:"Emily Wilson",date:new Date(2023,4,5,13,0),address:"101 Elm St, Anytown, CA",status:"completed",price:1200,description:"Paint living room, dining room, and hallway. Includes primer and two coats of paint."},{id:5,title:"Roof Repair",client:"David Lee",date:new Date(2023,4,2,11,0),address:"202 Cedar Ave, Somewhere, CA",status:"completed",price:950,description:"Repair damaged shingles and fix leak in roof."},{id:6,title:"Fence Installation",client:"Jennifer Garcia",date:new Date(2023,4,20,8,0),address:"303 Maple Dr, Nowhere, CA",status:"pending",price:1800,description:"Install 100 feet of 6-foot privacy fence around backyard."},{id:7,title:"Electrical Wiring",client:"Robert Martinez",date:new Date(2023,3,28,15,0),address:"404 Birch Ln, Anytown, CA",status:"completed",price:750,description:"Update electrical panel and add new outlets in home office."},{id:8,title:"Landscaping",client:"Lisa Anderson",date:new Date(2023,4,25,10,0),address:"505 Spruce Ct, Somewhere, CA",status:"scheduled",price:1500,description:"Redesign front yard with new plants, mulch, and decorative stones."}];t(x)}catch(x){console.error("Error fetching jobs:",x)}finally{r(!1)}},y=[...a.filter(x=>{const N=n==="all"||x.status===n,g=x.title.toLowerCase().includes(o.toLowerCase())||x.client.toLowerCase().includes(o.toLowerCase())||x.address.toLowerCase().includes(o.toLowerCase());return N&&g})].sort((x,N)=>l==="date"?d==="asc"?x.date-N.date:N.date-x.date:l==="price"?d==="asc"?x.price-N.price:N.price-x.price:l==="title"?d==="asc"?x.title.localeCompare(N.title):N.title.localeCompare(x.title):l==="client"?d==="asc"?x.client.localeCompare(N.client):N.client.localeCompare(x.client):0),v=x=>{switch(x){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(at,{className:"mr-1 h-4 w-4"}),"Pending"]});case"confirmed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),"Confirmed"]});case"scheduled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),"Scheduled"]});case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),"Completed"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Xr,{className:"mr-1 h-4 w-4"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:x.charAt(0).toUpperCase()+x.slice(1)})}};return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Jobs"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700",children:"Filter by status"}),e.jsxs("select",{id:"filter",name:"filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:n,onChange:x=>i(x.target.value),children:[e.jsx("option",{value:"all",children:"All Jobs"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700",children:"Sort by"}),e.jsxs("select",{id:"sort",name:"sort",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:x=>{u(x.target.value),f("asc")},children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"price",children:"Price"}),e.jsx("option",{value:"title",children:"Job Title"}),e.jsx("option",{value:"client",children:"Client Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Order"}),e.jsxs("select",{id:"order",name:"order",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:d,onChange:x=>f(x.target.value),children:[e.jsx("option",{value:"asc",children:"Ascending"}),e.jsx("option",{value:"desc",children:"Descending"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search jobs...",value:o,onChange:x=>c(x.target.value)})})]})]})}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(x=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:x.title}),e.jsx("div",{className:"ml-2",children:v(x.status)})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["$",x.price]})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsxs("div",{className:"sm:flex",children:[e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",x.client]}),e.jsx("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:x.address})]}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsx("p",{children:te(x.date,"MMM d, yyyy h:mm a")})})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:x.description})}),e.jsxs("div",{className:"mt-3 flex justify-end space-x-3",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(mn,{className:"mr-1 h-4 w-4"}),"View Details"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Re,{className:"mr-1 h-4 w-4"}),"Message Client"]}),x.status!=="completed"&&x.status!=="cancelled"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(vt,{className:"mr-1 h-4 w-4"}),"Edit"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent shadow-sm text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(Xr,{className:"mr-1 h-4 w-4"}),"Cancel"]})]})]})]})},x.id)):e.jsx("li",{className:"px-4 py-6 text-center text-gray-500",children:"No jobs found matching your criteria"})})})})]})]})},nm=()=>{const[a,t]=m.useState(new Date),[s,r]=m.useState([]),[n,i]=m.useState(!0),[o,c]=m.useState(null),[l,u]=m.useState(!1);m.useEffect(()=>{d()},[a]);const d=async()=>{try{i(!0);const L=[{id:1,title:"Kitchen Consultation",client:"John Smith",address:"123 Main St, Anytown, CA",date:new Date(2023,4,15,10,0),endDate:new Date(2023,4,15,11,30),type:"consultation",notes:"Initial consultation for kitchen renovation project."},{id:2,title:"Bathroom Remodel",client:"Sarah Johnson",address:"456 Oak Ave, Somewhere, CA",date:new Date(2023,4,16,14,30),endDate:new Date(2023,4,16,17,0),type:"work",notes:"Installing new shower fixtures and vanity."},{id:3,title:"Deck Measurement",client:"Michael Brown",address:"789 Pine Rd, Nowhere, CA",date:new Date(2023,4,18,9,0),endDate:new Date(2023,4,18,10,0),type:"measurement",notes:"Taking measurements for new deck installation."},{id:4,title:"Interior Painting",client:"Emily Wilson",address:"101 Elm St, Anytown, CA",date:new Date(2023,4,20,13,0),endDate:new Date(2023,4,20,18,0),type:"work",notes:"Painting living room and dining room."},{id:5,title:"Roof Inspection",client:"David Lee",address:"202 Cedar Ave, Somewhere, CA",date:new Date(2023,4,22,11,0),endDate:new Date(2023,4,22,12,0),type:"inspection",notes:"Inspecting roof for potential leaks."},{id:6,title:"Fence Installation",client:"Jennifer Garcia",address:"303 Maple Dr, Nowhere, CA",date:new Date(2023,4,25,8,0),endDate:new Date(2023,4,25,16,0),type:"work",notes:"Installing new privacy fence in backyard."},{id:7,title:"Electrical Work",client:"Robert Martinez",address:"404 Birch Ln, Anytown, CA",date:new Date(2023,4,28,15,0),endDate:new Date(2023,4,28,17,0),type:"work",notes:"Updating electrical panel and adding new outlets."},{id:8,title:"Landscaping Consultation",client:"Lisa Anderson",address:"505 Spruce Ct, Somewhere, CA",date:new Date(2023,4,30,10,0),endDate:new Date(2023,4,30,11,0),type:"consultation",notes:"Discussing front yard landscaping design."}];r(L)}catch(L){console.error("Error fetching events:",L)}finally{i(!1)}},f=()=>{t(tm(a,1))},h=()=>{t(Ln(a,1))},p=L=>{c(L),u(!0)},y=()=>{c(null),u(!1)},v=L=>{const I={consultation:{bg:"bg-blue-100",text:"text-blue-800",label:"Consultation"},work:{bg:"bg-green-100",text:"text-green-800",label:"Work"},measurement:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Measurement"},inspection:{bg:"bg-purple-100",text:"text-purple-800",label:"Inspection"}}[L]||{bg:"bg-gray-100",text:"text-gray-800",label:L};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.bg} ${I.text}`,children:I.label})},x=L=>te(L,"h:mm a"),N=()=>e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(sc,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:te(a,"MMMM yyyy")}),e.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(nc,{className:"h-5 w-5 text-gray-600"})})]}),g=()=>{const L=[],B=ja(a);for(let I=0;I<7;I++)L.push(e.jsx("div",{className:"text-center font-semibold text-gray-600 text-sm py-2",children:te(wa(B,I),"EEEE")},I));return e.jsx("div",{className:"grid grid-cols-7 gap-1",children:L})},P=()=>{const L=qu(a),B=Wu(L),I=ja(L),U=Vu(B),_=[];let $=[],R=I;for(;R<=U;){for(let W=0;W<7;W++){const V=te(R,"d"),X=s.filter(ie=>Ls(ie.date,R));$.push(e.jsxs("div",{className:`min-h-[120px] p-2 border border-gray-200 ${Us(R,L)?Ls(R,new Date)?"bg-blue-50":"bg-white":"bg-gray-50 text-gray-400"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:`text-sm font-medium ${Us(R,L)?Ls(R,new Date)?"text-blue-600":"text-gray-900":"text-gray-400"}`,children:V}),Us(R,L)&&e.jsx("button",{type:"button",className:"p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Lt,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx("div",{className:"mt-1 space-y-1 max-h-[80px] overflow-y-auto",children:X.map(ie=>e.jsxs("div",{onClick:()=>p(ie),className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200",children:[e.jsx("div",{className:"font-medium truncate",children:ie.title}),e.jsx("div",{className:"text-xs text-blue-600",children:x(ie.date)})]},ie.id))})]},R.toString())),R=wa(R,1)}_.push(e.jsx("div",{className:"grid grid-cols-7 gap-1",children:$},R.toString())),$=[]}return e.jsx("div",{className:"space-y-1",children:_})},D=()=>{const L=s.reduce((I,U)=>{const _=te(U.date,"yyyy-MM-dd");return I[_]||(I[_]=[]),I[_].push(U),I},{}),B=Object.keys(L).sort();return e.jsx("div",{className:"space-y-6",children:B.map(I=>{const U=new Date(I),_=L[I];return e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:te(U,"EEEE, MMMM d, yyyy")})}),e.jsx("ul",{className:"divide-y divide-gray-200",children:_.map($=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 cursor-pointer",onClick:()=>p($),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:$.title}),e.jsx("div",{className:"ml-2",children:v($.type)})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[x($.date)," - ",x($.endDate)]})})]}),e.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:e.jsxs("div",{className:"sm:flex",children:[e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:["Client: ",$.client]}),e.jsx("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:$.address})]})}),$.notes&&e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:e.jsx("p",{children:$.notes})})]})},$.id))})]},I)})})},w=()=>o?e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:y}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:o.title}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Type:"}),e.jsx("div",{children:v(o.type)})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Date:"}),e.jsx("span",{className:"text-sm text-gray-900",children:te(o.date,"EEEE, MMMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Time:"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[x(o.date)," - ",x(o.endDate)]})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Client:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.client})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Address:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.address})]}),o.notes&&e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 w-24",children:"Notes:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.notes})]})]})]})}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:y,children:"Close"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Edit"})]})]})]})}):null,[k,O]=m.useState("calendar");return n?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Calendar"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md ${k==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,onClick:()=>O("calendar"),children:"Calendar View"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md ${k==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,onClick:()=>O("list"),children:"List View"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Lt,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Event"]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg p-6",children:k==="calendar"?e.jsxs(e.Fragment,{children:[N(),g(),P()]}):D()})}),l&&w()]})},im=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(""),[l,u]=m.useState(!0),[d,f]=m.useState("");m.useEffect(()=>{h()},[]),m.useEffect(()=>{s&&p(s.id)},[s]);const h=async()=>{try{u(!0);const g=[{id:1,client:{id:101,name:"John Smith",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"When can you come to look at the kitchen?",timestamp:new Date(2023,4,10,14,30),isRead:!0,sender:"client"},project:"Kitchen Renovation",unreadCount:0},{id:2,client:{id:102,name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"The bathroom looks great! Thank you for your work.",timestamp:new Date(2023,4,9,10,15),isRead:!0,sender:"client"},project:"Bathroom Remodel",unreadCount:0},{id:3,client:{id:103,name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"I have a question about the quote you sent.",timestamp:new Date(2023,4,11,9,45),isRead:!1,sender:"client"},project:"Deck Installation",unreadCount:2},{id:4,client:{id:104,name:"Emily Wilson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"Can we schedule the painting for next week?",timestamp:new Date(2023,4,8,16,20),isRead:!0,sender:"client"},project:"Interior Painting",unreadCount:0},{id:5,client:{id:105,name:"David Lee",avatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},lastMessage:{text:"I just sent the payment for the roof repair.",timestamp:new Date(2023,4,7,11,10),isRead:!0,sender:"client"},project:"Roof Repair",unreadCount:0}];t(g),g.length>0&&!s&&r(g[0])}catch(g){console.error("Error fetching conversations:",g)}finally{u(!1)}},p=async g=>{try{const P={1:[{id:1,text:"Hi, I'm interested in renovating my kitchen. Do you offer free consultations?",timestamp:new Date(2023,4,9,9,30),sender:"client"},{id:2,text:"Yes, we do offer free consultations. I'd be happy to come take a look at your kitchen and discuss your renovation ideas.",timestamp:new Date(2023,4,9,10,15),sender:"provider"},{id:3,text:"Great! When would you be available?",timestamp:new Date(2023,4,9,10,45),sender:"client"},{id:4,text:"I have availability this Thursday or Friday afternoon. Would either of those work for you?",timestamp:new Date(2023,4,9,11,30),sender:"provider"},{id:5,text:"Friday afternoon would work well. How about 2 PM?",timestamp:new Date(2023,4,9,14,0),sender:"client"},{id:6,text:"2 PM on Friday works for me. I'll put it on my calendar. Could you please provide your address?",timestamp:new Date(2023,4,9,14,45),sender:"provider"},{id:7,text:"123 Main St, Anytown, CA. Thanks!",timestamp:new Date(2023,4,9,15,30),sender:"client"},{id:8,text:"When can you come to look at the kitchen?",timestamp:new Date(2023,4,10,14,30),sender:"client"}],2:[{id:1,text:"Hello, I'm interested in remodeling my bathroom. Can you help with that?",timestamp:new Date(2023,4,5,13,0),sender:"client"},{id:2,text:"Hi Sarah, yes we specialize in bathroom remodels. What kind of changes are you looking to make?",timestamp:new Date(2023,4,5,14,30),sender:"provider"},{id:3,text:"I want to replace the tub with a walk-in shower, new vanity, and update the flooring and lighting.",timestamp:new Date(2023,4,5,15,0),sender:"client"},{id:4,text:"That sounds like a great project. I can come by to take measurements and provide a quote. When would be a good time?",timestamp:new Date(2023,4,6,9,0),sender:"provider"},{id:5,text:"How about next Monday at 10 AM?",timestamp:new Date(2023,4,6,10,30),sender:"client"},{id:6,text:"Monday at 10 AM works for me. I'll see you then!",timestamp:new Date(2023,4,6,11,15),sender:"provider"},{id:7,text:"The bathroom looks great! Thank you for your work.",timestamp:new Date(2023,4,9,10,15),sender:"client"}],3:[{id:1,text:"Hi, I'm interested in getting a deck built in my backyard. Can you provide a quote?",timestamp:new Date(2023,4,10,15,0),sender:"client"},{id:2,text:"Hello Michael, I'd be happy to provide a quote for your deck. Could you tell me the approximate size you're looking for?",timestamp:new Date(2023,4,10,16,30),sender:"provider"},{id:3,text:"I'm thinking about a 12x16 deck with railings and stairs.",timestamp:new Date(2023,4,10,17,0),sender:"client"},{id:4,text:"Thanks for the information. I've prepared a quote based on your requirements. I'll send it over shortly.",timestamp:new Date(2023,4,11,9,0),sender:"provider"},{id:5,text:"I've sent the quote to your email. Please let me know if you have any questions.",timestamp:new Date(2023,4,11,9,15),sender:"provider"},{id:6,text:"I have a question about the quote you sent.",timestamp:new Date(2023,4,11,9,45),sender:"client"}],4:[{id:1,text:"Hello, I need to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?",timestamp:new Date(2023,4,7,10,0),sender:"client"},{id:2,text:"Hi Emily, yes I have some availability coming up. What colors are you thinking of using?",timestamp:new Date(2023,4,7,11,30),sender:"provider"},{id:3,text:"I'm thinking of a light gray for the living room and hallway, and a sage green for the dining room.",timestamp:new Date(2023,4,7,13,0),sender:"client"},{id:4,text:"Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.",timestamp:new Date(2023,4,7,14,30),sender:"provider"},{id:5,text:"The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.",timestamp:new Date(2023,4,7,15,45),sender:"client"},{id:6,text:"Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.",timestamp:new Date(2023,4,8,9,0),sender:"provider"},{id:7,text:"Can we schedule the painting for next week?",timestamp:new Date(2023,4,8,16,20),sender:"client"}],5:[{id:1,text:"Hi, I have a leak in my roof that needs to be repaired. Can you help?",timestamp:new Date(2023,4,5,9,0),sender:"client"},{id:2,text:"Hello David, I can definitely help with your roof leak. Is it causing any damage inside your home?",timestamp:new Date(2023,4,5,10,30),sender:"provider"},{id:3,text:"Yes, there's a water stain on the ceiling in my upstairs bedroom.",timestamp:new Date(2023,4,5,11,15),sender:"client"},{id:4,text:"I understand. This sounds like it needs prompt attention. I can come by tomorrow to assess the damage and provide a quote. Would that work for you?",timestamp:new Date(2023,4,5,13,0),sender:"provider"},{id:5,text:"Tomorrow would be great. I'm available all day.",timestamp:new Date(2023,4,5,14,30),sender:"client"},{id:6,text:"Perfect. I'll be there around 10 AM if that works for you.",timestamp:new Date(2023,4,5,15,0),sender:"provider"},{id:7,text:"10 AM is perfect. See you then.",timestamp:new Date(2023,4,5,15,30),sender:"client"},{id:8,text:"I've completed the roof repair. The leak was caused by damaged shingles, which I've replaced. I've also sealed the area to prevent future leaks.",timestamp:new Date(2023,4,6,16,0),sender:"provider"},{id:9,text:"Thank you for the quick service. How much do I owe you?",timestamp:new Date(2023,4,6,17,30),sender:"client"},{id:10,text:"The total comes to $950. I've sent an invoice to your email.",timestamp:new Date(2023,4,6,18,0),sender:"provider"},{id:11,text:"I just sent the payment for the roof repair.",timestamp:new Date(2023,4,7,11,10),sender:"client"}]};i(P[g]||[])}catch(P){console.error("Error fetching messages:",P)}},y=g=>{if(g.preventDefault(),!o.trim()||!s)return;const P={id:n.length+1,text:o,timestamp:new Date,sender:"provider"};i([...n,P]),t(a.map(D=>D.id===s.id?{...D,lastMessage:{text:o,timestamp:new Date,isRead:!0,sender:"provider"}}:D)),c("")},v=g=>te(g,"h:mm a"),x=g=>{const P=new Date,D=new Date(g);return D.toDateString()===P.toDateString()?te(D,"h:mm a"):Math.floor((P-D)/(1e3*60*60*24))<7?te(D,"EEEE"):te(D,"MMM d")},N=a.filter(g=>g.client.name.toLowerCase().includes(d.toLowerCase())||g.project.toLowerCase().includes(d.toLowerCase()));return l&&a.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Messages"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search conversations",value:d,onChange:g=>f(g.target.value)})]})}),e.jsx("div",{className:"overflow-y-auto h-full pb-20",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(g=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(s==null?void 0:s.id)===g.id?"bg-blue-50":""}`,onClick:()=>r(g),children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:g.client.avatar,alt:g.client.name}),g.unreadCount>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g.unreadCount})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:g.client.name}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:x(g.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:g.project}),e.jsxs("p",{className:`text-sm truncate ${g.unreadCount>0?"font-semibold text-gray-900":"text-gray-500"}`,children:[g.lastMessage.sender==="provider"?"You: ":"",g.lastMessage.text]})]})]})})})},g.id))})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:s.client.avatar,alt:s.client.name}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.client.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.project})]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(un,{className:"h-6 w-6","aria-hidden":"true"})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:n.map(g=>e.jsxs("div",{className:`flex ${g.sender==="provider"?"justify-end":"justify-start"}`,children:[g.sender==="client"&&e.jsx("img",{className:"h-8 w-8 rounded-full mr-2 self-end",src:s.client.avatar,alt:s.client.name}),e.jsxs("div",{className:`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${g.sender==="provider"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:g.text}),e.jsx("p",{className:`text-xs mt-1 text-right ${g.sender==="provider"?"text-blue-200":"text-gray-500"}`,children:v(g.timestamp)})]}),g.sender==="provider"&&e.jsx("img",{className:"h-8 w-8 rounded-full ml-2 self-end",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"You"})]},g.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:y,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(hr,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Type a message...",value:o,onChange:g=>c(g.target.value)}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ur,{className:"h-5 w-5","aria-hidden":"true"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation from the list to view messages."})]})})})]})})})]})},om=()=>{const{user:a,updateUser:t}=ge();Fe();const[s,r]=m.useState(!1),[n,i]=m.useState({type:"",text:""}),[o,c]=m.useState(""),[l,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState({email_notifications:!0,sms_notifications:!1,new_job_requests:!0,messages:!0,reviews:!0,payment_received:!0,marketing:!1}),[y,v]=m.useState({show_profile:!0,show_contact_info:!0,show_reviews:!0,show_projects:!0});m.useEffect(()=>{a&&c(a.email||"")},[a]);const x=async k=>{k.preventDefault();try{r(!0),i({type:"",text:""}),await new Promise(O=>setTimeout(O,1e3)),i({type:"success",text:"Email updated successfully!"})}catch(O){console.error("Error updating email:",O),i({type:"error",text:O.message||"An error occurred while updating email"})}finally{r(!1)}},N=async k=>{if(k.preventDefault(),l!==d){i({type:"error",text:"Passwords do not match"});return}try{r(!0),i({type:"",text:""}),await new Promise(O=>setTimeout(O,1e3)),i({type:"success",text:"Password updated successfully!"}),u(""),f("")}catch(O){console.error("Error updating password:",O),i({type:"error",text:O.message||"An error occurred while updating password"})}finally{r(!1)}},g=k=>{p({...h,[k]:!h[k]})},P=k=>{v({...y,[k]:!y[k]})},D=async()=>{try{r(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Notification settings updated successfully!"})}catch(k){console.error("Error updating notification settings:",k),i({type:"error",text:k.message||"An error occurred while updating notification settings"})}finally{r(!1)}},w=async()=>{try{r(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Privacy settings updated successfully!"})}catch(k){console.error("Error updating privacy settings:",k),i({type:"error",text:k.message||"An error occurred while updating privacy settings"})}finally{r(!1)}};return e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your account information and password."})]}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.text&&e.jsx("div",{className:`mb-4 p-4 rounded-md ${n.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:n.text}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Address"}),e.jsx("form",{onSubmit:x,className:"mt-2",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"New Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:o,onChange:k=>c(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Email"})]})})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password"}),e.jsxs("form",{onSubmit:N,className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("input",{type:"password",name:"password",id:"password",value:l,onChange:k=>u(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:d,onChange:k=>f(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:s||!l||!d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Password"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how and when you receive notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Methods"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_notifications",name:"email_notifications",type:"checkbox",checked:h.email_notifications,onChange:()=>g("email_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_notifications",className:"font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via email."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_notifications",name:"sms_notifications",type:"checkbox",checked:h.sms_notifications,onChange:()=>g("sms_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_notifications",className:"font-medium text-gray-700",children:"SMS Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via text message."})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Types"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"new_job_requests",name:"new_job_requests",type:"checkbox",checked:h.new_job_requests,onChange:()=>g("new_job_requests"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"new_job_requests",className:"font-medium text-gray-700",children:"New Job Requests"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new job requests."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"messages",name:"messages",type:"checkbox",checked:h.messages,onChange:()=>g("messages"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"reviews",name:"reviews",type:"checkbox",checked:h.reviews,onChange:()=>g("reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"reviews",className:"font-medium text-gray-700",children:"Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new reviews."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"payment_received",name:"payment_received",type:"checkbox",checked:h.payment_received,onChange:()=>g("payment_received"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"payment_received",className:"font-medium text-gray-700",children:"Payment Received"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you receive payments."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing",name:"marketing",type:"checkbox",checked:h.marketing,onChange:()=>g("marketing"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing",className:"font-medium text-gray-700",children:"Marketing"}),e.jsx("p",{className:"text-gray-500",children:"Receive marketing and promotional emails."})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:D,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Notification Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage what information is visible to others."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_profile",name:"show_profile",type:"checkbox",checked:y.show_profile,onChange:()=>P("show_profile"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_profile",className:"font-medium text-gray-700",children:"Show Profile"}),e.jsx("p",{className:"text-gray-500",children:"Make your profile visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_contact_info",name:"show_contact_info",type:"checkbox",checked:y.show_contact_info,onChange:()=>P("show_contact_info"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_contact_info",className:"font-medium text-gray-700",children:"Show Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Make your contact information visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_reviews",name:"show_reviews",type:"checkbox",checked:y.show_reviews,onChange:()=>P("show_reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_reviews",className:"font-medium text-gray-700",children:"Show Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Make your reviews visible to potential clients."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_projects",name:"show_projects",type:"checkbox",checked:y.show_projects,onChange:()=>P("show_projects"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_projects",className:"font-medium text-gray-700",children:"Show Projects"}),e.jsx("p",{className:"text-gray-500",children:"Make your projects visible to potential clients."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:w,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Privacy Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Permanently delete your account and all associated data."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account"})]})})]})]})})]})};Pa.register(ii,Ta,Da);function lm(){const{user:a}=ge(),{userProfile:t}=Fe(),[s,r]=m.useState([]),[n,i]=m.useState([]),[o,c]=m.useState(!0),[l,u]=m.useState(null),d={labels:["Completed","In Progress","Pending","Cancelled"],datasets:[{data:[4,2,3,1],backgroundColor:["rgba(34, 197, 94, 0.7)","rgba(59, 130, 246, 0.7)","rgba(234, 179, 8, 0.7)","rgba(239, 68, 68, 0.7)"],borderColor:["rgba(34, 197, 94, 1)","rgba(59, 130, 246, 1)","rgba(234, 179, 8, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]};m.useEffect(()=>{async function p(){try{c(!0),u(null);const y=[{id:"1",title:"Kitchen Renovation",description:"Complete kitchen remodel including new cabinets, countertops, and appliances.",status:"in_progress",start_date:"2023-05-15",end_date:"2023-06-30",budget:15e3,provider:{id:"101",name:"Elite Home Renovations",avatar_url:"https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8}},{id:"2",title:"Bathroom Remodel",description:"Update master bathroom with new shower, vanity, and fixtures.",status:"pending",start_date:"2023-07-10",end_date:"2023-07-25",budget:8e3,provider:{id:"102",name:"Modern Plumbing Solutions",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6}},{id:"3",title:"Deck Construction",description:"Build a new composite deck in the backyard.",status:"pending",start_date:"2023-08-05",end_date:"2023-08-20",budget:12e3,provider:null},{id:"4",title:"Interior Painting",description:"Paint living room, dining room, and hallway.",status:"completed",start_date:"2023-04-10",end_date:"2023-04-15",budget:3e3,provider:{id:"103",name:"Perfect Painting Co.",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:5}}],v=[{id:"101",name:"Elite Home Renovations",service_type:"General Contractor",avatar_url:"https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:124},{id:"102",name:"Modern Plumbing Solutions",service_type:"Plumbing",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6,reviews:89},{id:"103",name:"Perfect Painting Co.",service_type:"Painting",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:5,reviews:56},{id:"104",name:"Green Thumb Landscaping",service_type:"Landscaping",avatar_url:"https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:112}];r(y),i(v)}catch(y){console.error("Error fetching dashboard data:",y),u("Failed to load dashboard data. Please try again.")}finally{c(!1)}}p()},[a]);const f=p=>{switch(p){case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pt,{className:"w-4 h-4 mr-1"}),"Completed"]});case"in_progress":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(at,{className:"w-4 h-4 mr-1"}),"In Progress"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(at,{className:"w-4 h-4 mr-1"}),"Pending"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(hn,{className:"w-4 h-4 mr-1"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})}},h=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p);return o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):l?e.jsxs("div",{className:"p-4 text-red-700 bg-red-100 rounded-md",children:[e.jsx("p",{children:l}),e.jsx("button",{className:"mt-2 text-sm font-medium text-red-700 underline",onClick:()=>window.location.reload(),children:"Try again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.full_name)||"Homeowner","!"]}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Here's an overview of your home improvement projects and services."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-green-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Completed"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="completed").length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="in_progress").length})]})]})}),e.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-yellow-100 rounded-md",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Pending"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:s.filter(p=>p.status==="pending").length})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Projects"}),e.jsx(C,{to:"/homeowner/projects",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View all"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:s.length>0?s.slice(0,3).map(p=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p.title}),f(p.status)]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:p.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Budget"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:h(p.budget)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Timeline"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(p.start_date).toLocaleDateString()," - ",new Date(p.end_date).toLocaleDateString()]})]})]}),p.provider&&e.jsxs("div",{className:"flex items-center mt-4 space-x-2",children:[e.jsx("img",{src:p.provider.avatar_url,alt:p.provider.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.provider.name}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ss,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"ml-1 text-sm text-gray-600",children:p.provider.rating})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"Message"]})]})]},p.id)):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No projects found."}),e.jsxs(C,{to:"/homeowner/projects/new",className:"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:[e.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Create New Project"]})]})}),s.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50",children:e.jsxs(C,{to:"/homeowner/projects/new",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500",children:[e.jsx(Lt,{className:"w-5 h-5 mr-1"}),"Create New Project"]})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Project Status"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oi,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Service Providers"}),e.jsx(C,{to:"/homeowner/providers",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View all"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:n.length>0?e.jsx("div",{className:"grid grid-cols-1 divide-y divide-gray-200 sm:grid-cols-2 sm:divide-y-0 sm:divide-x lg:grid-cols-4",children:n.map(p=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:p.avatar_url,alt:p.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.service_type})]})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ss,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:p.rating})]}),e.jsx("span",{className:"mx-2 text-gray-500",children:"•"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[p.reviews," reviews"]})]}),e.jsxs("div",{className:"flex mt-4 space-x-2",children:[e.jsx("button",{className:"flex-1 px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200",children:"View Profile"}),e.jsx("button",{className:"flex-1 px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Contact"})]})]},p.id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No recent service providers."}),e.jsx(C,{to:"/homeowner/providers",className:"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700",children:"Find Service Providers"})]})})]})]})}const cm=()=>{const{user:a}=ge(),{userProfile:t,updateUserProfile:s}=Fe(),[r,n]=m.useState(!0),[i,o]=m.useState(!1),[c,l]=m.useState([]),[u,d]=m.useState({first_name:"",last_name:"",phone:"",address:"",city:"",state:"",zip:"",bio:""});m.useEffect(()=>{t&&(d({first_name:t.first_name||"",last_name:t.last_name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||"",bio:t.bio||""}),f())},[t]);const f=async()=>{try{n(!0);const x=[{id:1,title:"Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",status:"in_progress",provider:"Elite Home Renovations",provider_id:101,start_date:new Date(2023,3,15),end_date:new Date(2023,5,30),budget:45e3,spent:3e4,image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",status:"in_progress",provider:"Premium Bathroom Solutions",provider_id:102,start_date:new Date(2023,4,1),end_date:new Date(2023,5,15),budget:25e3,spent:15e3,image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",status:"completed",provider:"Outdoor Living Experts",provider_id:103,start_date:new Date(2023,2,10),end_date:new Date(2023,3,5),budget:12e3,spent:11500,image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}];l(x)}catch(x){console.error("Error fetching projects:",x)}finally{n(!1)}},h=x=>{const{name:N,value:g}=x.target;d({...u,[N]:g})},p=async x=>{x.preventDefault();try{n(!0),await new Promise(N=>setTimeout(N,1e3)),o(!1)}catch(N){console.error("Error updating profile:",N)}finally{n(!1)}},y=x=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(x),v=x=>{const g={in_progress:{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Pending"},cancelled:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}}[x]||{bg:"bg-gray-100",text:"text-gray-800",label:x};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.bg} ${g.text}`,children:g.label})};return r&&!t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Profile"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"relative h-40 bg-blue-600",children:e.jsx("button",{type:"button",className:"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ts,{className:"h-5 w-5","aria-hidden":"true"})})}),e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32",src:(t==null?void 0:t.avatar_url)||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}),e.jsx("button",{type:"button",className:"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ts,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsx("div",{className:"mt-6 sm:mt-0 sm:ml-6 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Homeowner"})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>o(!i),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(vt,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Edit Profile"]})})]})})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Profile Information"}),!i&&e.jsx("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(vt,{className:"h-5 w-5","aria-hidden":"true"})})]}),i?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:u.first_name,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:u.last_name,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",id:"phone",value:u.phone,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:3,value:u.bio,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",name:"address",id:"address",value:u.address,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",value:u.city,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",value:u.state,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP"}),e.jsx("input",{type:"text",name:"zip",id:"zip",value:u.zip,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(dn,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Save"]})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[u.first_name," ",u.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:a==null?void 0:a.email})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.phone||"Not specified"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.bio||"No bio provided"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.address?e.jsxs(e.Fragment,{children:[u.address,e.jsx("br",{}),u.city,", ",u.state," ",u.zip]}):"Not specified"})]})]})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"My Projects"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"New Project"})]}),e.jsx("div",{className:"border-t border-gray-200",children:c.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:c.map(x=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-16 w-16 rounded-md overflow-hidden",children:e.jsx("img",{src:x.image,alt:x.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:x.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Provider: ",x.provider]})]}),e.jsx("div",{children:v(x.status)})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x.description}),e.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[y(x.start_date)," - ",y(x.end_date)]}),e.jsxs("span",{children:["Budget: $",x.budget.toLocaleString()," | Spent: $",x.spent.toLocaleString()]})]})]})]})},x.id))}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"You don't have any projects yet."})})]})})]})]})]})},dm=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState("all"),[o,c]=m.useState(""),[l,u]=m.useState("date"),[d,f]=m.useState("desc");m.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const g=[{id:1,title:"Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",status:"in_progress",provider:"Elite Home Renovations",provider_id:101,start_date:new Date(2023,3,15),end_date:new Date(2023,5,30),budget:45e3,spent:3e4,image:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,title:"Bathroom Remodel",description:"Full bathroom remodel including new shower, vanity, toilet, and tile work.",status:"in_progress",provider:"Premium Bathroom Solutions",provider_id:102,start_date:new Date(2023,4,1),end_date:new Date(2023,5,15),budget:25e3,spent:15e3,image:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,title:"Deck Installation",description:"Built a new cedar deck with railings and stairs in the backyard.",status:"completed",provider:"Outdoor Living Experts",provider_id:103,start_date:new Date(2023,2,10),end_date:new Date(2023,3,5),budget:12e3,spent:11500,image:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:4,title:"Interior Painting",description:"Painted living room, dining room, and hallway with premium paint.",status:"completed",provider:"Perfect Painting Services",provider_id:104,start_date:new Date(2023,1,15),end_date:new Date(2023,1,25),budget:5e3,spent:4800,image:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:5,title:"Roof Repair",description:"Repaired damaged shingles and fixed leak in roof.",status:"completed",provider:"Top Notch Roofing",provider_id:105,start_date:new Date(2023,0,5),end_date:new Date(2023,0,10),budget:3e3,spent:2800,image:"https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:6,title:"Landscaping Project",description:"Front yard landscaping with new plants, mulch, and decorative stones.",status:"pending",provider:"Green Thumb Landscaping",provider_id:106,start_date:new Date(2023,5,1),end_date:new Date(2023,5,15),budget:8e3,spent:0,image:"https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}];t(g)}catch(g){console.error("Error fetching projects:",g)}finally{r(!1)}},y=[...a.filter(g=>{const P=n==="all"||g.status===n,D=g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())||g.provider.toLowerCase().includes(o.toLowerCase());return P&&D})].sort((g,P)=>l==="date"?d==="asc"?g.start_date-P.start_date:P.start_date-g.start_date:l==="budget"?d==="asc"?g.budget-P.budget:P.budget-g.budget:l==="title"?d==="asc"?g.title.localeCompare(P.title):P.title.localeCompare(g.title):l==="provider"?d==="asc"?g.provider.localeCompare(P.provider):P.provider.localeCompare(g.provider):0),v=g=>{switch(g){case"in_progress":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(at,{className:"mr-1 h-4 w-4"}),"In Progress"]});case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),"Completed"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(at,{className:"mr-1 h-4 w-4"}),"Pending"]});case"cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(hn,{className:"mr-1 h-4 w-4"}),"Cancelled"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:g.charAt(0).toUpperCase()+g.slice(1).replace("_"," ")})}},x=g=>te(g,"MMM d, yyyy"),N=(g,P)=>Math.round(g/P*100);return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Projects"}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Lt,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Project"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700",children:"Filter by status"}),e.jsxs("select",{id:"filter",name:"filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:n,onChange:g=>i(g.target.value),children:[e.jsx("option",{value:"all",children:"All Projects"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700",children:"Sort by"}),e.jsxs("select",{id:"sort",name:"sort",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:g=>{u(g.target.value),f("asc")},children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"budget",children:"Budget"}),e.jsx("option",{value:"title",children:"Project Title"}),e.jsx("option",{value:"provider",children:"Provider Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700",children:"Order"}),e.jsxs("select",{id:"order",name:"order",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:d,onChange:g=>f(g.target.value),children:[e.jsx("option",{value:"asc",children:"Ascending"}),e.jsx("option",{value:"desc",children:"Descending"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search projects...",value:o,onChange:g=>c(g.target.value)})})]})]})}),e.jsx("div",{className:"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:y.length>0?y.map(g=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.title}),v(g.status)]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:g.description}),e.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["Provider: ",g.provider]}),e.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Start: ",x(g.start_date)]}),e.jsxs("span",{children:["End: ",x(g.end_date)]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsxs("span",{children:["Budget: $",g.budget.toLocaleString()]}),e.jsxs("span",{children:["Spent: $",g.spent.toLocaleString()," (",N(g.spent,g.budget),"%)"]})]}),e.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${g.status==="completed"?"bg-green-600":"bg-blue-600"}`,style:{width:`${N(g.spent,g.budget)}%`}})})]}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsxs(C,{to:`/homeowner/projects/${g.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(mn,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"View Details"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Re,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(vt,{className:"h-4 w-4","aria-hidden":"true"})})]})]})]})]},g.id)):e.jsx("div",{className:"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500",children:"No projects found matching your criteria"})})]})]})},um=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState(""),[o,c]=m.useState("all"),[l,u]=m.useState("all"),[d,f]=m.useState("grid");m.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0),t([{id:101,name:"Michael Brown",company:"Elite Home Renovations",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:27,services:["Kitchen Renovation","Bathroom Remodeling","Basement Finishing"],description:"Specializing in high-end home renovations with over 15 years of experience. Licensed and insured contractor with a focus on quality craftsmanship.",location:"Anytown, CA",phone:"(555) 123-4567",email:"michael@elitehomerenovations.com",website:"www.elitehomerenovations.com",projects_completed:124},{id:102,name:"Jennifer Garcia",company:"Premium Bathroom Solutions",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:19,services:["Bathroom Remodeling","Plumbing","Tile Work"],description:"Bathroom renovation specialist with expertise in modern designs and water-efficient fixtures. Creating beautiful and functional bathrooms for over a decade.",location:"Somewhere, CA",phone:"(555) 234-5678",email:"jennifer@premiumbathrooms.com",website:"www.premiumbathrooms.com",projects_completed:87},{id:103,name:"David Lee",company:"Outdoor Living Experts",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:15,services:["Deck Building","Landscaping","Fence Installation"],description:"Transform your outdoor space with custom decks, professional landscaping, and quality fencing. Creating beautiful outdoor living areas that extend your home.",location:"Nowhere, CA",phone:"(555) 345-6789",email:"david@outdoorlivingexperts.com",website:"www.outdoorlivingexperts.com",projects_completed:56},{id:104,name:"Sarah Johnson",company:"Perfect Painting Services",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:32,services:["Interior Painting","Exterior Painting","Cabinet Refinishing"],description:"Professional painting services for interior and exterior projects. Attention to detail and premium materials for a flawless finish every time.",location:"Anytown, CA",phone:"(555) 456-7890",email:"sarah@perfectpainting.com",website:"www.perfectpainting.com",projects_completed:215},{id:105,name:"Robert Martinez",company:"Martinez Electrical",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/257886/pexels-photo-257886.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.8,reviews:24,services:["Electrical Work","Lighting Installation","Home Automation"],description:"Licensed electrician providing safe and reliable electrical services. Specializing in modern lighting solutions and smart home technology integration.",location:"Somewhere, CA",phone:"(555) 567-8901",email:"robert@martinezelectrical.com",website:"www.martinezelectrical.com",projects_completed:143},{id:106,name:"Lisa Anderson",company:"Green Thumb Landscaping",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.6,reviews:18,services:["Landscaping","Garden Design","Lawn Care"],description:"Creating beautiful and sustainable outdoor spaces. From complete landscape design to regular maintenance, we help you enjoy your yard year-round.",location:"Nowhere, CA",phone:"(555) 678-9012",email:"lisa@greenthumblandscaping.com",website:"www.greenthumblandscaping.com",projects_completed:92},{id:107,name:"James Wilson",company:"Wilson Roofing & Siding",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.7,reviews:21,services:["Roofing","Siding","Gutter Installation"],description:"Protect your home with quality roofing and siding services. Experienced team providing durable solutions for all your exterior needs.",location:"Anytown, CA",phone:"(555) 789-0123",email:"james@wilsonroofing.com",website:"www.wilsonroofing.com",projects_completed:178},{id:108,name:"Emily Davis",company:"Custom Cabinetry & Woodwork",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",cover:"https://images.pexels.com/photos/5824883/pexels-photo-5824883.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",rating:4.9,reviews:16,services:["Custom Cabinets","Woodworking","Furniture Making"],description:"Master woodworker creating custom cabinetry, built-ins, and fine furniture. Bringing your vision to life with exceptional craftsmanship and attention to detail.",location:"Somewhere, CA",phone:"(555) 890-1234",email:"emily@customcabinetry.com",website:"www.customcabinetry.com",projects_completed:64}])}catch(x){console.error("Error fetching providers:",x)}finally{r(!1)}},p=[...new Set(a.flatMap(x=>x.services))].sort(),y=a.filter(x=>{const N=x.name.toLowerCase().includes(n.toLowerCase())||x.company.toLowerCase().includes(n.toLowerCase())||x.services.some(D=>D.toLowerCase().includes(n.toLowerCase()))||x.description.toLowerCase().includes(n.toLowerCase()),g=o==="all"||x.services.includes(o),P=l==="all"||l==="5"&&x.rating>=4.8||l==="4"&&x.rating>=4&&x.rating<4.8||l==="3"&&x.rating>=3&&x.rating<4;return N&&g&&P}),v=x=>e.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((N,g)=>e.jsx(ss,{className:`h-5 w-5 ${g<Math.floor(x)?"text-yellow-400":"text-gray-300"} ${g===Math.floor(x)&&x%1>0?"text-yellow-400":""}`,"aria-hidden":"true"},g)),e.jsx("span",{className:"ml-1 text-sm text-gray-500",children:x.toFixed(1)})]});return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Service Providers"})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700",children:"Filter by service"}),e.jsxs("select",{id:"service",name:"service",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:o,onChange:x=>c(x.target.value),children:[e.jsx("option",{value:"all",children:"All Services"}),p.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700",children:"Filter by rating"}),e.jsxs("select",{id:"rating",name:"rating",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:l,onChange:x=>u(x.target.value),children:[e.jsx("option",{value:"all",children:"All Ratings"}),e.jsx("option",{value:"5",children:"4.8+ Stars"}),e.jsx("option",{value:"4",children:"4.0+ Stars"}),e.jsx("option",{value:"3",children:"3.0+ Stars"})]})]})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md",placeholder:"Search providers...",value:n,onChange:x=>i(x.target.value)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${d==="grid"?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50"} rounded-l-md`,onClick:()=>f("grid"),children:"Grid"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium ${d==="list"?"bg-blue-100 text-blue-700":"bg-white text-gray-700 hover:bg-gray-50"} rounded-r-md`,onClick:()=>f("list"),children:"List"})]})})]})}),d==="grid"?e.jsx("div",{className:"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:y.length>0?y.map(x=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsxs("div",{className:"h-32 w-full overflow-hidden relative",children:[e.jsx("img",{src:x.cover,alt:x.company,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-50"}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center",children:[e.jsx("img",{className:"h-12 w-12 rounded-full ring-2 ring-white",src:x.avatar,alt:x.name}),e.jsxs("div",{className:"ml-3 text-white",children:[e.jsx("p",{className:"text-sm font-medium",children:x.name}),e.jsx("p",{className:"text-xs",children:x.company})]})]})]}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[v(x.rating),e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",x.reviews,")"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:x.location})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 line-clamp-2",children:x.description}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:x.services.map((N,g)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:N},g))}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsx(C,{to:`/homeowner/providers/${x.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Re,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Qr,{className:"h-4 w-4","aria-hidden":"true"})})]})]})]})]},x.id)):e.jsx("div",{className:"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500",children:"No providers found matching your criteria"})}):e.jsx("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(x=>e.jsx("li",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-16 w-16 rounded-full",src:x.avatar,alt:x.name}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500",children:x.company})]}),e.jsxs("div",{className:"flex items-center",children:[v(x.rating),e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",x.reviews,")"]})]})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:x.services.map((N,g)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:N},g))}),e.jsx("span",{className:"text-xs text-gray-500",children:x.location})]}),e.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[x.projects_completed," projects completed"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Qr,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"Call"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Re,{className:"-ml-0.5 mr-1 h-4 w-4","aria-hidden":"true"}),"Message"]}),e.jsx(C,{to:`/homeowner/providers/${x.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"})]})]})]})]})},x.id)):e.jsx("li",{className:"px-6 py-4 text-center text-gray-500",children:"No providers found matching your criteria"})})})]})]})},hm=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(null),[n,i]=m.useState([]),[o,c]=m.useState(""),[l,u]=m.useState(!0),[d,f]=m.useState("");m.useEffect(()=>{h()},[]),m.useEffect(()=>{s&&p(s.id)},[s]);const h=async()=>{try{u(!0);const g=[{id:1,provider:{id:101,name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Elite Home Renovations"},lastMessage:{text:"I can come by on Friday at 2 PM to look at your kitchen.",timestamp:new Date(2023,4,10,14,30),isRead:!0,sender:"provider"},project:"Kitchen Renovation",unreadCount:0},{id:2,provider:{id:102,name:"Jennifer Garcia",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Perfect Painting Services"},lastMessage:{text:"I have availability next week for your painting project.",timestamp:new Date(2023,4,9,10,15),isRead:!1,sender:"provider"},project:"Interior Painting",unreadCount:2},{id:3,provider:{id:103,name:"Robert Martinez",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Martinez Electrical"},lastMessage:{text:"The electrical work in your home office is complete. All outlets are now working properly.",timestamp:new Date(2023,4,8,16,45),isRead:!0,sender:"provider"},project:"Electrical Work",unreadCount:0},{id:4,provider:{id:104,name:"Lisa Anderson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",company:"Green Thumb Landscaping"},lastMessage:{text:"I've prepared a design proposal for your front yard landscaping project.",timestamp:new Date(2023,4,7,11,30),isRead:!0,sender:"provider"},project:"Landscaping",unreadCount:0}];t(g),g.length>0&&!s&&r(g[0])}catch(g){console.error("Error fetching conversations:",g)}finally{u(!1)}},p=async g=>{try{const P={1:[{id:1,text:"Hi, I'm interested in renovating my kitchen. Do you offer free consultations?",timestamp:new Date(2023,4,9,9,30),sender:"homeowner"},{id:2,text:"Yes, we do offer free consultations. I'd be happy to come take a look at your kitchen and discuss your renovation ideas.",timestamp:new Date(2023,4,9,10,15),sender:"provider"},{id:3,text:"Great! When would you be available?",timestamp:new Date(2023,4,9,10,45),sender:"homeowner"},{id:4,text:"I have availability this Thursday or Friday afternoon. Would either of those work for you?",timestamp:new Date(2023,4,9,11,30),sender:"provider"},{id:5,text:"Friday afternoon would work well. How about 2 PM?",timestamp:new Date(2023,4,9,14,0),sender:"homeowner"},{id:6,text:"2 PM on Friday works for me. I'll put it on my calendar. Could you please provide your address?",timestamp:new Date(2023,4,9,14,45),sender:"provider"},{id:7,text:"123 Main St, Anytown, CA. Thanks!",timestamp:new Date(2023,4,9,15,30),sender:"homeowner"},{id:8,text:"I can come by on Friday at 2 PM to look at your kitchen.",timestamp:new Date(2023,4,10,14,30),sender:"provider"}],2:[{id:1,text:"Hello, I'm looking to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?",timestamp:new Date(2023,4,7,10,0),sender:"homeowner"},{id:2,text:"Hi! Yes, I have some availability coming up. What colors are you thinking of using?",timestamp:new Date(2023,4,7,11,30),sender:"provider"},{id:3,text:"I'm thinking of a light gray for the living room and hallway, and a sage green for the dining room.",timestamp:new Date(2023,4,7,13,0),sender:"homeowner"},{id:4,text:"Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.",timestamp:new Date(2023,4,7,14,30),sender:"provider"},{id:5,text:"The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.",timestamp:new Date(2023,4,7,15,45),sender:"homeowner"},{id:6,text:"Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.",timestamp:new Date(2023,4,8,9,0),sender:"provider"},{id:7,text:"I was hoping to get it done sooner. Do you have any availability next week?",timestamp:new Date(2023,4,8,16,20),sender:"homeowner"},{id:8,text:"I have availability next week for your painting project.",timestamp:new Date(2023,4,9,10,15),sender:"provider"}],3:[{id:1,text:"Hi, I need to add some outlets in my home office. Can you help with that?",timestamp:new Date(2023,4,5,9,0),sender:"homeowner"},{id:2,text:"Hello! Yes, I can help with adding outlets to your home office. How many outlets do you need and where would you like them placed?",timestamp:new Date(2023,4,5,10,30),sender:"provider"},{id:3,text:"I need 3 new outlets - one on each wall of the office. I'm currently only using extension cords which isn't ideal.",timestamp:new Date(2023,4,5,11,15),sender:"homeowner"},{id:4,text:"I understand. Using extension cords long-term can be a fire hazard. I can install the new outlets for you. When would be a good time for me to come take a look?",timestamp:new Date(2023,4,5,13,0),sender:"provider"},{id:5,text:"Would tomorrow afternoon work? I'm free after 2 PM.",timestamp:new Date(2023,4,5,14,30),sender:"homeowner"},{id:6,text:"Tomorrow at 3 PM works for me. I'll see you then!",timestamp:new Date(2023,4,5,15,0),sender:"provider"},{id:7,text:"Great, see you at 3 PM. My address is 456 Oak Ave, Somewhere, CA.",timestamp:new Date(2023,4,5,15,30),sender:"homeowner"},{id:8,text:"The electrical work in your home office is complete. All outlets are now working properly.",timestamp:new Date(2023,4,8,16,45),sender:"provider"}],4:[{id:1,text:"Hello, I'm interested in redesigning my front yard with new landscaping. Do you offer design services?",timestamp:new Date(2023,4,5,13,0),sender:"homeowner"},{id:2,text:"Hi! Yes, we offer comprehensive landscape design services. We can create a custom design based on your preferences, budget, and the specific conditions of your yard.",timestamp:new Date(2023,4,5,14,30),sender:"provider"},{id:3,text:"That sounds great. I'm looking for a low-maintenance design with native plants and perhaps a small seating area.",timestamp:new Date(2023,4,5,15,0),sender:"homeowner"},{id:4,text:"Native plants and a seating area would make a beautiful, sustainable front yard. I'd be happy to create a design proposal for you. Could we schedule a time for me to visit your property and take measurements?",timestamp:new Date(2023,4,6,9,0),sender:"provider"},{id:5,text:"Yes, that would be helpful. How about this Saturday morning?",timestamp:new Date(2023,4,6,10,30),sender:"homeowner"},{id:6,text:"Saturday morning works for me. How about 10 AM?",timestamp:new Date(2023,4,6,11,15),sender:"provider"},{id:7,text:"10 AM on Saturday is perfect. My address is 505 Spruce Ct, Somewhere, CA.",timestamp:new Date(2023,4,6,13,45),sender:"homeowner"},{id:8,text:"I've prepared a design proposal for your front yard landscaping project.",timestamp:new Date(2023,4,7,11,30),sender:"provider"}]};i(P[g]||[])}catch(P){console.error("Error fetching messages:",P)}},y=g=>{if(g.preventDefault(),!o.trim()||!s)return;const P={id:n.length+1,text:o,timestamp:new Date,sender:"homeowner"};i([...n,P]),t(a.map(D=>D.id===s.id?{...D,lastMessage:{text:o,timestamp:new Date,isRead:!0,sender:"homeowner"}}:D)),c("")},v=g=>te(g,"h:mm a"),x=g=>{const P=new Date,D=new Date(g);return D.toDateString()===P.toDateString()?te(D,"h:mm a"):Math.floor((P-D)/(1e3*60*60*24))<7?te(D,"EEEE"):te(D,"MMM d")},N=a.filter(g=>g.provider.name.toLowerCase().includes(d.toLowerCase())||g.provider.company.toLowerCase().includes(d.toLowerCase())||g.project.toLowerCase().includes(d.toLowerCase()));return l&&a.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Messages"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"flex h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search conversations",value:d,onChange:g=>f(g.target.value)})]})}),e.jsx("div",{className:"overflow-y-auto h-full pb-20",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(g=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(s==null?void 0:s.id)===g.id?"bg-blue-50":""}`,onClick:()=>r(g),children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:g.provider.avatar,alt:g.provider.name}),g.unreadCount>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g.unreadCount})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:g.provider.name}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:x(g.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:g.provider.company}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.project}),e.jsxs("p",{className:`text-sm truncate ${g.unreadCount>0?"font-semibold text-gray-900":"text-gray-500"}`,children:[g.lastMessage.sender==="homeowner"?"You: ":"",g.lastMessage.text]})]})]})})})},g.id))})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:s.provider.avatar,alt:s.provider.name}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.provider.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.provider.company}),e.jsx("p",{className:"text-xs text-gray-500",children:s.project})]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(un,{className:"h-6 w-6","aria-hidden":"true"})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:n.map(g=>e.jsxs("div",{className:`flex ${g.sender==="homeowner"?"justify-end":"justify-start"}`,children:[g.sender==="provider"&&e.jsx("img",{className:"h-8 w-8 rounded-full mr-2 self-end",src:s.provider.avatar,alt:s.provider.name}),e.jsxs("div",{className:`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${g.sender==="homeowner"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:g.text}),e.jsx("p",{className:`text-xs mt-1 text-right ${g.sender==="homeowner"?"text-blue-200":"text-gray-500"}`,children:v(g.timestamp)})]}),g.sender==="homeowner"&&e.jsx("img",{className:"h-8 w-8 rounded-full ml-2 self-end",src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"You"})]},g.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:y,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(hr,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsx("input",{type:"text",className:"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Type a message...",value:o,onChange:g=>c(g.target.value)}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ur,{className:"h-5 w-5","aria-hidden":"true"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation from the list to view messages."})]})})})]})})})]})},mm=()=>{const{user:a,updateUser:t}=ge();Fe();const[s,r]=m.useState(!1),[n,i]=m.useState({type:"",text:""}),[o,c]=m.useState(""),[l,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState({email_notifications:!0,sms_notifications:!1,project_updates:!0,messages:!0,quotes:!0,payment_reminders:!0,marketing:!1}),[y,v]=m.useState({share_contact_info:!0,share_project_details:!0,allow_reviews:!0});m.useEffect(()=>{a&&c(a.email||"")},[a]);const x=async k=>{k.preventDefault();try{r(!0),i({type:"",text:""}),await new Promise(O=>setTimeout(O,1e3)),i({type:"success",text:"Email updated successfully!"})}catch(O){console.error("Error updating email:",O),i({type:"error",text:O.message||"An error occurred while updating email"})}finally{r(!1)}},N=async k=>{if(k.preventDefault(),l!==d){i({type:"error",text:"Passwords do not match"});return}try{r(!0),i({type:"",text:""}),await new Promise(O=>setTimeout(O,1e3)),i({type:"success",text:"Password updated successfully!"}),u(""),f("")}catch(O){console.error("Error updating password:",O),i({type:"error",text:O.message||"An error occurred while updating password"})}finally{r(!1)}},g=k=>{p({...h,[k]:!h[k]})},P=k=>{v({...y,[k]:!y[k]})},D=async()=>{try{r(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Notification settings updated successfully!"})}catch(k){console.error("Error updating notification settings:",k),i({type:"error",text:k.message||"An error occurred while updating notification settings"})}finally{r(!1)}},w=async()=>{try{r(!0),i({type:"",text:""}),await new Promise(k=>setTimeout(k,1e3)),i({type:"success",text:"Privacy settings updated successfully!"})}catch(k){console.error("Error updating privacy settings:",k),i({type:"error",text:k.message||"An error occurred while updating privacy settings"})}finally{r(!1)}};return e.jsxs("div",{className:"py-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your account information and password."})]}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.text&&e.jsx("div",{className:`mb-4 p-4 rounded-md ${n.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:n.text}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Address"}),e.jsx("form",{onSubmit:x,className:"mt-2",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"New Email"}),e.jsx("input",{type:"email",name:"email",id:"email",value:o,onChange:k=>c(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Email"})]})})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password"}),e.jsxs("form",{onSubmit:N,className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("input",{type:"password",name:"password",id:"password",value:l,onChange:k=>u(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:d,onChange:k=>f(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:s||!l||!d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Updating...":"Update Password"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how and when you receive notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Methods"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_notifications",name:"email_notifications",type:"checkbox",checked:h.email_notifications,onChange:()=>g("email_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_notifications",className:"font-medium text-gray-700",children:"Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via email."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_notifications",name:"sms_notifications",type:"checkbox",checked:h.sms_notifications,onChange:()=>g("sms_notifications"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_notifications",className:"font-medium text-gray-700",children:"SMS Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications via text message."})]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notification Types"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"project_updates",name:"project_updates",type:"checkbox",checked:h.project_updates,onChange:()=>g("project_updates"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"project_updates",className:"font-medium text-gray-700",children:"Project Updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications about updates to your projects."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"messages",name:"messages",type:"checkbox",checked:h.messages,onChange:()=>g("messages"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"quotes",name:"quotes",type:"checkbox",checked:h.quotes,onChange:()=>g("quotes"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"quotes",className:"font-medium text-gray-700",children:"Quotes"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications when you get new quotes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"payment_reminders",name:"payment_reminders",type:"checkbox",checked:h.payment_reminders,onChange:()=>g("payment_reminders"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"payment_reminders",className:"font-medium text-gray-700",children:"Payment Reminders"}),e.jsx("p",{className:"text-gray-500",children:"Receive reminders about upcoming payments."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing",name:"marketing",type:"checkbox",checked:h.marketing,onChange:()=>g("marketing"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing",className:"font-medium text-gray-700",children:"Marketing"}),e.jsx("p",{className:"text-gray-500",children:"Receive marketing and promotional emails."})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:D,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Notification Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage what information is shared with service providers."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_contact_info",name:"share_contact_info",type:"checkbox",checked:y.share_contact_info,onChange:()=>P("share_contact_info"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_contact_info",className:"font-medium text-gray-700",children:"Share Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to see your contact information."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_project_details",name:"share_project_details",type:"checkbox",checked:y.share_project_details,onChange:()=>P("share_project_details"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_project_details",className:"font-medium text-gray-700",children:"Share Project Details"}),e.jsx("p",{className:"text-gray-500",children:"Allow your project details to be shared in the community section."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"allow_reviews",name:"allow_reviews",type:"checkbox",checked:y.allow_reviews,onChange:()=>P("allow_reviews"),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"allow_reviews",className:"font-medium text-gray-700",children:"Allow Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to request reviews from you."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:w,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":"Save Privacy Settings"})})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Permanently delete your account and all associated data."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Account"})]})})]})]})})]})},fm=m.createContext();function xm(){const a=m.useContext(fm);if(a===void 0)throw new Error("useAdmin must be used within an AdminProvider");return a}function gm(){const{hasPermission:a}=xm(),[t,s]=m.useState({adminUsers:0,pendingVerifications:0,contentPages:0,integrations:0,apiKeys:0}),[r,n]=m.useState([]),[i,o]=m.useState(!0);m.useEffect(()=>{async function l(){try{o(!0);const[{count:u},{count:d},{count:f},{count:h},{count:p},{data:y}]=await Promise.all([He.from("admin_users").select("*",{count:"exact",head:!0}),He.from("provider_verifications").select("*",{count:"exact",head:!0}).eq("status","pending"),He.from("content_pages").select("*",{count:"exact",head:!0}),He.from("integration_configs").select("*",{count:"exact",head:!0}),He.from("api_keys").select("*",{count:"exact",head:!0}),He.from("audit_logs").select("*, auth_users:user_id(email)").order("created_at",{ascending:!1}).limit(5)]);s({adminUsers:u||0,pendingVerifications:d||0,contentPages:f||0,integrations:h||0,apiKeys:p||0}),n(y||[])}catch(u){console.error("Error fetching dashboard data:",u)}finally{o(!1)}}l()},[]);const c=[{name:"Admin Users",href:"/admin/users",icon:mr,value:t.adminUsers,show:a("access_management","view_users")},{name:"Pending Verifications",href:"/admin/verifications",icon:Qc,value:t.pendingVerifications,show:a("provider_management","manage_verifications")},{name:"Content Pages",href:"/admin/content",icon:xc,value:t.contentPages,show:a("content_management","view_pages")},{name:"Integrations",href:"/admin/integrations",icon:zc,value:t.integrations,show:a("integrations","view_integrations")},{name:"API Keys",href:"/admin/api-keys",icon:Ec,value:t.apiKeys,show:a("api_management","view_keys")}].filter(l=>l.show);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your system and recent activity"})]}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 mb-8",children:c.map(l=>e.jsxs(C,{to:l.href,className:"relative overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:px-6 sm:pt-6 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute rounded-md bg-primary-500 p-3",children:e.jsx(l.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),e.jsx("p",{className:"ml-16 truncate text-sm font-medium text-gray-500",children:l.name})]}),e.jsx("dd",{className:"ml-16 flex items-baseline",children:e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.value})})]},l.name))}),a("access_management","view_audit_logs")&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"overflow-hidden bg-white shadow sm:rounded-md",children:[e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:r.length>0?r.map(l=>{var u;return e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(at,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("p",{className:"truncate text-sm font-medium text-primary-600",children:[l.action.charAt(0).toUpperCase()+l.action.slice(1)," ",l.entity_type.replace(/_/g," ")]})]}),e.jsx("div",{className:"ml-2 flex flex-shrink-0",children:e.jsx("p",{className:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800",children:new Date(l.created_at).toLocaleString()})})]}),e.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:e.jsx("div",{className:"sm:flex",children:e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:((u=l.auth_users)==null?void 0:u.email)||"Unknown user"})})})]})},l.id)}):e.jsx("li",{className:"px-4 py-5 sm:px-6 text-center text-sm text-gray-500",children:"No recent activity found"})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 text-right sm:px-6",children:e.jsx(C,{to:"/admin/audit-logs",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all activity"})})]})]})]})]})}const pm=()=>e.jsx(gm,{}),bm=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState(null),[o,c]=m.useState(""),[l,u]=m.useState("all"),[d,f]=m.useState(1),[h]=m.useState(10);m.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0);const{data:k,error:O}=await ee.from("profiles").select(`
          id,
          first_name,
          last_name,
          email,
          role,
          created_at,
          last_sign_in_at,
          is_active
        `).order("created_at",{ascending:!1});if(O)throw O;t(k||[])}catch(k){console.error("Error fetching users:",k),i("Failed to load users. Please try again later.")}finally{r(!1)}},y=async(k,O)=>{try{const{error:L}=await ee.from("profiles").update({role:O}).eq("id",k);if(L)throw L;t(a.map(B=>B.id===k?{...B,role:O}:B))}catch(L){console.error("Error updating user role:",L),alert("Failed to update user role. Please try again.")}},v=async(k,O)=>{try{const L=!O,{error:B}=await ee.from("profiles").update({is_active:L}).eq("id",k);if(B)throw B;t(a.map(I=>I.id===k?{...I,is_active:L}:I))}catch(L){console.error("Error toggling user status:",L),alert("Failed to update user status. Please try again.")}},x=a.filter(k=>{var B,I,U;const O=((B=k.first_name)==null?void 0:B.toLowerCase().includes(o.toLowerCase()))||((I=k.last_name)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((U=k.email)==null?void 0:U.toLowerCase().includes(o.toLowerCase())),L=l==="all"||k.role===l;return O&&L}),N=d*h,g=N-h,P=x.slice(g,N),D=Math.ceil(x.length/h),w=k=>f(k);return s?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):n?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",n]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"User Management"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"relative w-full md:w-1/3",children:[e.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:k=>c(k.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"w-full md:w-1/4",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:k=>u(k.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"homeowner",children:"Homeowner"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:P.length>0?P.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:k.first_name&&k.last_name?e.jsxs("span",{className:"text-gray-600 font-medium",children:[k.first_name.charAt(0),k.last_name.charAt(0)]}):e.jsx("span",{className:"text-gray-600 font-medium",children:k.email.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.first_name&&k.last_name?`${k.first_name} ${k.last_name}`:"No Name"})})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:k.email}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",value:k.role,onChange:O=>y(k.id,O.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"homeowner",children:"Homeowner"})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>v(k.id,k.is_active),className:`mr-2 px-3 py-1 rounded ${k.is_active?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,children:k.is_active?"Deactivate":"Activate"})})]},k.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-4 px-4 text-center text-gray-500",children:"No users found matching your criteria."})})})]})}),D>1&&e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",g+1," to ",Math.min(N,x.length)," of ",x.length," users"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,d-1)),disabled:d===1,className:`px-3 py-1 rounded ${d===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),[...Array(D).keys()].map(k=>e.jsx("button",{onClick:()=>w(k+1),className:`px-3 py-1 rounded ${d===k+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:k+1},k+1)),e.jsx("button",{onClick:()=>w(Math.min(D,d+1)),disabled:d===D,className:`px-3 py-1 rounded ${d===D?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Next"})]})]})]})},ym=()=>e.jsx(bm,{}),vm=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState(null),[o,c]=m.useState(""),[l,u]=m.useState("all"),[d,f]=m.useState("all"),[h,p]=m.useState(1),[y]=m.useState(10),[v,x]=m.useState([]);m.useEffect(()=>{g(),N()},[]);const N=async()=>{try{const{data:_,error:$}=await ee.from("service_categories").select("*").order("name");if($)throw $;x(_||[])}catch(_){console.error("Error fetching categories:",_)}},g=async()=>{try{r(!0);const{data:_,error:$}=await ee.from("profiles").select(`
          id,
          first_name,
          last_name,
          email,
          phone,
          created_at,
          is_active,
          is_verified,
          provider_details (
            id,
            business_name,
            description,
            years_of_experience,
            service_area,
            hourly_rate,
            service_category_id,
            rating,
            total_reviews,
            total_projects
          )
        `).eq("role","provider");if($)throw $;t(_||[])}catch(_){console.error("Error fetching providers:",_),i("Failed to load providers. Please try again later.")}finally{r(!1)}},P=async(_,$)=>{try{const R=!$,{error:W}=await ee.from("profiles").update({is_active:R}).eq("id",_);if(W)throw W;t(a.map(V=>V.id===_?{...V,is_active:R}:V))}catch(R){console.error("Error toggling provider status:",R),alert("Failed to update provider status. Please try again.")}},D=async(_,$)=>{try{const R=!$,{error:W}=await ee.from("profiles").update({is_verified:R}).eq("id",_);if(W)throw W;t(a.map(V=>V.id===_?{...V,is_verified:R}:V))}catch(R){console.error("Error toggling verification status:",R),alert("Failed to update verification status. Please try again.")}},w=a.filter(_=>{var V,X,ie,pe,_e,Le,Qe,Ie;const $=((V=_.first_name)==null?void 0:V.toLowerCase().includes(o.toLowerCase()))||((X=_.last_name)==null?void 0:X.toLowerCase().includes(o.toLowerCase()))||((ie=_.email)==null?void 0:ie.toLowerCase().includes(o.toLowerCase()))||((Le=(_e=(pe=_.provider_details)==null?void 0:pe[0])==null?void 0:_e.business_name)==null?void 0:Le.toLowerCase().includes(o.toLowerCase())),R=l==="all"||((Ie=(Qe=_.provider_details)==null?void 0:Qe[0])==null?void 0:Ie.service_category_id)===l,W=d==="all"||d==="active"&&_.is_active||d==="inactive"&&!_.is_active||d==="verified"&&_.is_verified||d==="unverified"&&!_.is_verified;return $&&R&&W}),k=h*y,O=k-y,L=w.slice(O,k),B=Math.ceil(w.length/y),I=_=>p(_),U=_=>{const $=v.find(R=>R.id===_);return $?$.name:"Unknown"};return s?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):n?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",n]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Service Provider Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search providers...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:_=>c(_.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),e.jsx("div",{children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:_=>u(_.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),v.map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]})}),e.jsx("div",{children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:_=>f(_.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"unverified",children:"Unverified"})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projects"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:L.length>0?L.map(_=>{var $,R,W,V,X,ie,pe,_e,Le,Qe,Ie,qt,kt,Vt,ot;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:_.first_name&&_.last_name?e.jsxs("span",{className:"text-gray-600 font-medium",children:[_.first_name.charAt(0),_.last_name.charAt(0)]}):e.jsx("span",{className:"text-gray-600 font-medium",children:_.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.first_name&&_.last_name?`${_.first_name} ${_.last_name}`:"No Name"}),e.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})]})}),e.jsxs("td",{className:"py-4 px-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:((R=($=_.provider_details)==null?void 0:$[0])==null?void 0:R.business_name)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((V=(W=_.provider_details)==null?void 0:W[0])==null?void 0:V.service_area)||"N/A"})]}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:(ie=(X=_.provider_details)==null?void 0:X[0])!=null&&ie.service_category_id?U(_.provider_details[0].service_category_id):"N/A"}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-900 mr-1",children:((Le=(_e=(pe=_.provider_details)==null?void 0:pe[0])==null?void 0:_e.rating)==null?void 0:Le.toFixed(1))||"N/A"}),((Ie=(Qe=_.provider_details)==null?void 0:Qe[0])==null?void 0:Ie.rating)&&e.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",((kt=(qt=_.provider_details)==null?void 0:qt[0])==null?void 0:kt.total_reviews)||0,")"]})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-500",children:((ot=(Vt=_.provider_details)==null?void 0:Vt[0])==null?void 0:ot.total_projects)||0}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.is_active?"Active":"Inactive"}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.is_verified?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:_.is_verified?"Verified":"Unverified"})]})}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:()=>P(_.id,_.is_active),className:`px-3 py-1 rounded text-xs ${_.is_active?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,children:_.is_active?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>D(_.id,_.is_verified),className:`px-3 py-1 rounded text-xs ${_.is_verified?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:_.is_verified?"Unverify":"Verify"}),e.jsx("button",{className:"px-3 py-1 rounded text-xs bg-gray-100 text-gray-600 hover:bg-gray-200",onClick:()=>{alert("View provider details - to be implemented")},children:"View Details"})]})})]},_.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"py-4 px-4 text-center text-gray-500",children:"No providers found matching your criteria."})})})]})}),B>1&&e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",O+1," to ",Math.min(k,w.length)," of ",w.length," providers"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>I(Math.max(1,h-1)),disabled:h===1,className:`px-3 py-1 rounded ${h===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}),[...Array(B).keys()].map(_=>e.jsx("button",{onClick:()=>I(_+1),className:`px-3 py-1 rounded ${h===_+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:_+1},_+1)),e.jsx("button",{onClick:()=>I(Math.min(B,h+1)),disabled:h===B,className:`px-3 py-1 rounded ${h===B?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Next"})]})]})]})},wm=()=>e.jsx(vm,{}),jm=()=>{const[a,t]=m.useState("overview"),[s,r]=m.useState("month"),[n,i]=m.useState(!0),[o,c]=m.useState(null),[l,u]=m.useState({totalUsers:0,totalProviders:0,totalHomeowners:0,totalProjects:0,completedProjects:0,totalRevenue:0,averageRating:0,userGrowth:[],projectsByCategory:[],revenueByMonth:[]});m.useEffect(()=>{d()},[s]);const d=async()=>{try{i(!0),await new Promise(p=>setTimeout(p,1e3));const h=f(s);u(h)}catch(h){console.error("Error fetching report data:",h),c("Failed to load report data. Please try again later.")}finally{i(!1)}},f=h=>{let p=[],y=[],v=[];switch(h){case"week":p=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y=[5,7,10,8,12,6,9],v=[1200,1500,1800,1600,2200,1900,1700];break;case"month":p=["Week 1","Week 2","Week 3","Week 4"],y=[25,38,42,35],v=[8500,9200,10500,9800];break;case"year":p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=[120,150,180,210,250,280,310,340,370,400,430,450],v=[35e3,42e3,38e3,45e3,52e3,58e3,62e3,59e3,65e3,7e4,75e3,8e4];break;default:p=["Week 1","Week 2","Week 3","Week 4"],y=[25,38,42,35],v=[8500,9200,10500,9800]}return{totalUsers:2458,totalProviders:587,totalHomeowners:1871,totalProjects:1245,completedProjects:876,totalRevenue:v.reduce((x,N)=>x+N,0),averageRating:4.7,userGrowth:p.map((x,N)=>({month:x,count:y[N]})),projectsByCategory:[{category:"Plumbing",count:245},{category:"Electrical",count:198},{category:"Carpentry",count:176},{category:"Painting",count:152},{category:"Landscaping",count:138},{category:"Roofing",count:112},{category:"HVAC",count:98},{category:"Other",count:126}],revenueByMonth:p.map((x,N)=>({month:x,amount:v[N]}))}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):o?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",o]})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Analytics & Reports"}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:h=>r(h.target.value),children:[e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"}),e.jsx("option",{value:"year",children:"Last 12 Months"})]})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("overview"),children:"Overview"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("users"),children:"Users"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="projects"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("projects"),children:"Projects"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="revenue"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("revenue"),children:"Revenue"})]})}),a==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalUsers.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"12.5%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProjects.toLocaleString()})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"8.2%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.round(l.completedProjects/l.totalProjects*100),"%"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"3.7%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",l.totalRevenue.toLocaleString()]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-green-500 text-sm font-medium flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"15.3%"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs. previous period"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Growth"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.userGrowth.map((h,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${h.count/Math.max(...l.userGrowth.map(y=>y.count))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:h.month})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Projects by Category"}),e.jsx("div",{className:"h-64 overflow-y-auto",children:l.projectsByCategory.map((h,p)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.category}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${h.count/Math.max(...l.projectsByCategory.map(y=>y.count))*100}%`}})})]},p))})]})]})]}),a==="users"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalUsers.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Service Providers"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProviders.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Homeowners"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalHomeowners.toLocaleString()})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Growth"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.userGrowth.map((h,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${h.count/Math.max(...l.userGrowth.map(y=>y.count))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:h.month})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"User Distribution"}),e.jsxs("div",{className:"h-64 flex items-center justify-center",children:[e.jsxs("div",{className:"w-48 h-48 rounded-full border-8 border-gray-200 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.cos(2*Math.PI*l.totalProviders/l.totalUsers)}% ${50-50*Math.sin(2*Math.PI*l.totalProviders/l.totalUsers)}%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 bg-green-500",style:{clipPath:`polygon(50% 50%, ${50+50*Math.cos(2*Math.PI*l.totalProviders/l.totalUsers)}% ${50-50*Math.sin(2*Math.PI*l.totalProviders/l.totalUsers)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-white rounded-full"})})]}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Providers (",Math.round(l.totalProviders/l.totalUsers*100),"%)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Homeowners (",Math.round(l.totalHomeowners/l.totalUsers*100),"%)"]})]})]})]})]})]})]}),a==="projects"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.totalProjects.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Projects"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.completedProjects.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[l.averageRating.toFixed(1),"/5.0"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Projects by Category"}),e.jsx("div",{className:"h-64 overflow-y-auto",children:l.projectsByCategory.map((h,p)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.category}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${h.count/Math.max(...l.projectsByCategory.map(y=>y.count))*100}%`}})})]},p))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Project Status"}),e.jsxs("div",{className:"h-64 flex items-center justify-center",children:[e.jsxs("div",{className:"w-48 h-48 rounded-full border-8 border-gray-200 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.cos(2*Math.PI*l.completedProjects/l.totalProjects)}% ${50-50*Math.sin(2*Math.PI*l.completedProjects/l.totalProjects)}%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 bg-blue-500",style:{clipPath:`polygon(50% 50%, ${50+50*Math.cos(2*Math.PI*l.completedProjects/l.totalProjects)}% ${50-50*Math.sin(2*Math.PI*l.completedProjects/l.totalProjects)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-white rounded-full"})})]}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Completed (",Math.round(l.completedProjects/l.totalProjects*100),"%)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["In Progress (",Math.round((l.totalProjects-l.completedProjects)/l.totalProjects*100),"%)"]})]})]})]})]})]})]}),a==="revenue"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",l.totalRevenue.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average per Project"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",Math.round(l.totalRevenue/l.totalProjects).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-500 mr-4",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"+15.3%"})]})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Trend"}),e.jsx("div",{className:"h-64 flex items-end space-x-2",children:l.revenueByMonth.map((h,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-purple-500 rounded-t",style:{height:`${h.amount/Math.max(...l.revenueByMonth.map(y=>y.amount))*200}px`}}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:h.month}),e.jsxs("div",{className:"text-xs font-medium text-gray-700",children:["$",(h.amount/1e3).toFixed(1),"k"]})]},p))})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>{alert("Export functionality would be implemented here")},children:"Export Report"})})]})},Nm=()=>e.jsx(jm,{}),km=()=>{const[a,t]=m.useState("general"),[s,r]=m.useState(!1),[n,i]=m.useState(null),[o,c]=m.useState(null),[l,u]=m.useState({siteName:"Home Renovation Platform",siteDescription:"Connect homeowners with trusted service providers",contactEmail:"support@renovationplatform.com",supportPhone:"+1 (555) 123-4567",maintenanceMode:!1}),[d,f]=m.useState({emailProvider:"smtp",smtpHost:"smtp.example.com",smtpPort:"587",smtpUsername:"notifications@renovationplatform.com",smtpPassword:"••••••••••••",senderName:"Renovation Platform",senderEmail:"notifications@renovationplatform.com",enableEmailNotifications:!0}),[h,p]=m.useState({paymentGateway:"stripe",currencyCode:"USD",testMode:!0,platformFeePercentage:5,minimumWithdrawalAmount:50,autoPayoutEnabled:!1,payoutSchedule:"weekly"}),[y,v]=m.useState({requireEmailVerification:!0,twoFactorAuthEnabled:!1,passwordMinLength:8,passwordRequireSpecialChar:!0,passwordRequireNumber:!0,sessionTimeout:60,maxLoginAttempts:5,recaptchaEnabled:!0}),x=async w=>{w.preventDefault(),await D("general")},N=async w=>{w.preventDefault(),await D("email")},g=async w=>{w.preventDefault(),await D("payment")},P=async w=>{w.preventDefault(),await D("security")},D=async(w,k)=>{r(!0),c(null),i(null);try{await new Promise(O=>setTimeout(O,1e3)),i(`${w.charAt(0).toUpperCase()+w.slice(1)} settings updated successfully.`),setTimeout(()=>{i(null)},5e3)}catch(O){console.error(`Error saving ${w} settings:`,O),c(`Failed to save ${w} settings. Please try again.`)}finally{r(!1)}};return e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="general"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("general"),children:"General"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="email"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("email"),children:"Email"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="payment"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("payment"),children:"Payment"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>t("security"),children:"Security"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Platform Settings"}),n&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:n}),o&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),a==="general"&&e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-700",children:"Site Name"}),e.jsx("input",{type:"text",id:"siteName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.siteName,onChange:w=>u({...l,siteName:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"siteDescription",className:"block text-sm font-medium text-gray-700",children:"Site Description"}),e.jsx("textarea",{id:"siteDescription",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.siteDescription,onChange:w=>u({...l,siteDescription:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),e.jsx("input",{type:"email",id:"contactEmail",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.contactEmail,onChange:w=>u({...l,contactEmail:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"supportPhone",className:"block text-sm font-medium text-gray-700",children:"Support Phone"}),e.jsx("input",{type:"text",id:"supportPhone",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:l.supportPhone,onChange:w=>u({...l,supportPhone:w.target.value})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"maintenanceMode",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:l.maintenanceMode,onChange:w=>u({...l,maintenanceMode:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"maintenanceMode",className:"font-medium text-gray-700",children:"Maintenance Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, the site will display a maintenance message to all users except administrators."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),a==="email"&&e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emailProvider",className:"block text-sm font-medium text-gray-700",children:"Email Provider"}),e.jsxs("select",{id:"emailProvider",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.emailProvider,onChange:w=>f({...d,emailProvider:w.target.value}),children:[e.jsx("option",{value:"smtp",children:"SMTP"}),e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"mailchimp",children:"Mailchimp"}),e.jsx("option",{value:"aws_ses",children:"AWS SES"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpHost",className:"block text-sm font-medium text-gray-700",children:"SMTP Host"}),e.jsx("input",{type:"text",id:"smtpHost",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpHost,onChange:w=>f({...d,smtpHost:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpPort",className:"block text-sm font-medium text-gray-700",children:"SMTP Port"}),e.jsx("input",{type:"text",id:"smtpPort",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpPort,onChange:w=>f({...d,smtpPort:w.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpUsername",className:"block text-sm font-medium text-gray-700",children:"SMTP Username"}),e.jsx("input",{type:"text",id:"smtpUsername",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpUsername,onChange:w=>f({...d,smtpUsername:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtpPassword",className:"block text-sm font-medium text-gray-700",children:"SMTP Password"}),e.jsx("input",{type:"password",id:"smtpPassword",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.smtpPassword,onChange:w=>f({...d,smtpPassword:w.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700",children:"Sender Name"}),e.jsx("input",{type:"text",id:"senderName",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.senderName,onChange:w=>f({...d,senderName:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senderEmail",className:"block text-sm font-medium text-gray-700",children:"Sender Email"}),e.jsx("input",{type:"email",id:"senderEmail",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.senderEmail,onChange:w=>f({...d,senderEmail:w.target.value})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableEmailNotifications",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:d.enableEmailNotifications,onChange:w=>f({...d,enableEmailNotifications:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableEmailNotifications",className:"font-medium text-gray-700",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Send automated email notifications for important events (new projects, messages, etc.)."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),a==="payment"&&e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentGateway",className:"block text-sm font-medium text-gray-700",children:"Payment Gateway"}),e.jsxs("select",{id:"paymentGateway",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:h.paymentGateway,onChange:w=>p({...h,paymentGateway:w.target.value}),children:[e.jsx("option",{value:"stripe",children:"Stripe"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"square",children:"Square"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currencyCode",className:"block text-sm font-medium text-gray-700",children:"Currency"}),e.jsxs("select",{id:"currencyCode",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:h.currencyCode,onChange:w=>p({...h,currencyCode:w.target.value}),children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),e.jsx("option",{value:"AUD",children:"AUD - Australian Dollar"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"testMode",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:h.testMode,onChange:w=>p({...h,testMode:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"testMode",className:"font-medium text-gray-700",children:"Test Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, payments will be processed in sandbox/test mode."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"platformFeePercentage",className:"block text-sm font-medium text-gray-700",children:"Platform Fee (%)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",id:"platformFeePercentage",min:"0",max:"100",step:"0.1",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md",value:h.platformFeePercentage,onChange:w=>p({...h,platformFeePercentage:parseFloat(w.target.value)})}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Percentage fee charged by the platform on each transaction."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minimumWithdrawalAmount",className:"block text-sm font-medium text-gray-700",children:"Minimum Withdrawal Amount"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e.jsx("input",{type:"number",id:"minimumWithdrawalAmount",min:"0",step:"1",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 sm:text-sm border-gray-300 rounded-md",value:h.minimumWithdrawalAmount,onChange:w=>p({...h,minimumWithdrawalAmount:parseInt(w.target.value)})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"autoPayoutEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:h.autoPayoutEnabled,onChange:w=>p({...h,autoPayoutEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"autoPayoutEnabled",className:"font-medium text-gray-700",children:"Automatic Payouts"}),e.jsx("p",{className:"text-gray-500",children:"Automatically process payouts to service providers based on the schedule below."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payoutSchedule",className:"block text-sm font-medium text-gray-700",children:"Payout Schedule"}),e.jsxs("select",{id:"payoutSchedule",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:h.payoutSchedule,onChange:w=>p({...h,payoutSchedule:w.target.value}),disabled:!h.autoPayoutEnabled,children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"biweekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]}),a==="security"&&e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"requireEmailVerification",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.requireEmailVerification,onChange:w=>v({...y,requireEmailVerification:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"requireEmailVerification",className:"font-medium text-gray-700",children:"Require Email Verification"}),e.jsx("p",{className:"text-gray-500",children:"Users must verify their email address before accessing the platform."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"twoFactorAuthEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.twoFactorAuthEnabled,onChange:w=>v({...y,twoFactorAuthEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"twoFactorAuthEnabled",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-500",children:"Allow users to enable two-factor authentication for their accounts."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"passwordMinLength",className:"block text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("input",{type:"number",id:"passwordMinLength",min:"6",max:"32",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.passwordMinLength,onChange:w=>v({...y,passwordMinLength:parseInt(w.target.value)})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireSpecialChar",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.passwordRequireSpecialChar,onChange:w=>v({...y,passwordRequireSpecialChar:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireSpecialChar",className:"font-medium text-gray-700",children:"Require Special Character"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one special character."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireNumber",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.passwordRequireNumber,onChange:w=>v({...y,passwordRequireNumber:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireNumber",className:"font-medium text-gray-700",children:"Require Number"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one number."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-gray-700",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",id:"sessionTimeout",min:"5",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.sessionTimeout,onChange:w=>v({...y,sessionTimeout:parseInt(w.target.value)})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Users will be automatically logged out after this period of inactivity."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maxLoginAttempts",className:"block text-sm font-medium text-gray-700",children:"Maximum Login Attempts"}),e.jsx("input",{type:"number",id:"maxLoginAttempts",min:"1",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:y.maxLoginAttempts,onChange:w=>v({...y,maxLoginAttempts:parseInt(w.target.value)})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Account will be temporarily locked after this many failed login attempts."})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"recaptchaEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:y.recaptchaEnabled,onChange:w=>v({...y,recaptchaEnabled:w.target.checked})})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"recaptchaEnabled",className:"font-medium text-gray-700",children:"Enable reCAPTCHA"}),e.jsx("p",{className:"text-gray-500",children:"Use Google reCAPTCHA to protect forms from spam and abuse."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:s,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"opacity-70 cursor-not-allowed":""}`,children:s?"Saving...":"Save Settings"})})]})]})]})},_m=()=>e.jsx(km,{}),Sm=()=>{const[a,t]=m.useState([]),[s,r]=m.useState(!0),[n,i]=m.useState("all"),[o,c]=m.useState("");m.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const h=[{id:1,title:"Modern Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.",author:"John Smith",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,3,15),category:"kitchen",images:["https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:24,comments:8,shares:3},{id:2,title:"Backyard Deck and Landscaping",description:"Built a new cedar deck and completely redesigned the backyard with native plants and a stone pathway.",author:"Sarah Johnson",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,3,20),category:"outdoor",images:["https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:32,comments:12,shares:5},{id:3,title:"Bathroom Remodel Tips",description:"Professional tips for remodeling your bathroom on a budget while still achieving a luxury look.",author:"Michael Brown",authorRole:"provider",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,3,25),category:"bathroom",images:["https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:45,comments:18,shares:10},{id:4,title:"DIY Living Room Makeover",description:"How I transformed my living room with just paint, new curtains, and rearranging furniture. Budget-friendly tips included!",author:"Emily Wilson",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,4,2),category:"living",images:["https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:38,comments:15,shares:7},{id:5,title:"Energy-Efficient Home Upgrades",description:"Sharing my experience installing solar panels, upgrading insulation, and replacing windows to create an energy-efficient home.",author:"David Lee",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,4,5),category:"energy",images:["https://images.pexels.com/photos/9875441/pexels-photo-9875441.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:29,comments:11,shares:8},{id:6,title:"Professional Painting Techniques",description:"Learn the techniques professionals use to get perfect paint results every time. From prep work to final touches.",author:"Jennifer Garcia",authorRole:"provider",authorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,4,8),category:"painting",images:["https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:52,comments:23,shares:15}];t(h)}catch(h){console.error("Error fetching projects:",h)}finally{r(!1)}},u=a.filter(h=>{const p=n==="all"||h.category===n,y=h.title.toLowerCase().includes(o.toLowerCase())||h.description.toLowerCase().includes(o.toLowerCase())||h.author.toLowerCase().includes(o.toLowerCase());return p&&y}),d=h=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(h),f=h=>{const y={kitchen:{bg:"bg-blue-100",text:"text-blue-800",label:"Kitchen"},bathroom:{bg:"bg-green-100",text:"text-green-800",label:"Bathroom"},outdoor:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Outdoor"},living:{bg:"bg-purple-100",text:"text-purple-800",label:"Living Room"},energy:{bg:"bg-red-100",text:"text-red-800",label:"Energy Efficiency"},painting:{bg:"bg-indigo-100",text:"text-indigo-800",label:"Painting"}}[h]||{bg:"bg-gray-100",text:"text-gray-800",label:h};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.bg} ${y.text}`,children:y.label})};return s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Community Hub"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Share your home improvement projects, get inspired, and connect with others."})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700",children:"Filter by category"}),e.jsxs("select",{id:"filter",name:"filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:n,onChange:h=>i(h.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"kitchen",children:"Kitchen"}),e.jsx("option",{value:"bathroom",children:"Bathroom"}),e.jsx("option",{value:"outdoor",children:"Outdoor"}),e.jsx("option",{value:"living",children:"Living Room"}),e.jsx("option",{value:"energy",children:"Energy Efficiency"}),e.jsx("option",{value:"painting",children:"Painting"})]})]})}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md",placeholder:"Search projects...",value:o,onChange:h=>c(h.target.value)})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Bc,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Share Your Project"]})}),e.jsx("div",{className:"mt-8 grid gap-6 lg:grid-cols-2",children:u.length>0?u.map(h=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"h-10 w-10 rounded-full",src:h.authorAvatar,alt:h.author})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:h.author}),h.authorRole==="provider"&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Pro"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:d(h.date)})]}),e.jsx("div",{className:"ml-auto",children:f(h.category)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(C,{to:`/community/project/${h.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-500",children:h.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:h.description})]}),h.images.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:h.images[0],alt:h.title,className:"h-64 w-full object-cover rounded-lg"})}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(Zs,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:h.likes})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(Re,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:h.comments})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(fn,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:h.shares})]})]}),e.jsx(C,{to:`/community/project/${h.id}`,className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500",children:"View Details"})]})]})},h.id)):e.jsx("div",{className:"lg:col-span-2 bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500",children:"No projects found matching your criteria"})})]})]})},Cm=()=>{const{id:a}=Zn(),[t,s]=m.useState(null),[r,n]=m.useState([]),[i,o]=m.useState(!0),[c,l]=m.useState(""),[u,d]=m.useState(!1);m.useEffect(()=>{f()},[a]);const f=async()=>{try{o(!0);const v={id:parseInt(a),title:"Modern Kitchen Renovation",description:"Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances. The project took approximately 6 weeks to complete and was done by a professional contractor.",longDescription:`
          <p>When we first moved into our home, the kitchen was functional but outdated. The cabinets were from the 90s, the countertops were laminate, and the appliances were showing their age. After saving for a few years, we decided it was time for a complete renovation.</p>
          
          <h3>Planning Phase</h3>
          <p>We started by researching kitchen designs and creating a mood board. We wanted a modern look with clean lines, but also something that would stand the test of time. We worked with a kitchen designer to finalize the layout and select materials.</p>
          
          <h3>Demo and Construction</h3>
          <p>The demo took about a week. Everything was removed down to the studs. This gave us the opportunity to update the electrical and plumbing to current code. The construction phase included:</p>
          <ul>
            <li>New drywall and ceiling</li>
            <li>Recessed lighting and pendant lights over the island</li>
            <li>Custom white shaker cabinets with soft-close hinges</li>
            <li>Quartz countertops in a marble-look finish</li>
            <li>Subway tile backsplash</li>
            <li>New hardwood flooring to match the rest of the house</li>
            <li>Stainless steel appliances (refrigerator, range, dishwasher, microwave)</li>
          </ul>
          
          <h3>Challenges</h3>
          <p>We discovered some water damage behind the sink that required additional work. This added about a week to the timeline and increased the budget by about $2,000. We also had a delay with the countertop installation due to a measurement error, which pushed things back another week.</p>
          
          <h3>Final Result</h3>
          <p>Despite the challenges, we're thrilled with the final result. The kitchen is now the heart of our home, and we enjoy spending time cooking and entertaining. The investment has definitely been worth it, both for our enjoyment and for the value it's added to our home.</p>
          
          <h3>Budget Breakdown</h3>
          <p>For those interested in the costs:</p>
          <ul>
            <li>Cabinets: $12,000</li>
            <li>Countertops: $4,500</li>
            <li>Appliances: $6,000</li>
            <li>Flooring: $3,000</li>
            <li>Lighting: $1,500</li>
            <li>Plumbing fixtures: $800</li>
            <li>Backsplash: $1,200</li>
            <li>Labor: $15,000</li>
            <li>Total: Approximately $44,000</li>
          </ul>
          
          <p>Feel free to ask any questions in the comments!</p>
        `,author:"John Smith",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",date:new Date(2023,3,15),category:"kitchen",images:["https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],likes:24,comments:8,shares:3,tags:["kitchen","renovation","modern","quartz","custom cabinets"]},x=[{id:1,author:"Sarah Johnson",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",text:"This looks amazing! I love the quartz countertops. How long did the entire renovation take?",date:new Date(2023,3,16),likes:3},{id:2,author:"Michael Brown",authorRole:"provider",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",text:"Great work! As a contractor, I appreciate the attention to detail. The subway tile backsplash is installed perfectly.",date:new Date(2023,3,17),likes:5},{id:3,author:"Emily Wilson",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",text:"I'm planning a similar renovation. Would you mind sharing your budget breakdown?",date:new Date(2023,3,18),likes:2},{id:4,author:"John Smith",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",text:"Thanks everyone! @Sarah - It took about 6 weeks total. @Emily - I've updated the post with a budget breakdown. Let me know if you have any other questions!",date:new Date(2023,3,19),likes:4}];s(v),n(x)}catch(v){console.error("Error fetching project details:",v)}finally{o(!1)}},h=async v=>{if(v.preventDefault(),!!c.trim())try{d(!0);const x={id:r.length+1,author:"Current User",authorRole:"homeowner",authorAvatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",text:c,date:new Date,likes:0};n([...r,x]),l(""),s({...t,comments:t.comments+1})}catch(x){console.error("Error submitting comment:",x)}finally{d(!1)}},p=v=>te(v,"MMM d, yyyy"),y=v=>{const N={kitchen:{bg:"bg-blue-100",text:"text-blue-800",label:"Kitchen"},bathroom:{bg:"bg-green-100",text:"text-green-800",label:"Bathroom"},outdoor:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Outdoor"},living:{bg:"bg-purple-100",text:"text-purple-800",label:"Living Room"},energy:{bg:"bg-red-100",text:"text-red-800",label:"Energy Efficiency"},painting:{bg:"bg-indigo-100",text:"text-indigo-800",label:"Painting"}}[v]||{bg:"bg-gray-100",text:"text-gray-800",label:v};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.bg} ${N.text}`,children:N.label})};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):t?e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(C,{to:"/community",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500",children:[e.jsx(Yr,{className:"mr-1 h-5 w-5","aria-hidden":"true"}),"Back to Community"]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"h-12 w-12 rounded-full",src:t.authorAvatar,alt:t.author})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.author}),t.authorRole==="provider"&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Pro"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:p(t.date)})]}),e.jsx("div",{className:"ml-auto",children:y(t.category)})]})}),t.images.length>0&&e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("img",{src:t.images[0],alt:t.title,className:"h-64 w-full object-cover rounded-lg"})}),t.images.slice(1).map((v,x)=>e.jsx("div",{children:e.jsx("img",{src:v,alt:`${t.title} ${x+2}`,className:"h-40 w-full object-cover rounded-lg"})},x))]})})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:t.description}),e.jsx("div",{className:"mt-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t.longDescription}}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.map((v,x)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["#",v]},x))}),e.jsx("div",{className:"mt-6 flex justify-between border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(Zs,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:t.likes})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(Re,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:t.comments})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx(fn,{className:"h-5 w-5 mr-1 text-gray-400"}),e.jsx("span",{children:t.shares})]})]})})]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Comments (",r.length,")"]}),e.jsx("div",{className:"mt-4",children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"h-10 w-10 rounded-full",src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"Current user"})}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsxs("div",{className:"border border-gray-300 rounded-lg shadow-sm overflow-hidden focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500",children:[e.jsx("textarea",{rows:3,name:"comment",id:"comment",className:"block w-full py-3 border-0 resize-none focus:ring-0 sm:text-sm",placeholder:"Add a comment...",value:c,onChange:v=>l(v.target.value)}),e.jsx("div",{className:"py-2 px-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{type:"button",className:"-m-2.5 w-10 h-10 rounded-full inline-flex items-center justify-center text-gray-400 hover:text-gray-500",children:[e.jsx(hr,{className:"h-5 w-5","aria-hidden":"true"}),e.jsx("span",{className:"sr-only",children:"Attach a file"})]})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{type:"submit",disabled:!c.trim()||u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(ur,{className:"-ml-1 mr-2 h-4 w-4"}),"Post"]})})]})})]})})]})})}),e.jsx("div",{className:"mt-6 space-y-6",children:r.map(v=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"h-10 w-10 rounded-full",src:v.authorAvatar,alt:v.author})}),e.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg px-4 py-2 sm:px-6 sm:py-4",children:[e.jsxs("div",{className:"sm:flex sm:justify-between sm:items-baseline",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:v.author}),v.authorRole==="provider"&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Pro"})]})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 sm:mt-0",children:p(v.date)})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:v.text})}),e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("button",{type:"button",className:"inline-flex items-center text-gray-500 hover:text-gray-700",children:[e.jsx(Zs,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:v.likes})]})})]})]},v.id))})]})})]})]})}):e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project not found"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"The project you're looking for doesn't exist or has been removed."}),e.jsx("div",{className:"mt-6",children:e.jsxs(C,{to:"/community",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Yr,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Back to Community"]})})]})})})})},Em=()=>{const{user:a}=ge(),{userProfile:t}=Fe(),s=(t==null?void 0:t.role)||"homeowner";return e.jsxs("div",{className:"bg-white",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(C,{to:"/",className:"text-2xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("nav",{className:"hidden md:flex space-x-10",children:[e.jsx(C,{to:"/about",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"About"}),e.jsx(C,{to:"/pricing",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Pricing"}),e.jsx(C,{to:"/contact",className:"text-base font-medium text-gray-500 hover:text-gray-900",children:"Contact"})]}),e.jsx("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:a?e.jsx(C,{to:`/${s}/dashboard`,className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(C,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})})]})})}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"relative shadow-xl sm:rounded-2xl sm:overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{className:"h-full w-full object-cover",src:"https://images.pexels.com/photos/3990359/pexels-photo-3990359.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Home renovation"}),e.jsx("div",{className:"absolute inset-0 bg-blue-700 mix-blend-multiply"})]}),e.jsxs("div",{className:"relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8",children:[e.jsxs("h1",{className:"text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl",children:[e.jsx("span",{className:"block text-white",children:"Connect with trusted"}),e.jsx("span",{className:"block text-blue-200",children:"home service professionals"})]}),e.jsx("p",{className:"mt-6 max-w-lg mx-auto text-center text-xl text-white sm:max-w-3xl",children:"Find qualified service providers for your home renovation and maintenance projects. Get quotes, schedule appointments, and manage your projects all in one place."}),e.jsx("div",{className:"mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center",children:e.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5",children:[e.jsx(C,{to:a?`/${s}/dashboard`:"/register",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-700 bg-white hover:bg-blue-50 sm:px-8",children:a?"Go to Dashboard":"Get started"}),e.jsx(C,{to:"/about",className:"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-500 bg-opacity-60 hover:bg-opacity-70 sm:px-8",children:"Learn more"})]})})]})]})})}),e.jsx("div",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-blue-600 font-semibold tracking-wide uppercase",children:"Features"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"A better way to manage home projects"}),e.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Our platform connects homeowners with qualified service providers and streamlines the entire project management process."})]}),e.jsx("div",{className:"mt-10",children:e.jsxs("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Project Management"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Create and manage projects, set budgets, track progress, and communicate with service providers all in one place."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Verified Providers"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"All service providers are verified and reviewed by other homeowners, ensuring you get quality work from trusted professionals."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Scheduling"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Schedule appointments, set reminders, and coordinate with service providers using our integrated calendar system."})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("dt",{children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Secure Messaging"})]}),e.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Communicate directly with service providers through our secure messaging system, keeping all project communications in one place."})]})]})})]})}),e.jsx("div",{className:"bg-blue-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Sign up for free today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Join thousands of homeowners and service providers already using ServiceConnectPro to simplify home project management."}),e.jsx(C,{to:a?`/${s}/dashboard`:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 sm:w-auto",children:a?"Go to Dashboard":"Sign up for free"})]})}),e.jsx("footer",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[e.jsx("div",{className:"px-5 py-2",children:e.jsx(C,{to:"/about",className:"text-base text-gray-500 hover:text-gray-900",children:"About"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(C,{to:"/pricing",className:"text-base text-gray-500 hover:text-gray-900",children:"Pricing"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(C,{to:"/contact",className:"text-base text-gray-500 hover:text-gray-900",children:"Contact"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(C,{to:"/terms",className:"text-base text-gray-500 hover:text-gray-900",children:"Terms"})}),e.jsx("div",{className:"px-5 py-2",children:e.jsx(C,{to:"/privacy",className:"text-base text-gray-500 hover:text-gray-900",children:"Privacy"})})]}),e.jsx("p",{className:"mt-8 text-center text-base text-gray-400",children:"© 2023 ServiceConnectPro. All rights reserved."})]})})]})},Pm=()=>e.jsxs("div",{className:"bg-white",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[e.jsx(C,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(C,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})]})})}),e.jsxs("div",{className:"relative py-16 bg-white overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block lg:absolute lg:inset-y-0 lg:h-full lg:w-full",children:e.jsxs("div",{className:"relative h-full text-lg max-w-prose mx-auto","aria-hidden":"true",children:[e.jsxs("svg",{className:"absolute top-12 left-full transform translate-x-32",width:404,height:384,fill:"none",viewBox:"0 0 404 384",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"74b3fd99-0a6f-4271-bef2-e80eeafdf357",x:0,y:0,width:20,height:20,patternUnits:"userSpaceOnUse",children:e.jsx("rect",{x:0,y:0,width:4,height:4,className:"text-gray-200",fill:"currentColor"})})}),e.jsx("rect",{width:404,height:384,fill:"url(#74b3fd99-0a6f-4271-bef2-e80eeafdf357)"})]}),e.jsxs("svg",{className:"absolute top-1/2 right-full transform -translate-y-1/2 -translate-x-32",width:404,height:384,fill:"none",viewBox:"0 0 404 384",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"f210dbf6-a58d-4871-961e-36d5016a0f49",x:0,y:0,width:20,height:20,patternUnits:"userSpaceOnUse",children:e.jsx("rect",{x:0,y:0,width:4,height:4,className:"text-gray-200",fill:"currentColor"})})}),e.jsx("rect",{width:404,height:384,fill:"url(#f210dbf6-a58d-4871-961e-36d5016a0f49)"})]})]})}),e.jsxs("div",{className:"relative px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-lg max-w-prose mx-auto",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"block text-base text-center text-blue-600 font-semibold tracking-wide uppercase",children:"About Us"}),e.jsx("span",{className:"mt-2 block text-3xl text-center leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Our Mission and Story"})]}),e.jsx("p",{className:"mt-8 text-xl text-gray-500 leading-8",children:"ServiceConnectPro was founded with a simple mission: to transform how homeowners find and work with service professionals, making home improvement and maintenance easier, more transparent, and more reliable."})]}),e.jsxs("div",{className:"mt-6 prose prose-blue prose-lg text-gray-500 mx-auto",children:[e.jsx("h2",{children:"Our Beginning"}),e.jsx("p",{children:"The idea for ServiceConnectPro was born out of frustration. Our founders, experienced homeowners and service providers themselves, recognized the challenges that existed on both sides of the home service industry:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Homeowners struggled to find reliable, qualified professionals"}),e.jsx("li",{children:"Service providers faced challenges in finding new clients and managing their businesses"}),e.jsx("li",{children:"Both sides dealt with communication issues, scheduling conflicts, and payment complications"})]}),e.jsx("p",{children:"In 2023, we set out to build a platform that would address these pain points and create a better experience for everyone involved."}),e.jsx("h2",{children:"What We Believe"}),e.jsx("p",{children:"At ServiceConnectPro, we believe that home improvement and maintenance shouldn't be stressful. We're guided by a few core principles:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Trust and transparency"})," are essential in the home service industry"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technology"})," can simplify and improve the experience for both homeowners and service providers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quality work"})," deserves recognition and fair compensation"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication"})," is the foundation of successful projects"]})]}),e.jsxs("figure",{children:[e.jsx("img",{className:"w-full rounded-lg",src:"https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team meeting",width:1310,height:873}),e.jsx("figcaption",{children:"Our team working to improve the platform"})]}),e.jsx("h2",{children:"How We're Different"}),e.jsx("p",{children:"Unlike other platforms, ServiceConnectPro focuses on building lasting relationships between homeowners and service providers. We're not just about one-time transactions—we're about creating a community where:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Homeowners can find trusted professionals for all their home service needs"}),e.jsx("li",{children:"Service providers can build their reputation and grow their business"}),e.jsx("li",{children:"Both sides benefit from streamlined communication, scheduling, and payment processes"})]}),e.jsx("h2",{children:"Our Team"}),e.jsx("p",{children:"ServiceConnectPro is built by a diverse team of professionals with backgrounds in technology, home services, customer experience, and business development. We're united by our passion for solving real problems and creating value for our users."}),e.jsx("h2",{children:"Join Us"}),e.jsx("p",{children:"Whether you're a homeowner looking for reliable service professionals or a provider looking to grow your business, we invite you to join the ServiceConnectPro community. Together, we can transform the home service industry."}),e.jsx("div",{className:"mt-10",children:e.jsx(C,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Get Started Today"})})]})]})]}),e.jsx("footer",{className:"bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8",children:[e.jsxs("div",{className:"xl:grid xl:grid-cols-3 xl:gap-8",children:[e.jsxs("div",{className:"space-y-8 xl:col-span-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"ServiceConnectPro"}),e.jsx("p",{className:"text-gray-300 text-base",children:"Connecting homeowners with trusted service professionals since 2023."}),e.jsx("div",{className:"flex space-x-6"})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2",children:[e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Solutions"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Homeowners"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Service Providers"})}),e.jsx("li",{children:e.jsx(C,{to:"/pricing",className:"text-base text-gray-300 hover:text-white",children:"Pricing"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Support"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Help Center"})}),e.jsx("li",{children:e.jsx(C,{to:"/contact",className:"text-base text-gray-300 hover:text-white",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"FAQ"})})]})]})]}),e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Company"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"/about",className:"text-base text-gray-300 hover:text-white",children:"About"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Blog"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Careers"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Legal"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Privacy"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Terms"})})]})]})]})]})]}),e.jsx("div",{className:"mt-12 border-t border-gray-700 pt-8",children:e.jsx("p",{className:"text-base text-gray-400 xl:text-center",children:"© 2023 ServiceConnectPro. All rights reserved."})})]})})]}),Tm=()=>{It();const[a,t]=m.useState({name:"",email:"",subject:"",message:""}),[s,r]=m.useState(!1),[n,i]=m.useState(!1),[o,c]=m.useState(null),l=d=>{const{name:f,value:h}=d.target;t(p=>({...p,[f]:h}))},u=async d=>{d.preventDefault(),r(!0),c(null);try{await new Promise(f=>setTimeout(f,1e3)),i(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>{i(!1)},5e3)}catch{c("There was an error sending your message. Please try again.")}finally{r(!1)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"bg-blue-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-xl max-w-2xl",children:"Have questions about our platform? Need help with your project? Our team is here to assist you every step of the way."})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Send Us a Message"}),n&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:"Thank you for your message! We'll get back to you soon."}),o&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:o}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"message",className:"block text-gray-700 font-medium mb-2",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:l,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("button",{type:"submit",disabled:s,className:`w-full bg-blue-600 text-white py-3 px-4 rounded-md font-medium transition ${s?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:s?"Sending...":"Send Message"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Phone"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Monday-Friday, 9am-5pm EST"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"support@renovationplatform.com"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"We'll respond within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Office"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"123 Renovation Street"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Suite 456"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"San Francisco, CA 94103"})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-blue-600",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]})]})})]})},Dm=()=>{const[a,t]=m.useState("monthly"),s=[{name:"Basic",description:"Perfect for homeowners with occasional projects",monthlyPrice:0,yearlyPrice:0,features:["Post up to 3 projects","Connect with up to 5 service providers","Basic project management tools","Community forum access","Email support"],cta:"Get Started",highlighted:!1},{name:"Premium",description:"For homeowners with multiple renovation needs",monthlyPrice:19.99,yearlyPrice:199.99,features:["Unlimited project postings","Priority matching with providers","Advanced project management tools","Milestone tracking","Document storage","Phone and email support","Verified provider access"],cta:"Start Free Trial",highlighted:!0},{name:"Professional",description:"For service providers looking to grow their business",monthlyPrice:49.99,yearlyPrice:499.99,features:["Featured provider listing","Unlimited project bidding","Business profile customization","Client management tools","Payment processing","Marketing tools","Analytics dashboard","Priority support"],cta:"Start Free Trial",highlighted:!1}];return e.jsxs("div",{className:"bg-gray-50",children:[e.jsx("header",{className:"relative bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[e.jsx("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-blue-600",children:"ServiceConnectPro"})}),e.jsxs("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[e.jsx(C,{to:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),e.jsx(C,{to:"/register",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Sign up"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:flex-col sm:align-center",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 sm:text-center",children:"Pricing Plans"}),e.jsx("p",{className:"mt-5 text-xl text-gray-500 sm:text-center",children:"Choose the perfect plan for your needs. Start with a 14-day free trial."}),e.jsxs("div",{className:"relative self-center mt-6 bg-gray-100 rounded-lg p-0.5 flex sm:mt-8",children:[e.jsx("button",{type:"button",className:`${a==="monthly"?"bg-white border-gray-200 shadow-sm":"border border-transparent"} relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`,onClick:()=>t("monthly"),children:"Monthly billing"}),e.jsxs("button",{type:"button",className:`${a==="yearly"?"bg-white border-gray-200 shadow-sm":"border border-transparent"} ml-0.5 relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`,onClick:()=>t("yearly"),children:["Yearly billing",e.jsx("span",{className:"absolute -top-2 -right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Save 15%"})]})]})]}),e.jsx("div",{className:"mt-12 space-y-4 sm:mt-16 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6 lg:max-w-4xl lg:mx-auto xl:max-w-none xl:mx-0 xl:grid-cols-3",children:s.map(r=>e.jsxs("div",{className:`${r.highlighted?"border-2 border-blue-500 shadow-xl":"border border-gray-200"} rounded-lg shadow-sm divide-y divide-gray-200 bg-white`,children:[r.highlighted&&e.jsx("div",{className:"bg-blue-500 text-white text-center py-2 rounded-t-lg",children:"Most Popular"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:r.name}),e.jsx("p",{className:"mt-2 text-gray-500",children:r.description}),e.jsxs("p",{className:"mt-8",children:[e.jsxs("span",{className:"text-4xl font-extrabold text-gray-900",children:["$",a==="monthly"?r.monthlyPrice:r.yearlyPrice]}),e.jsxs("span",{className:"text-base font-medium text-gray-500",children:["/",a==="monthly"?"mo":"year"]})]}),e.jsx(C,{to:"/register",className:`${r.highlighted?"bg-blue-500 hover:bg-blue-600 focus:ring-blue-500":"bg-blue-50 text-blue-700 hover:bg-blue-100 focus:ring-blue-200"} mt-8 block w-full py-3 px-6 border border-transparent rounded-md text-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2`,children:r.cta})]}),e.jsxs("div",{className:"pt-6 pb-8 px-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 tracking-wide uppercase",children:"What's included"}),e.jsx("ul",{className:"mt-6 space-y-4",children:r.features.map((n,i)=>e.jsxs("li",{className:"flex",children:[e.jsx("svg",{className:"flex-shrink-0 h-6 w-6 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"ml-3 text-base text-gray-500",children:n})]},i))})]})]},r.name))})]}),e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto divide-y-2 divide-gray-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Frequently asked questions"}),e.jsxs("dl",{className:"mt-6 space-y-6 divide-y divide-gray-200",children:[e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Can I cancel my subscription at any time?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, you can cancel your subscription at any time. Your plan will remain active until the end of your current billing period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"What payment methods do you accept?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"We accept all major credit cards, PayPal, and bank transfers for annual plans."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Do you offer discounts for non-profits or educational institutions?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, we offer special pricing for non-profits, educational institutions, and community organizations. Please contact our sales team for more information."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Can I upgrade or downgrade my plan later?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Absolutely! You can upgrade your plan at any time and the new features will be immediately available. If you downgrade, the changes will take effect at the start of your next billing cycle."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg font-medium text-gray-900",children:"Is there a limit to how many projects I can create?"}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"The Basic plan allows up to 3 active projects at a time. Premium and Professional plans offer unlimited project creation."})]})]})]})}),e.jsx("div",{className:"bg-blue-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Start your free trial today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Join thousands of homeowners and service providers already using ServiceConnectPro to simplify their renovation projects."}),e.jsx(C,{to:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 sm:w-auto",children:"Sign up for free"})]})}),e.jsx("footer",{className:"bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8",children:[e.jsxs("div",{className:"xl:grid xl:grid-cols-3 xl:gap-8",children:[e.jsxs("div",{className:"space-y-8 xl:col-span-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"ServiceConnectPro"}),e.jsx("p",{className:"text-gray-300 text-base",children:"Connecting homeowners with trusted service professionals since 2023."}),e.jsx("div",{className:"flex space-x-6"})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2",children:[e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Solutions"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Homeowners"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"For Service Providers"})}),e.jsx("li",{children:e.jsx(C,{to:"/pricing",className:"text-base text-gray-300 hover:text-white",children:"Pricing"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Support"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Help Center"})}),e.jsx("li",{children:e.jsx(C,{to:"/contact",className:"text-base text-gray-300 hover:text-white",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"FAQ"})})]})]})]}),e.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Company"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"/about",className:"text-base text-gray-300 hover:text-white",children:"About"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Blog"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Careers"})})]})]}),e.jsxs("div",{className:"mt-12 md:mt-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 tracking-wider uppercase",children:"Legal"}),e.jsxs("ul",{className:"mt-4 space-y-4",children:[e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Privacy"})}),e.jsx("li",{children:e.jsx(C,{to:"#",className:"text-base text-gray-300 hover:text-white",children:"Terms"})})]})]})]})]})]}),e.jsx("div",{className:"mt-12 border-t border-gray-700 pt-8",children:e.jsx("p",{className:"text-base text-gray-400 xl:text-center",children:"© 2023 ServiceConnectPro. All rights reserved."})})]})})]})},Am=()=>e.jsx("div",{className:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:e.jsx("div",{className:"max-w-max mx-auto",children:e.jsxs("main",{className:"sm:flex",children:[e.jsx("p",{className:"text-4xl font-extrabold text-blue-600 sm:text-5xl",children:"404"}),e.jsxs("div",{className:"sm:ml-6",children:[e.jsxs("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Page not found"}),e.jsx("p",{className:"mt-1 text-base text-gray-500",children:"Please check the URL in the address bar and try again."})]}),e.jsxs("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:[e.jsx(C,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go back home"}),e.jsx(C,{to:"/contact",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact support"})]})]})]})})});function Om(){const{user:a,loading:t}=ge(),{userProfile:s,loading:r}=Fe(),n=t||r,i=(s==null?void 0:s.role)||"homeowner";return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx(Xn,{children:e.jsxs(ei,{children:[e.jsx(z,{path:"/",element:e.jsx(Em,{})}),e.jsx(z,{path:"/about",element:e.jsx(Pm,{})}),e.jsx(z,{path:"/contact",element:e.jsx(Tm,{})}),e.jsx(z,{path:"/pricing",element:e.jsx(Dm,{})}),e.jsxs(z,{element:e.jsx(ud,{}),children:[e.jsx(z,{path:"/login",element:a?e.jsx(_t,{to:`/${i}/dashboard`}):e.jsx(Tu,{})}),e.jsx(z,{path:"/register",element:a?e.jsx(_t,{to:`/${i}/dashboard`}):e.jsx(Au,{})}),e.jsx(z,{path:"/forgot-password",element:e.jsx($u,{})})]}),e.jsxs(z,{path:"/community",element:e.jsx($s,{}),children:[e.jsx(z,{index:!0,element:e.jsx(Sm,{})}),e.jsx(z,{path:"project/:id",element:e.jsx(Cm,{})})]}),e.jsxs(z,{path:"/provider",element:a&&i==="provider"?e.jsx($s,{}):e.jsx(_t,{to:a?`/${i}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(sm,{})}),e.jsx(z,{path:"profile",element:e.jsx(rm,{})}),e.jsx(z,{path:"jobs",element:e.jsx(am,{})}),e.jsx(z,{path:"calendar",element:e.jsx(nm,{})}),e.jsx(z,{path:"messages",element:e.jsx(im,{})}),e.jsx(z,{path:"settings",element:e.jsx(om,{})})]}),e.jsxs(z,{path:"/homeowner",element:a&&(i==="homeowner"||i==="provider")?e.jsx($s,{}):e.jsx(_t,{to:a?`/${i}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(lm,{})}),e.jsx(z,{path:"profile",element:e.jsx(cm,{})}),e.jsx(z,{path:"projects",element:e.jsx(dm,{})}),e.jsx(z,{path:"providers",element:e.jsx(um,{})}),e.jsx(z,{path:"messages",element:e.jsx(hm,{})}),e.jsx(z,{path:"settings",element:e.jsx(mm,{})})]}),e.jsxs(z,{path:"/admin",element:a&&i==="admin"?e.jsx(hd,{}):e.jsx(_t,{to:a?`/${i}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(pm,{})}),e.jsx(z,{path:"users",element:e.jsx(ym,{})}),e.jsx(z,{path:"providers",element:e.jsx(wm,{})}),e.jsx(z,{path:"reports",element:e.jsx(Nm,{})}),e.jsx(z,{path:"settings",element:e.jsx(_m,{})})]}),e.jsx(z,{path:"*",element:e.jsx(Am,{})})]})})}Bs.createRoot(document.getElementById("root")).render(e.jsx(Dl,{children:e.jsx(Al,{children:e.jsx(Om,{})})}));
//# sourceMappingURL=index-f04cec3a.js.map
