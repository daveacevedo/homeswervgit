import{r as y,a as Ur,g as Vr,c as ue,u as Wt,b as gs,L as C,O as Zs,R as fe,d as zr,B as qr,e as Hr,f as z,N as We}from"./vendor-ec6a26a3.js";import{C as Wr,a as Jr,L as Gr,B as Kr,p as Zr,b as Yr,c as Qr,A as Xr,P as ea,d as sa,e as gt,f as ta,g as ra}from"./charts-0d3327c4.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();var Jt={exports:{}},ys={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=y,ia=Symbol.for("react.element"),na=Symbol.for("react.fragment"),la=Object.prototype.hasOwnProperty,oa=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ca={key:!0,ref:!0,__self:!0,__source:!0};function Gt(a,s,t){var r,i={},n=null,l=null;t!==void 0&&(n=""+t),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)la.call(s,r)&&!ca.hasOwnProperty(r)&&(i[r]=s[r]);if(a&&a.defaultProps)for(r in s=a.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ia,type:a,key:n,ref:l,props:i,_owner:oa.current}}ys.Fragment=na;ys.jsx=Gt;ys.jsxs=Gt;Jt.exports=ys;var e=Jt.exports,Bs={},yt=Ur;Bs.createRoot=yt.createRoot,Bs.hydrateRoot=yt.hydrateRoot;const da="modulepreload",ma=function(a){return"/"+a},vt={},Ve=function(s,t,r){if(!t||t.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if(n=ma(n),n in vt)return;vt[n]=!0;const l=n.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const x=i[c];if(x.href===n&&(!l||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${o}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":da,l||(m.as="script",m.crossOrigin=""),m.href=n,document.head.appendChild(m),l)return new Promise((c,x)=>{m.addEventListener("load",c),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>s()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},ha=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ve(()=>Promise.resolve().then(()=>qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)};class Ys extends Error{constructor(s,t="FunctionsError",r){super(s),this.name=t,this.context=r}}class ua extends Ys{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class xa extends Ys{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class fa extends Ys{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Us;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Us||(Us={}));var pa=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};class ga{constructor(s,{headers:t={},customFetch:r,region:i=Us.Any}={}){this.url=s,this.headers=t,this.region=i,this.fetch=ha(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,t={}){var r;return pa(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:l}=t;let o={},{region:d}=t;d||(d=this.region),d&&d!=="any"&&(o["x-region"]=d);let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(o["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(o["Content-Type"]="application/json",m=JSON.stringify(l)));const c=yield this.fetch(`${this.url}/${s}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:m}).catch(f=>{throw new ua(f)}),x=c.headers.get("x-relay-error");if(x&&x==="true")throw new xa(c);if(!c.ok)throw new fa(c);let u=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return u==="application/json"?v=yield c.json():u==="application/octet-stream"?v=yield c.blob():u==="text/event-stream"?v=c:u==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ce={},Qs={},vs={},rs={},bs={},js={},ya=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ze=ya();const va=ze.fetch,Kt=ze.fetch.bind(ze),Zt=ze.Headers,ba=ze.Request,ja=ze.Response,qe=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zt,Request:ba,Response:ja,default:Kt,fetch:va},Symbol.toStringTag,{value:"Module"})),wa=Vr(qe);var ws={};Object.defineProperty(ws,"__esModule",{value:!0});let Na=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};ws.default=Na;var Yt=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(js,"__esModule",{value:!0});const _a=Yt(wa),ka=Yt(ws);let Sa=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=_a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=Object.assign({},this.headers),this.headers[s]=t,this}then(s,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var l,o,d;let m=null,c=null,x=null,u=n.status,v=n.statusText;if(n.ok){if(this.method!=="HEAD"){const _=await n.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=_:c=JSON.parse(_))}const g=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),j=(o=n.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(m={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,x=null,u=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const g=await n.text();try{m=JSON.parse(g),Array.isArray(m)&&n.status===404&&(c=[],m=null,u=200,v="OK")}catch{n.status===404&&g===""?(u=204,v="No Content"):m={message:g}}if(m&&this.isMaybeSingle&&(!((d=m==null?void 0:m.details)===null||d===void 0)&&d.includes("0 rows"))&&(m=null,u=200,v="OK"),m&&this.shouldThrowOnError)throw new ka.default(m)}return{error:m,data:c,count:x,status:u,statusText:v}});return this.shouldThrowOnError||(i=i.catch(n=>{var l,o,d;return{error:{message:`${(l=n==null?void 0:n.name)!==null&&l!==void 0?l:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(o=n==null?void 0:n.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(d=n==null?void 0:n.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(s,t)}returns(){return this}overrideTypes(){return this}};js.default=Sa;var Ca=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bs,"__esModule",{value:!0});const Pa=Ca(js);let Aa=class extends Pa.default{select(s){let t=!1;const r=(s??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const l=n?`${n}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${s}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${s}`),this}range(s,t,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${s}`),this.url.searchParams.set(l,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:l="text"}={}){var o;const d=[s?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),m=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${m}"; options=${d};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bs.default=Aa;var Ea=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rs,"__esModule",{value:!0});const Ta=Ea(bs);let Ra=class extends Ta.default{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}in(s,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${n}fts${l}.${t}`),this}match(s){return Object.entries(s).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(s,t,r){return this.url.searchParams.append(s,`not.${t}.${r}`),this}or(s,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${s})`),this}filter(s,t,r){return this.url.searchParams.append(s,`${t}.${r}`),this}};rs.default=Ra;var La=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vs,"__esModule",{value:!0});const Je=La(rs);let Ma=class{constructor(s,{headers:t={},schema:r,fetch:i}){this.url=s,this.headers=t,this.schema=r,this.fetch=i}select(s,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let n=!1;const l=(s??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Je.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:t,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(s)){const l=s.reduce((o,d)=>o.concat(Object.keys(d)),[]);if(l.length>0){const o=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",o.join(","))}}return new Je.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const l="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(s)){const d=s.reduce((m,c)=>m.concat(Object.keys(c)),[]);if(d.length>0){const m=[...new Set(d)].map(c=>`"${c}"`);this.url.searchParams.set("columns",m.join(","))}}return new Je.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Je.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const t="DELETE",r=[];return s&&r.push(`count=${s}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Je.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vs.default=Ma;var Ns={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.version=void 0;_s.version="0.0.0-automated";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DEFAULT_HEADERS=void 0;const Da=_s;Ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Da.version}`};var Qt=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qs,"__esModule",{value:!0});const $a=Qt(vs),Oa=Qt(rs),Fa=Ns;let Ia=class Xt{constructor(s,{headers:t={},schema:r,fetch:i}={}){this.url=s,this.headers=Object.assign(Object.assign({},Fa.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(s){const t=new URL(`${this.url}/${s}`);return new $a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Xt(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,t={},{head:r=!1,get:i=!1,count:n}={}){let l;const o=new URL(`${this.url}/rpc/${s}`);let d;r||i?(l=r?"HEAD":"GET",Object.entries(t).filter(([c,x])=>x!==void 0).map(([c,x])=>[c,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([c,x])=>{o.searchParams.append(c,x)})):(l="POST",d=t);const m=Object.assign({},this.headers);return n&&(m.Prefer=`count=${n}`),new Oa.default({method:l,url:o,headers:m,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Qs.default=Ia;var He=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;const er=He(Qs);ce.PostgrestClient=er.default;const sr=He(vs);ce.PostgrestQueryBuilder=sr.default;const tr=He(rs);ce.PostgrestFilterBuilder=tr.default;const rr=He(bs);ce.PostgrestTransformBuilder=rr.default;const ar=He(js);ce.PostgrestBuilder=ar.default;const ir=He(ws);ce.PostgrestError=ir.default;var Ba=ce.default={PostgrestClient:er.default,PostgrestQueryBuilder:sr.default,PostgrestFilterBuilder:tr.default,PostgrestTransformBuilder:rr.default,PostgrestBuilder:ar.default,PostgrestError:ir.default};const{PostgrestClient:Ua,PostgrestQueryBuilder:Dl,PostgrestFilterBuilder:$l,PostgrestTransformBuilder:Ol,PostgrestBuilder:Fl,PostgrestError:Il}=Ba,Va="2.11.2",za={"X-Client-Info":`realtime-js/${Va}`},qa="1.0.0",nr=1e4,Ha=1e3;var Ue;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ue||(Ue={}));var me;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(me||(me={}));var pe;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(pe||(pe={}));var Vs;(function(a){a.websocket="websocket"})(Vs||(Vs={}));var Le;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Le||(Le={}));class Wa{constructor(){this.HEADER_LENGTH=1}decode(s,t){return s.constructor===ArrayBuffer?t(this._binaryDecode(s)):t(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const t=new DataView(s),r=new TextDecoder;return this._decodeBroadcast(s,t,r)}_decodeBroadcast(s,t,r){const i=t.getUint8(1),n=t.getUint8(2);let l=this.HEADER_LENGTH+2;const o=r.decode(s.slice(l,l+i));l=l+i;const d=r.decode(s.slice(l,l+n));l=l+n;const m=JSON.parse(r.decode(s.slice(l,s.byteLength)));return{ref:null,topic:o,event:d,payload:m}}}class lr{constructor(s,t){this.callback=s,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(J||(J={}));const bt=(a,s,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(s).reduce((n,l)=>(n[l]=Ja(l,a,s,i),n),{})},Ja=(a,s,t,r)=>{const i=s.find(o=>o.name===a),n=i==null?void 0:i.type,l=t[a];return n&&!r.includes(n)?or(n,l):zs(l)},or=(a,s)=>{if(a.charAt(0)==="_"){const t=a.slice(1,a.length);return Ya(s,t)}switch(a){case J.bool:return Ga(s);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Ka(s);case J.json:case J.jsonb:return Za(s);case J.timestamp:return Qa(s);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return zs(s);default:return zs(s)}},zs=a=>a,Ga=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Ka=a=>{if(typeof a=="string"){const s=parseFloat(a);if(!Number.isNaN(s))return s}return a},Za=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(s){return console.log(`JSON parse error: ${s}`),a}return a},Ya=(a,s)=>{if(typeof a!="string")return a;const t=a.length-1,r=a[t];if(a[0]==="{"&&r==="}"){let n;const l=a.slice(1,t);try{n=JSON.parse("["+l+"]")}catch{n=l?l.split(","):[]}return n.map(o=>or(s,o))}return a},Qa=a=>typeof a=="string"?a.replace(" ","T"):a,cr=a=>{let s=a;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Rs{constructor(s,t,r={},i=nr){this.channel=s,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,t){var r;return this._hasReceived(s)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:t}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(t))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var jt;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(jt||(jt={}));class Ye{constructor(s,t){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ye.syncState(this.state,i,n,l),this.pendingDiffs.forEach(d=>{this.state=Ye.syncDiff(this.state,d,n,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ye.syncDiff(this.state,i,n,l),o())}),this.onJoin((i,n,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:l})}),this.onLeave((i,n,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,t,r,i){const n=this.cloneDeep(s),l=this.transformState(t),o={},d={};return this.map(n,(m,c)=>{l[m]||(d[m]=c)}),this.map(l,(m,c)=>{const x=n[m];if(x){const u=c.map(j=>j.presence_ref),v=x.map(j=>j.presence_ref),f=c.filter(j=>v.indexOf(j.presence_ref)<0),g=x.filter(j=>u.indexOf(j.presence_ref)<0);f.length>0&&(o[m]=f),g.length>0&&(d[m]=g)}else o[m]=c}),this.syncDiff(n,{joins:o,leaves:d},r,i)}static syncDiff(s,t,r,i){const{joins:n,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(o,d)=>{var m;const c=(m=s[o])!==null&&m!==void 0?m:[];if(s[o]=this.cloneDeep(d),c.length>0){const x=s[o].map(v=>v.presence_ref),u=c.filter(v=>x.indexOf(v.presence_ref)<0);s[o].unshift(...u)}r(o,c,d)}),this.map(l,(o,d)=>{let m=s[o];if(!m)return;const c=d.map(x=>x.presence_ref);m=m.filter(x=>c.indexOf(x.presence_ref)<0),s[o]=m,i(o,m,d),m.length===0&&delete s[o]}),s}static map(s,t){return Object.getOwnPropertyNames(s).map(r=>t(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((t,r)=>{const i=s[r];return"metas"in i?t[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[r]=i,t},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wt;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(wt||(wt={}));var Nt;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Nt||(Nt={}));var Ne;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Ne||(Ne={}));class Xs{constructor(s,t={config:{}},r){this.topic=s,this.params=t,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rs(this,pe.join,this.params,this.timeout),this.rejoinTimer=new lr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pe.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new Ye(this),this.broadcastEndpointURL=cr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:l,private:o}}=this.params;this._onError(c=>s==null?void 0:s(Ne.CHANNEL_ERROR,c)),this._onClose(()=>s==null?void 0:s(Ne.CLOSED));const d={},m={broadcast:n,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var x;if(this.socket.setAuth(),c===void 0){s==null||s(Ne.SUBSCRIBED);return}else{const u=this.bindings.postgres_changes,v=(x=u==null?void 0:u.length)!==null&&x!==void 0?x:0,f=[];for(let g=0;g<v;g++){const j=u[g],{filter:{event:_,schema:w,table:O,filter:D}}=j,M=c&&c[g];if(M&&M.event===_&&M.schema===w&&M.table===O&&M.filter===D)f.push(Object.assign(Object.assign({},j),{id:M.id}));else{this.unsubscribe(),s==null||s(Ne.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,s&&s(Ne.SUBSCRIBED);return}}).receive("error",c=>{s==null||s(Ne.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Ne.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,t={}){return await this.send({type:"presence",event:"track",payload:s},t.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,t,r){return this._on(s,t,r)}async send(s,t={}){var r,i;if(!this._canPush()&&s.type==="broadcast"){const{event:n,payload:l}=s,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var l,o,d;const m=this._push(s.type,s,t.timeout||this.timeout);s.type==="broadcast"&&!(!((d=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||d===void 0)&&d.ack)&&n("ok"),m.receive("ok",()=>n("ok")),m.receive("error",()=>n("error")),m.receive("timeout",()=>n("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=me.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Rs(this,pe.leave,{},s);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(s,t,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(s,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(n),l}_push(s,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rs(this,s,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(s,t,r){return t}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,t,r){var i,n;const l=s.toLocaleLowerCase(),{close:o,error:d,leave:m,join:c}=pe;if(r&&[o,d,m,c].indexOf(l)>=0&&r!==this._joinRef())return;let u=this._onMessage(l,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var f,g,j;return((f=v.filter)===null||f===void 0?void 0:f.event)==="*"||((j=(g=v.filter)===null||g===void 0?void 0:g.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(v=>v.callback(u,r)):(n=this.bindings[l])===null||n===void 0||n.filter(v=>{var f,g,j,_,w,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const D=v.id,M=(f=v.filter)===null||f===void 0?void 0:f.event;return D&&((g=t.ids)===null||g===void 0?void 0:g.includes(D))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const D=(w=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return D==="*"||D===((O=t==null?void 0:t.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof u=="object"&&"ids"in u){const f=u.data,{schema:g,table:j,commit_timestamp:_,type:w,errors:O}=f;u=Object.assign(Object.assign({},{schema:g,table:j,commit_timestamp:_,eventType:w,new:{},old:{},errors:O}),this._getPayloadRecords(f))}v.callback(u,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,t,r){const i=s.toLocaleLowerCase(),n={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(s,t){const r=s.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&Xs.isEqual(i.filter,t))}),this}static isEqual(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const r in s)if(s[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(pe.close,{},s)}_onError(s){this._on(pe.error,{},t=>s(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const t={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(t.new=bt(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(t.old=bt(s.columns,s.old_record)),t}}const Xa=()=>{},ei=typeof WebSocket<"u",si=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ti{constructor(s,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=za,this.params={},this.timeout=nr,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Xa,this.conn=null,this.sendBuffer=[],this.serializer=new Wa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let l;return n?l=n:typeof fetch>"u"?l=(...o)=>Ve(()=>Promise.resolve().then(()=>qe),void 0).then(({default:d})=>d(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${s}/${Vs.websocket}`,this.httpEndpoint=cr(s),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,l)=>l(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lr(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ei){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ri(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ve(()=>import("./browser-f8e7912b.js").then(s=>s.b),["assets/browser-f8e7912b.js","assets/vendor-ec6a26a3.js"]).then(({default:s})=>{this.conn=new s(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qa}))}disconnect(s,t){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const t=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const s=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),s}log(s,t,r){this.logger(s,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ue.connecting:return Le.Connecting;case Ue.open:return Le.Open;case Ue.closing:return Le.Closing;default:return Le.Closed}}isConnected(){return this.connectionState()===Le.Open}channel(s,t={config:{}}){const r=new Xs(`realtime:${s}`,t,this);return this.channels.push(r),r}push(s){const{topic:t,event:r,payload:i,ref:n}=s,l=()=>{this.encode(s,o=>{var d;(d=this.conn)===null||d===void 0||d.send(o)})};this.log("push",`${t} ${r} (${n})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(s=null){let t=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(pe.access_token,{access_token:t})})}}async sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(Ha,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let t=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${s}"`),t.unsubscribe())}_remove(s){this.channels=this.channels.filter(t=>t._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,t=>{let{topic:r,event:i,payload:n,ref:l}=t;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,n),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,n,l)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(pe.error))}_appendParams(s,t){if(Object.keys(t).length===0)return s;const r=s.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${s}${r}${i}`}_workerObjectUrl(s){let t;if(s)t=s;else{const r=new Blob([si],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class ri{constructor(s,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ue.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=r.close}}class et extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function se(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class ai extends et{constructor(s,t){super(s),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qs extends et{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}}var ii=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};const dr=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ve(()=>Promise.resolve().then(()=>qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)},ni=()=>ii(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ve(()=>Promise.resolve().then(()=>qe),void 0)).Response:Response}),Hs=a=>{if(Array.isArray(a))return a.map(t=>Hs(t));if(typeof a=="function"||a!==Object(a))return a;const s={};return Object.entries(a).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));s[i]=Hs(r)}),s};var De=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};const Ls=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),li=(a,s,t)=>De(void 0,void 0,void 0,function*(){const r=yield ni();a instanceof r&&!(t!=null&&t.noResolveJson)?a.json().then(i=>{s(new ai(Ls(i),a.status||500))}).catch(i=>{s(new qs(Ls(i),i))}):s(new qs(Ls(a),a))}),oi=(a,s,t,r)=>{const i={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function as(a,s,t,r,i,n){return De(this,void 0,void 0,function*(){return new Promise((l,o)=>{a(t,oi(s,r,i,n)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>li(d,o,r))})})}function us(a,s,t,r){return De(this,void 0,void 0,function*(){return as(a,"GET",s,t,r)})}function Ce(a,s,t,r,i){return De(this,void 0,void 0,function*(){return as(a,"POST",s,r,i,t)})}function ci(a,s,t,r,i){return De(this,void 0,void 0,function*(){return as(a,"PUT",s,r,i,t)})}function di(a,s,t,r){return De(this,void 0,void 0,function*(){return as(a,"HEAD",s,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function mr(a,s,t,r,i){return De(this,void 0,void 0,function*(){return as(a,"DELETE",s,r,i,t)})}var oe=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};const mi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_t={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hi{constructor(s,t={},r,i){this.url=s,this.headers=t,this.bucketId=r,this.fetch=dr(i)}uploadOrUpdate(s,t,r,i){return oe(this,void 0,void 0,function*(){try{let n;const l=Object.assign(Object.assign({},_t),i);let o=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",l.cacheControl),d&&n.append("metadata",this.encodeMetadata(d)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",l.cacheControl),d&&n.append("metadata",this.encodeMetadata(d))):(n=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,d&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const m=this._removeEmptyFolders(t),c=this._getFinalPath(m),x=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:s,body:n,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),u=yield x.json();return x.ok?{data:{path:m,id:u.Id,fullPath:u.Key},error:null}:{data:null,error:u}}catch(n){if(se(n))return{data:null,error:n};throw n}})}upload(s,t,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,t,r)})}uploadToSignedUrl(s,t,r,i){return oe(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(s),l=this._getFinalPath(n),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",t);try{let d;const m=Object.assign({upsert:_t.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",m.cacheControl)):(d=r,c["cache-control"]=`max-age=${m.cacheControl}`,c["content-type"]=m.contentType);const x=yield this.fetch(o.toString(),{method:"PUT",body:d,headers:c}),u=yield x.json();return x.ok?{data:{path:n,fullPath:u.Key},error:null}:{data:null,error:u}}catch(d){if(se(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(s,t){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const n=yield Ce(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+n.url),o=l.searchParams.get("token");if(!o)throw new et("No token returned by API");return{data:{signedUrl:l.toString(),path:s,token:o},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(s,t,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,t,r)})}move(s,t,r){return oe(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}copy(s,t,r){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ce(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}createSignedUrl(s,t,r){return oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(s),n=yield Ce(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${l}`)},{data:n,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}createSignedUrls(s,t,r){return oe(this,void 0,void 0,function*(){try{const i=yield Ce(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:s},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${n}`):null})),error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}download(s,t){return oe(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=n?`?${n}`:"";try{const o=this._getFinalPath(s);return{data:yield(yield us(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}})}info(s){return oe(this,void 0,void 0,function*(){const t=this._getFinalPath(s);try{const r=yield us(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Hs(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(s){return oe(this,void 0,void 0,function*(){const t=this._getFinalPath(s);try{return yield di(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof qs){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,t){const r=this._getFinalPath(s),i=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&i.push(n);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&i.push(d);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${m}`)}}}remove(s){return oe(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}list(s,t,r){return oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mi),t),{prefix:s||""});return{data:yield Ce(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}}const ui="2.7.1",xi={"X-Client-Info":`storage-js/${ui}`};var $e=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};class fi{constructor(s,t={},r){this.url=s,this.headers=Object.assign(Object.assign({},xi),t),this.fetch=dr(r)}listBuckets(){return $e(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}getBucket(s){return $e(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}createBucket(s,t={public:!1}){return $e(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(s,t){return $e(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(s){return $e(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}deleteBucket(s){return $e(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}}class pi extends fi{constructor(s,t={},r){super(s,t,r)}from(s){return new hi(this.url,this.headers,s,this.fetch)}}const gi="2.49.8";let Ze="";typeof Deno<"u"?Ze="deno":typeof document<"u"?Ze="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ze="react-native":Ze="node";const yi={"X-Client-Info":`supabase-js-${Ze}/${gi}`},vi={headers:yi},bi={schema:"public"},ji={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wi={};var Ni=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};const _i=a=>{let s;return a?s=a:typeof fetch>"u"?s=Kt:s=fetch,(...t)=>s(...t)},ki=()=>typeof Headers>"u"?Zt:Headers,Si=(a,s,t)=>{const r=_i(t),i=ki();return(n,l)=>Ni(void 0,void 0,void 0,function*(){var o;const d=(o=yield s())!==null&&o!==void 0?o:a;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",a),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),r(n,Object.assign(Object.assign({},l),{headers:m}))})};var Ci=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};function Pi(a){return a.endsWith("/")?a:a+"/"}function Ai(a,s){var t,r;const{db:i,auth:n,realtime:l,global:o}=a,{db:d,auth:m,realtime:c,global:x}=s,u={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},m),n),realtime:Object.assign(Object.assign({},c),l),global:Object.assign(Object.assign(Object.assign({},x),o),{headers:Object.assign(Object.assign({},(t=x==null?void 0:x.headers)!==null&&t!==void 0?t:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ci(this,void 0,void 0,function*(){return""})};return a.accessToken?u.accessToken=a.accessToken:delete u.accessToken,u}const hr="2.69.1",Be=30*1e3,Ws=3,Ms=Ws*Be,Ei="http://localhost:9999",Ti="supabase.auth.token",Ri={"X-Client-Info":`gotrue-js/${hr}`},Js="X-Supabase-Api-Version",ur={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Li=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mi=6e5;class st extends Error{constructor(s,t,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function I(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Di extends st{constructor(s,t,r){super(s,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function $i(a){return I(a)&&a.name==="AuthApiError"}class xr extends st{constructor(s,t){super(s),this.name="AuthUnknownError",this.originalError=t}}class Ee extends st{constructor(s,t,r,i){super(s,r,i),this.name=t,this.status=r}}class ke extends Ee{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Oi(a){return I(a)&&a.name==="AuthSessionMissingError"}class Ds extends Ee{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class os extends Ee{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class cs extends Ee{constructor(s,t=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fi(a){return I(a)&&a.name==="AuthImplicitGrantRedirectError"}class kt extends Ee{constructor(s,t=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gs extends Ee{constructor(s,t){super(s,"AuthRetryableFetchError",t,void 0)}}function $s(a){return I(a)&&a.name==="AuthRetryableFetchError"}class St extends Ee{constructor(s,t,r){super(s,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Qe extends Ee{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pt=` 	
\r=`.split(""),Ii=(()=>{const a=new Array(128);for(let s=0;s<a.length;s+=1)a[s]=-1;for(let s=0;s<Pt.length;s+=1)a[Pt[s].charCodeAt(0)]=-2;for(let s=0;s<Ct.length;s+=1)a[Ct[s].charCodeAt(0)]=s;return a})();function fr(a,s,t){const r=Ii[a];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)t(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function At(a){const s=[],t=l=>{s.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=l=>{Vi(l,r,t)};for(let l=0;l<a.length;l+=1)fr(a.charCodeAt(l),i,n);return s.join("")}function Bi(a,s){if(a<=127){s(a);return}else if(a<=2047){s(192|a>>6),s(128|a&63);return}else if(a<=65535){s(224|a>>12),s(128|a>>6&63),s(128|a&63);return}else if(a<=1114111){s(240|a>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Ui(a,s){for(let t=0;t<a.length;t+=1){let r=a.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(a.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Bi(r,s)}}function Vi(a,s,t){if(s.utf8seq===0){if(a<=127){t(a);return}for(let r=1;r<6;r+=1)if(!(a>>7-r&1)){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=a&31;else if(s.utf8seq===3)s.codepoint=a&15;else if(s.utf8seq===4)s.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|a&63,s.utf8seq-=1,s.utf8seq===0&&t(s.codepoint)}}function zi(a){const s=[],t={queue:0,queuedBits:0},r=i=>{s.push(i)};for(let i=0;i<a.length;i+=1)fr(a.charCodeAt(i),t,r);return new Uint8Array(s)}function qi(a){const s=[];return Ui(a,t=>s.push(t)),new Uint8Array(s)}function Hi(a){return Math.round(Date.now()/1e3)+a}function Wi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const s=Math.random()*16|0;return(a=="x"?s:s&3|8).toString(16)})}const ve=()=>typeof window<"u"&&typeof document<"u",Te={tested:!1,writable:!1},Xe=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Te.tested)return Te.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Te.tested=!0,Te.writable=!0}catch{Te.tested=!0,Te.writable=!1}return Te.writable};function Ji(a){const s={},t=new URL(a);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,n)=>{s[n]=i})}catch{}return t.searchParams.forEach((r,i)=>{s[i]=r}),s}const pr=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ve(()=>Promise.resolve().then(()=>qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)},Gi=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",gr=async(a,s,t)=>{await a.setItem(s,JSON.stringify(t))},ds=async(a,s)=>{const t=await a.getItem(s);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ms=async(a,s)=>{await a.removeItem(s)};class ks{constructor(){this.promise=new ks.promiseConstructor((s,t)=>{this.resolve=s,this.reject=t})}}ks.promiseConstructor=Promise;function Os(a){const s=a.split(".");if(s.length!==3)throw new Qe("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!Li.test(s[r]))throw new Qe("JWT not in base64url format");return{header:JSON.parse(At(s[0])),payload:JSON.parse(At(s[1])),signature:zi(s[2]),raw:{header:s[0],payload:s[1]}}}async function Ki(a){return await new Promise(s=>{setTimeout(()=>s(null),a)})}function Zi(a,s){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const l=await a(n);if(!s(n,null,l)){r(l);return}}catch(l){if(!s(n,l)){i(l);return}}})()})}function Yi(a){return("0"+a.toString(16)).substr(-2)}function Qi(){const s=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let n=0;n<56;n++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(s),Array.from(s,Yi).join("")}async function Xi(a){const t=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function en(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const t=await Xi(a);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oe(a,s,t=!1){const r=Qi();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await gr(a,`${s}-code-verifier`,i);const n=await en(r);return[n,r===n?"plain":"s256"]}const sn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tn(a){const s=a.headers.get(Js);if(!s||!s.match(sn))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function rn(a){if(!a)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(a<=s)throw new Error("JWT has expired")}function an(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var nn=globalThis&&globalThis.__rest||function(a,s){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(a);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(a,r[i])&&(t[r[i]]=a[r[i]]);return t};const Re=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ln=[502,503,504];async function Et(a){var s;if(!Gi(a))throw new Gs(Re(a),0);if(ln.includes(a.status))throw new Gs(Re(a),a.status);let t;try{t=await a.json()}catch(n){throw new xr(Re(n),n)}let r;const i=tn(a);if(i&&i.getTime()>=ur["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new St(Re(t),a.status,((s=t.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new ke}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0))throw new St(Re(t),a.status,t.weak_password.reasons);throw new Di(Re(t),a.status||500,r)}const on=(a,s,t,r)=>{const i={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function U(a,s,t,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Js]||(n[Js]=ur["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await cn(a,s,t+o,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function cn(a,s,t,r,i,n){const l=on(s,r,i,n);let o;try{o=await a(t,Object.assign({},l))}catch(d){throw console.error(d),new Gs(Re(d),0)}if(o.ok||await Et(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(d){await Et(d)}}function Se(a){var s;let t=null;un(a)&&(t=Object.assign({},a),a.expires_at||(t.expires_at=Hi(a.expires_in)));const r=(s=a.user)!==null&&s!==void 0?s:a;return{data:{session:t,user:r},error:null}}function Tt(a){const s=Se(a);return!s.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(s.data.weak_password=a.weak_password),s}function Pe(a){var s;return{data:{user:(s=a.user)!==null&&s!==void 0?s:a},error:null}}function dn(a){return{data:a,error:null}}function mn(a){const{action_link:s,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n}=a,l=nn(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:s,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n},d=Object.assign({},l);return{data:{properties:o,user:d},error:null}}function hn(a){return a}function un(a){return a.access_token&&a.refresh_token&&a.expires_in}var xn=globalThis&&globalThis.__rest||function(a,s){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(a);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(a,r[i])&&(t[r[i]]=a[r[i]]);return t};class fn{constructor({url:s="",headers:t={},fetch:r}){this.url=s,this.headers=t,this.fetch=pr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,t="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,t={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:t}=s,r=xn(s,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mn,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(I(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(s){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Pe})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async listUsers(s){var t,r,i,n,l,o,d;try{const m={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=s==null?void 0:s.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=s==null?void 0:s.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:hn});if(c.error)throw c.error;const x=await c.json(),u=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(f=>{const g=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(f.split(";")[1].split("=")[1]);m[`${j}Page`]=g}),m.total=parseInt(u)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(I(m))return{data:{users:[]},error:m};throw m}}async getUserById(s){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Pe})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async updateUserById(s,t){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:t,headers:this.headers,xform:Pe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,t=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pe})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){try{const{data:t,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(I(t))return{data:null,error:t};throw t}}async _deleteFactor(s){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}}const pn={getItem:a=>Xe()?globalThis.localStorage.getItem(a):null,setItem:(a,s)=>{Xe()&&globalThis.localStorage.setItem(a,s)},removeItem:a=>{Xe()&&globalThis.localStorage.removeItem(a)}};function Rt(a={}){return{getItem:s=>a[s]||null,setItem:(s,t)=>{a[s]=t},removeItem:s=>{delete a[s]}}}function gn(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fe={debug:!!(globalThis&&Xe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yr extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class yn extends yr{}async function vn(a,s,t){Fe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),Fe.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,i.name);try{return await t()}finally{Fe.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,i.name)}}else{if(s===0)throw Fe.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new yn(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Fe.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}gn();const bn={url:Ei,storageKey:Ti,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ri,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lt(a,s,t){return await t()}class ts{constructor(s){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},bn),s);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fn({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pr(i.fetch),this.lock=i.lock||Lt,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ve()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=vn:this.lock=Lt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Xe()?this.storage=pn:(this.memoryStorage={},this.storage=Rt(this.memoryStorage)):(this.memoryStorage={},this.storage=Rt(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hr}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const t=Ji(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ve()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Fi(n)){const d=(s=n.details)===null||s===void 0?void 0:s.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return I(t)?{error:t}:{error:new xr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var t,r,i;try{const n=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=s==null?void 0:s.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=s==null?void 0:s.options)===null||i===void 0?void 0:i.captchaToken}},xform:Se}),{data:l,error:o}=n;if(o||!l)return{data:{user:null,session:null},error:o};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(s){var t,r,i;try{let n;if("email"in s){const{email:c,password:x,options:u}=s;let v=null,f=null;this.flowType==="pkce"&&([v,f]=await Oe(this.storage,this.storageKey)),n=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u==null?void 0:u.emailRedirectTo,body:{email:c,password:x,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:v,code_challenge_method:f},xform:Se})}else if("phone"in s){const{phone:c,password:x,options:u}=s;n=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:x,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Se})}else throw new os("You must provide either an email or phone number and a password");const{data:l,error:o}=n;if(o||!l)return{data:{user:null,session:null},error:o};const d=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(s){try{let t;if("email"in s){const{email:n,password:l,options:o}=s;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Tt})}else if("phone"in s){const{phone:n,password:l,options:o}=s;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Tt})}else throw new os("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ds}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(s){var t,r,i,n;return await this._handleProviderSignIn(s.provider,{redirectTo:(t=s.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=s.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=s.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const t=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:n,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:Se});if(await ms(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Ds}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:l})}catch(n){if(I(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(s){try{const{options:t,provider:r,token:i,access_token:n,nonce:l}=s,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Se}),{data:d,error:m}=o;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ds}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(s){var t,r,i,n,l;try{if("email"in s){const{email:o,options:d}=s;let m=null,c=null;this.flowType==="pkce"&&([m,c]=await Oe(this.storage,this.storageKey));const{error:x}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:c},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in s){const{phone:o,options:d}=s,{data:m,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:c}}throw new os("You must provide either an email or phone number.")}catch(o){if(I(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(s){var t,r;try{let i,n;"options"in s&&(i=(t=s.options)===null||t===void 0?void 0:t.redirectTo,n=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:Se});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,m=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(s){var t,r,i;try{let n=null,l=null;return this.flowType==="pkce"&&([n,l]=await Oe(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(t=s.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=s==null?void 0:s.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:l}),headers:this.headers,xform:dn})}catch(n){if(I(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:t},error:r}=s;if(r)throw r;if(!t)throw new ke;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const t=`${this.url}/resend`;if("email"in s){const{email:r,type:i,options:n}=s,{error:l}=await U(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in s){const{phone:r,type:i,options:n}=s,{data:l,error:o}=await U(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new os("You must provide either an email or phone number and a type")}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(s,t){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await s(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const t=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?s=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<Ms:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;s=new Proxy(s,{get:(d,m,c)=>(!l&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,c))})}return{data:{session:s},error:null}}const{session:i,error:n}=await this._callRefreshToken(s.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Pe}):await this._useSession(async t=>{var r,i,n;const{data:l,error:o}=t;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ke}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Pe})})}catch(t){if(I(t))return Oi(t)&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(s,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,t))}async _updateUser(s,t={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new ke;const l=i.session;let o=null,d=null;this.flowType==="pkce"&&s.email!=null&&([o,d]=await Oe(this.storage,this.storageKey));const{data:m,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:o,code_challenge_method:d}),jwt:l.access_token,xform:Pe});if(c)throw c;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new ke;const t=Date.now()/1e3;let r=t,i=!0,n=null;const{payload:l}=Os(s.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{session:o,error:d}=await this._callRefreshToken(s.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!o)return{data:{user:null,session:null},error:null};n=o}else{const{data:o,error:d}=await this._getUser(s.access_token);if(d)throw d;n={access_token:s.access_token,refresh_token:s.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(I(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async t=>{var r;if(!s){const{data:l,error:o}=t;if(o)throw o;s=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new ke;const{session:i,error:n}=await this._callRefreshToken(s.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(s,t){try{if(!ve())throw new cs("No browser detected.");if(s.error||s.error_description||s.error_code)throw new cs(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new kt("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cs("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new kt("No code detected.");const{data:w,error:O}=await this._exchangeCodeForSession(s.code);if(O)throw O;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:l,expires_in:o,expires_at:d,token_type:m}=s;if(!n||!o||!l||!m)throw new cs("No session defined in URL");const c=Math.round(Date.now()/1e3),x=parseInt(o);let u=c+x;d&&(u=parseInt(d));const v=u-c;v*1e3<=Be&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${x}s`);const f=u-x;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,u,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,u,c);const{data:g,error:j}=await this._getUser(n);if(j)throw j;const _={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:x,expires_at:u,refresh_token:l,token_type:m,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:s.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const t=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&t)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{error:n};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,s);if(o&&!($i(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return s!=="others"&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const t=Wi(),r={id:t,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async t=>{var r,i;try{const{data:{session:n},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",s,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(s))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",n),console.error(n)}})}async resetPasswordForEmail(s,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Oe(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(I(n))return{data:null,error:n};throw n}}async getUserIdentities(){var s;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(s=t.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}async linkIdentity(s){var t;try{const{data:r,error:i}=await this._useSession(async n=>{var l,o,d,m,c;const{data:x,error:u}=n;if(u)throw u;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=s.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ve()&&!(!((t=s.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:s.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:s.provider,url:null},error:r};throw r}}async unlinkIdentity(s){try{return await this._useSession(async t=>{var r,i;const{data:n,error:l}=t;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _refreshAccessToken(s){const t=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Zi(async i=>(i>0&&await Ki(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Se})),(i,n)=>{const l=200*Math.pow(2,i);return n&&$s(n)&&Date.now()+l-r<Be})}catch(r){if(this._debug(t,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",t,"url",r),ve()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await ds(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ms;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Ms}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),$s(n)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(s){var t,r;if(!s)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ks;const{data:n,error:l}=await this._refreshAccessToken(s);if(l)throw l;if(!n.session)throw new ke;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const o={session:n.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(n){if(this._debug(i,"error",n),I(n)){const l={session:null,error:n};return $s(n)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(s,t,r=!0){const i=`#_notifyAllSubscribers(${s})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:t});const n=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(s,t)}catch(d){n.push(d)}});if(await Promise.all(l),n.length>0){for(let o=0;o<n.length;o+=1)console.error(n[o]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await gr(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await ms(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Be);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-s)/Be);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Be}ms, refresh threshold is ${Ws} ticks`),i<=Ws&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof yr)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const t=`#_onVisibilityChanged(${s})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,l]=await Oe(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${i.join("&")}`}async _unenroll(s){try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await U(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _enroll(s){try{return await this._useSession(async t=>{var r,i;const{data:n,error:l}=t;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:d,error:m}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(s.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{data:null,error:n};const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await U(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(s){const{data:t,error:r}=await this._challenge({factorId:s.factorId});return r?{data:null,error:r}:await this._verify({factorId:s.factorId,challengeId:t.id,code:s.code})}async _listFactors(){const{data:{user:s},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(s==null?void 0:s.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),n=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var t,r;const{data:{session:i},error:n}=s;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Os(i.access_token);let o=null;l.aal&&(o=l.aal);let d=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const c=l.amr||[];return{data:{currentLevel:o,nextLevel:d,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(s,t={keys:[]}){let r=t.keys.find(l=>l.kid===s);if(r||(r=this.jwks.keys.find(l=>l.kid===s),r&&this.jwks_cached_at+Mi>Date.now()))return r;const{data:i,error:n}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new Qe("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(l=>l.kid===s),!r)throw new Qe("No matching signing key found in JWKS");return r}async getClaims(s,t={keys:[]}){try{let r=s;if(!r){const{data:v,error:f}=await this.getSession();if(f||!v.session)return{data:null,error:f};r=v.session.access_token}const{header:i,payload:n,signature:l,raw:{header:o,payload:d}}=Os(r);if(rn(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:n,header:i,signature:l},error:null}}const m=an(i.alg),c=await this.fetchJwk(i.kid,t),x=await crypto.subtle.importKey("jwk",c,m,!0,["verify"]);if(!await crypto.subtle.verify(m,x,l,qi(`${o}.${d}`)))throw new Qe("Invalid JWT signature");return{data:{claims:n,header:i,signature:l},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}ts.nextInstanceID=0;const jn=ts;class wn extends jn{constructor(s){super(s)}}var Nn=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(l){l(n)})}return new(t||(t=Promise))(function(n,l){function o(c){try{m(r.next(c))}catch(x){l(x)}}function d(c){try{m(r.throw(c))}catch(x){l(x)}}function m(c){c.done?n(c.value):i(c.value).then(o,d)}m((r=r.apply(a,s||[])).next())})};class _n{constructor(s,t,r){var i,n,l;if(this.supabaseUrl=s,this.supabaseKey=t,!s)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Pi(s),d=new URL(o);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,c={db:bi,realtime:wi,auth:Object.assign(Object.assign({},ji),{storageKey:m}),global:vi},x=Ai(r??{},c);this.storageKey=(i=x.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=x.global.headers)!==null&&n!==void 0?n:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(u,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,x.global.fetch),this.fetch=Si(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Ua(new URL("rest/v1",d).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new ga(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pi(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},r={}){return this.rest.rpc(s,t,r)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,t;return Nn(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:n,flowType:l,lock:o,debug:d},m,c){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wn({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:n,autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:i,flowType:l,lock:o,debug:d,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new ti(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,t,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vr=(a,s,t)=>new _n(a,s,t),kn="https://zpnpsyiwguqwzldzptyp.supabase.co",Sn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",de=vr(kn,Sn),br=y.createContext();function K(){return y.useContext(br)}function Cn({children:a}){const[s,t]=y.useState(null),[r,i]=y.useState(null),[n,l]=y.useState(!0),[o,d]=y.useState(null),[m,c]=y.useState(null),[x,u]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:{session:F}}=await de.auth.getSession();i(F),t((F==null?void 0:F.user)||null),F!=null&&F.user&&await v(F.user.id)}catch(F){console.error("Error getting initial session:",F)}finally{l(!1)}})();const{data:{subscription:M}}=de.auth.onAuthStateChange(async(F,B)=>{i(B),t((B==null?void 0:B.user)||null),B!=null&&B.user?await v(B.user.id):(d(null),c(null),u(null))});return()=>{M==null||M.unsubscribe()}},[]);const v=async D=>{try{const{data:M,error:F}=await de.from("provider_profiles").select("*").eq("user_id",D).single();if(M){d("provider"),c(M);return}const{data:B,error:ee}=await de.from("homeowner_profiles").select("*").eq("user_id",D).single();if(B){d("homeowner"),u(B);return}const{data:E,error:V}=await de.from("admin_profiles").select("*").eq("user_id",D).single();if(E){d("admin");return}d("homeowner")}catch(M){console.error("Error fetching user role:",M)}},O={user:s,session:r,loading:n,userRole:o,providerProfile:m,homeownerProfile:x,supabase:de,login:async(D,M)=>await de.auth.signInWithPassword({email:D,password:M}),register:async(D,M,F="homeowner")=>{const{data:B,error:ee}=await de.auth.signUp({email:D,password:M});return!ee&&(B!=null&&B.user)&&(F==="provider"?await de.from("provider_profiles").insert([{user_id:B.user.id,email:D}]):await de.from("homeowner_profiles").insert([{user_id:B.user.id,email:D}])),{data:B,error:ee}},logout:async()=>await de.auth.signOut(),resetPassword:async D=>await de.auth.resetPasswordForEmail(D,{redirectTo:`${window.location.origin}/reset-password`}),updatePassword:async D=>await de.auth.updateUser({password:D})};return e.jsx(br.Provider,{value:O,children:a})}const jr=()=>{var x,u;const[a,s]=y.useState(!1),[t,r]=y.useState(!1),{user:i,logout:n,userRole:l}=K(),o=Wt(),d=gs(),m=async()=>{try{await n(),d("/login")}catch(v){console.error("Error logging out:",v)}},c=v=>o.pathname===v;return e.jsxs("nav",{className:"bg-white shadow",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-primary-600",children:"ServiceConnect Pro"})}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[e.jsx(C,{to:"/",className:`${c("/")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Home"}),e.jsx(C,{to:"/about",className:`${c("/about")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"About"}),e.jsx(C,{to:"/pricing",className:`${c("/pricing")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Pricing"}),e.jsx(C,{to:"/contact",className:`${c("/contact")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Contact"}),e.jsx(C,{to:"/community",className:`${o.pathname.startsWith("/community")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Community"})]})]}),e.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:i?e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:()=>r(!t),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700",children:((x=i.email)==null?void 0:x.charAt(0).toUpperCase())||"U"})]})}),t&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsx(C,{to:`/${l||"homeowner"}/dashboard`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",onClick:()=>r(!1),children:"Dashboard"}),e.jsx(C,{to:`/${l||"homeowner"}/profile`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-1",onClick:()=>r(!1),children:"Profile"}),e.jsx(C,{to:`/${l||"homeowner"}/settings`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-2",onClick:()=>r(!1),children:"Settings"}),e.jsx("button",{onClick:()=>{r(!1),m()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-3",children:"Sign out"})]})]}):e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(C,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-50 hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in"}),e.jsx(C,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign up"})]})}),e.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>s(!a),children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),a?e.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),a&&e.jsxs("div",{className:"sm:hidden",id:"mobile-menu",children:[e.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[e.jsx(C,{to:"/",className:`${c("/")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>s(!1),children:"Home"}),e.jsx(C,{to:"/about",className:`${c("/about")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>s(!1),children:"About"}),e.jsx(C,{to:"/pricing",className:`${c("/pricing")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>s(!1),children:"Pricing"}),e.jsx(C,{to:"/contact",className:`${c("/contact")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>s(!1),children:"Contact"}),e.jsx(C,{to:"/community",className:`${o.pathname.startsWith("/community")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>s(!1),children:"Community"})]}),e.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center px-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700",children:((u=i.email)==null?void 0:u.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:i.email}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:(l==null?void 0:l.charAt(0).toUpperCase())+(l==null?void 0:l.slice(1))||"User"})]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(C,{to:`/${l||"homeowner"}/dashboard`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>s(!1),children:"Dashboard"}),e.jsx(C,{to:`/${l||"homeowner"}/profile`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>s(!1),children:"Profile"}),e.jsx(C,{to:`/${l||"homeowner"}/settings`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>s(!1),children:"Settings"}),e.jsx("button",{onClick:()=>{s(!1),m()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]}):e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(C,{to:"/login",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>s(!1),children:"Sign in"}),e.jsx(C,{to:"/register",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:()=>s(!1),children:"Sign up"})]})})]})]})},wr=()=>{const a=new Date().getFullYear();return e.jsx("footer",{className:"bg-gray-800 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ServiceConnect Pro"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Connecting homeowners with trusted service providers since 2023."}),e.jsxs("div",{className:"mt-4 flex space-x-4",children:[e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Homeowners"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(C,{to:"/homeowner/dashboard",className:"text-gray-300 hover:text-white text-sm",children:"Dashboard"})}),e.jsx("li",{children:e.jsx(C,{to:"/homeowner/projects",className:"text-gray-300 hover:text-white text-sm",children:"My Projects"})}),e.jsx("li",{children:e.jsx(C,{to:"/homeowner/providers",className:"text-gray-300 hover:text-white text-sm",children:"Find Providers"})}),e.jsx("li",{children:e.jsx(C,{to:"/community",className:"text-gray-300 hover:text-white text-sm",children:"Community Hub"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Providers"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(C,{to:"/provider/dashboard",className:"text-gray-300 hover:text-white text-sm",children:"Dashboard"})}),e.jsx("li",{children:e.jsx(C,{to:"/provider/jobs",className:"text-gray-300 hover:text-white text-sm",children:"Available Jobs"})}),e.jsx("li",{children:e.jsx(C,{to:"/provider/profile",className:"text-gray-300 hover:text-white text-sm",children:"Business Profile"})}),e.jsx("li",{children:e.jsx(C,{to:"/provider/calendar",className:"text-gray-300 hover:text-white text-sm",children:"Calendar"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(C,{to:"/about",className:"text-gray-300 hover:text-white text-sm",children:"About Us"})}),e.jsx("li",{children:e.jsx(C,{to:"/contact",className:"text-gray-300 hover:text-white text-sm",children:"Contact"})}),e.jsx("li",{children:e.jsx(C,{to:"/pricing",className:"text-gray-300 hover:text-white text-sm",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white text-sm",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white text-sm",children:"Terms of Service"})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:e.jsxs("p",{className:"text-gray-400 text-sm text-center",children:["© ",a," ServiceConnect Pro. All rights reserved."]})})]})})},Fs=()=>{const{loading:a}=K();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(jr,{}),e.jsx("main",{className:"flex-grow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx(Zs,{})})}),e.jsx(wr,{})]})},Pn=()=>{const{loading:a}=K();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(C,{to:"/",children:e.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"ServiceConnect Pro"})})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsx(Zs,{})})})]})},An=()=>{var o;const{loading:a,logout:s,user:t}=K(),r=Wt(),i=gs(),n=async()=>{try{await s(),i("/login")}catch(d){console.error("Error logging out:",d)}},l=d=>r.pathname===d;return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("nav",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx(C,{to:"/admin/dashboard",className:"text-xl font-bold text-primary-600",children:"Admin Dashboard"})})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-block h-8 w-8 rounded-full overflow-hidden bg-gray-100",children:e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary-100 text-primary-700",children:((o=t==null?void 0:t.email)==null?void 0:o.charAt(0).toUpperCase())||"A"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:t==null?void 0:t.email}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Administrator"})]}),e.jsx("button",{onClick:n,className:"ml-4 px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Logout"})]})]})})}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-64 mb-6 md:mb-0",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("nav",{className:"space-y-1",children:[e.jsx(C,{to:"/admin/dashboard",className:`${l("/admin/dashboard")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Dashboard"}),e.jsx(C,{to:"/admin/users",className:`${l("/admin/users")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Users"}),e.jsx(C,{to:"/admin/providers",className:`${l("/admin/providers")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Providers"}),e.jsx(C,{to:"/admin/reports",className:`${l("/admin/reports")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Reports"}),e.jsx(C,{to:"/admin/settings",className:`${l("/admin/settings")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Settings"})]})})})}),e.jsx("div",{className:"md:ml-6 w-full",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx(Zs,{})})})})]})})})]})};var is=a=>a.type==="checkbox",Me=a=>a instanceof Date,le=a=>a==null;const Nr=a=>typeof a=="object";var Y=a=>!le(a)&&!Array.isArray(a)&&Nr(a)&&!Me(a),En=a=>Y(a)&&a.target?is(a.target)?a.target.checked:a.target.value:a,Tn=a=>a.substring(0,a.search(/\.\d+(\.|$)/))||a,Rn=(a,s)=>a.has(Tn(s)),Ln=a=>{const s=a.constructor&&a.constructor.prototype;return Y(s)&&s.hasOwnProperty("isPrototypeOf")},tt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ae(a){let s;const t=Array.isArray(a),r=typeof FileList<"u"?a instanceof FileList:!1;if(a instanceof Date)s=new Date(a);else if(a instanceof Set)s=new Set(a);else if(!(tt&&(a instanceof Blob||r))&&(t||Y(a)))if(s=t?[]:{},!t&&!Ln(a))s=a;else for(const i in a)a.hasOwnProperty(i)&&(s[i]=ae(a[i]));else return a;return s}var Ss=a=>Array.isArray(a)?a.filter(Boolean):[],Q=a=>a===void 0,L=(a,s,t)=>{if(!s||!Y(a))return t;const r=Ss(s.split(/[,[\].]+?/)).reduce((i,n)=>le(i)?i:i[n],a);return Q(r)||r===a?Q(a[s])?t:a[s]:r},be=a=>typeof a=="boolean",rt=a=>/^\w*$/.test(a),_r=a=>Ss(a.replace(/["|']|\]/g,"").split(/\.|\[/)),G=(a,s,t)=>{let r=-1;const i=rt(s)?[s]:_r(s),n=i.length,l=n-1;for(;++r<n;){const o=i[r];let d=t;if(r!==l){const m=a[o];d=Y(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;a[o]=d,a=a[o]}};const Mt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ge={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},we={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};fe.createContext(null);var Mn=(a,s,t,r=!0)=>{const i={defaultValues:s._defaultValues};for(const n in a)Object.defineProperty(i,n,{get:()=>{const l=n;return s._proxyFormState[l]!==ge.all&&(s._proxyFormState[l]=!r||ge.all),t&&(t[l]=!0),a[l]}});return i};const Dn=typeof window<"u"?y.useLayoutEffect:y.useEffect;var je=a=>typeof a=="string",$n=(a,s,t,r,i)=>je(a)?(r&&s.watch.add(a),L(t,a,i)):Array.isArray(a)?a.map(n=>(r&&s.watch.add(n),L(t,n))):(r&&(s.watchAll=!0),t),On=(a,s,t,r,i)=>s?{...t[a],types:{...t[a]&&t[a].types?t[a].types:{},[r]:i||!0}}:{},es=a=>Array.isArray(a)?a:[a],Dt=()=>{let a=[];return{get observers(){return a},next:i=>{for(const n of a)n.next&&n.next(i)},subscribe:i=>(a.push(i),{unsubscribe:()=>{a=a.filter(n=>n!==i)}}),unsubscribe:()=>{a=[]}}},Ks=a=>le(a)||!Nr(a);function Ae(a,s){if(Ks(a)||Ks(s))return a===s;if(Me(a)&&Me(s))return a.getTime()===s.getTime();const t=Object.keys(a),r=Object.keys(s);if(t.length!==r.length)return!1;for(const i of t){const n=a[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=s[i];if(Me(n)&&Me(l)||Y(n)&&Y(l)||Array.isArray(n)&&Array.isArray(l)?!Ae(n,l):n!==l)return!1}}return!0}var ne=a=>Y(a)&&!Object.keys(a).length,at=a=>a.type==="file",ye=a=>typeof a=="function",xs=a=>{if(!tt)return!1;const s=a?a.ownerDocument:0;return a instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},kr=a=>a.type==="select-multiple",it=a=>a.type==="radio",Fn=a=>it(a)||is(a),Is=a=>xs(a)&&a.isConnected;function In(a,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)a=Q(a)?r++:a[s[r++]];return a}function Bn(a){for(const s in a)if(a.hasOwnProperty(s)&&!Q(a[s]))return!1;return!0}function X(a,s){const t=Array.isArray(s)?s:rt(s)?[s]:_r(s),r=t.length===1?a:In(a,t),i=t.length-1,n=t[i];return r&&delete r[n],i!==0&&(Y(r)&&ne(r)||Array.isArray(r)&&Bn(r))&&X(a,t.slice(0,-1)),a}var Sr=a=>{for(const s in a)if(ye(a[s]))return!0;return!1};function fs(a,s={}){const t=Array.isArray(a);if(Y(a)||t)for(const r in a)Array.isArray(a[r])||Y(a[r])&&!Sr(a[r])?(s[r]=Array.isArray(a[r])?[]:{},fs(a[r],s[r])):le(a[r])||(s[r]=!0);return s}function Cr(a,s,t){const r=Array.isArray(a);if(Y(a)||r)for(const i in a)Array.isArray(a[i])||Y(a[i])&&!Sr(a[i])?Q(s)||Ks(t[i])?t[i]=Array.isArray(a[i])?fs(a[i],[]):{...fs(a[i])}:Cr(a[i],le(s)?{}:s[i],t[i]):t[i]=!Ae(a[i],s[i]);return t}var Ge=(a,s)=>Cr(a,s,fs(s));const $t={value:!1,isValid:!1},Ot={value:!0,isValid:!0};var Pr=a=>{if(Array.isArray(a)){if(a.length>1){const s=a.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!Q(a[0].attributes.value)?Q(a[0].value)||a[0].value===""?Ot:{value:a[0].value,isValid:!0}:Ot:$t}return $t},Ar=(a,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>Q(a)?a:s?a===""?NaN:a&&+a:t&&je(a)?new Date(a):r?r(a):a;const Ft={isValid:!1,value:null};var Er=a=>Array.isArray(a)?a.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Ft):Ft;function It(a){const s=a.ref;return at(s)?s.files:it(s)?Er(a.refs).value:kr(s)?[...s.selectedOptions].map(({value:t})=>t):is(s)?Pr(a.refs).value:Ar(Q(s.value)?a.ref.value:s.value,a)}var Un=(a,s,t,r)=>{const i={};for(const n of a){const l=L(s,n);l&&G(i,n,l._f)}return{criteriaMode:t,names:[...a],fields:i,shouldUseNativeValidation:r}},ps=a=>a instanceof RegExp,Ke=a=>Q(a)?a:ps(a)?a.source:Y(a)?ps(a.value)?a.value.source:a.value:a,Bt=a=>({isOnSubmit:!a||a===ge.onSubmit,isOnBlur:a===ge.onBlur,isOnChange:a===ge.onChange,isOnAll:a===ge.all,isOnTouch:a===ge.onTouched});const Ut="AsyncFunction";var Vn=a=>!!a&&!!a.validate&&!!(ye(a.validate)&&a.validate.constructor.name===Ut||Y(a.validate)&&Object.values(a.validate).find(s=>s.constructor.name===Ut)),zn=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate),Vt=(a,s,t)=>!t&&(s.watchAll||s.watch.has(a)||[...s.watch].some(r=>a.startsWith(r)&&/^\.\w+/.test(a.slice(r.length))));const ss=(a,s,t,r)=>{for(const i of t||Object.keys(a)){const n=L(a,i);if(n){const{_f:l,...o}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],i)&&!r)return!0;if(l.ref&&s(l.ref,l.name)&&!r)return!0;if(ss(o,s))break}else if(Y(o)&&ss(o,s))break}}};function zt(a,s,t){const r=L(a,t);if(r||rt(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const n=i.join("."),l=L(s,n),o=L(a,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(o&&o.type)return{name:n,error:o};i.pop()}return{name:t}}var qn=(a,s,t,r)=>{t(a);const{name:i,...n}=a;return ne(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!r||ge.all))},Hn=(a,s,t)=>!a||!s||a===s||es(a).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r))),Wn=(a,s,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(s||a):(t?r.isOnBlur:i.isOnBlur)?!a:(t?r.isOnChange:i.isOnChange)?a:!0,Jn=(a,s)=>!Ss(L(a,s)).length&&X(a,s),Gn=(a,s,t)=>{const r=es(L(a,t));return G(r,"root",s[t]),G(a,t,r),a},hs=a=>je(a);function qt(a,s,t="validate"){if(hs(a)||Array.isArray(a)&&a.every(hs)||be(a)&&!a)return{type:t,message:hs(a)?a:"",ref:s}}var Ie=a=>Y(a)&&!ps(a)?a:{value:a,message:""},Ht=async(a,s,t,r,i,n)=>{const{ref:l,refs:o,required:d,maxLength:m,minLength:c,min:x,max:u,pattern:v,validate:f,name:g,valueAsNumber:j,mount:_}=a._f,w=L(t,g);if(!_||s.has(g))return{};const O=o?o[0]:l,D=A=>{i&&O.reportValidity&&(O.setCustomValidity(be(A)?"":A||""),O.reportValidity())},M={},F=it(l),B=is(l),ee=F||B,E=(j||at(l))&&Q(l.value)&&Q(w)||xs(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,V=On.bind(null,g,r,M),R=(A,S,T,H=we.maxLength,Z=we.minLength)=>{const ie=A?S:T;M[g]={type:A?H:Z,message:ie,ref:l,...V(A?H:Z,ie)}};if(n?!Array.isArray(w)||!w.length:d&&(!ee&&(E||le(w))||be(w)&&!w||B&&!Pr(o).isValid||F&&!Er(o).isValid)){const{value:A,message:S}=hs(d)?{value:!!d,message:d}:Ie(d);if(A&&(M[g]={type:we.required,message:S,ref:O,...V(we.required,S)},!r))return D(S),M}if(!E&&(!le(x)||!le(u))){let A,S;const T=Ie(u),H=Ie(x);if(!le(w)&&!isNaN(w)){const Z=l.valueAsNumber||w&&+w;le(T.value)||(A=Z>T.value),le(H.value)||(S=Z<H.value)}else{const Z=l.valueAsDate||new Date(w),ie=ns=>new Date(new Date().toDateString()+" "+ns),te=l.type=="time",xe=l.type=="week";je(T.value)&&w&&(A=te?ie(w)>ie(T.value):xe?w>T.value:Z>new Date(T.value)),je(H.value)&&w&&(S=te?ie(w)<ie(H.value):xe?w<H.value:Z<new Date(H.value))}if((A||S)&&(R(!!A,T.message,H.message,we.max,we.min),!r))return D(M[g].message),M}if((m||c)&&!E&&(je(w)||n&&Array.isArray(w))){const A=Ie(m),S=Ie(c),T=!le(A.value)&&w.length>+A.value,H=!le(S.value)&&w.length<+S.value;if((T||H)&&(R(T,A.message,S.message),!r))return D(M[g].message),M}if(v&&!E&&je(w)){const{value:A,message:S}=Ie(v);if(ps(A)&&!w.match(A)&&(M[g]={type:we.pattern,message:S,ref:l,...V(we.pattern,S)},!r))return D(S),M}if(f){if(ye(f)){const A=await f(w,t),S=qt(A,O);if(S&&(M[g]={...S,...V(we.validate,S.message)},!r))return D(S.message),M}else if(Y(f)){let A={};for(const S in f){if(!ne(A)&&!r)break;const T=qt(await f[S](w,t),O,S);T&&(A={...T,...V(S,T.message)},D(T.message),r&&(M[g]=A))}if(!ne(A)&&(M[g]={ref:O,...A},!r))return M}}return D(!0),M};const Kn={mode:ge.onSubmit,reValidateMode:ge.onChange,shouldFocusError:!0};function Zn(a={}){let s={...Kn,...a},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ye(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const r={};let i=Y(s.defaultValues)||Y(s.values)?ae(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:ae(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...c};const u={array:Dt(),state:Dt()},v=s.criteriaMode===ge.all,f=h=>p=>{clearTimeout(m),m=setTimeout(h,p)},g=async h=>{if(!s.disabled&&(c.isValid||x.isValid||h)){const p=s.resolver?ne((await B()).errors):await E(r,!0);p!==t.isValid&&u.state.next({isValid:p})}},j=(h,p)=>{!s.disabled&&(c.isValidating||c.validatingFields||x.isValidating||x.validatingFields)&&((h||Array.from(o.mount)).forEach(b=>{b&&(p?G(t.validatingFields,b,p):X(t.validatingFields,b))}),u.state.next({validatingFields:t.validatingFields,isValidating:!ne(t.validatingFields)}))},_=(h,p=[],b,P,k=!0,N=!0)=>{if(P&&b&&!s.disabled){if(l.action=!0,N&&Array.isArray(L(r,h))){const $=b(L(r,h),P.argA,P.argB);k&&G(r,h,$)}if(N&&Array.isArray(L(t.errors,h))){const $=b(L(t.errors,h),P.argA,P.argB);k&&G(t.errors,h,$),Jn(t.errors,h)}if((c.touchedFields||x.touchedFields)&&N&&Array.isArray(L(t.touchedFields,h))){const $=b(L(t.touchedFields,h),P.argA,P.argB);k&&G(t.touchedFields,h,$)}(c.dirtyFields||x.dirtyFields)&&(t.dirtyFields=Ge(i,n)),u.state.next({name:h,isDirty:R(h,p),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else G(n,h,p)},w=(h,p)=>{G(t.errors,h,p),u.state.next({errors:t.errors})},O=h=>{t.errors=h,u.state.next({errors:t.errors,isValid:!1})},D=(h,p,b,P)=>{const k=L(r,h);if(k){const N=L(n,h,Q(b)?L(i,h):b);Q(N)||P&&P.defaultChecked||p?G(n,h,p?N:It(k._f)):T(h,N),l.mount&&g()}},M=(h,p,b,P,k)=>{let N=!1,$=!1;const q={name:h};if(!s.disabled){if(!b||P){(c.isDirty||x.isDirty)&&($=t.isDirty,t.isDirty=q.isDirty=R(),N=$!==q.isDirty);const W=Ae(L(i,h),p);$=!!L(t.dirtyFields,h),W?X(t.dirtyFields,h):G(t.dirtyFields,h,!0),q.dirtyFields=t.dirtyFields,N=N||(c.dirtyFields||x.dirtyFields)&&$!==!W}if(b){const W=L(t.touchedFields,h);W||(G(t.touchedFields,h,b),q.touchedFields=t.touchedFields,N=N||(c.touchedFields||x.touchedFields)&&W!==b)}N&&k&&u.state.next(q)}return N?q:{}},F=(h,p,b,P)=>{const k=L(t.errors,h),N=(c.isValid||x.isValid)&&be(p)&&t.isValid!==p;if(s.delayError&&b?(d=f(()=>w(h,b)),d(s.delayError)):(clearTimeout(m),d=null,b?G(t.errors,h,b):X(t.errors,h)),(b?!Ae(k,b):k)||!ne(P)||N){const $={...P,...N&&be(p)?{isValid:p}:{},errors:t.errors,name:h};t={...t,...$},u.state.next($)}},B=async h=>{j(h,!0);const p=await s.resolver(n,s.context,Un(h||o.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return j(h),p},ee=async h=>{const{errors:p}=await B(h);if(h)for(const b of h){const P=L(p,b);P?G(t.errors,b,P):X(t.errors,b)}else t.errors=p;return p},E=async(h,p,b={valid:!0})=>{for(const P in h){const k=h[P];if(k){const{_f:N,...$}=k;if(N){const q=o.array.has(N.name),W=k._f&&Vn(k._f);W&&c.validatingFields&&j([P],!0);const he=await Ht(k,o.disabled,n,v,s.shouldUseNativeValidation&&!p,q);if(W&&c.validatingFields&&j([P]),he[N.name]&&(b.valid=!1,p))break;!p&&(L(he,N.name)?q?Gn(t.errors,he,N.name):G(t.errors,N.name,he[N.name]):X(t.errors,N.name))}!ne($)&&await E($,p,b)}}return b.valid},V=()=>{for(const h of o.unMount){const p=L(r,h);p&&(p._f.refs?p._f.refs.every(b=>!Is(b)):!Is(p._f.ref))&&Ps(h)}o.unMount=new Set},R=(h,p)=>!s.disabled&&(h&&p&&G(n,h,p),!Ae(ns(),i)),A=(h,p,b)=>$n(h,o,{...l.mount?n:Q(p)?i:je(h)?{[h]:p}:p},b,p),S=h=>Ss(L(l.mount?n:i,h,s.shouldUnregister?L(i,h,[]):[])),T=(h,p,b={})=>{const P=L(r,h);let k=p;if(P){const N=P._f;N&&(!N.disabled&&G(n,h,Ar(p,N)),k=xs(N.ref)&&le(p)?"":p,kr(N.ref)?[...N.ref.options].forEach($=>$.selected=k.includes($.value)):N.refs?is(N.ref)?N.refs.forEach($=>{(!$.defaultChecked||!$.disabled)&&(Array.isArray(k)?$.checked=!!k.find(q=>q===$.value):$.checked=k===$.value||!!k)}):N.refs.forEach($=>$.checked=$.value===k):at(N.ref)?N.ref.value="":(N.ref.value=k,N.ref.type||u.state.next({name:h,values:ae(n)})))}(b.shouldDirty||b.shouldTouch)&&M(h,k,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&xe(h)},H=(h,p,b)=>{for(const P in p){if(!p.hasOwnProperty(P))return;const k=p[P],N=`${h}.${P}`,$=L(r,N);(o.array.has(h)||Y(k)||$&&!$._f)&&!Me(k)?H(N,k,b):T(N,k,b)}},Z=(h,p,b={})=>{const P=L(r,h),k=o.array.has(h),N=ae(p);G(n,h,N),k?(u.array.next({name:h,values:ae(n)}),(c.isDirty||c.dirtyFields||x.isDirty||x.dirtyFields)&&b.shouldDirty&&u.state.next({name:h,dirtyFields:Ge(i,n),isDirty:R(h,N)})):P&&!P._f&&!le(N)?H(h,N,b):T(h,N,b),Vt(h,o)&&u.state.next({...t}),u.state.next({name:l.mount?h:void 0,values:ae(n)})},ie=async h=>{l.mount=!0;const p=h.target;let b=p.name,P=!0;const k=L(r,b),N=W=>{P=Number.isNaN(W)||Me(W)&&isNaN(W.getTime())||Ae(W,L(n,b,W))},$=Bt(s.mode),q=Bt(s.reValidateMode);if(k){let W,he;const ls=p.type?It(k._f):En(h),_e=h.type===Mt.BLUR||h.type===Mt.FOCUS_OUT,Fr=!zn(k._f)&&!s.resolver&&!L(t.errors,b)&&!k._f.deps||Wn(_e,L(t.touchedFields,b),t.isSubmitted,q,$),Es=Vt(b,o,_e);G(n,b,ls),_e?(k._f.onBlur&&k._f.onBlur(h),d&&d(0)):k._f.onChange&&k._f.onChange(h);const Ts=M(b,ls,_e),Ir=!ne(Ts)||Es;if(!_e&&u.state.next({name:b,type:h.type,values:ae(n)}),Fr)return(c.isValid||x.isValid)&&(s.mode==="onBlur"?_e&&g():_e||g()),Ir&&u.state.next({name:b,...Es?{}:Ts});if(!_e&&Es&&u.state.next({...t}),s.resolver){const{errors:ft}=await B([b]);if(N(ls),P){const Br=zt(t.errors,r,b),pt=zt(ft,r,Br.name||b);W=pt.error,b=pt.name,he=ne(ft)}}else j([b],!0),W=(await Ht(k,o.disabled,n,v,s.shouldUseNativeValidation))[b],j([b]),N(ls),P&&(W?he=!1:(c.isValid||x.isValid)&&(he=await E(r,!0)));P&&(k._f.deps&&xe(k._f.deps),F(b,he,W,Ts))}},te=(h,p)=>{if(L(t.errors,p)&&h.focus)return h.focus(),1},xe=async(h,p={})=>{let b,P;const k=es(h);if(s.resolver){const N=await ee(Q(h)?h:k);b=ne(N),P=h?!k.some($=>L(N,$)):b}else h?(P=(await Promise.all(k.map(async N=>{const $=L(r,N);return await E($&&$._f?{[N]:$}:$)}))).every(Boolean),!(!P&&!t.isValid)&&g()):P=b=await E(r);return u.state.next({...!je(h)||(c.isValid||x.isValid)&&b!==t.isValid?{}:{name:h},...s.resolver||!h?{isValid:b}:{},errors:t.errors}),p.shouldFocus&&!P&&ss(r,te,h?k:o.mount),P},ns=h=>{const p={...l.mount?n:i};return Q(h)?p:je(h)?L(p,h):h.map(b=>L(p,b))},nt=(h,p)=>({invalid:!!L((p||t).errors,h),isDirty:!!L((p||t).dirtyFields,h),error:L((p||t).errors,h),isValidating:!!L(t.validatingFields,h),isTouched:!!L((p||t).touchedFields,h)}),Tr=h=>{h&&es(h).forEach(p=>X(t.errors,p)),u.state.next({errors:h?t.errors:{}})},lt=(h,p,b)=>{const P=(L(r,h,{_f:{}})._f||{}).ref,k=L(t.errors,h)||{},{ref:N,message:$,type:q,...W}=k;G(t.errors,h,{...W,...p,ref:P}),u.state.next({name:h,errors:t.errors,isValid:!1}),b&&b.shouldFocus&&P&&P.focus&&P.focus()},Rr=(h,p)=>ye(h)?u.state.subscribe({next:b=>h(A(void 0,p),b)}):A(h,p,!0),ot=h=>u.state.subscribe({next:p=>{Hn(h.name,p.name,h.exact)&&qn(p,h.formState||c,Or,h.reRenderRoot)&&h.callback({values:{...n},...t,...p})}}).unsubscribe,Lr=h=>(l.mount=!0,x={...x,...h.formState},ot({...h,formState:x})),Ps=(h,p={})=>{for(const b of h?es(h):o.mount)o.mount.delete(b),o.array.delete(b),p.keepValue||(X(r,b),X(n,b)),!p.keepError&&X(t.errors,b),!p.keepDirty&&X(t.dirtyFields,b),!p.keepTouched&&X(t.touchedFields,b),!p.keepIsValidating&&X(t.validatingFields,b),!s.shouldUnregister&&!p.keepDefaultValue&&X(i,b);u.state.next({values:ae(n)}),u.state.next({...t,...p.keepDirty?{isDirty:R()}:{}}),!p.keepIsValid&&g()},ct=({disabled:h,name:p})=>{(be(h)&&l.mount||h||o.disabled.has(p))&&(h?o.disabled.add(p):o.disabled.delete(p))},As=(h,p={})=>{let b=L(r,h);const P=be(p.disabled)||be(s.disabled);return G(r,h,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:h}},name:h,mount:!0,...p}}),o.mount.add(h),b?ct({disabled:be(p.disabled)?p.disabled:s.disabled,name:h}):D(h,!0,p.value),{...P?{disabled:p.disabled||s.disabled}:{},...s.progressive?{required:!!p.required,min:Ke(p.min),max:Ke(p.max),minLength:Ke(p.minLength),maxLength:Ke(p.maxLength),pattern:Ke(p.pattern)}:{},name:h,onChange:ie,onBlur:ie,ref:k=>{if(k){As(h,p),b=L(r,h);const N=Q(k.value)&&k.querySelectorAll&&k.querySelectorAll("input,select,textarea")[0]||k,$=Fn(N),q=b._f.refs||[];if($?q.find(W=>W===N):N===b._f.ref)return;G(r,h,{_f:{...b._f,...$?{refs:[...q.filter(Is),N,...Array.isArray(L(i,h))?[{}]:[]],ref:{type:N.type,name:h}}:{ref:N}}}),D(h,!1,void 0,N)}else b=L(r,h,{}),b._f&&(b._f.mount=!1),(s.shouldUnregister||p.shouldUnregister)&&!(Rn(o.array,h)&&l.action)&&o.unMount.add(h)}}},dt=()=>s.shouldFocusError&&ss(r,te,o.mount),Mr=h=>{be(h)&&(u.state.next({disabled:h}),ss(r,(p,b)=>{const P=L(r,b);P&&(p.disabled=P._f.disabled||h,Array.isArray(P._f.refs)&&P._f.refs.forEach(k=>{k.disabled=P._f.disabled||h}))},0,!1))},mt=(h,p)=>async b=>{let P;b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let k=ae(n);if(u.state.next({isSubmitting:!0}),s.resolver){const{errors:N,values:$}=await B();t.errors=N,k=$}else await E(r);if(o.disabled.size)for(const N of o.disabled)G(k,N,void 0);if(X(t.errors,"root"),ne(t.errors)){u.state.next({errors:{}});try{await h(k,b)}catch(N){P=N}}else p&&await p({...t.errors},b),dt(),setTimeout(dt);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ne(t.errors)&&!P,submitCount:t.submitCount+1,errors:t.errors}),P)throw P},Dr=(h,p={})=>{L(r,h)&&(Q(p.defaultValue)?Z(h,ae(L(i,h))):(Z(h,p.defaultValue),G(i,h,ae(p.defaultValue))),p.keepTouched||X(t.touchedFields,h),p.keepDirty||(X(t.dirtyFields,h),t.isDirty=p.defaultValue?R(h,ae(L(i,h))):R()),p.keepError||(X(t.errors,h),c.isValid&&g()),u.state.next({...t}))},ht=(h,p={})=>{const b=h?ae(h):i,P=ae(b),k=ne(h),N=k?i:P;if(p.keepDefaultValues||(i=b),!p.keepValues){if(p.keepDirtyValues){const $=new Set([...o.mount,...Object.keys(Ge(i,n))]);for(const q of Array.from($))L(t.dirtyFields,q)?G(N,q,L(n,q)):Z(q,L(N,q))}else{if(tt&&Q(h))for(const $ of o.mount){const q=L(r,$);if(q&&q._f){const W=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(xs(W)){const he=W.closest("form");if(he){he.reset();break}}}}for(const $ of o.mount)Z($,L(N,$))}n=ae(N),u.array.next({values:{...N}}),u.state.next({values:{...N}})}o={mount:p.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!c.isValid||!!p.keepIsValid||!!p.keepDirtyValues,l.watch=!!s.shouldUnregister,u.state.next({submitCount:p.keepSubmitCount?t.submitCount:0,isDirty:k?!1:p.keepDirty?t.isDirty:!!(p.keepDefaultValues&&!Ae(h,i)),isSubmitted:p.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:k?{}:p.keepDirtyValues?p.keepDefaultValues&&n?Ge(i,n):t.dirtyFields:p.keepDefaultValues&&h?Ge(i,h):p.keepDirty?t.dirtyFields:{},touchedFields:p.keepTouched?t.touchedFields:{},errors:p.keepErrors?t.errors:{},isSubmitSuccessful:p.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ut=(h,p)=>ht(ye(h)?h(n):h,p),$r=(h,p={})=>{const b=L(r,h),P=b&&b._f;if(P){const k=P.refs?P.refs[0]:P.ref;k.focus&&(k.focus(),p.shouldSelect&&ye(k.select)&&k.select())}},Or=h=>{t={...t,...h}},xt={control:{register:As,unregister:Ps,getFieldState:nt,handleSubmit:mt,setError:lt,_subscribe:ot,_runSchema:B,_getWatch:A,_getDirty:R,_setValid:g,_setFieldArray:_,_setDisabledField:ct,_setErrors:O,_getFieldArray:S,_reset:ht,_resetDefaultValues:()=>ye(s.defaultValues)&&s.defaultValues().then(h=>{ut(h,s.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Mr,_subjects:u,_proxyFormState:c,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(h){l=h},get _defaultValues(){return i},get _names(){return o},set _names(h){o=h},get _formState(){return t},get _options(){return s},set _options(h){s={...s,...h}}},subscribe:Lr,trigger:xe,register:As,handleSubmit:mt,watch:Rr,setValue:Z,getValues:ns,reset:ut,resetField:Dr,clearErrors:Tr,unregister:Ps,setError:lt,setFocus:$r,getFieldState:nt};return{...xt,formControl:xt}}function Cs(a={}){const s=fe.useRef(void 0),t=fe.useRef(void 0),[r,i]=fe.useState({isDirty:!1,isValidating:!1,isLoading:ye(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,isReady:!1,defaultValues:ye(a.defaultValues)?void 0:a.defaultValues});s.current||(s.current={...a.formControl?a.formControl:Zn(a),formState:r},a.formControl&&a.defaultValues&&!ye(a.defaultValues)&&a.formControl.reset(a.defaultValues,a.resetOptions));const n=s.current.control;return n._options=a,Dn(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),n._formState.isReady=!0,l},[n]),fe.useEffect(()=>n._disableForm(a.disabled),[n,a.disabled]),fe.useEffect(()=>{a.mode&&(n._options.mode=a.mode),a.reValidateMode&&(n._options.reValidateMode=a.reValidateMode),a.errors&&!ne(a.errors)&&n._setErrors(a.errors)},[n,a.errors,a.mode,a.reValidateMode]),fe.useEffect(()=>{a.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,a.shouldUnregister]),fe.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),fe.useEffect(()=>{a.values&&!Ae(a.values,t.current)?(n._reset(a.values,n._options.resetOptions),t.current=a.values,i(l=>({...l}))):n._resetDefaultValues()},[n,a.values]),fe.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=Mn(r,n),s.current}const Yn=()=>{const{register:a,handleSubmit:s,formState:{errors:t}}=Cs(),[r,i]=y.useState(!1),[n,l]=y.useState(""),{login:o}=K();gs();const d=async m=>{try{i(!0),l("");const{data:c,error:x}=await o(m.email,m.password);if(x)throw x}catch(c){l(c.message||"Failed to sign in. Please check your credentials."),console.error("Login error:",c)}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(C,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),n&&e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:n})})]})}),e.jsx("div",{className:"mt-8",children:e.jsxs("form",{className:"space-y-6",onSubmit:s(d),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("password",{required:"Password is required"})}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:r,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-70 cursor-not-allowed":""}`,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r?"Signing in...":"Sign in"]})})]})})]})},Qn=()=>{const{register:a,handleSubmit:s,watch:t,formState:{errors:r}}=Cs(),[i,n]=y.useState(!1),[l,o]=y.useState(""),[d,m]=y.useState("homeowner"),{register:c}=K();gs();const x=t("password"),u=async v=>{try{n(!0),o("");const{data:f,error:g}=await c(v.email,v.password,d);if(g)throw g}catch(f){o(f.message||"Failed to create an account. Please try again."),console.error("Registration error:",f)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(C,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),l&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:l})})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:s(u),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",...a("confirmPassword",{required:"Please confirm your password",validate:v=>v===x||"Passwords do not match"})}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword.message})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"homeowner",name:"userType",type:"radio",checked:d==="homeowner",onChange:()=>m("homeowner"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("label",{htmlFor:"homeowner",className:"ml-2 block text-sm text-gray-900",children:"I'm a Homeowner"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"provider",name:"userType",type:"radio",checked:d==="provider",onChange:()=>m("provider"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("label",{htmlFor:"provider",className:"ml-2 block text-sm text-gray-900",children:"I'm a Service Provider"})]})]})}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${i?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[i?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsx("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),i?"Creating account...":"Sign up"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsxs("p",{className:"text-gray-600",children:["By signing up, you agree to our"," ",e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})})]})]})})},Xn=()=>{const{register:a,handleSubmit:s,formState:{errors:t}}=Cs(),[r,i]=y.useState(!1),[n,l]=y.useState(""),[o,d]=y.useState(""),{resetPassword:m}=K(),c=async x=>{try{i(!0),d(""),l("");const{error:u}=await m(x.email);if(u)throw u;l("Password reset instructions have been sent to your email.")}catch(u){d(u.message||"Failed to reset password. Please try again."),console.error("Reset password error:",u)}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),o&&e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),n&&e.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:n})})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:s(c),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:r,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-70 cursor-not-allowed":""}`,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r?"Sending...":"Send reset instructions"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(C,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to sign in"})})]})]})},el=()=>{const{user:a,providerProfile:s,supabase:t}=K(),[r,i]=y.useState({activeJobs:0,completedJobs:0,pendingRequests:0,totalEarnings:0}),[n,l]=y.useState([]),[o,d]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(a)try{d(!0),await new Promise(c=>setTimeout(c,1e3)),i({activeJobs:5,completedJobs:12,pendingRequests:3,totalEarnings:4850}),l([{id:1,title:"Kitchen Renovation",client:"John Smith",status:"In Progress",dueDate:"2023-12-15",amount:1200},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",status:"In Progress",dueDate:"2023-12-10",amount:850},{id:3,title:"Deck Installation",client:"Michael Brown",status:"In Progress",dueDate:"2023-12-20",amount:2200},{id:4,title:"Electrical Wiring",client:"Emily Davis",status:"Pending",dueDate:"2023-12-18",amount:600}])}catch(c){console.error("Error fetching dashboard data:",c)}finally{d(!1)}})()},[a]),o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Provider Dashboard"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.activeJobs})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.completedJobs})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.pendingRequests})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Earnings"}),e.jsx("dd",{children:e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["$",r.totalEarnings]})})]})})]})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Jobs"}),e.jsx("div",{className:"mt-4 bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(m=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-primary-600 truncate",children:m.title}),e.jsx("div",{className:`ml-2 flex-shrink-0 flex ${m.status==="In Progress"?"bg-green-100":"bg-yellow-100"} rounded-full px-2 py-0.5`,children:e.jsx("p",{className:`text-xs font-medium ${m.status==="In Progress"?"text-green-800":"text-yellow-800"}`,children:m.status})})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Due ",new Date(m.dueDate).toLocaleDateString()]})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),m.client]})}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"$",m.amount]})]})]})},m.id))})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Update Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Keep your profile up to date to attract more clients."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Update Profile"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Schedule"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your availability and manage appointments."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Calendar"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Check Messages"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have 3 unread messages from clients."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Messages"})})]})]})})})]})]})]})})},sl="https://zpnpsyiwguqwzldzptyp.supabase.co",tl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",re=vr(sl,tl,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1},realtime:{timeout:6e4},global:{fetch:(...a)=>fetch(...a)}});function rl(){const{user:a,providerProfile:s,updateProviderProfile:t}=K(),[r,i]=y.useState(!1),[n,l]=y.useState(null),[o,d]=y.useState(null),[m,c]=y.useState({business_name:"",contact_name:"",email:"",phone:"",website:"",address:"",city:"",state:"",zip:"",description:"",years_in_business:"",employees_count:"",license_number:"",insurance_info:"",service_area:""});y.useEffect(()=>{s&&c({business_name:s.business_name||"",contact_name:s.contact_name||"",email:s.email||(a==null?void 0:a.email)||"",phone:s.phone||"",website:s.website||"",address:s.address||"",city:s.city||"",state:s.state||"",zip:s.zip||"",description:s.description||"",years_in_business:s.years_in_business||"",employees_count:s.employees_count||"",license_number:s.license_number||"",insurance_info:s.insurance_info||"",service_area:s.service_area||""})},[s,a]);const x=v=>{const{name:f,value:g}=v.target;c({...m,[f]:g})},u=async v=>{v.preventDefault();try{i(!0),d(null);const{error:f}=await t(m);if(f)throw f;l("Profile updated successfully!"),setTimeout(()=>{l(null)},3e3)}catch(f){console.error("Error updating profile:",f),d("Failed to update profile. Please try again.")}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your business information and settings."})]}),o&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:o})})]})]})}),n&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:n})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Business Information"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Update your business details and contact information."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:e.jsxs("form",{onSubmit:u,children:[e.jsx("div",{className:"sm:divide-y sm:divide-gray-200",children:e.jsx("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:e.jsxs("div",{className:"col-span-3 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"business_name",id:"business_name",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.business_name,onChange:x,required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"contact_name",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"contact_name",id:"contact_name",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.contact_name,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.email,onChange:x,required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"tel",name:"phone",id:"phone",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.phone,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"url",name:"website",id:"website",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.website,onChange:x})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Address"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"address",id:"address",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.address,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"city",id:"city",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.city,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"state",id:"state",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.state,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal Code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"zip",id:"zip",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.zip,onChange:x})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Business Details"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Business Description"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"description",name:"description",rows:"4",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.description,onChange:x})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description of your business and services."})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"years_in_business",className:"block text-sm font-medium text-gray-700",children:"Years in Business"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"years_in_business",id:"years_in_business",min:"0",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.years_in_business,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"employees_count",className:"block text-sm font-medium text-gray-700",children:"Number of Employees"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"employees_count",id:"employees_count",min:"1",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.employees_count,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"license_number",className:"block text-sm font-medium text-gray-700",children:"License Number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"license_number",id:"license_number",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.license_number,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"insurance_info",className:"block text-sm font-medium text-gray-700",children:"Insurance Information"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"insurance_info",id:"insurance_info",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.insurance_info,onChange:x})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"service_area",className:"block text-sm font-medium text-gray-700",children:"Service Area"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"service_area",id:"service_area",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., 25 miles from Chicago, IL",value:m.service_area,onChange:x})})]})]})]})]})})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:r,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Save Changes"]})})]})})]})]})}function al(){const{providerProfile:a}=K(),[s,t]=y.useState([]),[r,i]=y.useState(!0),[n,l]=y.useState("all"),[o,d]=y.useState("");y.useEffect(()=>{a&&m()},[a,n]);const m=async()=>{try{i(!0);let g=re.from("projects").select(`
          *,
          services (*),
          bids (
            id,
            provider_id,
            amount,
            status,
            created_at
          )
        `).eq("bids.provider_id",a.id);n==="active"?g=g.eq("status","in_progress"):n==="completed"?g=g.eq("status","completed"):n==="pending"&&(g=g.eq("bids.status","pending"));const{data:j,error:_}=await g;if(_)throw _;t(j||[])}catch(g){console.error("Error fetching jobs:",g)}finally{i(!1)}},c=g=>{l(g)},x=o?s.filter(g=>g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())||g.location.toLowerCase().includes(o.toLowerCase())):s,u=g=>{switch(g){case"open":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},v=g=>new Date(g).toLocaleDateString(),f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Jobs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your current and past jobs."})]}),e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[e.jsx("button",{onClick:()=>c("all"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="all"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"All Jobs"}),e.jsx("button",{onClick:()=>c("active"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="active"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Active"}),e.jsx("button",{onClick:()=>c("completed"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="completed"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Completed"}),e.jsx("button",{onClick:()=>c("pending"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="pending"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Pending Bids"})]})})}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("form",{className:"flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-primary-500 focus:border-primary-500 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Search jobs...",value:o,onChange:g=>d(g.target.value)}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Search"})]})})]})}),x.length>0?e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(g=>{var j;return e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-medium",children:g.title.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.title}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u(g.status)}`,children:g.status==="open"?"Open":g.status==="in_progress"?"In Progress":g.status==="completed"?"Completed":g.status}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:((j=g.services)==null?void 0:j.name)||"General"})]})]})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx(C,{to:`/jobs/${g.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Details"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:g.description})}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),g.location||"No location specified"]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),v(g.created_at)]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),g.bids&&g.bids.length>0?f(g.bids[0].amount):"No bid submitted"]})})]})]})},g.id)})})}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No jobs found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n!=="all"?`You don't have any ${n} jobs.`:"You haven't been assigned any jobs yet."}),e.jsx("div",{className:"mt-6",children:e.jsxs(C,{to:"/leads",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Browse Available Leads"]})})]})})]})}function il(){const{providerProfile:a}=K(),[s,t]=y.useState([]),[r,i]=y.useState(!0),[n,l]=y.useState(new Date),[o,d]=y.useState("month"),[m,c]=y.useState({title:"",start_time:"",end_time:"",customer_name:"",customer_email:"",customer_phone:"",location:"",notes:""}),[x,u]=y.useState(!1),[v,f]=y.useState(!1),[g,j]=y.useState(null),[_,w]=y.useState(null);y.useEffect(()=>{a&&O()},[a,n,o]);const O=async()=>{try{i(!0);const R=new Date(n),A=new Date(n);if(o==="month")R.setDate(1),A.setMonth(A.getMonth()+1),A.setDate(0);else if(o==="week"){const ie=R.getDay();R.setDate(R.getDate()-ie),A.setDate(A.getDate()+(6-ie))}const S=R.toISOString(),T=A.toISOString(),{data:H,error:Z}=await re.from("appointments").select("*").eq("provider_id",a.id).gte("start_time",S).lte("start_time",T).order("start_time",{ascending:!0});if(Z)throw Z;t(H||[])}catch(R){console.error("Error fetching appointments:",R)}finally{i(!1)}},D=async R=>{R.preventDefault();try{f(!0),j(null);const A=new Date(m.start_time),S=new Date(m.end_time);if(S<=A){j("End time must be after start time");return}const T={provider_id:a.id,title:m.title,start_time:A.toISOString(),end_time:S.toISOString(),customer_name:m.customer_name,customer_email:m.customer_email,customer_phone:m.customer_phone,location:m.location,notes:m.notes,status:"scheduled"},{data:H,error:Z}=await re.from("appointments").insert([T]).select();if(Z)throw Z;t([...s,H[0]]),c({title:"",start_time:"",end_time:"",customer_name:"",customer_email:"",customer_phone:"",location:"",notes:""}),u(!1),w("Appointment created successfully!"),setTimeout(()=>{w(null)},3e3)}catch(A){console.error("Error creating appointment:",A),j("Failed to create appointment. Please try again.")}finally{f(!1)}},M=R=>{const{name:A,value:S}=R.target;c({...m,[A]:S})},F=()=>{const R=[],A=new Date(n.getFullYear(),n.getMonth(),1),S=new Date,T=A.getDay(),H=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let te=T-1;te>=0;te--)R.push({date:new Date(n.getFullYear(),n.getMonth()-1,H-te),isCurrentMonth:!1,isToday:!1});const Z=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();for(let te=1;te<=Z;te++){const xe=new Date(A.getFullYear(),A.getMonth(),te);R.push({date:xe,isCurrentMonth:!0,isToday:xe.getDate()===S.getDate()&&xe.getMonth()===S.getMonth()&&xe.getFullYear()===S.getFullYear()})}const ie=42-R.length;for(let te=1;te<=ie;te++)R.push({date:new Date(n.getFullYear(),n.getMonth()+1,te),isCurrentMonth:!1,isToday:!1});return R},B=R=>s.filter(A=>{const S=new Date(A.start_time);return S.getDate()===R.getDate()&&S.getMonth()===R.getMonth()&&S.getFullYear()===R.getFullYear()}),ee=R=>new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),E=R=>{const A=new Date(n);A.setMonth(A.getMonth()+R),l(A)},V=()=>{l(new Date)};return r&&s.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calendar"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your appointments and schedule."})]}),g&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:g})})]})]})}),_&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:_})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:n.toLocaleString("default",{month:"long",year:"numeric"})})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:V,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Today"}),e.jsx("button",{onClick:()=>E(-1),className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:()=>E(1),className:"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"New Appointment"]})]})]}),e.jsxs("div",{className:"border-t border-gray-200",children:[e.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200 border-b border-gray-200",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(R=>e.jsx("div",{className:"bg-white py-2 text-center text-sm font-medium text-gray-500",children:R},R))}),e.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:F().map((R,A)=>{const S=B(R.date);return e.jsxs("div",{className:`bg-white min-h-[100px] p-2 ${R.isCurrentMonth?"text-gray-900":"text-gray-400"} ${R.isToday?"bg-primary-50":""}`,children:[e.jsx("div",{className:"font-medium text-sm",children:R.date.getDate()}),e.jsx("div",{className:"mt-1 space-y-1 max-h-[80px] overflow-y-auto",children:S.map(T=>e.jsxs("div",{className:"px-2 py-1 text-xs rounded bg-primary-100 text-primary-800 truncate",title:`${T.title} - ${ee(T.start_time)} to ${ee(T.end_time)}`,children:[ee(T.start_time)," - ",T.title]},T.id))})]},A)})})]})]}),x&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"New Appointment"}),e.jsx("div",{className:"mt-4",children:e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",name:"title",id:"title",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.title,onChange:M,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_time",className:"block text-sm font-medium text-gray-700",children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"start_time",id:"start_time",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.start_time,onChange:M,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_time",className:"block text-sm font-medium text-gray-700",children:"End Time"}),e.jsx("input",{type:"datetime-local",name:"end_time",id:"end_time",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.end_time,onChange:M,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customer_name",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsx("input",{type:"text",name:"customer_name",id:"customer_name",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.customer_name,onChange:M})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customer_email",className:"block text-sm font-medium text-gray-700",children:"Customer Email"}),e.jsx("input",{type:"email",name:"customer_email",id:"customer_email",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.customer_email,onChange:M})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customer_phone",className:"block text-sm font-medium text-gray-700",children:"Customer Phone"}),e.jsx("input",{type:"tel",name:"customer_phone",id:"customer_phone",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.customer_phone,onChange:M})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("input",{type:"text",name:"location",id:"location",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.location,onChange:M})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("textarea",{name:"notes",id:"notes",rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:m.notes,onChange:M})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:col-start-2 sm:text-sm",disabled:v,children:v?"Creating...":"Create Appointment"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>u(!1),children:"Cancel"})]})]})})]})})})})]})})]})}function nl(){var F,B,ee;const{user:a,providerProfile:s}=K(),[t,r]=y.useState([]),[i,n]=y.useState(null),[l,o]=y.useState([]),[d,m]=y.useState(""),[c,x]=y.useState(!0),[u,v]=y.useState(!1),f=y.useRef(null);y.useEffect(()=>{s&&g()},[s]),y.useEffect(()=>{if(i){j(i.id);const E=re.channel(`conversation:${i.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${i.id}`},V=>{o(R=>[...R,V.new])}).subscribe();return()=>{re.removeChannel(E)}}},[i]),y.useEffect(()=>{w()},[l]);const g=async()=>{try{x(!0);const{data:E,error:V}=await re.from("conversations").select(`
          *,
          homeowner:homeowner_id (
            id,
            first_name,
            last_name,
            email
          ),
          provider:provider_id (
            id,
            business_name,
            contact_name,
            email
          ),
          project:project_id (
            id,
            title
          ),
          messages (
            id,
            created_at,
            content
          )
        `).eq("provider_id",s.id).order("updated_at",{ascending:!1});if(V)throw V;r(E||[]),E&&E.length>0&&!i&&n(E[0])}catch(E){console.error("Error fetching conversations:",E)}finally{x(!1)}},j=async E=>{try{const{data:V,error:R}=await re.from("messages").select(`
          *,
          sender:sender_id (
            id,
            email
          )
        `).eq("conversation_id",E).order("created_at",{ascending:!0});if(R)throw R;o(V||[]),await re.from("messages").update({is_read:!0}).eq("conversation_id",E).eq("sender_id","not.eq",a.id).eq("is_read",!1)}catch(V){console.error("Error fetching messages:",V)}},_=async E=>{if(E.preventDefault(),!(!d.trim()||!i))try{v(!0);const{data:V,error:R}=await re.from("messages").insert([{conversation_id:i.id,sender_id:a.id,content:d.trim(),is_read:!1}]).select();if(R)throw R;await re.from("conversations").update({updated_at:new Date().toISOString()}).eq("id",i.id),m("")}catch(V){console.error("Error sending message:",V)}finally{v(!1)}},w=()=>{var E;(E=f.current)==null||E.scrollIntoView({behavior:"smooth"})},O=E=>new Date(E).toLocaleString(),D=E=>{if(!E.messages||E.messages.length===0)return"No messages yet";const V=E.messages[E.messages.length-1];return V.content.length>30?`${V.content.substring(0,30)}...`:V.content},M=E=>E.messages?E.messages.filter(V=>!V.is_read&&V.sender_id!==a.id).length:0;return c&&t.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Communicate with homeowners about their projects."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"h-[calc(100vh-250px)] flex",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Conversations"})}),t.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(E=>{var V,R,A;return e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(i==null?void 0:i.id)===E.id?"bg-gray-50":""}`,onClick:()=>n(E),children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[(V=E.homeowner)==null?void 0:V.first_name," ",(R=E.homeowner)==null?void 0:R.last_name]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(E.updated_at).toLocaleDateString()})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 truncate",children:((A=E.project)==null?void 0:A.title)||"No project"}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-500 truncate",children:D(E)}),M(E)>0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:M(E)})]})]})},E.id)})}):e.jsx("div",{className:"px-4 py-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No conversations yet."})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[(F=i.homeowner)==null?void 0:F.first_name," ",(B=i.homeowner)==null?void 0:B.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:((ee=i.project)==null?void 0:ee.title)||"No project"})]})})}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:l.length>0?e.jsxs("div",{className:"space-y-4",children:[l.map(E=>e.jsx("div",{className:`flex ${E.sender_id===a.id?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs sm:max-w-md px-4 py-2 rounded-lg ${E.sender_id===a.id?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("p",{className:"text-sm",children:E.content}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:O(E.created_at)})]})},E.id)),e.jsx("div",{ref:f})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet. Start the conversation!"})})}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",name:"message",id:"message",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Type a message...",value:d,onChange:E=>m(E.target.value),disabled:u}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",disabled:!d.trim()||u,children:u?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send"})]})})})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Select a conversation to view messages"})})})]})})]})}function ll(){const{user:a,logout:s}=K(),[t,r]=y.useState("account"),[i,n]=y.useState(!1),[l,o]=y.useState(null),[d,m]=y.useState(null),[c,x]=y.useState((a==null?void 0:a.email)||""),[u,v]=y.useState(""),[f,g]=y.useState(""),[j,_]=y.useState(""),[w,O]=y.useState({email_new_leads:!0,email_messages:!0,email_job_updates:!0,push_new_leads:!1,push_messages:!0,push_job_updates:!1}),[D,M]=y.useState({show_contact_info:!0,show_reviews:!0,show_portfolio:!0,allow_messaging:!0}),F=async S=>{if(S.preventDefault(),!(!c||c===a.email))try{n(!0),m(null);const{error:T}=await re.auth.updateUser({email:c});if(T)throw T;o("Email update initiated. Please check your new email for confirmation."),setTimeout(()=>{o(null)},3e3)}catch(T){console.error("Error updating email:",T),m(T.message||"Failed to update email")}finally{n(!1)}},B=async S=>{if(S.preventDefault(),!(!u||!f||!j)){if(f!==j){m("New passwords do not match");return}if(f.length<6){m("New password must be at least 6 characters");return}try{n(!0),m(null);const{error:T}=await re.auth.signInWithPassword({email:a.email,password:u});if(T)throw new Error("Current password is incorrect");const{error:H}=await re.auth.updateUser({password:f});if(H)throw H;o("Password updated successfully"),v(""),g(""),_(""),setTimeout(()=>{o(null)},3e3)}catch(T){console.error("Error updating password:",T),m(T.message||"Failed to update password")}finally{n(!1)}}},ee=async S=>{S.preventDefault();try{n(!0),m(null);const{error:T}=await re.from("provider_settings").upsert({provider_id:a.id,...w});if(T)throw T;o("Notification settings updated successfully"),setTimeout(()=>{o(null)},3e3)}catch(T){console.error("Error updating notification settings:",T),m(T.message||"Failed to update notification settings")}finally{n(!1)}},E=async S=>{S.preventDefault();try{n(!0),m(null);const{error:T}=await re.from("provider_settings").upsert({provider_id:a.id,...D});if(T)throw T;o("Privacy settings updated successfully"),setTimeout(()=>{o(null)},3e3)}catch(T){console.error("Error updating privacy settings:",T),m(T.message||"Failed to update privacy settings")}finally{n(!1)}},V=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{n(!0),m(null);const{error:S}=await re.from("providers").delete().eq("id",a.id);if(S)throw S;const{error:T}=await re.auth.admin.deleteUser(a.id);if(T)throw T;await s()}catch(S){console.error("Error deleting account:",S),m(S.message||"Failed to delete account"),n(!1)}},R=S=>{const{name:T,checked:H}=S.target;O({...w,[T]:H})},A=S=>{const{name:T,checked:H}=S.target;M({...D,[T]:H})};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings and preferences."})]}),d&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:d})})]})]})}),l&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:l})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>r("account"),className:`${t==="account"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Account"}),e.jsx("button",{onClick:()=>r("notifications"),className:`${t==="notifications"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Notifications"}),e.jsx("button",{onClick:()=>r("privacy"),className:`${t==="privacy"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Privacy"}),e.jsx("button",{onClick:()=>r("danger"),className:`${t==="danger"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Danger Zone"})]})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Account Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your account email and password."})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:e.jsx("div",{className:"sm:col-span-4",children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("div",{className:"mt-1 flex rounded-md shadow-sm",children:e.jsx("input",{type:"email",name:"email",id:"email",className:"flex-1 focus:ring-primary-500 focus:border-primary-500 block w-full min-w-0 rounded-md sm:text-sm border-gray-300",value:c,onChange:S=>x(S.target.value)})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i||c===a.email,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Updating...":"Update Email"})})]})})}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsx("div",{className:"mt-4 sm:col-span-4",children:e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"current-password",id:"current-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:u,onChange:S=>v(S.target.value),required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:f,onChange:S=>g(S.target.value),required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:j,onChange:S=>_(S.target.value),required:!0})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i||!u||!f||!j,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Updating...":"Update Password"})})]})})})]}),t==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage how you receive notifications."})]}),e.jsxs("form",{onSubmit:ee,children:[e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Email Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_new_leads",name:"email_new_leads",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.email_new_leads,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_new_leads",className:"font-medium text-gray-700",children:"New Leads"}),e.jsx("p",{className:"text-gray-500",children:"Get notified when new leads matching your services are posted."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_messages",name:"email_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.email_messages,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive email notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_job_updates",name:"email_job_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.email_job_updates,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_job_updates",className:"font-medium text-gray-700",children:"Job Updates"}),e.jsx("p",{className:"text-gray-500",children:"Get notified about updates to your active jobs."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Push Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_new_leads",name:"push_new_leads",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.push_new_leads,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_new_leads",className:"font-medium text-gray-700",children:"New Leads"}),e.jsx("p",{className:"text-gray-500",children:"Get push notifications for new leads."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_messages",name:"push_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.push_messages,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive push notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_job_updates",name:"push_job_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:w.push_job_updates,onChange:R})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_job_updates",className:"font-medium text-gray-700",children:"Job Updates"}),e.jsx("p",{className:"text-gray-500",children:"Get push notifications about updates to your active jobs."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Saving...":"Save Notification Settings"})})]})]}),t==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Control what information is visible to others."})]}),e.jsxs("form",{onSubmit:E,children:[e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Profile Visibility"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_contact_info",name:"show_contact_info",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:D.show_contact_info,onChange:A})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_contact_info",className:"font-medium text-gray-700",children:"Show Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Allow homeowners to see your contact information."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_reviews",name:"show_reviews",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:D.show_reviews,onChange:A})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_reviews",className:"font-medium text-gray-700",children:"Show Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Display reviews on your public profile."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_portfolio",name:"show_portfolio",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:D.show_portfolio,onChange:A})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_portfolio",className:"font-medium text-gray-700",children:"Show Portfolio"}),e.jsx("p",{className:"text-gray-500",children:"Display your portfolio on your public profile."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"allow_messaging",name:"allow_messaging",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:D.allow_messaging,onChange:A})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"allow_messaging",className:"font-medium text-gray-700",children:"Allow Messaging"}),e.jsx("p",{className:"text-gray-500",children:"Allow homeowners to send you direct messages."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Saving...":"Save Privacy Settings"})})]})]}),t==="danger"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-red-600",children:"Danger Zone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Actions here can't be undone. Be careful."})]}),e.jsxs("div",{className:"mt-6 border border-red-200 rounded-md p-4 bg-red-50",children:[e.jsx("h3",{className:"text-base font-medium text-red-800",children:"Delete Account"}),e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Once you delete your account, all of your data will be permanently removed. This action cannot be undone."}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:V,disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:i?"Processing...":"Delete Account"})})]})]})]})]})]})}const ol=()=>{var m;const{user:a,homeownerProfile:s,supabase:t}=K(),[r,i]=y.useState([]),[n,l]=y.useState([]),[o,d]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(a)try{d(!0),await new Promise(x=>setTimeout(x,1e3)),i([{id:1,title:"Kitchen Renovation",status:"In Progress",progress:65,provider:"ABC Contractors",dueDate:"2023-12-15"},{id:2,title:"Bathroom Remodel",status:"Planning",progress:20,provider:"XYZ Home Services",dueDate:"2024-01-10"},{id:3,title:"Backyard Landscaping",status:"Completed",progress:100,provider:"Green Thumb Landscaping",dueDate:"2023-11-30"}]),l([{id:1,name:"John's Plumbing",category:"Plumbing",rating:4.8,reviews:56,image:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:2,name:"Elite Electrical",category:"Electrical",rating:4.7,reviews:42,image:"https://images.pexels.com/photos/8961438/pexels-photo-8961438.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:3,name:"Perfect Paint",category:"Painting",rating:4.9,reviews:78,image:"https://images.pexels.com/photos/6474343/pexels-photo-6474343.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}])}catch(x){console.error("Error fetching dashboard data:",x)}finally{d(!1)}})()},[a]),o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Homeowner Dashboard"}),e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Welcome back, ",((m=a==null?void 0:a.email)==null?void 0:m.split("@")[0])||"Homeowner","!"]}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Track your home improvement projects, find trusted service providers, and get inspired with project ideas."})}),e.jsx("div",{className:"mt-5",children:e.jsx(C,{to:"/homeowner/projects",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View All Projects"})})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Your Projects"}),e.jsx(C,{to:"/homeowner/projects",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[r.map(c=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:c.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c.status==="Completed"?"bg-green-100 text-green-800":c.status==="In Progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[c.progress,"%"]})]}),e.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c.status==="Completed"?"bg-green-500":"bg-primary-500"}`,style:{width:`${c.progress}%`}})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsxs("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]}),c.provider]}),e.jsxs("div",{className:"text-gray-500",children:["Due ",new Date(c.dueDate).toLocaleDateString()]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:`/homeowner/projects/${c.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View details"})})})]},c.id)),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 flex flex-col items-center justify-center text-center h-full",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Start a new project"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started on your next home improvement project."}),e.jsx("div",{className:"mt-6",children:e.jsx(C,{to:"/homeowner/projects/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"New Project"})})]})})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recommended Providers"}),e.jsx(C,{to:"/homeowner/providers",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all"})]}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:n.map(c=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.category}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((x,u)=>e.jsx("svg",{className:`h-5 w-5 ${u<Math.floor(c.rating)?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[c.rating," (",c.reviews," reviews)"]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:`/homeowner/providers/${c.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View profile"})})})]},c.id))})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Community Inspiration"}),e.jsx(C,{to:"/community",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"Explore more"})]}),e.jsx("div",{className:"mt-4 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Modern Kitchen",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Modern Kitchens"})})]}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Bathroom Ideas",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Bathroom Ideas"})})]}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Outdoor Spaces",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Outdoor Spaces"})})]})]})})})]})]})})},cl=()=>{const{user:a,supabase:s}=K(),[t,r]=y.useState({first_name:"",last_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",bio:"",profile_image_url:""}),[i,n]=y.useState(!0),[l,o]=y.useState(!1),[d,m]=y.useState(null),[c,x]=y.useState(null),[u,v]=y.useState(!1),[f,g]=y.useState([]),[j,_]=y.useState("personal");y.useEffect(()=>{a&&(w(),O())},[a]);const w=async()=>{try{n(!0),await new Promise(F=>setTimeout(F,800)),r({first_name:"Alex",last_name:"Johnson",email:(a==null?void 0:a.email)||"alex.johnson@example.com",phone:"(555) 123-4567",address:"123 Main Street",city:"Springfield",state:"IL",zip_code:"62704",bio:"Homeowner passionate about DIY projects and home improvement. Looking to renovate my kitchen and bathroom this year.",profile_image_url:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"})}catch(F){console.error("Error fetching profile:",F),m("Failed to load profile information")}finally{n(!1)}},O=async()=>{try{await new Promise(F=>setTimeout(F,1e3)),g([{id:1,name:"Main Residence",address:"123 Main Street, Springfield, IL 62704",type:"Single Family Home",year_built:1998,square_feet:2200,bedrooms:4,bathrooms:2.5,is_primary:!0,image_url:"https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:2,name:"Vacation Cottage",address:"456 Lake View Dr, Lake Geneva, WI 53147",type:"Cottage",year_built:2005,square_feet:1200,bedrooms:2,bathrooms:1,is_primary:!1,image_url:"https://images.pexels.com/photos/2079234/pexels-photo-2079234.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}])}catch(F){console.error("Error fetching properties:",F)}},D=F=>{const{name:B,value:ee}=F.target;r({...t,[B]:ee})},M=async F=>{F.preventDefault();try{o(!0),m(null),await new Promise(B=>setTimeout(B,1e3)),x("Profile updated successfully!"),v(!1),setTimeout(()=>{x(null)},3e3)}catch(B){console.error("Error updating profile:",B),m("Failed to update profile. Please try again.")}finally{o(!1)}};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Profile"}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${j==="personal"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>_("personal"),children:"Personal Information"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${j==="properties"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>_("properties"),children:"My Properties"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${j==="preferences"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>_("preferences"),children:"Preferences"})]})}),j==="personal"&&e.jsxs("div",{className:"mt-6",children:[d&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:d})})]})]})}),c&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:c})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Your personal details and contact information."})]}),e.jsx("button",{type:"button",onClick:()=>v(!u),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:u?"Cancel":"Edit"})]}),u?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",autoComplete:"given-name",value:t.first_name,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",autoComplete:"family-name",value:t.last_name,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",value:t.email,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone number"}),e.jsx("input",{type:"text",name:"phone",id:"phone",autoComplete:"tel",value:t.phone,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street address"}),e.jsx("input",{type:"text",name:"address",id:"address",autoComplete:"street-address",value:t.address,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-6 lg:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",autoComplete:"address-level2",value:t.city,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("input",{type:"text",name:"state",id:"state",autoComplete:"address-level1",value:t.state,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[e.jsx("label",{htmlFor:"zip_code",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal code"}),e.jsx("input",{type:"text",name:"zip_code",id:"zip_code",autoComplete:"postal-code",value:t.zip_code,onChange:D,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"bio",name:"bio",rows:3,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:"A brief description about yourself",value:t.bio,onChange:D})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description about yourself and your home improvement interests."})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:l,children:l?"Saving...":"Save"})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[t.first_name," ",t.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone number"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.phone})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[t.address,", ",t.city,", ",t.state," ",t.zip_code]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.bio})]})]})})]})]}),j==="properties"&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Properties"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Add Property"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[f.map(F=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:F.image_url,alt:F.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:F.name}),F.is_primary&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Primary Residence"})]}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:F.address}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:F.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Year Built:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:F.year_built})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Size:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[F.square_feet," sq ft"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Bed/Bath:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[F.bedrooms,"/",F.bathrooms]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx("button",{type:"button",className:"font-medium text-primary-600 hover:text-primary-500",children:"Edit property"})})})]},F.id)),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 flex flex-col items-center justify-center text-center h-full",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Add a property"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add details about your home or other properties."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Add Property"})})]})})]})]}),j==="preferences"&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how you receive updates and notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"project_updates",name:"project_updates",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"project_updates",className:"font-medium text-gray-700",children:"Project updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive email notifications about your project status changes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"provider_messages",name:"provider_messages",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"provider_messages",className:"font-medium text-gray-700",children:"Provider messages"}),e.jsx("p",{className:"text-gray-500",children:"Get notified when providers send you messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"estimate_requests",name:"estimate_requests",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"estimate_requests",className:"font-medium text-gray-700",children:"Estimate requests"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications about estimate request updates."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing_emails",name:"marketing_emails",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing_emails",className:"font-medium text-gray-700",children:"Marketing emails"}),e.jsx("p",{className:"text-gray-500",children:"Receive promotional content and special offers."})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_project_updates",name:"sms_project_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_project_updates",className:"font-medium text-gray-700",children:"Project updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive text messages about your project status changes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_provider_messages",name:"sms_provider_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_provider_messages",className:"font-medium text-gray-700",children:"Provider messages"}),e.jsx("p",{className:"text-gray-500",children:"Get text notifications when providers send you messages."})]})]})]})]}),e.jsx("div",{className:"pt-5",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save"})]})})]})})]}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your privacy and data sharing preferences."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Data Sharing"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_with_providers",name:"share_with_providers",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_with_providers",className:"font-medium text-gray-700",children:"Share with service providers"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to see your contact information and project details."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_in_community",name:"share_in_community",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_in_community",className:"font-medium text-gray-700",children:"Share in community"}),e.jsx("p",{className:"text-gray-500",children:"Allow your projects to be featured in the community inspiration hub."})]})]})]})]}),e.jsx("div",{className:"pt-5",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save"})]})})]})})]})]})]})})},dl=()=>{const[a,s]=y.useState([{id:1,title:"Kitchen Renovation",description:"Complete kitchen remodel with new cabinets, countertops, and appliances",status:"in-progress",budget:"$15,000",startDate:"2023-10-15",endDate:"2023-12-20",progress:65,providers:[{id:101,name:"Elite Cabinets",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:102,name:"Modern Plumbing",avatar:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=100"}]},{id:2,title:"Bathroom Remodel",description:"Master bathroom renovation with new shower, vanity, and flooring",status:"planning",budget:"$8,500",startDate:"2024-01-10",endDate:"2024-02-15",progress:15,providers:[{id:103,name:"Luxury Baths",avatar:"https://images.pexels.com/photos/2379006/pexels-photo-2379006.jpeg?auto=compress&cs=tinysrgb&w=100"}]},{id:3,title:"Deck Construction",description:"New backyard deck with composite decking and railing",status:"completed",budget:"$7,200",startDate:"2023-05-01",endDate:"2023-06-15",progress:100,providers:[{id:104,name:"Outdoor Living Pros",avatar:"https://images.pexels.com/photos/2379007/pexels-photo-2379007.jpeg?auto=compress&cs=tinysrgb&w=100"}]}]),t=r=>{switch(r){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"on-hold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Projects"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:"Create New Project"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"})}),e.jsxs("div",{className:"p-4 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"on-hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"last-3-months",children:"Last 3 Months"}),e.jsx("option",{value:"last-6-months",children:"Last 6 Months"}),e.jsx("option",{value:"this-year",children:"This Year"})]})]}),e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Budgets"}),e.jsx("option",{value:"under-5000",children:"Under $5,000"}),e.jsx("option",{value:"5000-10000",children:"$5,000 - $10,000"}),e.jsx("option",{value:"10000-25000",children:"$10,000 - $25,000"}),e.jsx("option",{value:"over-25000",children:"Over $25,000"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:a.map(r=>e.jsx("li",{className:"hover:bg-gray-50",children:e.jsx(C,{to:`/homeowner/projects/${r.id}`,className:"block",children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-lg font-medium text-blue-600 truncate",children:r.title}),e.jsx("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:"text-sm text-gray-500",children:r.budget})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:r.description})}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsxs("p",{children:[r.startDate," to ",r.endDate]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"relative pt-1",children:[e.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[e.jsx("div",{children:e.jsx("span",{className:"text-xs font-semibold inline-block text-blue-600",children:"Progress"})}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[r.progress,"%"]})})]}),e.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:e.jsx("div",{style:{width:`${r.progress}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-600"})})]})}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:r.providers.map(i=>e.jsx("img",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white",src:i.avatar,alt:i.name},i.id))}),e.jsx("div",{className:"ml-2 text-sm text-gray-500",children:r.providers.length===1?"1 provider assigned":`${r.providers.length} providers assigned`})]})]})})},r.id))})})]})},ml=()=>{const[a,s]=y.useState(""),[t,r]=y.useState(""),[i,n]=y.useState(""),[l,o]=y.useState([{id:1,name:"Elite Cabinets & Countertops",category:"Kitchen Remodeling",rating:4.8,reviews:124,description:"Specializing in custom cabinets and premium countertop installation with over 15 years of experience.",image:"https://images.pexels.com/photos/1669799/pexels-photo-1669799.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"3.2 miles",verified:!0,favorite:!0},{id:2,name:"Modern Plumbing Solutions",category:"Plumbing",rating:4.6,reviews:89,description:"Licensed plumbers providing residential and commercial services including repairs, installations, and maintenance.",image:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"5.7 miles",verified:!0,favorite:!1},{id:3,name:"Luxury Baths & Tiles",category:"Bathroom Remodeling",rating:4.9,reviews:156,description:"Transform your bathroom with our premium remodeling services. Specializing in luxury fixtures and custom tile work.",image:"https://images.pexels.com/photos/6585758/pexels-photo-6585758.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Boulder, CO",distance:"12.4 miles",verified:!0,favorite:!0},{id:4,name:"Outdoor Living Pros",category:"Landscaping",rating:4.7,reviews:78,description:"Complete outdoor solutions including decks, patios, landscaping, and garden design for your perfect outdoor space.",image:"https://images.pexels.com/photos/589/garden-grass-meadow-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"4.1 miles",verified:!0,favorite:!1},{id:5,name:"Bright Electric",category:"Electrical",rating:4.5,reviews:62,description:"Licensed electricians providing residential and commercial electrical services with 24/7 emergency support.",image:"https://images.pexels.com/photos/8961438/pexels-photo-8961438.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Lakewood, CO",distance:"7.8 miles",verified:!1,favorite:!1}]),d=["All Categories","Kitchen Remodeling","Bathroom Remodeling","Plumbing","Electrical","Landscaping","Painting","Flooring","Roofing","HVAC"],m=[{value:"",label:"Any Rating"},{value:"4.5",label:"4.5+ Stars"},{value:"4",label:"4+ Stars"},{value:"3.5",label:"3.5+ Stars"},{value:"3",label:"3+ Stars"}],c=u=>{o(l.map(v=>v.id===u?{...v,favorite:!v.favorite}:v))},x=l.filter(u=>{const v=u.name.toLowerCase().includes(a.toLowerCase())||u.description.toLowerCase().includes(a.toLowerCase()),f=t===""||t==="All Categories"||u.category===t,g=i===""||u.rating>=parseFloat(i);return v&&f&&g});return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Service Providers"})}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search providers"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"Search providers by name or service",value:a,onChange:u=>s(u.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("select",{id:"category",name:"category",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:t,onChange:u=>r(u.target.value),children:d.map((u,v)=>e.jsx("option",{value:u,children:u},v))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700",children:"Rating"}),e.jsx("select",{id:"rating",name:"rating",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:i,onChange:u=>n(u.target.value),children:m.map((u,v)=>e.jsx("option",{value:u.value,children:u.label},v))})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:x.map(u=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{className:"w-full h-full object-cover",src:u.image,alt:u.name}),e.jsx("button",{onClick:()=>c(u.id),className:"absolute top-4 right-4 p-1.5 rounded-full bg-white shadow hover:bg-gray-100",children:e.jsx("svg",{className:`h-5 w-5 ${u.favorite?"text-red-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.jsx(C,{to:`/homeowner/providers/${u.id}`,className:"hover:text-blue-600",children:u.name})}),e.jsx("p",{className:"text-sm text-gray-500",children:u.category})]}),u.verified&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-green-400",fill:"currentColor",viewBox:"0 0 8 8",children:e.jsx("circle",{cx:"4",cy:"4",r:"3"})}),"Verified"]})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,f)=>e.jsx("svg",{className:`h-5 w-5 ${f<Math.floor(u.rating)?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},f))}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[u.rating," (",u.reviews," reviews)"]})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:u.description}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsxs("p",{children:[u.location," • ",u.distance]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(C,{to:`/homeowner/providers/${u.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"}),e.jsx("button",{className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact"})]})]})]},u.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No providers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})},hl=()=>{const[a,s]=y.useState(1),[t,r]=y.useState(""),i=[{id:1,provider:{id:101,name:"Elite Cabinets",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100",online:!0},unread:2,lastMessage:{text:"I can come by tomorrow at 2pm to measure your kitchen cabinets.",time:"10:42 AM",isRead:!1},messages:[{id:1,sender:"provider",text:"Hello! Thanks for reaching out about your kitchen renovation project.",time:"Yesterday, 4:30 PM",isRead:!0},{id:2,sender:"user",text:"Hi there! I'm interested in getting new cabinets installed. Do you have availability in the next couple of weeks?",time:"Yesterday, 5:15 PM",isRead:!0},{id:3,sender:"provider",text:"Yes, we do have some openings. I'd need to come by and take measurements first. Would you be available for an in-home consultation?",time:"Yesterday, 5:45 PM",isRead:!0},{id:4,sender:"user",text:"That sounds great. When would you be able to come by?",time:"Today, 9:30 AM",isRead:!0},{id:5,sender:"provider",text:"I can come by tomorrow at 2pm to measure your kitchen cabinets.",time:"10:42 AM",isRead:!1}]},{id:2,provider:{id:102,name:"Modern Plumbing",avatar:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=100",online:!1},unread:0,lastMessage:{text:"The parts have arrived. I can schedule the installation for next Tuesday.",time:"Yesterday",isRead:!0},messages:[{id:1,sender:"user",text:"Hi, I need to replace my bathroom faucet. Do you provide and install new fixtures?",time:"3 days ago, 2:15 PM",isRead:!0},{id:2,sender:"provider",text:"Hello! Yes, we do provide and install bathroom fixtures. Do you have a specific style in mind?",time:"3 days ago, 3:30 PM",isRead:!0},{id:3,sender:"user",text:"I'm looking for something modern with a brushed nickel finish. Do you have any recommendations?",time:"2 days ago, 10:20 AM",isRead:!0},{id:4,sender:"provider",text:"We have several options that would work well. I'll need to order the parts. It should take about 3-5 days to arrive.",time:"2 days ago, 11:45 AM",isRead:!0},{id:5,sender:"provider",text:"The parts have arrived. I can schedule the installation for next Tuesday.",time:"Yesterday, 4:30 PM",isRead:!0}]},{id:3,provider:{id:103,name:"Luxury Baths",avatar:"https://images.pexels.com/photos/6585758/pexels-photo-6585758.jpeg?auto=compress&cs=tinysrgb&w=100",online:!0},unread:0,lastMessage:{text:"I've attached the quote for your bathroom remodel. Let me know if you have any questions!",time:"Monday",isRead:!0},messages:[{id:1,sender:"provider",text:"Hello! I understand you're interested in a bathroom remodel. How can we help?",time:"Monday, 9:15 AM",isRead:!0},{id:2,sender:"user",text:"Yes, I'd like to completely renovate my master bathroom. Can you provide a quote?",time:"Monday, 10:30 AM",isRead:!0},{id:3,sender:"provider",text:"I've attached the quote for your bathroom remodel. Let me know if you have any questions!",time:"Monday, 3:45 PM",isRead:!0}]}],n=o=>{o.preventDefault(),t.trim()!==""&&(console.log("Sending message:",t),r(""))},l=i.find(o=>o.id===a);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Messages"}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("div",{className:"flex h-[calc(100vh-250px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search messages",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("div",{className:"absolute left-3 top-2.5",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})}),e.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(o=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${a===o.id?"bg-blue-50":""}`,onClick:()=>s(o.id),children:e.jsxs("div",{className:"relative px-4 py-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:o.provider.avatar,alt:o.provider.name}),o.provider.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-white"})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.provider.name}),e.jsx("p",{className:"text-xs text-gray-500",children:o.lastMessage.time})]}),e.jsx("p",{className:`text-sm ${o.unread>0?"font-semibold text-gray-900":"text-gray-500"} line-clamp-1`,children:o.lastMessage.text})]})]}),o.unread>0&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-xs font-medium text-white",children:o.unread})})]})},o.id))})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:l.provider.avatar,alt:l.provider.name}),l.provider.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-white"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.provider.name}),e.jsx("p",{className:"text-xs text-gray-500",children:l.provider.online?"Online":"Offline"})]}),e.jsxs("div",{className:"ml-auto flex space-x-2",children:[e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:l.messages.map(o=>e.jsx("div",{className:`flex ${o.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${o.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[e.jsx("p",{className:"text-sm",children:o.text}),e.jsx("p",{className:`text-xs mt-1 ${o.sender==="user"?"text-blue-200":"text-gray-500"}`,children:o.time})]})},o.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:n,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})})}),e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",placeholder:"Type a message",className:"flex-1 mx-4 p-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:o=>r(o.target.value)}),e.jsx("button",{type:"submit",className:"p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation to start messaging."})]})})})]})})]})},ul=()=>{const[a,s]=y.useState("account"),[t,r]=y.useState({email:"johndoe@example.com",firstName:"John",lastName:"Doe",phone:"(555) 123-4567",address:"123 Main St",city:"Denver",state:"CO",zipCode:"80202",notifyEmail:!0,notifySMS:!1,notifyPush:!0,twoFactorEnabled:!1,language:"english",theme:"light",currency:"usd"}),i=o=>{const{name:d,value:m,type:c,checked:x}=o.target;r({...t,[d]:c==="checkbox"?x:m})},n=o=>{o.preventDefault(),console.log("Saving settings:",t),alert("Settings saved successfully!")},l=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&console.log("Deleting account")};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"sm:hidden",children:[e.jsx("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),e.jsxs("select",{id:"tabs",name:"tabs",className:"block w-full focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md",value:a,onChange:o=>s(o.target.value),children:[e.jsx("option",{value:"account",children:"Account"}),e.jsx("option",{value:"notifications",children:"Notifications"}),e.jsx("option",{value:"security",children:"Security & Privacy"}),e.jsx("option",{value:"preferences",children:"Preferences"}),e.jsx("option",{value:"billing",children:"Billing"})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>s("account"),className:`${a==="account"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Account"}),e.jsx("button",{onClick:()=>s("notifications"),className:`${a==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Notifications"}),e.jsx("button",{onClick:()=>s("security"),className:`${a==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Security & Privacy"}),e.jsx("button",{onClick:()=>s("preferences"),className:`${a==="preferences"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Preferences"}),e.jsx("button",{onClick:()=>s("billing"),className:`${a==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Billing"})]})})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[a==="account"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your account information and contact details."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"firstName",id:"firstName",autoComplete:"given-name",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.firstName,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"lastName",id:"lastName",autoComplete:"family-name",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.lastName,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.email,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"phone",id:"phone",autoComplete:"tel",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.phone,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"address",id:"address",autoComplete:"street-address",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.address,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"city",id:"city",autoComplete:"address-level2",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.city,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"state",id:"state",autoComplete:"address-level1",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.state,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"zipCode",id:"zipCode",autoComplete:"postal-code",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.zipCode,onChange:i})})]})]})]}),e.jsx("div",{className:"pt-6 sm:pt-8",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="notifications"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Decide how you want to be notified about activity."})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"By Email"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifyEmail",name:"notifyEmail",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifyEmail,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifyEmail",className:"font-medium text-gray-700",children:"Email notifications"}),e.jsx("p",{className:"text-gray-500",children:"Get notified about project updates, messages, and important announcements via email."})]})]})})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"By SMS"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifySMS",name:"notifySMS",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifySMS,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifySMS",className:"font-medium text-gray-700",children:"SMS notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive text messages for urgent updates and appointment reminders."})]})]})})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Push Notifications"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifyPush",name:"notifyPush",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifyPush,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifyPush",className:"font-medium text-gray-700",children:"Push notifications"}),e.jsx("p",{className:"text-gray-500",children:"Get real-time notifications on your device when using our mobile app."})]})]})})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Security and Privacy"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account security and privacy settings."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Change password"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Update your password to keep your account secure."})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Change password"})})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Two-factor authentication"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Add an extra layer of security to your account by enabling two-factor authentication."})}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"twoFactorEnabled",name:"twoFactorEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.twoFactorEnabled,onChange:i}),e.jsx("label",{htmlFor:"twoFactorEnabled",className:"ml-2 block text-sm text-gray-900",children:"Enable two-factor authentication"})]})})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete account"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone."})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete account"})})]})})]}),a==="preferences"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Preferences"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your experience on our platform."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700",children:"Language"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"language",name:"language",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.language,onChange:i,children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"spanish",children:"Spanish"}),e.jsx("option",{value:"french",children:"French"}),e.jsx("option",{value:"german",children:"German"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700",children:"Theme"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"theme",name:"theme",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.theme,onChange:i,children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"system",children:"System Default"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"currency",name:"currency",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.currency,onChange:i,children:[e.jsx("option",{value:"usd",children:"USD ($)"}),e.jsx("option",{value:"eur",children:"EUR (€)"}),e.jsx("option",{value:"gbp",children:"GBP (£)"}),e.jsx("option",{value:"cad",children:"CAD ($)"})]})})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Billing Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your payment methods and billing history."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Payment Methods"}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-8 w-8 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M4 4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4ZM20 6V18H4V6H20Z"}),e.jsx("path",{d:"M4 14H20V16H4V14Z"})]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Visa ending in 4242"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Expires 12/2024"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Remove"})]})]})}),e.jsx("button",{type:"button",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add payment method"})]})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Billing History"}),e.jsx("div",{className:"mt-5",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"View"})})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"May 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"April 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"March 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]})]})]})})})})})})]})})]})]})]})]})},xl=()=>{const{user:a,supabase:s}=K(),[t,r]=y.useState({totalUsers:0,totalProviders:0,totalHomeowners:0,activeProjects:0,pendingVerifications:0}),[i,n]=y.useState([]),[l,o]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(a)try{o(!0),await new Promise(m=>setTimeout(m,1e3)),r({totalUsers:156,totalProviders:48,totalHomeowners:108,activeProjects:72,pendingVerifications:5}),n([{id:1,email:"john.smith@example.com",role:"homeowner",joinDate:"2023-11-28",status:"active"},{id:2,email:"elite.plumbing@example.com",role:"provider",joinDate:"2023-11-27",status:"active"},{id:3,email:"sarah.jones@example.com",role:"homeowner",joinDate:"2023-11-26",status:"active"},{id:4,email:"ace.electrical@example.com",role:"provider",joinDate:"2023-11-25",status:"pending"},{id:5,email:"mike.brown@example.com",role:"homeowner",joinDate:"2023-11-24",status:"active"}])}catch(m){console.error("Error fetching dashboard data:",m)}finally{o(!1)}})()},[a]),l?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Dashboard"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.totalUsers})})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Providers"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.totalProviders})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Homeowners"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.totalHomeowners})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Projects"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.activeProjects})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Verifications"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.pendingVerifications})})]})})]})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Users"}),e.jsx("div",{className:"mt-4 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Edit"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(d=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:d.email.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.email})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:d.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(d.joinDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-900",children:"View"})})]},d.id))})]})})})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Provider Verifications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review and approve pending provider verification requests."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Review Verifications"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Content Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage community content, featured projects, and announcements."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Manage Content"})})]})]})})})]})]})]})},fl=()=>{const{user:a,supabase:s}=K(),[t,r]=y.useState([]),[i,n]=y.useState(!0),[l,o]=y.useState(""),[d,m]=y.useState("all"),[c,x]=y.useState("all");y.useEffect(()=>{(async()=>{if(a)try{n(!0),await new Promise(j=>setTimeout(j,1e3)),r([{id:"1",email:"john.smith@example.com",firstName:"John",lastName:"Smith",role:"homeowner",status:"active",createdAt:"2023-11-15T10:30:00Z",lastLogin:"2023-11-28T14:22:00Z"},{id:"2",email:"elite.plumbing@example.com",firstName:"Mike",lastName:"Johnson",role:"provider",status:"active",createdAt:"2023-11-10T08:15:00Z",lastLogin:"2023-11-27T16:45:00Z"},{id:"3",email:"sarah.jones@example.com",firstName:"Sarah",lastName:"Jones",role:"homeowner",status:"active",createdAt:"2023-11-05T14:20:00Z",lastLogin:"2023-11-26T09:10:00Z"},{id:"4",email:"ace.electrical@example.com",firstName:"David",lastName:"Williams",role:"provider",status:"pending",createdAt:"2023-11-01T11:45:00Z",lastLogin:"2023-11-25T13:30:00Z"},{id:"5",email:"mike.brown@example.com",firstName:"Mike",lastName:"Brown",role:"homeowner",status:"active",createdAt:"2023-10-28T09:00:00Z",lastLogin:"2023-11-24T10:15:00Z"},{id:"6",email:"quality.landscaping@example.com",firstName:"Robert",lastName:"Davis",role:"provider",status:"active",createdAt:"2023-10-25T15:30:00Z",lastLogin:"2023-11-23T11:20:00Z"},{id:"7",email:"emma.wilson@example.com",firstName:"Emma",lastName:"Wilson",role:"homeowner",status:"inactive",createdAt:"2023-10-20T13:10:00Z",lastLogin:"2023-11-10T08:45:00Z"},{id:"8",email:"admin@homeservicehub.com",firstName:"Admin",lastName:"User",role:"admin",status:"active",createdAt:"2023-10-01T09:00:00Z",lastLogin:"2023-11-28T09:30:00Z"}])}catch(g){console.error("Error fetching users:",g)}finally{n(!1)}})()},[a]);const u=t.filter(f=>{const g=f.email.toLowerCase().includes(l.toLowerCase())||`${f.firstName} ${f.lastName}`.toLowerCase().includes(l.toLowerCase()),j=d==="all"||f.role===d,_=c==="all"||f.status===c;return g&&j&&_}),v=(f,g)=>{console.log(`Performing ${g} on user ${f}`),(g==="activate"||g==="deactivate")&&r(t.map(j=>j.id===f?{...j,status:g==="activate"?"active":"inactive"}:j))};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Management"}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add User"]})})]}),e.jsx("div",{className:"mt-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"max-w-lg w-full lg:max-w-xs",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{id:"search",name:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search by name or email",type:"search",value:l,onChange:f=>o(f.target.value)})]})]})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role-filter",className:"sr-only",children:"Filter by role"}),e.jsxs("select",{id:"role-filter",name:"role-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:d,onChange:f=>m(f.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"sr-only",children:"Filter by status"}),e.jsxs("select",{id:"status-filter",name:"status-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:c,onChange:f=>x(f.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(f=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:[f.firstName.charAt(0),f.lastName.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.firstName," ",f.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:f.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:f.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.status==="active"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.lastLogin).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",onClick:()=>console.log("View user",f.id),children:"View"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>console.log("Edit user",f.id),children:"Edit"}),f.status==="active"?e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>v(f.id,"deactivate"),children:"Deactivate"}):e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>v(f.id,"activate"),children:"Activate"})]})})]},f.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found matching your criteria"})})})]})})})})})]})},pl=()=>{const{user:a,supabase:s}=K(),[t,r]=y.useState([]),[i,n]=y.useState(!0),[l,o]=y.useState(""),[d,m]=y.useState("all"),[c,x]=y.useState("all");y.useEffect(()=>{(async()=>{if(a)try{n(!0),await new Promise(j=>setTimeout(j,1e3)),r([{id:"1",businessName:"Elite Plumbing Services",ownerName:"Mike Johnson",email:"elite.plumbing@example.com",phone:"(555) 123-4567",category:"plumbing",verificationStatus:"verified",rating:4.8,completedJobs:124,joinDate:"2023-06-15"},{id:"2",businessName:"Ace Electrical Contractors",ownerName:"David Williams",email:"ace.electrical@example.com",phone:"(555) 234-5678",category:"electrical",verificationStatus:"pending",rating:4.5,completedJobs:87,joinDate:"2023-08-22"},{id:"3",businessName:"Quality Landscaping",ownerName:"Robert Davis",email:"quality.landscaping@example.com",phone:"(555) 345-6789",category:"landscaping",verificationStatus:"verified",rating:4.9,completedJobs:156,joinDate:"2023-04-10"},{id:"4",businessName:"Precision HVAC Solutions",ownerName:"Thomas Anderson",email:"precision.hvac@example.com",phone:"(555) 456-7890",category:"hvac",verificationStatus:"verified",rating:4.7,completedJobs:98,joinDate:"2023-07-05"},{id:"5",businessName:"Superior Painting Co.",ownerName:"Jennifer Martinez",email:"superior.painting@example.com",phone:"(555) 567-8901",category:"painting",verificationStatus:"pending",rating:4.6,completedJobs:72,joinDate:"2023-09-18"},{id:"6",businessName:"Reliable Roofing",ownerName:"James Wilson",email:"reliable.roofing@example.com",phone:"(555) 678-9012",category:"roofing",verificationStatus:"verified",rating:4.8,completedJobs:112,joinDate:"2023-05-30"},{id:"7",businessName:"Modern Kitchen & Bath",ownerName:"Lisa Thompson",email:"modern.kitchen@example.com",phone:"(555) 789-0123",category:"remodeling",verificationStatus:"rejected",rating:4.2,completedJobs:45,joinDate:"2023-10-12"}])}catch(g){console.error("Error fetching providers:",g)}finally{n(!1)}})()},[a]);const u=t.filter(f=>{const g=f.businessName.toLowerCase().includes(l.toLowerCase())||f.ownerName.toLowerCase().includes(l.toLowerCase())||f.email.toLowerCase().includes(l.toLowerCase()),j=d==="all"||f.category===d,_=c==="all"||f.verificationStatus===c;return g&&j&&_}),v=(f,g)=>{console.log(`Performing ${g} on provider ${f}`),r(t.map(j=>j.id===f?{...j,verificationStatus:g==="verify"?"verified":g==="reject"?"rejected":"pending"}:j))};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsx("div",{className:"sm:flex sm:items-center sm:justify-between",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Service Provider Management"})}),e.jsx("div",{className:"mt-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"max-w-lg w-full lg:max-w-xs",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{id:"search",name:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search by business name or owner",type:"search",value:l,onChange:f=>o(f.target.value)})]})]})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-filter",className:"sr-only",children:"Filter by category"}),e.jsxs("select",{id:"category-filter",name:"category-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:d,onChange:f=>m(f.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"plumbing",children:"Plumbing"}),e.jsx("option",{value:"electrical",children:"Electrical"}),e.jsx("option",{value:"hvac",children:"HVAC"}),e.jsx("option",{value:"landscaping",children:"Landscaping"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"roofing",children:"Roofing"}),e.jsx("option",{value:"remodeling",children:"Remodeling"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"verification-filter",className:"sr-only",children:"Filter by verification"}),e.jsxs("select",{id:"verification-filter",name:"verification-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:c,onChange:f=>x(f.target.value),children:[e.jsx("option",{value:"all",children:"All Verification Statuses"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verification"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(f=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:f.businessName.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.businessName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[f.ownerName," • ",f.email]}),e.jsx("div",{className:"text-sm text-gray-500",children:f.phone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:f.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.verificationStatus==="verified"?"bg-green-100 text-green-800":f.verificationStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.verificationStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm text-gray-900",children:f.rating}),e.jsx("svg",{className:"w-4 h-4 text-yellow-400 ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.completedJobs}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.joinDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",onClick:()=>console.log("View provider",f.id),children:"View"}),f.verificationStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>v(f.id,"verify"),children:"Verify"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>v(f.id,"reject"),children:"Reject"})]}),f.verificationStatus==="verified"&&e.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",onClick:()=>v(f.id,"revoke"),children:"Revoke"}),f.verificationStatus==="rejected"&&e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>v(f.id,"reconsider"),children:"Reconsider"})]})})]},f.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No providers found matching your criteria"})})})]})})})})})]})};Wr.register(Jr,Gr,Kr,Zr,Yr,Qr,Xr,ea,sa);const gl=()=>{const{user:a,supabase:s}=K(),[t,r]=y.useState(!0),[i,n]=y.useState("month"),[l,o]=y.useState("users"),[d,m]=y.useState({labels:[],datasets:[]}),[c,x]=y.useState({labels:[],datasets:[]}),[u,v]=y.useState({labels:[],datasets:[]}),[f,g]=y.useState({labels:[],datasets:[]});y.useEffect(()=>{(async()=>{if(a)try{r(!0),await new Promise(w=>setTimeout(w,1e3)),j(i,l)}catch(w){console.error("Error fetching report data:",w)}finally{r(!1)}})()},[a,i,l]);const j=(_,w)=>{let O=[];_==="week"?O=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:_==="month"?O=["Week 1","Week 2","Week 3","Week 4"]:_==="year"&&(O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),m({labels:O,datasets:[{label:"New Users",data:O.map(()=>Math.floor(Math.random()*50)+10),backgroundColor:"rgba(51, 97, 225, 0.5)"},{label:"Active Users",data:O.map(()=>Math.floor(Math.random()*100)+50),backgroundColor:"rgba(53, 162, 235, 0.5)"}]}),x({labels:O,datasets:[{label:"New Projects",data:O.map(()=>Math.floor(Math.random()*30)+5),backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Completed Projects",data:O.map(()=>Math.floor(Math.random()*25)+5),backgroundColor:"rgba(75, 192, 192, 0.5)"}]}),v({labels:["Plumbing","Electrical","HVAC","Landscaping","Painting","Roofing","Remodeling"],datasets:[{label:"Projects by Category",data:[12,19,15,8,22,14,17],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(199, 199, 199, 0.5)"],borderWidth:1}]}),g({labels:O,datasets:[{label:"Platform Revenue",data:O.map(()=>Math.floor(Math.random()*5e3)+1e3),borderColor:"rgb(51, 97, 225)",backgroundColor:"rgba(51, 97, 225, 0.5)",tension:.3}]})};return t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics & Reports"}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"report-period",className:"sr-only",children:"Report Period"}),e.jsxs("select",{id:"report-period",name:"report-period",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:i,onChange:_=>n(_.target.value),children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"year",children:"This Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"report-type",className:"sr-only",children:"Report Type"}),e.jsxs("select",{id:"report-type",name:"report-type",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:l,onChange:_=>o(_.target.value),children:[e.jsx("option",{value:"users",children:"User Growth"}),e.jsx("option",{value:"projects",children:"Project Activity"}),e.jsx("option",{value:"revenue",children:"Revenue"})]})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"156"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"12% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Projects"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"72"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"8% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Platform Revenue"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"$24,325"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"15% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsxs("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversion Rate"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"24.8%"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"3% decrease"})]})})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"User Growth"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(gt,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}}}})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Activity"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(gt,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}}}})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Categories"}),e.jsx("div",{className:"mt-4 h-80 flex items-center justify-center",children:e.jsx("div",{style:{width:"70%",height:"100%"},children:e.jsx(ta,{data:u,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!1}}}})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Revenue Trends"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(ra,{data:f,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(_){return"$"+_}}}}}})})]})})]}),e.jsx("div",{className:"mt-8 bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Export Reports"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Download detailed reports for your records or further analysis."})}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV Report"]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF Report"]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Excel Report"]})})]})]})})]})},yl=()=>{K();const[a,s]=y.useState("general"),[t,r]=y.useState({siteName:"Home Service Hub",siteDescription:"Connecting homeowners with trusted service providers",contactEmail:"admin@homeservicehub.com",supportPhone:"(555) 123-4567",maintenanceMode:!1}),[i,n]=y.useState({emailProvider:"sendgrid",fromEmail:"noreply@homeservicehub.com",replyToEmail:"support@homeservicehub.com",emailFooter:"Home Service Hub - Connecting homeowners with trusted service providers",enableEmailNotifications:!0}),[l,o]=y.useState({enableStripe:!0,enableTwilio:!0,enableGoogleMaps:!0,enableZoom:!1}),[d,m]=y.useState({requireEmailVerification:!0,twoFactorAuth:!1,passwordMinLength:8,passwordRequireSpecialChar:!0,sessionTimeout:60}),c=g=>{const{name:j,value:_,type:w,checked:O}=g.target;r({...t,[j]:w==="checkbox"?O:_})},x=g=>{const{name:j,value:_,type:w,checked:O}=g.target;n({...i,[j]:w==="checkbox"?O:_})},u=g=>{const{name:j,checked:_}=g.target;o({...l,[j]:_})},v=g=>{const{name:j,value:_,type:w,checked:O}=g.target;m({...d,[j]:w==="checkbox"?O:w==="number"?parseInt(_,10):_})},f=g=>{console.log(`Saving ${g} settings`),alert(`${g.charAt(0).toUpperCase()+g.slice(1)} settings saved successfully!`)};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Settings"}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>s("general"),className:`${a==="general"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"General"}),e.jsx("button",{onClick:()=>s("email"),className:`${a==="email"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Email"}),e.jsx("button",{onClick:()=>s("integrations"),className:`${a==="integrations"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Integrations"}),e.jsx("button",{onClick:()=>s("security"),className:`${a==="security"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Security"})]})}),e.jsxs("div",{className:"mt-6",children:[a==="general"&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"General Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Basic settings for your platform."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-700",children:"Site Name"}),e.jsx("input",{type:"text",name:"siteName",id:"siteName",value:t.siteName,onChange:c,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"siteDescription",className:"block text-sm font-medium text-gray-700",children:"Site Description"}),e.jsx("textarea",{name:"siteDescription",id:"siteDescription",rows:3,value:t.siteDescription,onChange:c,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contactEmail",id:"contactEmail",value:t.contactEmail,onChange:c,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"supportPhone",className:"block text-sm font-medium text-gray-700",children:"Support Phone"}),e.jsx("input",{type:"text",name:"supportPhone",id:"supportPhone",value:t.supportPhone,onChange:c,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"maintenanceMode",name:"maintenanceMode",type:"checkbox",checked:t.maintenanceMode,onChange:c,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"maintenanceMode",className:"font-medium text-gray-700",children:"Maintenance Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, the site will display a maintenance message to all non-admin users."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>f("general"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Settings"})})]})})]})}),a==="email"&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Email Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure email notifications and templates."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"emailProvider",className:"block text-sm font-medium text-gray-700",children:"Email Provider"}),e.jsxs("select",{id:"emailProvider",name:"emailProvider",value:i.emailProvider,onChange:x,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"mailchimp",children:"Mailchimp"}),e.jsx("option",{value:"ses",children:"Amazon SES"}),e.jsx("option",{value:"smtp",children:"Custom SMTP"})]})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"fromEmail",className:"block text-sm font-medium text-gray-700",children:"From Email"}),e.jsx("input",{type:"email",name:"fromEmail",id:"fromEmail",value:i.fromEmail,onChange:x,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"replyToEmail",className:"block text-sm font-medium text-gray-700",children:"Reply-To Email"}),e.jsx("input",{type:"email",name:"replyToEmail",id:"replyToEmail",value:i.replyToEmail,onChange:x,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"emailFooter",className:"block text-sm font-medium text-gray-700",children:"Email Footer Text"}),e.jsx("textarea",{name:"emailFooter",id:"emailFooter",rows:2,value:i.emailFooter,onChange:x,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableEmailNotifications",name:"enableEmailNotifications",type:"checkbox",checked:i.enableEmailNotifications,onChange:x,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableEmailNotifications",className:"font-medium text-gray-700",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Send automated email notifications for various system events."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>f("email"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Settings"})})]})})]})}),a==="integrations"&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Integration Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage third-party service integrations."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableStripe",name:"enableStripe",type:"checkbox",checked:l.enableStripe,onChange:u,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableStripe",className:"font-medium text-gray-700",children:"Enable Stripe Integration"}),e.jsx("p",{className:"text-gray-500",children:"Process payments and subscriptions through Stripe."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableTwilio",name:"enableTwilio",type:"checkbox",checked:l.enableTwilio,onChange:u,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableTwilio",className:"font-medium text-gray-700",children:"Enable Twilio Integration"}),e.jsx("p",{className:"text-gray-500",children:"Send SMS notifications and enable phone verification."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableGoogleMaps",name:"enableGoogleMaps",type:"checkbox",checked:l.enableGoogleMaps,onChange:u,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableGoogleMaps",className:"font-medium text-gray-700",children:"Enable Google Maps Integration"}),e.jsx("p",{className:"text-gray-500",children:"Display maps and enable location-based features."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableZoom",name:"enableZoom",type:"checkbox",checked:l.enableZoom,onChange:u,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableZoom",className:"font-medium text-gray-700",children:"Enable Zoom Integration"}),e.jsx("p",{className:"text-gray-500",children:"Allow virtual consultations through Zoom."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>f("integration"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Settings"})})]})})]})}),a==="security"&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure security and authentication options."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"requireEmailVerification",name:"requireEmailVerification",type:"checkbox",checked:d.requireEmailVerification,onChange:v,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"requireEmailVerification",className:"font-medium text-gray-700",children:"Require Email Verification"}),e.jsx("p",{className:"text-gray-500",children:"Users must verify their email address before accessing the platform."})]})]})}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"twoFactorAuth",name:"twoFactorAuth",type:"checkbox",checked:d.twoFactorAuth,onChange:v,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"twoFactorAuth",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-500",children:"Require two-factor authentication for admin accounts."})]})]})}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"passwordMinLength",className:"block text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("input",{type:"number",name:"passwordMinLength",id:"passwordMinLength",min:"6",max:"20",value:d.passwordMinLength,onChange:v,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-gray-700",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",name:"sessionTimeout",id:"sessionTimeout",min:"15",max:"1440",value:d.sessionTimeout,onChange:v,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireSpecialChar",name:"passwordRequireSpecialChar",type:"checkbox",checked:d.passwordRequireSpecialChar,onChange:v,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireSpecialChar",className:"font-medium text-gray-700",children:"Require Special Characters in Passwords"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one special character."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>f("security"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Settings"})})]})})]})})]})]})},vl=()=>{const{user:a}=K(),[s,t]=y.useState([]),[r,i]=y.useState([]),[n,l]=y.useState("all"),[o,d]=y.useState(!0);y.useEffect(()=>{(async()=>{try{d(!0),await new Promise(x=>setTimeout(x,1e3)),i([{id:"kitchen",name:"Kitchen"},{id:"bathroom",name:"Bathroom"},{id:"outdoor",name:"Outdoor"},{id:"living",name:"Living Room"},{id:"bedroom",name:"Bedroom"},{id:"basement",name:"Basement"}]),t([{id:1,title:"Modern Kitchen Renovation",description:"Complete kitchen remodel with custom cabinets and quartz countertops.",category:"kitchen",image:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"John Smith",likes:42,comments:12,date:"2023-11-15"},{id:2,title:"Backyard Patio Makeover",description:"Transformed our backyard with a new paver patio, pergola, and fire pit.",category:"outdoor",image:"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Sarah Johnson",likes:38,comments:8,date:"2023-11-10"},{id:3,title:"Spa-Like Bathroom Remodel",description:"Complete bathroom renovation with walk-in shower, freestanding tub, and heated floors.",category:"bathroom",image:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Michael Brown",likes:56,comments:15,date:"2023-11-05"},{id:4,title:"Cozy Living Room Redesign",description:"Updated our living room with new furniture, lighting, and a custom built-in entertainment center.",category:"living",image:"https://images.pexels.com/photos/1571468/pexels-photo-1571468.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Emily Davis",likes:29,comments:7,date:"2023-10-28"},{id:5,title:"Master Bedroom Retreat",description:"Transformed our master bedroom with a new color scheme, furniture, and custom closet system.",category:"bedroom",image:"https://images.pexels.com/photos/1743229/pexels-photo-1743229.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Robert Wilson",likes:34,comments:9,date:"2023-10-20"},{id:6,title:"Basement Home Theater",description:"Converted our unfinished basement into a home theater with custom seating and sound system.",category:"basement",image:"https://images.pexels.com/photos/1457842/pexels-photo-1457842.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Jennifer Lee",likes:47,comments:14,date:"2023-10-15"}])}catch(x){console.error("Error fetching community data:",x)}finally{d(!1)}})()},[]);const m=n==="all"?s:s.filter(c=>c.category===n);return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Community Inspiration Hub"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Discover amazing home improvement projects shared by our community."})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:[e.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${n==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Projects"}),r.map(c=>e.jsx("button",{onClick:()=>l(c.id),className:`px-4 py-2 rounded-full text-sm font-medium ${n===c.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:c.name},c.id))]}),e.jsx("div",{className:"mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:m.map(c=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.jsx(C,{to:`/community/project/${c.id}`,className:"hover:text-primary-600",children:c.title})}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.description}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:c.author.charAt(0)})}),e.jsxs("div",{className:"ml-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.author}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-red-500 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),c.likes]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-400 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),c.comments]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(C,{to:`/community/project/${c.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View project details"})})})]},c.id))}),e.jsx("div",{className:"mt-12 bg-primary-50 rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Share your own project"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Inspire others by sharing your home improvement journey with the community."})})]}),e.jsx("div",{className:"mt-5 sm:mt-0 sm:ml-6 sm:flex-shrink-0",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm",children:a?"Share a Project":"Sign in to Share"})})]})})})]})})},bl=()=>{const{id:a}=zr(),{user:s}=K(),[t,r]=y.useState(null),[i,n]=y.useState([]),[l,o]=y.useState(!0),[d,m]=y.useState(""),[c,x]=y.useState(!1),[u,v]=y.useState(!1);y.useEffect(()=>{(async()=>{try{o(!0),await new Promise(w=>setTimeout(w,1e3)),r({id:parseInt(a),title:"Modern Kitchen Renovation",description:"Complete kitchen remodel with custom cabinets and quartz countertops.",longDescription:`
            Our kitchen was outdated and inefficient, so we decided to completely renovate it. We worked with a local contractor to design a modern, functional space that would be perfect for cooking and entertaining.
            
            The renovation included:
            - Custom maple cabinets with soft-close drawers
            - Quartz countertops in a marble-look finish
            - New stainless steel appliances
            - Porcelain tile flooring
            - Under-cabinet lighting
            - New plumbing fixtures
            
            The project took about 8 weeks to complete and cost approximately $35,000. We're thrilled with the results and have received many compliments from friends and family.
          `,category:"kitchen",images:["https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"],author:"John Smith",authorImage:null,likes:42,comments:12,date:"2023-11-15",duration:"8 weeks",cost:"$35,000",provider:"ABC Contractors",materials:["Maple cabinets","Quartz countertops","Stainless steel appliances","Porcelain tile flooring","LED lighting"],steps:[{title:"Planning and Design",description:"Worked with a kitchen designer to create the layout and select materials."},{title:"Demolition",description:"Removed all existing cabinets, countertops, flooring, and appliances."},{title:"Plumbing and Electrical",description:"Updated plumbing and electrical to accommodate the new layout."},{title:"Cabinets and Countertops",description:"Installed custom cabinets and quartz countertops."},{title:"Flooring",description:"Installed new porcelain tile flooring."},{title:"Appliances and Fixtures",description:"Installed new appliances, sink, and faucet."},{title:"Finishing Touches",description:"Added backsplash, lighting, and hardware."}]}),n([{id:1,author:"Sarah Johnson",authorImage:null,text:"This looks amazing! I love the quartz countertops. Did you consider any other materials?",date:"2023-11-16",likes:5},{id:2,author:"Michael Brown",authorImage:null,text:"Great job! How did you find your contractor? I'm looking to do a similar renovation.",date:"2023-11-17",likes:3},{id:3,author:"Emily Davis",authorImage:null,text:"The lighting makes such a difference. Beautiful work!",date:"2023-11-18",likes:2}])}catch(w){console.error("Error fetching project data:",w)}finally{o(!1)}})()},[a]);const f=_=>{var O;if(_.preventDefault(),!d.trim())return;const w={id:i.length+1,author:((O=s==null?void 0:s.email)==null?void 0:O.split("@")[0])||"Anonymous",authorImage:null,text:d,date:new Date().toISOString().split("T")[0],likes:0};n([w,...i]),m("")},g=()=>{x(!c)},j=()=>{v(!u)};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):t?e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-4",children:[e.jsx("li",{children:e.jsx("div",{children:e.jsx(C,{to:"/community",className:"text-gray-400 hover:text-gray-500",children:"Community Hub"})})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),e.jsx("span",{className:"ml-4 text-gray-500","aria-current":"page",children:t.title})]})})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:t.title})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-2",children:[e.jsxs("button",{type:"button",onClick:g,className:`inline-flex items-center px-4 py-2 border ${c?"border-red-300 bg-red-50":"border-gray-300 bg-white"} rounded-md shadow-sm text-sm font-medium ${c?"text-red-700":"text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:[e.jsx("svg",{className:`-ml-1 mr-2 h-5 w-5 ${c?"text-red-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),c?"Liked":"Like"]}),e.jsxs("button",{type:"button",onClick:j,className:`inline-flex items-center px-4 py-2 border ${u?"border-primary-300 bg-primary-50":"border-gray-300 bg-white"} rounded-md shadow-sm text-sm font-medium ${u?"text-primary-700":"text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:[e.jsx("svg",{className:`-ml-1 mr-2 h-5 w-5 ${u?"text-primary-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})}),u?"Saved":"Save"]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:t.author.charAt(0)})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.author}),e.jsxs("div",{className:"flex space-x-1 text-sm text-gray-500",children:[e.jsx("time",{dateTime:t.date,children:new Date(t.date).toLocaleDateString()}),e.jsx("span",{"aria-hidden":"true",children:"·"}),e.jsx("span",{children:t.category.charAt(0).toUpperCase()+t.category.slice(1)})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-96 object-cover rounded-lg shadow-md"})}),t.images.slice(1).map((_,w)=>e.jsx("div",{children:e.jsx("img",{src:_,alt:`${t.title} ${w+2}`,className:"w-full h-64 object-cover rounded-lg shadow-md"})},w))]})}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Description"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.longDescription})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Steps"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:t.steps.map((_,w)=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-full h-8 w-8 flex items-center justify-center text-primary-700 font-medium",children:w+1}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:_.title}),e.jsx("p",{className:"mt-1 text-gray-600",children:_.description})]})]})},w))})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:["Comments (",i.length,")"]})}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[s?e.jsxs("form",{onSubmit:f,className:"mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Comment"}),e.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm block w-full focus:ring-primary-500 focus:border-primary-500 sm:text-sm border border-gray-300 rounded-md",placeholder:"Add a comment...",value:d,onChange:_=>m(_.target.value)})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Post Comment"})})]}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx(C,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})," to leave a comment."]})}),e.jsx("div",{className:"space-y-6",children:i.map(_=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:_.author.charAt(0)})}),e.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg px-4 py-2 sm:px-6 sm:py-4",children:[e.jsxs("div",{className:"sm:flex sm:justify-between sm:items-baseline",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.author})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 sm:mt-0",children:new Date(_.date).toLocaleDateString()})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:_.text})}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center",children:[e.jsxs("button",{className:"flex items-center text-gray-500 hover:text-gray-700",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}),_.likes," likes"]}),e.jsx("span",{className:"mx-2",children:"·"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Reply"})]})]})]},_.id))})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Details"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Duration"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.duration})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cost"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.cost})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Provider"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.provider})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Materials Used"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e.jsx("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:t.materials.map((_,w)=>e.jsx("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:e.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:_})]})},w))})})]})]})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Similar Projects"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"divide-y divide-gray-200",children:[e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Modern Kitchen Design",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(C,{to:"/community/project/2",children:"Modern Kitchen Design"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By Alex Johnson"})]})]})}),e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Kitchen Island Upgrade",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(C,{to:"/community/project/3",children:"Kitchen Island Upgrade"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By Maria Garcia"})]})]})}),e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Budget Kitchen Refresh",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(C,{to:"/community/project/4",children:"Budget Kitchen Refresh"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By David Wilson"})]})]})})]})})]})]})]})]})}):e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Project Not Found"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"The project you're looking for doesn't exist or has been removed."}),e.jsx("div",{className:"mt-6",children:e.jsx(C,{to:"/community",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Community Hub"})})]})})})},jl=()=>e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(jr,{}),e.jsxs("main",{className:"flex-grow",children:[e.jsx("div",{className:"bg-primary-600",children:e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Connect with trusted home service providers"}),e.jsx("p",{className:"mt-6 max-w-lg mx-auto text-xl text-primary-100",children:"Find qualified professionals for your home projects and manage everything in one place."}),e.jsxs("div",{className:"mt-10 flex justify-center",children:[e.jsx("div",{className:"inline-flex rounded-md shadow",children:e.jsx(C,{to:"/register",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50",children:"Get started"})}),e.jsx("div",{className:"ml-3 inline-flex",children:e.jsx(C,{to:"/about",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-700 hover:bg-primary-800",children:"Learn more"})})]})]})})}),e.jsx("div",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Features"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Everything you need for your home projects"}),e.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Our platform makes it easy to find, hire, and manage service providers for all your home improvement needs."})]}),e.jsx("div",{className:"mt-10",children:e.jsxs("div",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsxs("div",{className:"ml-16",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Find Trusted Providers"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Browse verified service providers with ratings and reviews from homeowners in your area."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"ml-16",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Management"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Create and manage projects, track progress, and communicate with providers all in one place."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"ml-16",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Scheduling"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Book appointments and manage your calendar to keep your projects on track."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("div",{className:"ml-16",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Secure Messaging"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Communicate directly with service providers through our secure messaging system."})]})]})]})})]})}),e.jsx("div",{className:"bg-primary-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[e.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block text-primary-600",children:"Create your account today."})]}),e.jsxs("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0",children:[e.jsx("div",{className:"inline-flex rounded-md shadow",children:e.jsx(C,{to:"/register",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"Sign up"})}),e.jsx("div",{className:"ml-3 inline-flex rounded-md shadow",children:e.jsx(C,{to:"/login",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50",children:"Sign in"})})]})]})}),e.jsx("div",{className:"bg-white py-16 sm:py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Testimonials"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"What our users are saying"})]}),e.jsx("div",{className:"mt-10",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-lg",children:"JD"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"John Doe"}),e.jsx("p",{className:"text-gray-500",children:"Homeowner"})]})]}),e.jsx("p",{className:"text-gray-600",children:'"I found a great plumber through ServiceConnect Pro. The whole process was smooth, and I could track the project from start to finish."'}),e.jsx("div",{className:"mt-4 flex",children:[1,2,3,4,5].map(a=>e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-lg",children:"JS"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Jane Smith"}),e.jsx("p",{className:"text-gray-500",children:"Service Provider"})]})]}),e.jsx("p",{className:"text-gray-600",children:'"As an electrician, this platform has helped me find new clients and grow my business. The scheduling tools save me hours every week."'}),e.jsx("div",{className:"mt-4 flex",children:[1,2,3,4,5].map(a=>e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-lg",children:"RJ"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Robert Johnson"}),e.jsx("p",{className:"text-gray-500",children:"Homeowner"})]})]}),e.jsx("p",{className:"text-gray-600",children:`"The community inspiration hub gave me great ideas for my kitchen renovation. I found a contractor through the platform and couldn't be happier."`}),e.jsx("div",{className:"mt-4 flex",children:[1,2,3,4,5].map((a,s)=>e.jsx("svg",{className:`h-5 w-5 ${s<4?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]})]})})]})})]}),e.jsx(wr,{})]}),wl=()=>e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"relative bg-blue-600",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{className:"w-full h-full object-cover",src:"https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"About us"}),e.jsx("div",{className:"absolute inset-0 bg-blue-700 mix-blend-multiply","aria-hidden":"true"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"About Us"}),e.jsx("p",{className:"mt-6 text-xl text-blue-100 max-w-3xl",children:"We're on a mission to transform how homeowners connect with service providers, making home improvement simpler and more reliable."})]})]}),e.jsx("div",{className:"py-16 bg-white overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Our Story"}),e.jsx("p",{className:"mt-2 text-3xl font-extrabold text-gray-900 tracking-tight sm:text-4xl",children:"Building a better way to improve homes"}),e.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"HomeServiceHub was founded in 2023 with a simple idea: make home improvement and maintenance accessible, transparent, and stress-free for everyone."}),e.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"After experiencing the frustration of finding reliable contractors for our own home projects, we realized there had to be a better way. We built HomeServiceHub to solve this problem, creating a platform where homeowners can easily find verified professionals, and service providers can connect with clients who value quality work."})]}),e.jsx("div",{className:"mt-12 relative text-base max-w-prose mx-auto lg:mt-0",children:e.jsx("div",{className:"aspect-w-12 aspect-h-7 lg:aspect-none",children:e.jsx("img",{className:"rounded-lg shadow-lg object-cover object-center",src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team meeting",width:"1184",height:"1376"})})})]})})}),e.jsx("div",{className:"bg-gray-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Our Values"}),e.jsx("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight",children:"What drives us"}),e.jsx("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"Our core values guide everything we do, from how we build our platform to how we interact with our community."})]}),e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Trust & Transparency"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We believe in building trust through transparency. We verify our service providers and encourage honest reviews to create a trustworthy marketplace."})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Innovation"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We're constantly looking for new ways to improve the home service experience, from our platform features to how we support our community."})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Community"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We're building more than a platform—we're creating a community where homeowners and service providers can connect, share ideas, and help each other succeed."})})]})})]})})]})}),e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 text-center sm:px-6 lg:px-8 lg:py-24",children:e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-5 sm:mx-auto sm:max-w-xl sm:space-y-4 lg:max-w-5xl",children:[e.jsx("h2",{className:"text-3xl font-extrabold tracking-tight sm:text-4xl",children:"Meet our team"}),e.jsx("p",{className:"text-xl text-gray-500",children:"Our diverse team brings together expertise in technology, home improvement, and customer service to create the best possible platform."})]}),e.jsxs("ul",{className:"mx-auto space-y-16 sm:grid sm:grid-cols-2 sm:gap-16 sm:space-y-0 lg:grid-cols-3 lg:max-w-5xl",children:[e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Emma Rodriguez"}),e.jsx("p",{className:"text-blue-600",children:"CEO & Co-Founder"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Marcus Chen"}),e.jsx("p",{className:"text-blue-600",children:"CTO & Co-Founder"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/3769021/pexels-photo-3769021.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Sophia Williams"}),e.jsx("p",{className:"text-blue-600",children:"Head of Customer Experience"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})})]})]})})})]}),Nl=()=>{const{register:a,handleSubmit:s,reset:t,formState:{errors:r}}=Cs(),[i,n]=y.useState(!1),[l,o]=y.useState(!1),[d,m]=y.useState(""),c=async x=>{n(!0),m("");try{await new Promise(u=>setTimeout(u,1500)),console.log("Form submitted:",x),o(!0),t()}catch(u){console.error("Error submitting form:",u),m("There was an error submitting your message. Please try again.")}finally{n(!1)}};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"divide-y-2 divide-gray-200",children:[e.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Get in touch"}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Support"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Need help with your account or have questions about our services?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:support@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"support@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Interested in our premium plans or enterprise solutions?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:sales@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"sales@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Press"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"For media inquiries or press kit requests."}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:press@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"press@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Join Our Team"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Looking for career opportunities with us?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:careers@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"careers@serviceconnectpro.com"})})]})]})]})]}),e.jsxs("div",{className:"mt-16 pt-16 lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Locations"}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"San Francisco"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"123 Market Street"}),e.jsx("p",{children:"Suite 456"}),e.jsx("p",{children:"San Francisco, CA 94103"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New York"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"456 Park Avenue"}),e.jsx("p",{children:"Floor 8"}),e.jsx("p",{children:"New York, NY 10022"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Austin"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"789 Congress Avenue"}),e.jsx("p",{children:"Suite 300"}),e.jsx("p",{children:"Austin, TX 78701"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Toronto"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"567 King Street West"}),e.jsx("p",{children:"Unit 400"}),e.jsx("p",{children:"Toronto, ON M5V 1M3"})]})]})]})]})]})}),e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-lg mx-auto md:max-w-none md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Send us a message"}),e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:"text-lg text-gray-500",children:"Have a specific question or feedback? Fill out the form and we'll get back to you as soon as possible."})}),e.jsxs("div",{className:"mt-9",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{className:"ml-3 text-base text-gray-500",children:[e.jsx("p",{children:"+1 (555) 123-4567"}),e.jsx("p",{className:"mt-1",children:"Mon-Fri 8am to 6pm PST"})]})]}),e.jsxs("div",{className:"mt-6 flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("div",{className:"ml-3 text-base text-gray-500",children:e.jsx("p",{children:"contact@serviceconnectpro.com"})})]})]})]}),e.jsx("div",{className:"mt-12 sm:mt-16 md:mt-0",children:l?e.jsx("div",{className:"rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Message sent successfully"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsx("p",{children:"Thank you for contacting us! We'll get back to you as soon as possible."})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:()=>o(!1),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Send another message"})})]})]})}):e.jsxs("form",{onSubmit:s(c),className:"grid grid-cols-1 gap-y-6",children:[d&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:d})})]})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{type:"text",id:"name",autoComplete:"name",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.name?"border-red-300":""}`,...a("name",{required:"Name is required"})}),r.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.name.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.email?"border-red-300":""}`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"phone",autoComplete:"tel",className:"py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md",...a("phone")})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{type:"text",id:"subject",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.subject?"border-red-300":""}`,...a("subject",{required:"Subject is required"})}),r.subject&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.subject.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("textarea",{id:"message",rows:4,className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border border-gray-300 rounded-md ${r.message?"border-red-300":""}`,...a("message",{required:"Message is required"})}),r.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.message.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:`inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${i?"opacity-75 cursor-not-allowed":""}`,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Submit"})})]})})]})})})]})},_l=()=>{const[a,s]=y.useState(!0),{user:t}=K(),r=()=>{s(!a)},i=[{name:"Basic",description:"Perfect for homeowners with occasional service needs",price:0,features:["Post up to 3 projects per month","Connect with up to 5 service providers","Basic project management tools","Community access","Email support"],cta:"Get started",mostPopular:!1},{name:"Pro",description:"For homeowners with regular service needs",price:a?99:9.99,features:["Unlimited project postings","Priority matching with providers","Advanced project management","Project milestone tracking","Phone & email support","Exclusive deals and discounts"],cta:"Start free trial",mostPopular:!0},{name:"Business",description:"For service providers looking to grow",price:a?299:29.99,features:["Featured provider listing","Lead generation tools","Business analytics dashboard","Client management system","Marketing toolkit","Priority support","Verified business badge"],cta:"Contact sales",mostPopular:!1}];return e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:flex-col sm:align-center",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 sm:text-center",children:"Pricing Plans"}),e.jsx("p",{className:"mt-5 text-xl text-gray-500 sm:text-center",children:"Choose the perfect plan for your needs. Start with a 14-day free trial."}),e.jsxs("div",{className:"relative self-center mt-6 bg-gray-100 rounded-lg p-0.5 flex sm:mt-8",children:[e.jsxs("button",{type:"button",className:`${a?"bg-white border-gray-200 shadow-sm":"border border-transparent"} relative w-1/2 rounded-md py-2 text-sm font-medium text-gray-700 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 sm:w-auto sm:px-8`,onClick:r,children:["Annual billing",a&&e.jsx("span",{className:"absolute -top-2 -right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Save 20%"})]}),e.jsx("button",{type:"button",className:`${a?"border border-transparent":"bg-white border-gray-200 shadow-sm"} ml-0.5 relative w-1/2 rounded-md py-2 text-sm font-medium text-gray-700 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 sm:w-auto sm:px-8`,onClick:r,children:"Monthly billing"})]})]}),e.jsx("div",{className:"mt-12 space-y-4 sm:mt-16 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6 lg:max-w-4xl lg:mx-auto xl:max-w-none xl:mx-0 xl:grid-cols-3",children:i.map(n=>e.jsxs("div",{className:`${n.mostPopular?"border-primary-500":"border-gray-200"} border rounded-lg shadow-sm divide-y divide-gray-200`,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:n.name}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:n.description}),e.jsxs("p",{className:"mt-8",children:[e.jsxs("span",{className:"text-4xl font-extrabold text-gray-900",children:["$",n.price]}),e.jsxs("span",{className:"text-base font-medium text-gray-500",children:["/",a?"year":"month"]})]}),e.jsx(C,{to:t?"/settings/billing":"/register",className:`${n.mostPopular?"bg-primary-600 text-white hover:bg-primary-700":"bg-primary-50 text-primary-700 hover:bg-primary-100"} mt-8 block w-full py-3 px-6 border border-transparent rounded-md text-center font-medium`,children:n.cta})]}),e.jsxs("div",{className:"pt-6 pb-8 px-6",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 tracking-wide uppercase",children:"What's included"}),e.jsx("ul",{className:"mt-6 space-y-4",children:n.features.map(l=>e.jsxs("li",{className:"flex space-x-3",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-gray-500",children:l})]},l))})]})]},n.name))})]}),e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto divide-y-2 divide-gray-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Frequently asked questions"}),e.jsxs("dl",{className:"mt-6 space-y-6 divide-y divide-gray-200",children:[e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"How does the free trial work?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"All paid plans come with a 14-day free trial. You can try out all the features without being charged. If you decide to continue, we'll bill you at the end of the trial. You can cancel anytime during the trial period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Can I change plans later?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, you can upgrade or downgrade your plan at any time. If you upgrade, the new features will be available immediately. If you downgrade, the changes will take effect at the start of your next billing cycle."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"What payment methods do you accept?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal. For annual Business plans, we can also arrange for invoice payment."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Is there a contract or commitment?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"No long-term contracts or commitments. You can cancel your subscription at any time, and your plan will remain active until the end of the current billing period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Do you offer discounts for non-profits or educational institutions?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, we offer special pricing for non-profit organizations and educational institutions. Please contact our sales team for more information."})]})]})]})}),e.jsx("div",{className:"bg-primary-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Start your free trial today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-primary-200",children:"Join thousands of homeowners and service providers already using our platform."}),e.jsx(C,{to:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 sm:w-auto",children:"Sign up for free"})]})})]})},kl=()=>e.jsx("div",{className:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:e.jsx("div",{className:"max-w-max mx-auto",children:e.jsxs("main",{className:"sm:flex",children:[e.jsx("p",{className:"text-4xl font-extrabold text-primary-600 sm:text-5xl",children:"404"}),e.jsxs("div",{className:"sm:ml-6",children:[e.jsxs("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Page not found"}),e.jsx("p",{className:"mt-1 text-base text-gray-500",children:"Please check the URL in the address bar and try again."})]}),e.jsxs("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:[e.jsx(C,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Go back home"}),e.jsx(C,{to:"/contact",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Contact support"})]})]})]})})});function Sl(){const{user:a,loading:s,session:t,userRole:r}=K();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx(qr,{children:e.jsxs(Hr,{children:[e.jsx(z,{path:"/",element:e.jsx(jl,{})}),e.jsx(z,{path:"/about",element:e.jsx(wl,{})}),e.jsx(z,{path:"/contact",element:e.jsx(Nl,{})}),e.jsx(z,{path:"/pricing",element:e.jsx(_l,{})}),e.jsxs(z,{element:e.jsx(Pn,{}),children:[e.jsx(z,{path:"/login",element:t?e.jsx(We,{to:`/${r||"homeowner"}/dashboard`}):e.jsx(Yn,{})}),e.jsx(z,{path:"/register",element:t?e.jsx(We,{to:`/${r||"homeowner"}/dashboard`}):e.jsx(Qn,{})}),e.jsx(z,{path:"/forgot-password",element:e.jsx(Xn,{})})]}),e.jsxs(z,{path:"/community",element:e.jsx(Fs,{}),children:[e.jsx(z,{index:!0,element:e.jsx(vl,{})}),e.jsx(z,{path:"project/:id",element:e.jsx(bl,{})})]}),e.jsxs(z,{path:"/provider",element:t&&r==="provider"?e.jsx(Fs,{}):e.jsx(We,{to:t?`/${r||"homeowner"}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(el,{})}),e.jsx(z,{path:"profile",element:e.jsx(rl,{})}),e.jsx(z,{path:"jobs",element:e.jsx(al,{})}),e.jsx(z,{path:"calendar",element:e.jsx(il,{})}),e.jsx(z,{path:"messages",element:e.jsx(nl,{})}),e.jsx(z,{path:"settings",element:e.jsx(ll,{})})]}),e.jsxs(z,{path:"/homeowner",element:t&&(r==="homeowner"||r==="provider")?e.jsx(Fs,{}):e.jsx(We,{to:t?`/${r||"homeowner"}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(ol,{})}),e.jsx(z,{path:"profile",element:e.jsx(cl,{})}),e.jsx(z,{path:"projects",element:e.jsx(dl,{})}),e.jsx(z,{path:"providers",element:e.jsx(ml,{})}),e.jsx(z,{path:"messages",element:e.jsx(hl,{})}),e.jsx(z,{path:"settings",element:e.jsx(ul,{})})]}),e.jsxs(z,{path:"/admin",element:t&&r==="admin"?e.jsx(An,{}):e.jsx(We,{to:t?`/${r||"homeowner"}/dashboard`:"/login"}),children:[e.jsx(z,{path:"dashboard",element:e.jsx(xl,{})}),e.jsx(z,{path:"users",element:e.jsx(fl,{})}),e.jsx(z,{path:"providers",element:e.jsx(pl,{})}),e.jsx(z,{path:"reports",element:e.jsx(gl,{})}),e.jsx(z,{path:"settings",element:e.jsx(yl,{})})]}),e.jsx(z,{path:"*",element:e.jsx(kl,{})})]})})}Bs.createRoot(document.getElementById("root")).render(e.jsx(fe.StrictMode,{children:e.jsx(Cn,{children:e.jsx(Sl,{})})}));
//# sourceMappingURL=index-86decd4d.js.map
