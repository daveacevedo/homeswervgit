import{r as f,a as Jr,g as Kr,c as fe,u as Cs,b as Re,L,O as Ye,N as bs,R as ye,d as at,B as Gr,f as Zr,h as J}from"./vendor-40a7ae95.js";import{q as Ie,a as Yr}from"./ui-13f1aec0.js";import{C as Qr,a as Xr,L as ea,B as sa,p as ta,b as ra,c as aa,A as ia,P as na,d as oa,e as Nt,f as la,g as ca}from"./charts-28f8f93f.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();var Xt={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=f,ma=Symbol.for("react.element"),ha=Symbol.for("react.fragment"),ua=Object.prototype.hasOwnProperty,xa=da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pa={key:!0,ref:!0,__self:!0,__source:!0};function er(a,s,t){var r,i={},n=null,o=null;t!==void 0&&(n=""+t),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)ua.call(s,r)&&!pa.hasOwnProperty(r)&&(i[r]=s[r]);if(a&&a.defaultProps)for(r in s=a.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ma,type:a,key:n,ref:o,props:i,_owner:xa.current}}Ss.Fragment=ha;Ss.jsx=er;Ss.jsxs=er;Xt.exports=Ss;var e=Xt.exports,Ks={},_t=Jr;Ks.createRoot=_t.createRoot,Ks.hydrateRoot=_t.hydrateRoot;const ga="modulepreload",fa=function(a){return"/"+a},kt={},Ge=function(s,t,r){if(!t||t.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if(n=fa(n),n in kt)return;kt[n]=!0;const o=n.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const u=i[d];if(u.href===n&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const m=document.createElement("link");if(m.rel=o?"stylesheet":ga,o||(m.as="script",m.crossOrigin=""),m.href=n,document.head.appendChild(m),o)return new Promise((d,u)=>{m.addEventListener("load",d),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>s()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})},ya=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ge(()=>Promise.resolve().then(()=>Qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)};class it extends Error{constructor(s,t="FunctionsError",r){super(s),this.name=t,this.context=r}}class va extends it{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class wa extends it{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class ba extends it{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Gs;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Gs||(Gs={}));var ja=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};class Na{constructor(s,{headers:t={},customFetch:r,region:i=Gs.Any}={}){this.url=s,this.headers=t,this.region=i,this.fetch=ya(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,t={}){var r;return ja(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:o}=t;let l={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let m;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",m=o):typeof o=="string"?(l["Content-Type"]="text/plain",m=o):typeof FormData<"u"&&o instanceof FormData?m=o:(l["Content-Type"]="application/json",m=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${s}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:m}).catch(p=>{throw new va(p)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new wa(d);if(!d.ok)throw new ba(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return h==="application/json"?y=yield d.json():h==="application/octet-stream"?y=yield d.blob():h==="text/event-stream"?y=d:h==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var xe={},nt={},Ps={},ms={},Es={},As={},_a=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ze=_a();const ka=Ze.fetch,sr=Ze.fetch.bind(Ze),tr=Ze.Headers,Ca=Ze.Request,Sa=Ze.Response,Qe=Object.freeze(Object.defineProperty({__proto__:null,Headers:tr,Request:Ca,Response:Sa,default:sr,fetch:ka},Symbol.toStringTag,{value:"Module"})),Pa=Kr(Qe);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});let Ea=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};Ms.default=Ea;var rr=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(As,"__esModule",{value:!0});const Aa=rr(Pa),Ma=rr(Ms);let La=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=Aa.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=Object.assign({},this.headers),this.headers[s]=t,this}then(s,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,l,c;let m=null,d=null,u=null,h=n.status,y=n.statusText;if(n.ok){if(this.method!=="HEAD"){const j=await n.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=j:d=JSON.parse(j))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=n.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(u=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(m={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await n.text();try{m=JSON.parse(g),Array.isArray(m)&&n.status===404&&(d=[],m=null,h=200,y="OK")}catch{n.status===404&&g===""?(h=204,y="No Content"):m={message:g}}if(m&&this.isMaybeSingle&&(!((c=m==null?void 0:m.details)===null||c===void 0)&&c.includes("0 rows"))&&(m=null,h=200,y="OK"),m&&this.shouldThrowOnError)throw new Ma.default(m)}return{error:m,data:d,count:u,status:h,statusText:y}});return this.shouldThrowOnError||(i=i.catch(n=>{var o,l,c;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(l=n==null?void 0:n.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=n==null?void 0:n.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(s,t)}returns(){return this}overrideTypes(){return this}};As.default=La;var Ra=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Es,"__esModule",{value:!0});const Ta=Ra(As);let Da=class extends Ta.default{select(s){let t=!1;const r=(s??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const o=n?`${n}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${s}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${s}`),this}range(s,t,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${s}`),this.url.searchParams.set(o,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:o="text"}={}){var l;const c=[s?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),m=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${m}"; options=${c};`,o==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Es.default=Da;var $a=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ms,"__esModule",{value:!0});const Fa=$a(Es);let Ba=class extends Fa.default{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}in(s,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${n}fts${o}.${t}`),this}match(s){return Object.entries(s).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(s,t,r){return this.url.searchParams.append(s,`not.${t}.${r}`),this}or(s,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${s})`),this}filter(s,t,r){return this.url.searchParams.append(s,`${t}.${r}`),this}};ms.default=Ba;var za=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ps,"__esModule",{value:!0});const ss=za(ms);let Oa=class{constructor(s,{headers:t={},schema:r,fetch:i}){this.url=s,this.headers=t,this.schema=r,this.fetch=i}select(s,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let n=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:t,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(s)){const o=s.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),n||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((m,d)=>m.concat(Object.keys(d)),[]);if(c.length>0){const m=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",m.join(","))}}return new ss.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const t="DELETE",r=[];return s&&r.push(`count=${s}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ss.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ps.default=Oa;var Ls={},Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.version=void 0;Rs.version="0.0.0-automated";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.DEFAULT_HEADERS=void 0;const Ia=Rs;Ls.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ia.version}`};var ar=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nt,"__esModule",{value:!0});const Va=ar(Ps),Ua=ar(ms),Ha=Ls;let qa=class ir{constructor(s,{headers:t={},schema:r,fetch:i}={}){this.url=s,this.headers=Object.assign(Object.assign({},Ha.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(s){const t=new URL(`${this.url}/${s}`);return new Va.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new ir(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,t={},{head:r=!1,get:i=!1,count:n}={}){let o;const l=new URL(`${this.url}/rpc/${s}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(t).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{l.searchParams.append(d,u)})):(o="POST",c=t);const m=Object.assign({},this.headers);return n&&(m.Prefer=`count=${n}`),new Ua.default({method:o,url:l,headers:m,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};nt.default=qa;var Xe=fe&&fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const nr=Xe(nt);xe.PostgrestClient=nr.default;const or=Xe(Ps);xe.PostgrestQueryBuilder=or.default;const lr=Xe(ms);xe.PostgrestFilterBuilder=lr.default;const cr=Xe(Es);xe.PostgrestTransformBuilder=cr.default;const dr=Xe(As);xe.PostgrestBuilder=dr.default;const mr=Xe(Ms);xe.PostgrestError=mr.default;var Wa=xe.default={PostgrestClient:nr.default,PostgrestQueryBuilder:or.default,PostgrestFilterBuilder:lr.default,PostgrestTransformBuilder:cr.default,PostgrestBuilder:dr.default,PostgrestError:mr.default};const{PostgrestClient:Ja,PostgrestQueryBuilder:rl,PostgrestFilterBuilder:al,PostgrestTransformBuilder:il,PostgrestBuilder:nl,PostgrestError:ol}=Wa,Ka="2.11.2",Ga={"X-Client-Info":`realtime-js/${Ka}`},Za="1.0.0",hr=1e4,Ya=1e3;var Ke;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ke||(Ke={}));var pe;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(pe||(pe={}));var ve;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(ve||(ve={}));var Zs;(function(a){a.websocket="websocket"})(Zs||(Zs={}));var Fe;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Fe||(Fe={}));class Qa{constructor(){this.HEADER_LENGTH=1}decode(s,t){return s.constructor===ArrayBuffer?t(this._binaryDecode(s)):t(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const t=new DataView(s),r=new TextDecoder;return this._decodeBroadcast(s,t,r)}_decodeBroadcast(s,t,r){const i=t.getUint8(1),n=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(s.slice(o,o+i));o=o+i;const c=r.decode(s.slice(o,o+n));o=o+n;const m=JSON.parse(r.decode(s.slice(o,s.byteLength)));return{ref:null,topic:l,event:c,payload:m}}}class ur{constructor(s,t){this.callback=s,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(te||(te={}));const Ct=(a,s,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(s).reduce((n,o)=>(n[o]=Xa(o,a,s,i),n),{})},Xa=(a,s,t,r)=>{const i=s.find(l=>l.name===a),n=i==null?void 0:i.type,o=t[a];return n&&!r.includes(n)?xr(n,o):Ys(o)},xr=(a,s)=>{if(a.charAt(0)==="_"){const t=a.slice(1,a.length);return ri(s,t)}switch(a){case te.bool:return ei(s);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return si(s);case te.json:case te.jsonb:return ti(s);case te.timestamp:return ai(s);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Ys(s);default:return Ys(s)}},Ys=a=>a,ei=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},si=a=>{if(typeof a=="string"){const s=parseFloat(a);if(!Number.isNaN(s))return s}return a},ti=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(s){return console.log(`JSON parse error: ${s}`),a}return a},ri=(a,s)=>{if(typeof a!="string")return a;const t=a.length-1,r=a[t];if(a[0]==="{"&&r==="}"){let n;const o=a.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(l=>xr(s,l))}return a},ai=a=>typeof a=="string"?a.replace(" ","T"):a,pr=a=>{let s=a;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Os{constructor(s,t,r={},i=hr){this.channel=s,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,t){var r;return this._hasReceived(s)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:t}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(t))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var St;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(St||(St={}));class is{constructor(s,t){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,i,n,o),this.pendingDiffs.forEach(c=>{this.state=is.syncDiff(this.state,c,n,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=is.syncDiff(this.state,i,n,o),l())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,t,r,i){const n=this.cloneDeep(s),o=this.transformState(t),l={},c={};return this.map(n,(m,d)=>{o[m]||(c[m]=d)}),this.map(o,(m,d)=>{const u=n[m];if(u){const h=d.map(w=>w.presence_ref),y=u.map(w=>w.presence_ref),p=d.filter(w=>y.indexOf(w.presence_ref)<0),g=u.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[m]=p),g.length>0&&(c[m]=g)}else l[m]=d}),this.syncDiff(n,{joins:l,leaves:c},r,i)}static syncDiff(s,t,r,i){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(l,c)=>{var m;const d=(m=s[l])!==null&&m!==void 0?m:[];if(s[l]=this.cloneDeep(c),d.length>0){const u=s[l].map(y=>y.presence_ref),h=d.filter(y=>u.indexOf(y.presence_ref)<0);s[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let m=s[l];if(!m)return;const d=c.map(u=>u.presence_ref);m=m.filter(u=>d.indexOf(u.presence_ref)<0),s[l]=m,i(l,m,c),m.length===0&&delete s[l]}),s}static map(s,t){return Object.getOwnPropertyNames(s).map(r=>t(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((t,r)=>{const i=s[r];return"metas"in i?t[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[r]=i,t},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pt;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Pt||(Pt={}));var Et;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Et||(Et={}));var Ce;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Ce||(Ce={}));class ot{constructor(s,t={config:{}},r){this.topic=s,this.params=t,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Os(this,ve.join,this.params,this.timeout),this.rejoinTimer=new ur(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ve.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new is(this),this.broadcastEndpointURL=pr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o,private:l}}=this.params;this._onError(d=>s==null?void 0:s(Ce.CHANNEL_ERROR,d)),this._onClose(()=>s==null?void 0:s(Ce.CLOSED));const c={},m={broadcast:n,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:d})=>{var u;if(this.socket.setAuth(),d===void 0){s==null||s(Ce.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,p=[];for(let g=0;g<y;g++){const w=h[g],{filter:{event:j,schema:b,table:E,filter:H}}=w,S=d&&d[g];if(S&&S.event===j&&S.schema===b&&S.table===E&&S.filter===H)p.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),s==null||s(Ce.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,s&&s(Ce.SUBSCRIBED);return}}).receive("error",d=>{s==null||s(Ce.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Ce.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,t={}){return await this.send({type:"presence",event:"track",payload:s},t.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,t,r){return this._on(s,t,r)}async send(s,t={}){var r,i;if(!this._canPush()&&s.type==="broadcast"){const{event:n,payload:o}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,l,c;const m=this._push(s.type,s,t.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&n("ok"),m.receive("ok",()=>n("ok")),m.receive("error",()=>n("error")),m.receive("timeout",()=>n("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=pe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ve.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Os(this,ve.leave,{},s);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(s,t,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(s,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(n),o}_push(s,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Os(this,s,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(s,t,r){return t}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,t,r){var i,n;const o=s.toLocaleLowerCase(),{close:l,error:c,leave:m,join:d}=ve;if(r&&[l,c,m,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var p,g,w;return((p=y.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(g=y.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(h,r)):(n=this.bindings[o])===null||n===void 0||n.filter(y=>{var p,g,w,j,b,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const H=y.id,S=(p=y.filter)===null||p===void 0?void 0:p.event;return H&&((g=t.ids)===null||g===void 0?void 0:g.includes(H))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const H=(b=(j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return H==="*"||H===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:w,commit_timestamp:j,type:b,errors:E}=p;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:j,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(p))}y.callback(h,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,t,r){const i=s.toLocaleLowerCase(),n={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(s,t){const r=s.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&ot.isEqual(i.filter,t))}),this}static isEqual(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const r in s)if(s[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ve.close,{},s)}_onError(s){this._on(ve.error,{},t=>s(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const t={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(t.new=Ct(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(t.old=Ct(s.columns,s.old_record)),t}}const ii=()=>{},ni=typeof WebSocket<"u",oi=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class li{constructor(s,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ga,this.params={},this.timeout=hr,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ii,this.conn=null,this.sendBuffer=[],this.serializer=new Qa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...l)=>Ge(()=>Promise.resolve().then(()=>Qe),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${s}/${Zs.websocket}`,this.httpEndpoint=pr(s),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,o)=>o(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ur(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ni){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ci(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ge(()=>import("./browser-6f2af45f.js").then(s=>s.b),["assets/browser-6f2af45f.js","assets/vendor-40a7ae95.js"]).then(({default:s})=>{this.conn=new s(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Za}))}disconnect(s,t){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const t=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const s=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),s}log(s,t,r){this.logger(s,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ke.connecting:return Fe.Connecting;case Ke.open:return Fe.Open;case Ke.closing:return Fe.Closing;default:return Fe.Closed}}isConnected(){return this.connectionState()===Fe.Open}channel(s,t={config:{}}){const r=new ot(`realtime:${s}`,t,this);return this.channels.push(r),r}push(s){const{topic:t,event:r,payload:i,ref:n}=s,o=()=>{this.encode(s,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(s=null){let t=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(ve.access_token,{access_token:t})})}}async sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(Ya,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let t=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${s}"`),t.unsubscribe())}_remove(s){this.channels=this.channels.filter(t=>t._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,t=>{let{topic:r,event:i,payload:n,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,n),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,n,o)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(ve.error))}_appendParams(s,t){if(Object.keys(t).length===0)return s;const r=s.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${s}${r}${i}`}_workerObjectUrl(s){let t;if(s)t=s;else{const r=new Blob([oi],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class ci{constructor(s,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ke.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=r.close}}class lt extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function le(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class di extends lt{constructor(s,t){super(s),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qs extends lt{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}}var mi=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};const gr=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ge(()=>Promise.resolve().then(()=>Qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)},hi=()=>mi(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ge(()=>Promise.resolve().then(()=>Qe),void 0)).Response:Response}),Xs=a=>{if(Array.isArray(a))return a.map(t=>Xs(t));if(typeof a=="function"||a!==Object(a))return a;const s={};return Object.entries(a).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));s[i]=Xs(r)}),s};var ze=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};const Is=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ui=(a,s,t)=>ze(void 0,void 0,void 0,function*(){const r=yield hi();a instanceof r&&!(t!=null&&t.noResolveJson)?a.json().then(i=>{s(new di(Is(i),a.status||500))}).catch(i=>{s(new Qs(Is(i),i))}):s(new Qs(Is(a),a))}),xi=(a,s,t,r)=>{const i={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function hs(a,s,t,r,i,n){return ze(this,void 0,void 0,function*(){return new Promise((o,l)=>{a(t,xi(s,r,i,n)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ui(c,l,r))})})}function js(a,s,t,r){return ze(this,void 0,void 0,function*(){return hs(a,"GET",s,t,r)})}function Ae(a,s,t,r,i){return ze(this,void 0,void 0,function*(){return hs(a,"POST",s,r,i,t)})}function pi(a,s,t,r,i){return ze(this,void 0,void 0,function*(){return hs(a,"PUT",s,r,i,t)})}function gi(a,s,t,r){return ze(this,void 0,void 0,function*(){return hs(a,"HEAD",s,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function fr(a,s,t,r,i){return ze(this,void 0,void 0,function*(){return hs(a,"DELETE",s,r,i,t)})}var ue=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};const fi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},At={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yi{constructor(s,t={},r,i){this.url=s,this.headers=t,this.bucketId=r,this.fetch=gr(i)}uploadOrUpdate(s,t,r,i){return ue(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},At),i);let l=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),c&&n.append("metadata",this.encodeMetadata(c)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl),c&&n.append("metadata",this.encodeMetadata(c))):(n=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const m=this._removeEmptyFolders(t),d=this._getFinalPath(m),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:s,body:n,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:m,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(n){if(le(n))return{data:null,error:n};throw n}})}upload(s,t,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,t,r)})}uploadToSignedUrl(s,t,r,i){return ue(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(s),o=this._getFinalPath(n),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const m=Object.assign({upsert:At.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",m.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",m.cacheControl)):(c=r,d["cache-control"]=`max-age=${m.cacheControl}`,d["content-type"]=m.contentType);const u=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield u.json();return u.ok?{data:{path:n,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,t){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const n=yield Ae(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+n.url),l=o.searchParams.get("token");if(!l)throw new lt("No token returned by API");return{data:{signedUrl:o.toString(),path:s,token:l},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}update(s,t,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,t,r)})}move(s,t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}copy(s,t,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrl(s,t,r){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(s),n=yield Ae(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrls(s,t,r){return ue(this,void 0,void 0,function*(){try{const i=yield Ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:s},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}download(s,t){return ue(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=n?`?${n}`:"";try{const l=this._getFinalPath(s);return{data:yield(yield js(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}})}info(s){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(s);try{const r=yield js(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xs(r),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}exists(s){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(s);try{return yield gi(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(le(r)&&r instanceof Qs){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,t){const r=this._getFinalPath(s),i=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&i.push(n);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&i.push(c);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${m}`)}}}remove(s){return ue(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}list(s,t,r){return ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fi),t),{prefix:s||""});return{data:yield Ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}}const vi="2.7.1",wi={"X-Client-Info":`storage-js/${vi}`};var Ve=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};class bi{constructor(s,t={},r){this.url=s,this.headers=Object.assign(Object.assign({},wi),t),this.fetch=gr(r)}listBuckets(){return Ve(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}getBucket(s){return Ve(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}createBucket(s,t={public:!1}){return Ve(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}updateBucket(s,t){return Ve(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}emptyBucket(s){return Ve(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}deleteBucket(s){return Ve(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}}class ji extends bi{constructor(s,t={},r){super(s,t,r)}from(s){return new yi(this.url,this.headers,s,this.fetch)}}const Ni="2.49.8";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const _i={"X-Client-Info":`supabase-js-${as}/${Ni}`},ki={headers:_i},Ci={schema:"public"},Si={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pi={};var Ei=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};const Ai=a=>{let s;return a?s=a:typeof fetch>"u"?s=sr:s=fetch,(...t)=>s(...t)},Mi=()=>typeof Headers>"u"?tr:Headers,Li=(a,s,t)=>{const r=Ai(t),i=Mi();return(n,o)=>Ei(void 0,void 0,void 0,function*(){var l;const c=(l=yield s())!==null&&l!==void 0?l:a;let m=new i(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",a),m.has("Authorization")||m.set("Authorization",`Bearer ${c}`),r(n,Object.assign(Object.assign({},o),{headers:m}))})};var Ri=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};function Ti(a){return a.endsWith("/")?a:a+"/"}function Di(a,s){var t,r;const{db:i,auth:n,realtime:o,global:l}=a,{db:c,auth:m,realtime:d,global:u}=s,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},m),n),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},u),l),{headers:Object.assign(Object.assign({},(t=u==null?void 0:u.headers)!==null&&t!==void 0?t:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ri(this,void 0,void 0,function*(){return""})};return a.accessToken?h.accessToken=a.accessToken:delete h.accessToken,h}const yr="2.69.1",Je=30*1e3,et=3,Vs=et*Je,$i="http://localhost:9999",Fi="supabase.auth.token",Bi={"X-Client-Info":`gotrue-js/${yr}`},st="X-Supabase-Api-Version",vr={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zi=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oi=6e5;class ct extends Error{constructor(s,t,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function W(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Ii extends ct{constructor(s,t,r){super(s,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Vi(a){return W(a)&&a.name==="AuthApiError"}class wr extends ct{constructor(s,t){super(s),this.name="AuthUnknownError",this.originalError=t}}class Te extends ct{constructor(s,t,r,i){super(s,r,i),this.name=t,this.status=r}}class Pe extends Te{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ui(a){return W(a)&&a.name==="AuthSessionMissingError"}class Us extends Te{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gs extends Te{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class fs extends Te{constructor(s,t=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hi(a){return W(a)&&a.name==="AuthImplicitGrantRedirectError"}class Mt extends Te{constructor(s,t=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tt extends Te{constructor(s,t){super(s,"AuthRetryableFetchError",t,void 0)}}function Hs(a){return W(a)&&a.name==="AuthRetryableFetchError"}class Lt extends Te{constructor(s,t,r){super(s,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class ns extends Te{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tt=` 	
\r=`.split(""),qi=(()=>{const a=new Array(128);for(let s=0;s<a.length;s+=1)a[s]=-1;for(let s=0;s<Tt.length;s+=1)a[Tt[s].charCodeAt(0)]=-2;for(let s=0;s<Rt.length;s+=1)a[Rt[s].charCodeAt(0)]=s;return a})();function br(a,s,t){const r=qi[a];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)t(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Dt(a){const s=[],t=o=>{s.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Ki(o,r,t)};for(let o=0;o<a.length;o+=1)br(a.charCodeAt(o),i,n);return s.join("")}function Wi(a,s){if(a<=127){s(a);return}else if(a<=2047){s(192|a>>6),s(128|a&63);return}else if(a<=65535){s(224|a>>12),s(128|a>>6&63),s(128|a&63);return}else if(a<=1114111){s(240|a>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Ji(a,s){for(let t=0;t<a.length;t+=1){let r=a.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(a.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Wi(r,s)}}function Ki(a,s,t){if(s.utf8seq===0){if(a<=127){t(a);return}for(let r=1;r<6;r+=1)if(!(a>>7-r&1)){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=a&31;else if(s.utf8seq===3)s.codepoint=a&15;else if(s.utf8seq===4)s.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|a&63,s.utf8seq-=1,s.utf8seq===0&&t(s.codepoint)}}function Gi(a){const s=[],t={queue:0,queuedBits:0},r=i=>{s.push(i)};for(let i=0;i<a.length;i+=1)br(a.charCodeAt(i),t,r);return new Uint8Array(s)}function Zi(a){const s=[];return Ji(a,t=>s.push(t)),new Uint8Array(s)}function Yi(a){return Math.round(Date.now()/1e3)+a}function Qi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const s=Math.random()*16|0;return(a=="x"?s:s&3|8).toString(16)})}const je=()=>typeof window<"u"&&typeof document<"u",De={tested:!1,writable:!1},os=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(De.tested)return De.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),De.tested=!0,De.writable=!0}catch{De.tested=!0,De.writable=!1}return De.writable};function Xi(a){const s={},t=new URL(a);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,n)=>{s[n]=i})}catch{}return t.searchParams.forEach((r,i)=>{s[i]=r}),s}const jr=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...t)=>Ge(()=>Promise.resolve().then(()=>Qe),void 0).then(({default:r})=>r(...t)):s=fetch,(...t)=>s(...t)},en=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Nr=async(a,s,t)=>{await a.setItem(s,JSON.stringify(t))},ys=async(a,s)=>{const t=await a.getItem(s);if(!t)return null;try{return JSON.parse(t)}catch{return t}},vs=async(a,s)=>{await a.removeItem(s)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((s,t)=>{this.resolve=s,this.reject=t})}}Ts.promiseConstructor=Promise;function qs(a){const s=a.split(".");if(s.length!==3)throw new ns("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!zi.test(s[r]))throw new ns("JWT not in base64url format");return{header:JSON.parse(Dt(s[0])),payload:JSON.parse(Dt(s[1])),signature:Gi(s[2]),raw:{header:s[0],payload:s[1]}}}async function sn(a){return await new Promise(s=>{setTimeout(()=>s(null),a)})}function tn(a,s){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await a(n);if(!s(n,null,o)){r(o);return}}catch(o){if(!s(n,o)){i(o);return}}})()})}function rn(a){return("0"+a.toString(16)).substr(-2)}function an(){const s=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let n=0;n<56;n++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(s),Array.from(s,rn).join("")}async function nn(a){const t=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function on(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const t=await nn(a);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ue(a,s,t=!1){const r=an();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Nr(a,`${s}-code-verifier`,i);const n=await on(r);return[n,r===n?"plain":"s256"]}const ln=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cn(a){const s=a.headers.get(st);if(!s||!s.match(ln))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function dn(a){if(!a)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(a<=s)throw new Error("JWT has expired")}function mn(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var hn=globalThis&&globalThis.__rest||function(a,s){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(a);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(a,r[i])&&(t[r[i]]=a[r[i]]);return t};const $e=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),un=[502,503,504];async function $t(a){var s;if(!en(a))throw new tt($e(a),0);if(un.includes(a.status))throw new tt($e(a),a.status);let t;try{t=await a.json()}catch(n){throw new wr($e(n),n)}let r;const i=cn(a);if(i&&i.getTime()>=vr["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Lt($e(t),a.status,((s=t.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new Pe}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Lt($e(t),a.status,t.weak_password.reasons);throw new Ii($e(t),a.status||500,r)}const xn=(a,s,t,r)=>{const i={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function K(a,s,t,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[st]||(n[st]=vr["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pn(a,s,t+l,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function pn(a,s,t,r,i,n){const o=xn(s,r,i,n);let l;try{l=await a(t,Object.assign({},o))}catch(c){throw console.error(c),new tt($e(c),0)}if(l.ok||await $t(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await $t(c)}}function Ee(a){var s;let t=null;vn(a)&&(t=Object.assign({},a),a.expires_at||(t.expires_at=Yi(a.expires_in)));const r=(s=a.user)!==null&&s!==void 0?s:a;return{data:{session:t,user:r},error:null}}function Ft(a){const s=Ee(a);return!s.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(s.data.weak_password=a.weak_password),s}function Me(a){var s;return{data:{user:(s=a.user)!==null&&s!==void 0?s:a},error:null}}function gn(a){return{data:a,error:null}}function fn(a){const{action_link:s,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n}=a,o=hn(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:s,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function yn(a){return a}function vn(a){return a.access_token&&a.refresh_token&&a.expires_in}var wn=globalThis&&globalThis.__rest||function(a,s){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(a);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(a,r[i])&&(t[r[i]]=a[r[i]]);return t};class bn{constructor({url:s="",headers:t={},fetch:r}){this.url=s,this.headers=t,this.fetch=jr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,t="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,t={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Me})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:t}=s,r=wn(s,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fn,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(W(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(s){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Me})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async listUsers(s){var t,r,i,n,o,l,c;try{const m={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=s==null?void 0:s.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=s==null?void 0:s.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:yn});if(d.error)throw d.error;const u=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);m[`${w}Page`]=g}),m.total=parseInt(h)),{data:Object.assign(Object.assign({},u),m),error:null}}catch(m){if(W(m))return{data:{users:[]},error:m};throw m}}async getUserById(s){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Me})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async updateUserById(s,t){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:t,headers:this.headers,xform:Me})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,t=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:t},xform:Me})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){try{const{data:t,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(W(t))return{data:null,error:t};throw t}}async _deleteFactor(s){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}}const jn={getItem:a=>os()?globalThis.localStorage.getItem(a):null,setItem:(a,s)=>{os()&&globalThis.localStorage.setItem(a,s)},removeItem:a=>{os()&&globalThis.localStorage.removeItem(a)}};function Bt(a={}){return{getItem:s=>a[s]||null,setItem:(s,t)=>{a[s]=t},removeItem:s=>{delete a[s]}}}function Nn(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const He={debug:!!(globalThis&&os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _r extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class _n extends _r{}async function kn(a,s,t){He.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),He.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){He.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,i.name);try{return await t()}finally{He.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,i.name)}}else{if(s===0)throw He.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new _n(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(He.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Nn();const Cn={url:$i,storageKey:Fi,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zt(a,s,t){return await t()}class ds{constructor(s){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Cn),s);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bn({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jr(i.fetch),this.lock=i.lock||zt,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:je()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=kn:this.lock=zt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:os()?this.storage=jn:(this.memoryStorage={},this.storage=Bt(this.memoryStorage)):(this.memoryStorage={},this.storage=Bt(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yr}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const t=Xi(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),je()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Hi(n)){const c=(s=n.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return W(t)?{error:t}:{error:new wr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var t,r,i;try{const n=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=s==null?void 0:s.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=s==null?void 0:s.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ee}),{data:o,error:l}=n;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:m,session:c},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(s){var t,r,i;try{let n;if("email"in s){const{email:d,password:u,options:h}=s;let y=null,p=null;this.flowType==="pkce"&&([y,p]=await Ue(this.storage,this.storageKey)),n=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:p},xform:Ee})}else if("phone"in s){const{phone:d,password:u,options:h}=s;n=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ee})}else throw new gs("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:m,session:c},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(s){try{let t;if("email"in s){const{email:n,password:o,options:l}=s;t=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ft})}else if("phone"in s){const{phone:n,password:o,options:l}=s;t=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ft})}else throw new gs("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Us}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(s){var t,r,i,n;return await this._handleProviderSignIn(s.provider,{redirectTo:(t=s.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=s.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=s.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const t=await ys(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:n,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:Ee});if(await vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Us}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(W(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(s){try{const{options:t,provider:r,token:i,access_token:n,nonce:o}=s,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ee}),{data:c,error:m}=l;return m?{data:{user:null,session:null},error:m}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Us}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:m})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(s){var t,r,i,n,o;try{if("email"in s){const{email:l,options:c}=s;let m=null,d=null;this.flowType==="pkce"&&([m,d]=await Ue(this.storage,this.storageKey));const{error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:m,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in s){const{phone:l,options:c}=s,{data:m,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:d}}throw new gs("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(s){var t,r;try{let i,n;"options"in s&&(i=(t=s.options)===null||t===void 0?void 0:t.redirectTo,n=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:Ee});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,m=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:m,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(s){var t,r,i;try{let n=null,o=null;return this.flowType==="pkce"&&([n,o]=await Ue(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(t=s.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=s==null?void 0:s.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:gn})}catch(n){if(W(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:t},error:r}=s;if(r)throw r;if(!t)throw new Pe;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const t=`${this.url}/resend`;if("email"in s){const{email:r,type:i,options:n}=s,{error:o}=await K(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in s){const{phone:r,type:i,options:n}=s,{data:o,error:l}=await K(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new gs("You must provide either an email or phone number and a type")}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(s,t){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await s(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const t=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?s=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<Vs:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;s=new Proxy(s,{get:(c,m,d)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,m,d))})}return{data:{session:s},error:null}}const{session:i,error:n}=await this._callRefreshToken(s.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Me}):await this._useSession(async t=>{var r,i,n;const{data:o,error:l}=t;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Me})})}catch(t){if(W(t))return Ui(t)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(s,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,t))}async _updateUser(s,t={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new Pe;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&s.email!=null&&([l,c]=await Ue(this.storage,this.storageKey));const{data:m,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Me});if(d)throw d;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Pe;const t=Date.now()/1e3;let r=t,i=!0,n=null;const{payload:o}=qs(s.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:l,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};n=l}else{const{data:l,error:c}=await this._getUser(s.access_token);if(c)throw c;n={access_token:s.access_token,refresh_token:s.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(W(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async t=>{var r;if(!s){const{data:o,error:l}=t;if(l)throw l;s=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new Pe;const{session:i,error:n}=await this._callRefreshToken(s.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(s,t){try{if(!je())throw new fs("No browser detected.");if(s.error||s.error_description||s.error_code)throw new fs(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Mt("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fs("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Mt("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(s.code);if(E)throw E;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:l,expires_at:c,token_type:m}=s;if(!n||!l||!o||!m)throw new fs("No session defined in URL");const d=Math.round(Date.now()/1e3),u=parseInt(l);let h=d+u;c&&(h=parseInt(c));const y=h-d;y*1e3<=Je&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${u}s`);const p=h-u;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:w}=await this._getUser(n);if(w)throw w;const j={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:u,expires_at:h,refresh_token:o,token_type:m,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:s.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const t=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&t)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{error:n};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,s);if(l&&!(Vi(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return s!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const t=Qi(),r={id:t,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async t=>{var r,i;try{const{data:{session:n},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",s,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(s))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",n),console.error(n)}})}async resetPasswordForEmail(s,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ue(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(W(n))return{data:null,error:n};throw n}}async getUserIdentities(){var s;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(s=t.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}async linkIdentity(s){var t;try{const{data:r,error:i}=await this._useSession(async n=>{var o,l,c,m,d;const{data:u,error:h}=n;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(o=s.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(m=u.session)===null||m===void 0?void 0:m.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return je()&&!(!((t=s.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:s.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:s.provider,url:null},error:r};throw r}}async unlinkIdentity(s){try{return await this._useSession(async t=>{var r,i;const{data:n,error:o}=t;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _refreshAccessToken(s){const t=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await tn(async i=>(i>0&&await sn(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Ee})),(i,n)=>{const o=200*Math.pow(2,i);return n&&Hs(n)&&Date.now()+o-r<Je})}catch(r){if(this._debug(t,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",t,"url",r),je()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await ys(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Vs;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Vs}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),Hs(n)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(s){var t,r;if(!s)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ts;const{data:n,error:o}=await this._refreshAccessToken(s);if(o)throw o;if(!n.session)throw new Pe;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const l={session:n.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(n){if(this._debug(i,"error",n),W(n)){const o={session:null,error:n};return Hs(n)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(s,t,r=!0){const i=`#_notifyAllSubscribers(${s})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(s,t)}catch(c){n.push(c)}});if(await Promise.all(o),n.length>0){for(let l=0;l<n.length;l+=1)console.error(n[l]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await Nr(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Je);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-s)/Je);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Je}ms, refresh threshold is ${et} ticks`),i<=et&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof _r)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const t=`#_onVisibilityChanged(${s})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await Ue(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${i.join("&")}`}async _unenroll(s){try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await K(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _enroll(s){try{return await this._useSession(async t=>{var r,i;const{data:n,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:c,error:m}=await K(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(s.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{data:null,error:n};const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await K(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(s){const{data:t,error:r}=await this._challenge({factorId:s.factorId});return r?{data:null,error:r}:await this._verify({factorId:s.factorId,challengeId:t.id,code:s.code})}async _listFactors(){const{data:{user:s},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(s==null?void 0:s.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),n=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var t,r;const{data:{session:i},error:n}=s;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qs(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(s,t={keys:[]}){let r=t.keys.find(o=>o.kid===s);if(r||(r=this.jwks.keys.find(o=>o.kid===s),r&&this.jwks_cached_at+Oi>Date.now()))return r;const{data:i,error:n}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new ns("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===s),!r)throw new ns("No matching signing key found in JWKS");return r}async getClaims(s,t={keys:[]}){try{let r=s;if(!r){const{data:y,error:p}=await this.getSession();if(p||!y.session)return{data:null,error:p};r=y.session.access_token}const{header:i,payload:n,signature:o,raw:{header:l,payload:c}}=qs(r);if(dn(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:n,header:i,signature:o},error:null}}const m=mn(i.alg),d=await this.fetchJwk(i.kid,t),u=await crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!await crypto.subtle.verify(m,u,o,Zi(`${l}.${c}`)))throw new ns("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}ds.nextInstanceID=0;const Sn=ds;class Pn extends Sn{constructor(s){super(s)}}var En=globalThis&&globalThis.__awaiter||function(a,s,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(d){try{m(r.next(d))}catch(u){o(u)}}function c(d){try{m(r.throw(d))}catch(u){o(u)}}function m(d){d.done?n(d.value):i(d.value).then(l,c)}m((r=r.apply(a,s||[])).next())})};class An{constructor(s,t,r){var i,n,o;if(this.supabaseUrl=s,this.supabaseKey=t,!s)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=Ti(s),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const m=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Ci,realtime:Pi,auth:Object.assign(Object.assign({},Si),{storageKey:m}),global:ki},u=Di(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=u.global.headers)!==null&&n!==void 0?n:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Li(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ja(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Na(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ji(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},r={}){return this.rest.rpc(s,t,r)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,t;return En(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:n,flowType:o,lock:l,debug:c},m,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pn({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),m),storageKey:n,autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new li(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,t,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mn=(a,s,t)=>new An(a,s,t),Ln="https://zpnpsyiwguqwzldzptyp.supabase.co",Rn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwbnBzeWl3Z3Vxd3psZHpwdHlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwODM1MDUsImV4cCI6MjA2MjY1OTUwNX0.M10chqsOxOa6F0XgwRIrjcLa1n3AUGKtbFKKXL5VAs8",P=Mn(Ln,Rn),kr=f.createContext();function Z(){return f.useContext(kr)}function Cr({children:a}){const[s,t]=f.useState(null),[r,i]=f.useState(!0),[n,o]=f.useState(null);f.useEffect(()=>{(async()=>{try{const{data:j,error:b}=await P.auth.getSession();if(b)throw b;j&&j.session&&t(j.session.user)}catch(j){console.error("Error checking session:",j),o(j.message)}finally{i(!1)}})();const{data:w}=P.auth.onAuthStateChange(async(j,b)=>{if(b){if(t(b.user),j==="SIGNED_IN")try{const{data:E}=await P.from("profiles").select("*").eq("id",b.user.id).single();E||(await P.from("profiles").insert({id:b.user.id,email:b.user.email,role:"homeowner"}),await P.from("homeowner_profiles").insert({user_id:b.user.id}))}catch(E){console.error("Error creating profile:",E)}}else t(null)});return()=>{w&&w.subscription&&w.subscription.unsubscribe()}},[]);const p={user:s,loading:r,error:n,register:async(g,w,j="homeowner")=>{try{o(null);const{data:b,error:E}=await P.auth.signUp({email:g,password:w,options:{data:{role:j}}});if(E)throw E;return{data:b}}catch(b){return console.error("Error in registration:",b),o(b.message),{error:b}}},login:async(g,w)=>{try{o(null);const{data:j,error:b}=await P.auth.signInWithPassword({email:g,password:w});if(b)throw b;return{data:j}}catch(j){return console.error("Error in login:",j),o(j.message),{error:j}}},logout:async()=>{try{o(null);const{error:g}=await P.auth.signOut();if(g)throw g}catch(g){console.error("Error in logout:",g),o(g.message)}},resetPassword:async g=>{try{o(null);const{error:w}=await P.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/reset-password`});if(w)throw w;return{success:!0}}catch(w){return console.error("Error in reset password:",w),o(w.message),{error:w}}},updatePassword:async g=>{try{o(null);const{error:w}=await P.auth.updateUser({password:g});if(w)throw w;return{success:!0}}catch(w){return console.error("Error updating password:",w),o(w.message),{error:w}}},getUserProfile:async()=>{if(!s)return null;try{const{data:g,error:w}=await P.from("profiles").select("*").eq("id",s.id).single();if(w)throw w;return g}catch(g){return console.error("Error fetching user profile:",g),null}},updateUserProfile:async g=>{if(!s)return{error:"No user logged in"};try{const{data:w,error:j}=await P.from("profiles").update(g).eq("id",s.id).select().single();if(j)throw j;return{data:w}}catch(w){return console.error("Error updating profile:",w),{error:w}}}};return e.jsx(kr.Provider,{value:p,children:a})}const Sr=f.createContext();function es(){return f.useContext(Sr)}function Tn({children:a}){const{user:s}=Z(),[t,r]=f.useState(null),[i,n]=f.useState([]),[o,l]=f.useState([]),[c,m]=f.useState([]),[d,u]=f.useState(!0),[h,y]=f.useState(null);f.useEffect(()=>{s?p():(r(null),n([]),l([]),m([]),u(!1))},[s]);const p=async()=>{try{u(!0),y(null);const{data:$,error:A}=await P.from("homeowners").select("*").eq("id",s.id).single();if(A&&A.code!=="PGRST116")throw A;r($||null),$&&await Promise.all([g(),w(),j()])}catch($){console.error("Error fetching homeowner profile:",$),y("Failed to load homeowner profile")}finally{u(!1)}},g=async()=>{try{const{data:$,error:A}=await P.from("properties").select("*").eq("homeowner_id",s.id).order("is_primary",{ascending:!1}).order("created_at",{ascending:!1});if(A)throw A;n($||[])}catch($){console.error("Error fetching properties:",$)}},w=async()=>{try{const{data:$,error:A}=await P.from("vision_boards").select(`
          *,
          vision_board_items (*)
        `).eq("homeowner_id",s.id).order("created_at",{ascending:!1});if(A)throw A;l($||[])}catch($){console.error("Error fetching vision boards:",$)}},j=async()=>{try{const{data:$,error:A}=await P.from("project_plans").select(`
          *,
          properties (name),
          vision_boards (title)
        `).eq("homeowner_id",s.id).order("created_at",{ascending:!1});if(A)throw A;m($||[])}catch($){console.error("Error fetching project plans:",$)}},b=async $=>{try{u(!0),y(null);const{data:A,error:C}=await P.from("homeowners").insert([{id:s.id,...$}]).select();if(C)throw C;return r(A[0]),A[0]}catch(A){throw console.error("Error creating homeowner profile:",A),y("Failed to create homeowner profile"),A}finally{u(!1)}},E=async $=>{try{u(!0),y(null);const{data:A,error:C}=await P.from("homeowners").update($).eq("id",s.id).select();if(C)throw C;return r(A[0]),A[0]}catch(A){throw console.error("Error updating homeowner profile:",A),y("Failed to update homeowner profile"),A}finally{u(!1)}},H=async $=>{try{y(null),i.length===0&&($.is_primary=!0);const{data:A,error:C}=await P.from("properties").insert([{homeowner_id:s.id,...$}]).select();if(C)throw C;return n([...i,A[0]]),A[0]}catch(A){throw console.error("Error creating property:",A),y("Failed to create property"),A}},S=async($,A)=>{try{y(null);const{data:C,error:D}=await P.from("properties").update(A).eq("id",$).eq("homeowner_id",s.id).select();if(D)throw D;return n(i.map(G=>G.id===$?C[0]:G)),C[0]}catch(C){throw console.error("Error updating property:",C),y("Failed to update property"),C}},X={homeownerProfile:t,properties:i,visionBoards:o,projectPlans:c,loading:d,error:h,createHomeownerProfile:b,updateHomeownerProfile:E,createProperty:H,updateProperty:S,deleteProperty:async $=>{try{y(null);const{error:A}=await P.from("properties").delete().eq("id",$).eq("homeowner_id",s.id);if(A)throw A;n(i.filter(D=>D.id!==$));const C=i.find(D=>D.id===$);if(C!=null&&C.is_primary&&i.length>1){const D=i.find(G=>G.id!==$);D&&await S(D.id,{is_primary:!0})}}catch(A){throw console.error("Error deleting property:",A),y("Failed to delete property"),A}},createVisionBoard:async $=>{try{y(null);const{data:A,error:C}=await P.from("vision_boards").insert([{homeowner_id:s.id,...$}]).select();if(C)throw C;const D={...A[0],vision_board_items:[]};return l([D,...o]),D}catch(A){throw console.error("Error creating vision board:",A),y("Failed to create vision board"),A}},updateVisionBoard:async($,A)=>{try{y(null);const{data:C,error:D}=await P.from("vision_boards").update(A).eq("id",$).eq("homeowner_id",s.id).select();if(D)throw D;return l(o.map(G=>G.id===$?{...C[0],vision_board_items:G.vision_board_items}:G)),C[0]}catch(C){throw console.error("Error updating vision board:",C),y("Failed to update vision board"),C}},deleteVisionBoard:async $=>{try{y(null);const{error:A}=await P.from("vision_boards").delete().eq("id",$).eq("homeowner_id",s.id);if(A)throw A;l(o.filter(C=>C.id!==$))}catch(A){throw console.error("Error deleting vision board:",A),y("Failed to delete vision board"),A}},addVisionBoardItem:async($,A)=>{try{y(null);const{data:C,error:D}=await P.from("vision_board_items").insert([{vision_board_id:$,...A}]).select();if(D)throw D;return l(o.map(G=>G.id===$?{...G,vision_board_items:[...G.vision_board_items||[],C[0]]}:G)),C[0]}catch(C){throw console.error("Error adding vision board item:",C),y("Failed to add item to vision board"),C}},updateVisionBoardItem:async($,A,C)=>{try{y(null);const{data:D,error:G}=await P.from("vision_board_items").update(C).eq("id",$).eq("vision_board_id",A).select();if(G)throw G;return l(o.map(ie=>ie.id===A?{...ie,vision_board_items:ie.vision_board_items.map(Oe=>Oe.id===$?D[0]:Oe)}:ie)),D[0]}catch(D){throw console.error("Error updating vision board item:",D),y("Failed to update vision board item"),D}},deleteVisionBoardItem:async($,A)=>{try{y(null);const{error:C}=await P.from("vision_board_items").delete().eq("id",$).eq("vision_board_id",A);if(C)throw C;l(o.map(D=>D.id===A?{...D,vision_board_items:D.vision_board_items.filter(G=>G.id!==$)}:D))}catch(C){throw console.error("Error deleting vision board item:",C),y("Failed to delete vision board item"),C}},createProjectPlan:async $=>{try{y(null);const{data:A,error:C}=await P.from("project_plans").insert([{homeowner_id:s.id,...$}]).select(`
          *,
          properties (name),
          vision_boards (title)
        `);if(C)throw C;return m([A[0],...c]),A[0]}catch(A){throw console.error("Error creating project plan:",A),y("Failed to create project plan"),A}},updateProjectPlan:async($,A)=>{try{y(null);const{data:C,error:D}=await P.from("project_plans").update(A).eq("id",$).eq("homeowner_id",s.id).select(`
          *,
          properties (name),
          vision_boards (title)
        `);if(D)throw D;return m(c.map(G=>G.id===$?C[0]:G)),C[0]}catch(C){throw console.error("Error updating project plan:",C),y("Failed to update project plan"),C}},deleteProjectPlan:async $=>{try{y(null);const{error:A}=await P.from("project_plans").delete().eq("id",$).eq("homeowner_id",s.id);if(A)throw A;m(c.filter(C=>C.id!==$))}catch(A){throw console.error("Error deleting project plan:",A),y("Failed to delete project plan"),A}},createEstimateRequest:async $=>{try{y(null);const{data:A,error:C}=await P.from("estimate_requests").insert([{homeowner_id:s.id,...$}]).select();if(C)throw C;return A[0]}catch(A){throw console.error("Error creating estimate request:",A),y("Failed to create estimate request"),A}},refreshData:p};return e.jsx(Sr.Provider,{value:X,children:a})}const Dn=f.createContext();function $n({children:a}){const{user:s}=Z(),[t,r]=f.useState(null),[i,n]=f.useState([]),[o,l]=f.useState([]),[c,m]=f.useState([]),[d,u]=f.useState(!0),[h,y]=f.useState(null);f.useEffect(()=>{s?p():(r(null),n([]),l([]),m([]),u(!1))},[s]);const p=async()=>{try{u(!0),y(null);const{data:k,error:_}=await P.from("provider_profiles").select("*").eq("user_id",s.id).single();if(_&&_.code!=="PGRST116")throw _;r(k||null),k&&await Promise.all([g(),w(),j()])}catch(k){console.error("Error fetching provider profile:",k),y("Failed to load provider profile")}finally{u(!1)}},g=async()=>{try{const{data:k,error:_}=await P.from("provider_services").select("*").eq("provider_id",t.id).order("created_at",{ascending:!1});if(_)throw _;n(k||[])}catch(k){console.error("Error fetching services:",k)}},w=async()=>{try{const{data:k,error:_}=await P.from("jobs").select(`
          *,
          homeowner:homeowner_id (
            id,
            first_name,
            last_name,
            email
          ),
          property:property_id (
            id,
            address,
            city,
            state,
            zip_code
          )
        `).eq("provider_id",t.id).order("created_at",{ascending:!1});if(_)throw _;l(k||[])}catch(k){console.error("Error fetching jobs:",k)}},j=async()=>{try{const{data:k,error:_}=await P.from("provider_reviews").select(`
          *,
          homeowner:homeowner_id (
            id,
            first_name,
            last_name
          ),
          job:job_id (
            id,
            title
          )
        `).eq("provider_id",t.id).order("created_at",{ascending:!1});if(_)throw _;m(k||[])}catch(k){console.error("Error fetching reviews:",k)}},V={providerProfile:t,services:i,jobs:o,reviews:c,loading:d,error:h,fetchProviderProfile:p,createService:async k=>{try{if(!t)throw new Error("Provider profile not found");const{data:_,error:q}=await P.from("provider_services").insert({...k,provider_id:t.id}).select().single();if(q)throw q;return n(Y=>[_,...Y]),{data:_}}catch(_){return console.error("Error creating service:",_),{error:_}}},updateService:async(k,_)=>{try{const{data:q,error:Y}=await P.from("provider_services").update(_).eq("id",k).eq("provider_id",t.id).select().single();if(Y)throw Y;return n(X=>X.map($=>$.id===k?q:$)),{data:q}}catch(q){return console.error("Error updating service:",q),{error:q}}},deleteService:async k=>{try{const{error:_}=await P.from("provider_services").delete().eq("id",k).eq("provider_id",t.id);if(_)throw _;return n(q=>q.filter(Y=>Y.id!==k)),{success:!0}}catch(_){return console.error("Error deleting service:",_),{error:_}}},updateProviderProfile:async k=>{try{if(!t)throw new Error("Provider profile not found");const{data:_,error:q}=await P.from("provider_profiles").update(k).eq("id",t.id).select().single();if(q)throw q;return r(_),{data:_}}catch(_){return console.error("Error updating provider profile:",_),{error:_}}},acceptJob:async k=>{try{const{data:_,error:q}=await P.from("jobs").update({status:"accepted"}).eq("id",k).eq("provider_id",t.id).select().single();if(q)throw q;return l(Y=>Y.map(X=>X.id===k?_:X)),{data:_}}catch(_){return console.error("Error accepting job:",_),{error:_}}},declineJob:async k=>{try{const{data:_,error:q}=await P.from("jobs").update({status:"declined"}).eq("id",k).eq("provider_id",t.id).select().single();if(q)throw q;return l(Y=>Y.map(X=>X.id===k?_:X)),{data:_}}catch(_){return console.error("Error declining job:",_),{error:_}}},completeJob:async k=>{try{const{data:_,error:q}=await P.from("jobs").update({status:"completed"}).eq("id",k).eq("provider_id",t.id).select().single();if(q)throw q;return l(Y=>Y.map(X=>X.id===k?_:X)),{data:_}}catch(_){return console.error("Error completing job:",_),{error:_}}},getAvailableJobs:async()=>{try{const{data:k,error:_}=await P.from("jobs").select(`
          *,
          homeowner:homeowner_id (
            id,
            first_name,
            last_name,
            email
          ),
          property:property_id (
            id,
            address,
            city,
            state,
            zip_code
          )
        `).is("provider_id",null).eq("status","open").order("created_at",{ascending:!1});if(_)throw _;return{data:k}}catch(k){return console.error("Error fetching available jobs:",k),{error:k}}},applyForJob:async k=>{try{if(!t)throw new Error("Provider profile not found");const{data:_,error:q}=await P.from("jobs").select("*").eq("id",k).is("provider_id",null).eq("status","open").single();if(q)throw q;if(!_)throw new Error("Job is no longer available");const{data:Y,error:X}=await P.from("job_applications").insert({job_id:k,provider_id:t.id,status:"pending"}).select().single();if(X)throw X;return{data:Y}}catch(_){return console.error("Error applying for job:",_),{error:_}}},getJobApplications:async()=>{try{if(!t)throw new Error("Provider profile not found");const{data:k,error:_}=await P.from("job_applications").select(`
          *,
          job:job_id (
            *,
            homeowner:homeowner_id (
              id,
              first_name,
              last_name,
              email
            ),
            property:property_id (
              id,
              address,
              city,
              state,
              zip_code
            )
          )
        `).eq("provider_id",t.id).order("created_at",{ascending:!1});if(_)throw _;return{data:k}}catch(k){return console.error("Error fetching job applications:",k),{error:k}}}};return e.jsx(Dn.Provider,{value:V,children:a})}const Ot={async getApiKeys(){const{data:{user:a}}=await P.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=await P.from("api_keys").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching API keys:",t),t;return s||[]},async createApiKey(a){const{data:{user:s}}=await P.auth.getUser();if(!s)throw new Error("User not authenticated");const t=`sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{data:r,error:i}=await P.from("api_keys").insert({user_id:s.id,name:a.name,key_value:t,permissions:a.permissions||{},rate_limit:a.rate_limit||1e3,expires_at:a.expires_at||null,created_at:new Date().toISOString()}).select().single();if(i)throw console.error("Error creating API key:",i),i;return r},async revokeApiKey(a){const{data:{user:s}}=await P.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:t}=await P.from("api_keys").delete().eq("id",a).eq("user_id",s.id);if(t)throw console.error("Error revoking API key:",t),t},async validateApiKey(a){const{data:s,error:t}=await P.from("api_keys").select("*").eq("key_value",a).eq("is_active",!0).single();if(t)throw console.error("Error validating API key:",t),new Error("Invalid API key");if(s.expires_at&&new Date(s.expires_at)<new Date)throw new Error("API key has expired");return await P.from("api_keys").update({last_used_at:new Date().toISOString()}).eq("id",s.id),s}},Fn=f.createContext();function Bn({children:a}){const[s,t]=f.useState(null),[r,i]=f.useState(null),[n,o]=f.useState(!0),[l,c]=f.useState(null);f.useEffect(()=>{async function y(){try{o(!0),c(null);const{data:{user:g}}=await P.auth.getUser();if(!g){o(!1);return}const{data:w,error:j}=await P.from("admin_users").select(`
            *,
            role:role_id (
              id,
              name,
              permissions
            )
          `).eq("user_id",g.id).single();if(j&&j.code!=="PGRST116")throw j;w&&(t(w),i(w.role))}catch(g){console.error("Error loading admin data:",g),c("Failed to load admin data. Please try again.")}finally{o(!1)}}y();const{data:p}=P.auth.onAuthStateChange(()=>{y()});return()=>{p==null||p.subscription.unsubscribe()}},[]);const m=(y,p)=>{if(!r||!r.permissions)return!1;const g=r.permissions[y];return g?g[p]===!0:!1},h={adminUser:s,adminRole:r,loading:n,error:l,isAdmin:!!s,hasPermission:m,createApiKey:async y=>{if(!m("api_management","manage_keys"))throw new Error("You do not have permission to create API keys");return Ot.createApiKey(y)},revokeApiKey:async y=>{if(!m("api_management","manage_keys"))throw new Error("You do not have permission to revoke API keys");return Ot.revokeApiKey(y)}};return e.jsx(Fn.Provider,{value:h,children:a})}const Pr=()=>{var u,h;const[a,s]=f.useState(!1),[t,r]=f.useState(!1),{user:i,logout:n,userRole:o}=Z(),l=Cs(),c=Re(),m=async()=>{try{await n(),c("/login")}catch(y){console.error("Error logging out:",y)}},d=y=>l.pathname===y;return e.jsxs("nav",{className:"bg-white shadow-sm",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsxs(L,{to:"/",className:"text-xl font-bold text-primary-600 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsxs("div",{children:["Home Swerv",e.jsx("span",{className:"block text-xs text-gray-500 font-normal",children:"Your Community Hub"})]})]})}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[e.jsx(L,{to:"/",className:`${d("/")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:"Home"}),e.jsx(L,{to:"/about",className:`${d("/about")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:"About"}),e.jsx(L,{to:"/pricing",className:`${d("/pricing")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:"Pricing"}),e.jsx(L,{to:"/contact",className:`${d("/contact")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:"Contact"}),e.jsx(L,{to:"/community",className:`${l.pathname.startsWith("/community")?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:"Community"})]})]}),e.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:i?e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:()=>r(!t),children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700",children:((u=i.email)==null?void 0:u.charAt(0).toUpperCase())||"U"})]})}),t&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[e.jsx(L,{to:`/${o||"homeowner"}/dashboard`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",onClick:()=>r(!1),children:"Dashboard"}),e.jsx(L,{to:`/${o||"homeowner"}/profile`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-1",onClick:()=>r(!1),children:"Profile"}),e.jsx(L,{to:`/${o||"homeowner"}/settings`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-2",onClick:()=>r(!1),children:"Settings"}),e.jsx("button",{onClick:()=>{r(!1),m()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:"-1",id:"user-menu-item-3",children:"Sign out"})]})]}):e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(L,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-50 hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Sign in"}),e.jsx(L,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Sign up"})]})}),e.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>s(!a),children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),a?e.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),a&&e.jsxs("div",{className:"sm:hidden",id:"mobile-menu",children:[e.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[e.jsx(L,{to:"/",className:`${d("/")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200`,onClick:()=>s(!1),children:"Home"}),e.jsx(L,{to:"/about",className:`${d("/about")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200`,onClick:()=>s(!1),children:"About"}),e.jsx(L,{to:"/pricing",className:`${d("/pricing")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200`,onClick:()=>s(!1),children:"Pricing"}),e.jsx(L,{to:"/contact",className:`${d("/contact")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200`,onClick:()=>s(!1),children:"Contact"}),e.jsx(L,{to:"/community",className:`${l.pathname.startsWith("/community")?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200`,onClick:()=>s(!1),children:"Community"})]}),e.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center px-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700",children:((h=i.email)==null?void 0:h.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:i.email}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:(o==null?void 0:o.charAt(0).toUpperCase())+(o==null?void 0:o.slice(1))||"User"})]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(L,{to:`/${o||"homeowner"}/dashboard`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!1),children:"Dashboard"}),e.jsx(L,{to:`/${o||"homeowner"}/profile`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!1),children:"Profile"}),e.jsx(L,{to:`/${o||"homeowner"}/settings`,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!1),children:"Settings"}),e.jsx("button",{onClick:()=>{s(!1),m()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",children:"Sign out"})]})]}):e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(L,{to:"/login",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!1),children:"Sign in"}),e.jsx(L,{to:"/register",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-colors duration-200",onClick:()=>s(!1),children:"Sign up"})]})})]})]})},Er=()=>{const a=new Date().getFullYear();return e.jsx("footer",{className:"bg-gray-800 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Home Swerv"})]}),e.jsx("p",{className:"text-gray-300 text-sm mt-4",children:"Your Community Hub - Connecting homeowners with trusted service providers since 2023."}),e.jsxs("div",{className:"mt-6 flex space-x-6",children:[e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Homeowners"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(L,{to:"/homeowner/dashboard",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/homeowner/projects",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),"My Projects"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/homeowner/providers",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Find Providers"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/community",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),"Community Hub"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Providers"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(L,{to:"/provider/dashboard",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),e.jsx("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})]}),"Dashboard"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/provider/jobs",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]}),"Available Jobs"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/provider/profile",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),"Business Profile"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/provider/calendar",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Calendar"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(L,{to:"/about",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"About Us"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"Contact"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/pricing",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"Pricing"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Privacy Policy"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Terms of Service"]})}),e.jsx("li",{children:e.jsxs(L,{to:"/admin/login",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Admin Login"]})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",a," Home Swerv. All rights reserved."]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:["Made with ",e.jsx("span",{className:"text-red-500",children:""})," for homeowners and service providers"]})})]})})]})})},zn=()=>{const{loading:a}=Z();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Pr,{}),e.jsx("main",{className:"flex-grow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx(Ye,{})})}),e.jsx(Er,{})]})},On=()=>{const{loading:a}=Z();return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(L,{to:"/",children:e.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"ServiceConnect Pro"})})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsx(Ye,{})})})]})},In=()=>{var l;const{loading:a,logout:s,user:t}=Z(),r=Cs(),i=Re(),n=async()=>{try{await s(),i("/login")}catch(c){console.error("Error logging out:",c)}},o=c=>r.pathname===c;return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("nav",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx(L,{to:"/admin/dashboard",className:"text-xl font-bold text-primary-600",children:"Admin Dashboard"})})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-block h-8 w-8 rounded-full overflow-hidden bg-gray-100",children:e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary-100 text-primary-700",children:((l=t==null?void 0:t.email)==null?void 0:l.charAt(0).toUpperCase())||"A"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:t==null?void 0:t.email}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Administrator"})]}),e.jsx("button",{onClick:n,className:"ml-4 px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Logout"})]})]})})}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-64 mb-6 md:mb-0",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("nav",{className:"space-y-1",children:[e.jsx(L,{to:"/admin/dashboard",className:`${o("/admin/dashboard")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Dashboard"}),e.jsx(L,{to:"/admin/users",className:`${o("/admin/users")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Users"}),e.jsx(L,{to:"/admin/providers",className:`${o("/admin/providers")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Providers"}),e.jsx(L,{to:"/admin/reports",className:`${o("/admin/reports")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Reports"}),e.jsx(L,{to:"/admin/settings",className:`${o("/admin/settings")?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:"Settings"})]})})})}),e.jsx("div",{className:"md:ml-6 w-full",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx(Ye,{})})})})]})})})]})};function Vn({showSidebar:a,setShowSidebar:s,userType:t}){const r=Cs(),{user:i}=Z(),l=t==="provider"?[{name:"Dashboard",href:"/provider/dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{name:"Leads",href:"/provider/leads",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},{name:"Calendar",href:"/provider/calendar",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Services",href:"/provider/services",icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{name:"Portfolio",href:"/provider/portfolio",icon:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Analytics",href:"/provider/analytics",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{name:"Profile",href:"/provider/profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}]:[{name:"Dashboard",href:"/homeowner/dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{name:"Properties",href:"/homeowner/properties",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{name:"Vision Boards",href:"/homeowner/vision-boards",icon:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Project Plans",href:"/homeowner/project-plans",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},{name:"Find Providers",href:"/homeowner/find-providers",icon:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},{name:"Estimates",href:"/homeowner/estimate-requests",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},{name:"Bookings",href:"/homeowner/bookings",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Messages",href:"/homeowner/messages",icon:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},{name:"Inspiration",href:"/homeowner/inspiration",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},{name:"Profile",href:"/homeowner/profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}];return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),e.jsx("div",{className:`md:flex md:flex-shrink-0 ${a?"fixed inset-0 flex z-40 md:static md:inset-auto md:translate-x-0":"hidden"}`,children:e.jsx("div",{className:"md:w-64 flex flex-col",children:e.jsxs("div",{className:"flex flex-col h-0 flex-1 bg-white border-r border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"ServiceConnect Pro"})}),e.jsx("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:l.map(c=>{const m=r.pathname===c.href||r.pathname.startsWith(`${c.href}/`);return e.jsxs(L,{to:c.href,className:`${m?"bg-primary-50 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-sm font-medium rounded-md`,children:[e.jsx("svg",{className:`${m?"text-primary-500":"text-gray-400 group-hover:text-gray-500"} mr-3 flex-shrink-0 h-6 w-6`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:c.icon})}),c.name]},c.name)})})]}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:e.jsx("div",{className:"flex-shrink-0 w-full group block",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{children:e.jsx("svg",{className:"inline-block h-9 w-9 rounded-full text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:i==null?void 0:i.email}),e.jsx("p",{className:"text-xs font-medium text-gray-500 group-hover:text-gray-700",children:t==="provider"?"Service Provider":"Homeowner"})]})]})})})]})})})]})}const Un=a=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})});function Ws(...a){return a.filter(Boolean).join(" ")}function Hn({toggleSidebar:a,userType:s}){var o;const{user:t,providerProfile:r,signOut:i}=Z(),{homeownerProfile:n}=es();return e.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:a,children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),e.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[e.jsx("div",{className:"flex-1 flex items-center",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{id:"search",name:"search",className:"block w-full bg-white border border-gray-300 rounded-md py-2 pl-10 pr-3 text-sm placeholder-gray-500 focus:outline-none focus:text-gray-900 focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search",type:"search"})]})]})}),e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(Un,{className:"h-6 w-6","aria-hidden":"true"})]}),e.jsxs(Ie,{as:"div",className:"ml-3 relative",children:[e.jsx("div",{children:e.jsxs(Ie.Button,{className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("span",{className:"sr-only",children:"Open user menu"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center text-white font-bold",children:s==="provider"&&(r!=null&&r.business_name)?r.business_name.charAt(0):s==="homeowner"&&(n!=null&&n.first_name)?n.first_name.charAt(0):((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"})]})}),e.jsx(Yr,{as:f.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsxs(Ie.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[e.jsx(Ie.Item,{children:({active:l})=>e.jsx(L,{to:`/${s}/profile`,className:Ws(l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Your Profile"})}),e.jsx(Ie.Item,{children:({active:l})=>e.jsx(L,{to:`/${s}/settings`,className:Ws(l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Settings"})}),e.jsx(Ie.Item,{children:({active:l})=>e.jsx("button",{onClick:i,className:Ws(l?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700"),children:"Sign out"})})]})})]})]})]})]})}function qn(){const{user:a,createProviderProfile:s}=Z(),{createHomeownerProfile:t}=es(),[r,i]=f.useState(""),[n,o]=f.useState({business_name:"",contact_name:"",phone:"",first_name:"",last_name:"",phone_homeowner:""}),[l,c]=f.useState(!1),[m,d]=f.useState(null),u=Re(),h=p=>{const{name:g,value:w}=p.target;o({...n,[g]:w})},y=async p=>{p.preventDefault();try{c(!0),d(null),r==="provider"?(await s({business_name:n.business_name,contact_name:n.contact_name,email:a.email,phone:n.phone}),u("/provider/dashboard")):r==="homeowner"&&(await t({first_name:n.first_name,last_name:n.last_name,email:a.email,phone:n.phone_homeowner}),u("/homeowner/dashboard"))}catch(g){console.error("Error creating profile:",g),d("Failed to create profile. Please try again.")}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to ServiceConnect Pro"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please select how you want to use our platform"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:m})})]})]})}),r?e.jsxs("form",{className:"space-y-6",onSubmit:y,children:[r==="provider"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"business_name",name:"business_name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.business_name,onChange:h})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contact_name",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"contact_name",name:"contact_name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.contact_name,onChange:h})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",name:"phone",type:"tel",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.phone,onChange:h})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first_name",name:"first_name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.first_name,onChange:h})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last_name",name:"last_name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.last_name,onChange:h})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_homeowner",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone_homeowner",name:"phone_homeowner",type:"tel",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n.phone_homeowner,onChange:h})})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"button",onClick:()=>i(""),className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"Back to selection"})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:l,children:l?"Creating profile...":"Continue"})})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>i("provider"),className:"w-full flex justify-center py-6 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("div",{className:"mt-2 font-medium text-gray-900",children:"Service Provider"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Offer services to homeowners"})]})}),e.jsx("button",{type:"button",onClick:()=>i("homeowner"),className:"w-full flex justify-center py-6 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("div",{className:"mt-2 font-medium text-gray-900",children:"Homeowner"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Find services for your home"})]})})]})})]})})]})}function Ar({userType:a}){const{user:s,providerProfile:t,loading:r}=Z(),{homeownerProfile:i,loading:n}=es(),[o,l]=f.useState(!0),[c,m]=f.useState(!1),d=Re();f.useEffect(()=>{if(!r&&!n&&s){const h=!!t,y=!!i;h&&y?a==="provider"&&!window.location.pathname.startsWith("/provider/")?d("/provider/dashboard"):a==="homeowner"&&!window.location.pathname.startsWith("/homeowner/")&&d("/homeowner/dashboard"):h&&a==="homeowner"?d("/provider/dashboard"):y&&a==="provider"?d("/homeowner/dashboard"):!h&&!y&&m(!0)}},[s,t,i,r,n,a,d]);const u=()=>{l(!o)};return r||n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c?e.jsx(qn,{}):e.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[e.jsx(Vn,{showSidebar:o,setShowSidebar:l,userType:a}),e.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[e.jsx(Hn,{toggleSidebar:u,userType:a}),e.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e.jsx(Ye,{})})})})]})]})}const Wn=()=>{const{user:a,loading:s,providerProfile:t}=Z();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):a?!t&&!s?e.jsx(bs,{to:"/provider/create-profile",replace:!0}):e.jsx(Ar,{userType:"provider",children:e.jsx(Ye,{})}):e.jsx(bs,{to:"/login",replace:!0})},Jn=()=>{const{user:a,loading:s,homeownerProfile:t}=Z();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):a?!t&&!s?e.jsx(bs,{to:"/homeowner/create-profile",replace:!0}):e.jsx(Ar,{userType:"homeowner",children:e.jsx(Ye,{})}):e.jsx(bs,{to:"/login",replace:!0})},Kn=()=>e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Pr,{}),e.jsxs("main",{className:"flex-grow",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-700 to-primary-600 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-pattern opacity-10"}),e.jsx("div",{className:"max-w-7xl mx-auto py-20 px-4 sm:py-28 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Home Swerv"}),e.jsx("p",{className:"mt-2 text-2xl font-medium text-primary-100",children:"Your Community Hub"}),e.jsx("p",{className:"mt-6 max-w-lg mx-auto text-xl text-white",children:"Find qualified professionals for your home projects and manage everything in one place."}),e.jsx("div",{className:"mt-10 flex justify-center",children:e.jsxs(L,{to:"/ai-concierge",className:"inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-primary-600 bg-white shadow-md hover:bg-primary-50 transition-all duration-200 transform hover:-translate-y-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Go To Your Home Concierge"]})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full h-auto",children:e.jsx("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]}),e.jsx("div",{className:"bg-white py-8 border-b border-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("p",{className:"text-center text-sm font-medium text-gray-500 uppercase tracking-wider mb-6",children:"Trusted by homeowners and service providers across the country"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-6 lg:grid-cols-5",children:[e.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.jsx("img",{className:"h-12 opacity-60",src:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Trusted company"})}),e.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.jsx("img",{className:"h-12 opacity-60",src:"https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Trusted company"})}),e.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.jsx("img",{className:"h-12 opacity-60",src:"https://images.pexels.com/photos/3184296/pexels-photo-3184296.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Trusted company"})}),e.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.jsx("img",{className:"h-12 opacity-60",src:"https://images.pexels.com/photos/3184293/pexels-photo-3184293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Trusted company"})}),e.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.jsx("img",{className:"h-12 opacity-60",src:"https://images.pexels.com/photos/3184287/pexels-photo-3184287.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Trusted company"})})]})]})}),e.jsx("div",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Features"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Everything you need for your home projects"}),e.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Our platform makes it easy to find, hire, and manage service providers for all your home improvement needs."})]}),e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"space-y-12 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-14 w-14 rounded-xl bg-primary-100 text-primary-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsxs("div",{className:"ml-20",children:[e.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Find Trusted Providers"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Browse verified service providers with ratings and reviews from homeowners in your area. Our verification process ensures you're working with qualified professionals."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-14 w-14 rounded-xl bg-primary-100 text-primary-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"ml-20",children:[e.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Project Management"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Create and manage projects, track progress, and communicate with providers all in one place. Set milestones, share documents, and keep everything organized."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-14 w-14 rounded-xl bg-primary-100 text-primary-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"ml-20",children:[e.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Smart Scheduling"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Book appointments and manage your calendar to keep your projects on track. Receive reminders and sync with your favorite calendar apps for seamless planning."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-14 w-14 rounded-xl bg-primary-100 text-primary-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("div",{className:"ml-20",children:[e.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Secure Messaging"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"Communicate directly with service providers through our secure messaging system. Share photos, documents, and project details in a centralized conversation."})]})]})]})})]})}),e.jsx("div",{className:"bg-gray-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center mb-16",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"How It Works"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Simple steps to get your project done"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 right-0 h-0.5 bg-primary-100 transform -translate-y-1/2 z-0"}),e.jsxs("div",{className:"relative z-10 grid grid-cols-1 gap-12 md:grid-cols-4",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-white border-2 border-primary-600 text-primary-600 mb-4",children:e.jsx("span",{className:"text-xl font-bold",children:"1"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Create Your Project"}),e.jsx("p",{className:"text-base text-gray-500",children:"Describe what you need done and provide details about your home project."})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-white border-2 border-primary-600 text-primary-600 mb-4",children:e.jsx("span",{className:"text-xl font-bold",children:"2"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Match with Providers"}),e.jsx("p",{className:"text-base text-gray-500",children:"Get matched with qualified service providers in your area who can help."})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-white border-2 border-primary-600 text-primary-600 mb-4",children:e.jsx("span",{className:"text-xl font-bold",children:"3"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Compare & Select"}),e.jsx("p",{className:"text-base text-gray-500",children:"Review profiles, compare quotes, and select the best provider for your needs."})]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-white border-2 border-primary-600 text-primary-600 mb-4",children:e.jsx("span",{className:"text-xl font-bold",children:"4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Complete Your Project"}),e.jsx("p",{className:"text-base text-gray-500",children:"Work with your provider through our platform and enjoy your completed project."})]})]})]})]})}),e.jsx("div",{className:"bg-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center mb-12",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Featured Projects"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Get inspired by completed projects"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-card hover:shadow-lg transition-shadow duration-300",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Modern kitchen renovation",className:"w-full h-56 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Kitchen Renovation"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Modern Kitchen Transformation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Complete kitchen remodel with custom cabinets, quartz countertops, and new appliances."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-sm",children:"JD"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"John D."})]}),e.jsx(L,{to:"/community/project/1",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details "})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-card hover:shadow-lg transition-shadow duration-300",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Bathroom remodel",className:"w-full h-56 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Bathroom Remodel"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Luxury Bathroom Upgrade"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Complete bathroom renovation with walk-in shower, freestanding tub, and heated floors."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-sm",children:"SM"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Sarah M."})]}),e.jsx(L,{to:"/community/project/2",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details "})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-card hover:shadow-lg transition-shadow duration-300",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Backyard landscaping",className:"w-full h-56 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Landscaping"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Backyard Oasis Creation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Complete backyard transformation with patio, fire pit, and professional landscaping."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-sm",children:"RJ"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Robert J."})]}),e.jsx(L,{to:"/community/project/3",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details "})]})]})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs(L,{to:"/community",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:["Explore More Projects",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),e.jsx("div",{className:"bg-gray-50 py-16 sm:py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center mb-12",children:[e.jsx("h2",{className:"text-base text-primary-600 font-semibold tracking-wide uppercase",children:"Testimonials"}),e.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"What our users are saying"})]}),e.jsx("div",{className:"mt-10",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-soft hover:shadow-card transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("img",{src:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"John Doe",className:"h-14 w-14 rounded-full object-cover"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"John Doe"}),e.jsx("p",{className:"text-gray-500",children:"Homeowner"})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:'"I found a great plumber through Home Swerv. The whole process was smooth, and I could track the project from start to finish. The platform made communication easy and stress-free."'}),e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(a=>e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-soft hover:shadow-card transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("img",{src:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Jane Smith",className:"h-14 w-14 rounded-full object-cover"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Jane Smith"}),e.jsx("p",{className:"text-gray-500",children:"Service Provider"})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:'"As an electrician, this platform has helped me find new clients and grow my business. The scheduling tools save me hours every week, and the payment system is reliable and fast."'}),e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(a=>e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-soft hover:shadow-card transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("img",{src:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Robert Johnson",className:"h-14 w-14 rounded-full object-cover"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Robert Johnson"}),e.jsx("p",{className:"text-gray-500",children:"Homeowner"})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:`"The community inspiration hub gave me great ideas for my kitchen renovation. I found a contractor through the platform and couldn't be happier with the results."`}),e.jsx("div",{className:"flex",children:[1,2,3,4,5].map((a,s)=>e.jsx("svg",{className:`h-5 w-5 ${s<4?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]})]})})]})}),e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"max-w-xl",children:[e.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block text-primary-600",children:"Create your account today."})]}),e.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Join thousands of homeowners and service providers who are already using Home Swerv to simplify their home improvement projects."})]}),e.jsxs("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0 lg:ml-8",children:[e.jsx("div",{className:"inline-flex rounded-md shadow",children:e.jsx(L,{to:"/register",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-all duration-200",children:"Sign up"})}),e.jsx("div",{className:"ml-3 inline-flex rounded-md shadow",children:e.jsx(L,{to:"/login",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 transition-all duration-200",children:"Sign in"})})]})]})})]}),e.jsx(Er,{})]}),Gn=()=>e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"relative bg-blue-600",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{className:"w-full h-full object-cover",src:"https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"About us"}),e.jsx("div",{className:"absolute inset-0 bg-blue-700 mix-blend-multiply","aria-hidden":"true"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl",children:"About Us"}),e.jsx("p",{className:"mt-6 text-xl text-blue-100 max-w-3xl",children:"We're on a mission to transform how homeowners connect with service providers, making home improvement simpler and more reliable."})]})]}),e.jsx("div",{className:"py-16 bg-white overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Our Story"}),e.jsx("p",{className:"mt-2 text-3xl font-extrabold text-gray-900 tracking-tight sm:text-4xl",children:"Building a better way to improve homes"}),e.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"HomeServiceHub was founded in 2023 with a simple idea: make home improvement and maintenance accessible, transparent, and stress-free for everyone."}),e.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"After experiencing the frustration of finding reliable contractors for our own home projects, we realized there had to be a better way. We built HomeServiceHub to solve this problem, creating a platform where homeowners can easily find verified professionals, and service providers can connect with clients who value quality work."})]}),e.jsx("div",{className:"mt-12 relative text-base max-w-prose mx-auto lg:mt-0",children:e.jsx("div",{className:"aspect-w-12 aspect-h-7 lg:aspect-none",children:e.jsx("img",{className:"rounded-lg shadow-lg object-cover object-center",src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team meeting",width:"1184",height:"1376"})})})]})})}),e.jsx("div",{className:"bg-gray-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-base font-semibold text-blue-600 tracking-wide uppercase",children:"Our Values"}),e.jsx("p",{className:"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight",children:"What drives us"}),e.jsx("p",{className:"max-w-xl mt-5 mx-auto text-xl text-gray-500",children:"Our core values guide everything we do, from how we build our platform to how we interact with our community."})]}),e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Trust & Transparency"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We believe in building trust through transparency. We verify our service providers and encourage honest reviews to create a trustworthy marketplace."})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Innovation"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We're constantly looking for new ways to improve the home service experience, from our platform features to how we support our community."})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("div",{className:"ml-5",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Community"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-base text-gray-500",children:"We're building more than a platformwe're creating a community where homeowners and service providers can connect, share ideas, and help each other succeed."})})]})})]})})]})}),e.jsx("div",{className:"bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 text-center sm:px-6 lg:px-8 lg:py-24",children:e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-5 sm:mx-auto sm:max-w-xl sm:space-y-4 lg:max-w-5xl",children:[e.jsx("h2",{className:"text-3xl font-extrabold tracking-tight sm:text-4xl",children:"Meet our team"}),e.jsx("p",{className:"text-xl text-gray-500",children:"Our diverse team brings together expertise in technology, home improvement, and customer service to create the best possible platform."})]}),e.jsxs("ul",{className:"mx-auto space-y-16 sm:grid sm:grid-cols-2 sm:gap-16 sm:space-y-0 lg:grid-cols-3 lg:max-w-5xl",children:[e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Emma Rodriguez"}),e.jsx("p",{className:"text-blue-600",children:"CEO & Co-Founder"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Marcus Chen"}),e.jsx("p",{className:"text-blue-600",children:"CTO & Co-Founder"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{className:"mx-auto h-40 w-40 rounded-full xl:w-56 xl:h-56 object-cover",src:"https://images.pexels.com/photos/3769021/pexels-photo-3769021.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Team member"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-lg leading-6 font-medium space-y-1",children:[e.jsx("h3",{children:"Sophia Williams"}),e.jsx("p",{className:"text-blue-600",children:"Head of Customer Experience"})]}),e.jsxs("ul",{className:"flex justify-center space-x-5",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})})]})]})]})})]})]})})})]});var us=a=>a.type==="checkbox",Be=a=>a instanceof Date,he=a=>a==null;const Mr=a=>typeof a=="object";var ae=a=>!he(a)&&!Array.isArray(a)&&Mr(a)&&!Be(a),Zn=a=>ae(a)&&a.target?us(a.target)?a.target.checked:a.target.value:a,Yn=a=>a.substring(0,a.search(/\.\d+(\.|$)/))||a,Qn=(a,s)=>a.has(Yn(s)),Xn=a=>{const s=a.constructor&&a.constructor.prototype;return ae(s)&&s.hasOwnProperty("isPrototypeOf")},dt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function de(a){let s;const t=Array.isArray(a),r=typeof FileList<"u"?a instanceof FileList:!1;if(a instanceof Date)s=new Date(a);else if(a instanceof Set)s=new Set(a);else if(!(dt&&(a instanceof Blob||r))&&(t||ae(a)))if(s=t?[]:{},!t&&!Xn(a))s=a;else for(const i in a)a.hasOwnProperty(i)&&(s[i]=de(a[i]));else return a;return s}var Ds=a=>Array.isArray(a)?a.filter(Boolean):[],ne=a=>a===void 0,z=(a,s,t)=>{if(!s||!ae(a))return t;const r=Ds(s.split(/[,[\].]+?/)).reduce((i,n)=>he(i)?i:i[n],a);return ne(r)||r===a?ne(a[s])?t:a[s]:r},Ne=a=>typeof a=="boolean",mt=a=>/^\w*$/.test(a),Lr=a=>Ds(a.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(a,s,t)=>{let r=-1;const i=mt(s)?[s]:Lr(s),n=i.length,o=n-1;for(;++r<n;){const l=i[r];let c=t;if(r!==o){const m=a[l];c=ae(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;a[l]=c,a=a[l]}};const It={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},we={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ke={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ye.createContext(null);var eo=(a,s,t,r=!0)=>{const i={defaultValues:s._defaultValues};for(const n in a)Object.defineProperty(i,n,{get:()=>{const o=n;return s._proxyFormState[o]!==we.all&&(s._proxyFormState[o]=!r||we.all),t&&(t[o]=!0),a[o]}});return i};const so=typeof window<"u"?f.useLayoutEffect:f.useEffect;var _e=a=>typeof a=="string",to=(a,s,t,r,i)=>_e(a)?(r&&s.watch.add(a),z(t,a,i)):Array.isArray(a)?a.map(n=>(r&&s.watch.add(n),z(t,n))):(r&&(s.watchAll=!0),t),ro=(a,s,t,r,i)=>s?{...t[a],types:{...t[a]&&t[a].types?t[a].types:{},[r]:i||!0}}:{},ls=a=>Array.isArray(a)?a:[a],Vt=()=>{let a=[];return{get observers(){return a},next:i=>{for(const n of a)n.next&&n.next(i)},subscribe:i=>(a.push(i),{unsubscribe:()=>{a=a.filter(n=>n!==i)}}),unsubscribe:()=>{a=[]}}},rt=a=>he(a)||!Mr(a);function Le(a,s){if(rt(a)||rt(s))return a===s;if(Be(a)&&Be(s))return a.getTime()===s.getTime();const t=Object.keys(a),r=Object.keys(s);if(t.length!==r.length)return!1;for(const i of t){const n=a[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=s[i];if(Be(n)&&Be(o)||ae(n)&&ae(o)||Array.isArray(n)&&Array.isArray(o)?!Le(n,o):n!==o)return!1}}return!0}var me=a=>ae(a)&&!Object.keys(a).length,ht=a=>a.type==="file",be=a=>typeof a=="function",Ns=a=>{if(!dt)return!1;const s=a?a.ownerDocument:0;return a instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Rr=a=>a.type==="select-multiple",ut=a=>a.type==="radio",ao=a=>ut(a)||us(a),Js=a=>Ns(a)&&a.isConnected;function io(a,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)a=ne(a)?r++:a[s[r++]];return a}function no(a){for(const s in a)if(a.hasOwnProperty(s)&&!ne(a[s]))return!1;return!0}function oe(a,s){const t=Array.isArray(s)?s:mt(s)?[s]:Lr(s),r=t.length===1?a:io(a,t),i=t.length-1,n=t[i];return r&&delete r[n],i!==0&&(ae(r)&&me(r)||Array.isArray(r)&&no(r))&&oe(a,t.slice(0,-1)),a}var Tr=a=>{for(const s in a)if(be(a[s]))return!0;return!1};function _s(a,s={}){const t=Array.isArray(a);if(ae(a)||t)for(const r in a)Array.isArray(a[r])||ae(a[r])&&!Tr(a[r])?(s[r]=Array.isArray(a[r])?[]:{},_s(a[r],s[r])):he(a[r])||(s[r]=!0);return s}function Dr(a,s,t){const r=Array.isArray(a);if(ae(a)||r)for(const i in a)Array.isArray(a[i])||ae(a[i])&&!Tr(a[i])?ne(s)||rt(t[i])?t[i]=Array.isArray(a[i])?_s(a[i],[]):{..._s(a[i])}:Dr(a[i],he(s)?{}:s[i],t[i]):t[i]=!Le(a[i],s[i]);return t}var ts=(a,s)=>Dr(a,s,_s(s));const Ut={value:!1,isValid:!1},Ht={value:!0,isValid:!0};var $r=a=>{if(Array.isArray(a)){if(a.length>1){const s=a.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!ne(a[0].attributes.value)?ne(a[0].value)||a[0].value===""?Ht:{value:a[0].value,isValid:!0}:Ht:Ut}return Ut},Fr=(a,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>ne(a)?a:s?a===""?NaN:a&&+a:t&&_e(a)?new Date(a):r?r(a):a;const qt={isValid:!1,value:null};var Br=a=>Array.isArray(a)?a.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,qt):qt;function Wt(a){const s=a.ref;return ht(s)?s.files:ut(s)?Br(a.refs).value:Rr(s)?[...s.selectedOptions].map(({value:t})=>t):us(s)?$r(a.refs).value:Fr(ne(s.value)?a.ref.value:s.value,a)}var oo=(a,s,t,r)=>{const i={};for(const n of a){const o=z(s,n);o&&re(i,n,o._f)}return{criteriaMode:t,names:[...a],fields:i,shouldUseNativeValidation:r}},ks=a=>a instanceof RegExp,rs=a=>ne(a)?a:ks(a)?a.source:ae(a)?ks(a.value)?a.value.source:a.value:a,Jt=a=>({isOnSubmit:!a||a===we.onSubmit,isOnBlur:a===we.onBlur,isOnChange:a===we.onChange,isOnAll:a===we.all,isOnTouch:a===we.onTouched});const Kt="AsyncFunction";var lo=a=>!!a&&!!a.validate&&!!(be(a.validate)&&a.validate.constructor.name===Kt||ae(a.validate)&&Object.values(a.validate).find(s=>s.constructor.name===Kt)),co=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate),Gt=(a,s,t)=>!t&&(s.watchAll||s.watch.has(a)||[...s.watch].some(r=>a.startsWith(r)&&/^\.\w+/.test(a.slice(r.length))));const cs=(a,s,t,r)=>{for(const i of t||Object.keys(a)){const n=z(a,i);if(n){const{_f:o,...l}=n;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],i)&&!r)return!0;if(o.ref&&s(o.ref,o.name)&&!r)return!0;if(cs(l,s))break}else if(ae(l)&&cs(l,s))break}}};function Zt(a,s,t){const r=z(a,t);if(r||mt(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const n=i.join("."),o=z(s,n),l=z(a,n);if(o&&!Array.isArray(o)&&t!==n)return{name:t};if(l&&l.type)return{name:n,error:l};i.pop()}return{name:t}}var mo=(a,s,t,r)=>{t(a);const{name:i,...n}=a;return me(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(o=>s[o]===(!r||we.all))},ho=(a,s,t)=>!a||!s||a===s||ls(a).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r))),uo=(a,s,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(s||a):(t?r.isOnBlur:i.isOnBlur)?!a:(t?r.isOnChange:i.isOnChange)?a:!0,xo=(a,s)=>!Ds(z(a,s)).length&&oe(a,s),po=(a,s,t)=>{const r=ls(z(a,t));return re(r,"root",s[t]),re(a,t,r),a},ws=a=>_e(a);function Yt(a,s,t="validate"){if(ws(a)||Array.isArray(a)&&a.every(ws)||Ne(a)&&!a)return{type:t,message:ws(a)?a:"",ref:s}}var qe=a=>ae(a)&&!ks(a)?a:{value:a,message:""},Qt=async(a,s,t,r,i,n)=>{const{ref:o,refs:l,required:c,maxLength:m,minLength:d,min:u,max:h,pattern:y,validate:p,name:g,valueAsNumber:w,mount:j}=a._f,b=z(t,g);if(!j||s.has(g))return{};const E=l?l[0]:o,H=V=>{i&&E.reportValidity&&(E.setCustomValidity(Ne(V)?"":V||""),E.reportValidity())},S={},I=ut(o),ee=us(o),ce=I||ee,B=(w||ht(o))&&ne(o.value)&&ne(b)||Ns(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,T=ro.bind(null,g,r,S),O=(V,k,_,q=ke.maxLength,Y=ke.minLength)=>{const X=V?k:_;S[g]={type:V?q:Y,message:X,ref:o,...T(V?q:Y,X)}};if(n?!Array.isArray(b)||!b.length:c&&(!ce&&(B||he(b))||Ne(b)&&!b||ee&&!$r(l).isValid||I&&!Br(l).isValid)){const{value:V,message:k}=ws(c)?{value:!!c,message:c}:qe(c);if(V&&(S[g]={type:ke.required,message:k,ref:E,...T(ke.required,k)},!r))return H(k),S}if(!B&&(!he(u)||!he(h))){let V,k;const _=qe(h),q=qe(u);if(!he(b)&&!isNaN(b)){const Y=o.valueAsNumber||b&&+b;he(_.value)||(V=Y>_.value),he(q.value)||(k=Y<q.value)}else{const Y=o.valueAsDate||new Date(b),X=C=>new Date(new Date().toDateString()+" "+C),$=o.type=="time",A=o.type=="week";_e(_.value)&&b&&(V=$?X(b)>X(_.value):A?b>_.value:Y>new Date(_.value)),_e(q.value)&&b&&(k=$?X(b)<X(q.value):A?b<q.value:Y<new Date(q.value))}if((V||k)&&(O(!!V,_.message,q.message,ke.max,ke.min),!r))return H(S[g].message),S}if((m||d)&&!B&&(_e(b)||n&&Array.isArray(b))){const V=qe(m),k=qe(d),_=!he(V.value)&&b.length>+V.value,q=!he(k.value)&&b.length<+k.value;if((_||q)&&(O(_,V.message,k.message),!r))return H(S[g].message),S}if(y&&!B&&_e(b)){const{value:V,message:k}=qe(y);if(ks(V)&&!b.match(V)&&(S[g]={type:ke.pattern,message:k,ref:o,...T(ke.pattern,k)},!r))return H(k),S}if(p){if(be(p)){const V=await p(b,t),k=Yt(V,E);if(k&&(S[g]={...k,...T(ke.validate,k.message)},!r))return H(k.message),S}else if(ae(p)){let V={};for(const k in p){if(!me(V)&&!r)break;const _=Yt(await p[k](b,t),E,k);_&&(V={..._,...T(k,_.message)},H(_.message),r&&(S[g]=V))}if(!me(V)&&(S[g]={ref:E,...V},!r))return S}}return H(!0),S};const go={mode:we.onSubmit,reValidateMode:we.onChange,shouldFocusError:!0};function fo(a={}){let s={...go,...a},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:be(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const r={};let i=ae(s.defaultValues)||ae(s.values)?de(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:de(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,m=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const h={array:Vt(),state:Vt()},y=s.criteriaMode===we.all,p=x=>v=>{clearTimeout(m),m=setTimeout(x,v)},g=async x=>{if(!s.disabled&&(d.isValid||u.isValid||x)){const v=s.resolver?me((await ee()).errors):await B(r,!0);v!==t.isValid&&h.state.next({isValid:v})}},w=(x,v)=>{!s.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((x||Array.from(l.mount)).forEach(N=>{N&&(v?re(t.validatingFields,N,v):oe(t.validatingFields,N))}),h.state.next({validatingFields:t.validatingFields,isValidating:!me(t.validatingFields)}))},j=(x,v=[],N,F,R=!0,M=!0)=>{if(F&&N&&!s.disabled){if(o.action=!0,M&&Array.isArray(z(r,x))){const U=N(z(r,x),F.argA,F.argB);R&&re(r,x,U)}if(M&&Array.isArray(z(t.errors,x))){const U=N(z(t.errors,x),F.argA,F.argB);R&&re(t.errors,x,U),xo(t.errors,x)}if((d.touchedFields||u.touchedFields)&&M&&Array.isArray(z(t.touchedFields,x))){const U=N(z(t.touchedFields,x),F.argA,F.argB);R&&re(t.touchedFields,x,U)}(d.dirtyFields||u.dirtyFields)&&(t.dirtyFields=ts(i,n)),h.state.next({name:x,isDirty:O(x,v),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else re(n,x,v)},b=(x,v)=>{re(t.errors,x,v),h.state.next({errors:t.errors})},E=x=>{t.errors=x,h.state.next({errors:t.errors,isValid:!1})},H=(x,v,N,F)=>{const R=z(r,x);if(R){const M=z(n,x,ne(N)?z(i,x):N);ne(M)||F&&F.defaultChecked||v?re(n,x,v?M:Wt(R._f)):_(x,M),o.mount&&g()}},S=(x,v,N,F,R)=>{let M=!1,U=!1;const Q={name:x};if(!s.disabled){if(!N||F){(d.isDirty||u.isDirty)&&(U=t.isDirty,t.isDirty=Q.isDirty=O(),M=U!==Q.isDirty);const se=Le(z(i,x),v);U=!!z(t.dirtyFields,x),se?oe(t.dirtyFields,x):re(t.dirtyFields,x,!0),Q.dirtyFields=t.dirtyFields,M=M||(d.dirtyFields||u.dirtyFields)&&U!==!se}if(N){const se=z(t.touchedFields,x);se||(re(t.touchedFields,x,N),Q.touchedFields=t.touchedFields,M=M||(d.touchedFields||u.touchedFields)&&se!==N)}M&&R&&h.state.next(Q)}return M?Q:{}},I=(x,v,N,F)=>{const R=z(t.errors,x),M=(d.isValid||u.isValid)&&Ne(v)&&t.isValid!==v;if(s.delayError&&N?(c=p(()=>b(x,N)),c(s.delayError)):(clearTimeout(m),c=null,N?re(t.errors,x,N):oe(t.errors,x)),(N?!Le(R,N):R)||!me(F)||M){const U={...F,...M&&Ne(v)?{isValid:v}:{},errors:t.errors,name:x};t={...t,...U},h.state.next(U)}},ee=async x=>{w(x,!0);const v=await s.resolver(n,s.context,oo(x||l.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return w(x),v},ce=async x=>{const{errors:v}=await ee(x);if(x)for(const N of x){const F=z(v,N);F?re(t.errors,N,F):oe(t.errors,N)}else t.errors=v;return v},B=async(x,v,N={valid:!0})=>{for(const F in x){const R=x[F];if(R){const{_f:M,...U}=R;if(M){const Q=l.array.has(M.name),se=R._f&&lo(R._f);se&&d.validatingFields&&w([F],!0);const ge=await Qt(R,l.disabled,n,y,s.shouldUseNativeValidation&&!v,Q);if(se&&d.validatingFields&&w([F]),ge[M.name]&&(N.valid=!1,v))break;!v&&(z(ge,M.name)?Q?po(t.errors,ge,M.name):re(t.errors,M.name,ge[M.name]):oe(t.errors,M.name))}!me(U)&&await B(U,v,N)}}return N.valid},T=()=>{for(const x of l.unMount){const v=z(r,x);v&&(v._f.refs?v._f.refs.every(N=>!Js(N)):!Js(v._f.ref))&&$s(x)}l.unMount=new Set},O=(x,v)=>!s.disabled&&(x&&v&&re(n,x,v),!Le(C(),i)),V=(x,v,N)=>to(x,l,{...o.mount?n:ne(v)?i:_e(x)?{[x]:v}:v},N,v),k=x=>Ds(z(o.mount?n:i,x,s.shouldUnregister?z(i,x,[]):[])),_=(x,v,N={})=>{const F=z(r,x);let R=v;if(F){const M=F._f;M&&(!M.disabled&&re(n,x,Fr(v,M)),R=Ns(M.ref)&&he(v)?"":v,Rr(M.ref)?[...M.ref.options].forEach(U=>U.selected=R.includes(U.value)):M.refs?us(M.ref)?M.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(R)?U.checked=!!R.find(Q=>Q===U.value):U.checked=R===U.value||!!R)}):M.refs.forEach(U=>U.checked=U.value===R):ht(M.ref)?M.ref.value="":(M.ref.value=R,M.ref.type||h.state.next({name:x,values:de(n)})))}(N.shouldDirty||N.shouldTouch)&&S(x,R,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&A(x)},q=(x,v,N)=>{for(const F in v){if(!v.hasOwnProperty(F))return;const R=v[F],M=`${x}.${F}`,U=z(r,M);(l.array.has(x)||ae(R)||U&&!U._f)&&!Be(R)?q(M,R,N):_(M,R,N)}},Y=(x,v,N={})=>{const F=z(r,x),R=l.array.has(x),M=de(v);re(n,x,M),R?(h.array.next({name:x,values:de(n)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&N.shouldDirty&&h.state.next({name:x,dirtyFields:ts(i,n),isDirty:O(x,M)})):F&&!F._f&&!he(M)?q(x,M,N):_(x,M,N),Gt(x,l)&&h.state.next({...t}),h.state.next({name:o.mount?x:void 0,values:de(n)})},X=async x=>{o.mount=!0;const v=x.target;let N=v.name,F=!0;const R=z(r,N),M=se=>{F=Number.isNaN(se)||Be(se)&&isNaN(se.getTime())||Le(se,z(n,N,se))},U=Jt(s.mode),Q=Jt(s.reValidateMode);if(R){let se,ge;const ps=v.type?Wt(R._f):Zn(x),Se=x.type===It.BLUR||x.type===It.FOCUS_OUT,Hr=!co(R._f)&&!s.resolver&&!z(t.errors,N)&&!R._f.deps||uo(Se,z(t.touchedFields,N),t.isSubmitted,Q,U),Bs=Gt(N,l,Se);re(n,N,ps),Se?(R._f.onBlur&&R._f.onBlur(x),c&&c(0)):R._f.onChange&&R._f.onChange(x);const zs=S(N,ps,Se),qr=!me(zs)||Bs;if(!Se&&h.state.next({name:N,type:x.type,values:de(n)}),Hr)return(d.isValid||u.isValid)&&(s.mode==="onBlur"?Se&&g():Se||g()),qr&&h.state.next({name:N,...Bs?{}:zs});if(!Se&&Bs&&h.state.next({...t}),s.resolver){const{errors:bt}=await ee([N]);if(M(ps),F){const Wr=Zt(t.errors,r,N),jt=Zt(bt,r,Wr.name||N);se=jt.error,N=jt.name,ge=me(bt)}}else w([N],!0),se=(await Qt(R,l.disabled,n,y,s.shouldUseNativeValidation))[N],w([N]),M(ps),F&&(se?ge=!1:(d.isValid||u.isValid)&&(ge=await B(r,!0)));F&&(R._f.deps&&A(R._f.deps),I(N,ge,se,zs))}},$=(x,v)=>{if(z(t.errors,v)&&x.focus)return x.focus(),1},A=async(x,v={})=>{let N,F;const R=ls(x);if(s.resolver){const M=await ce(ne(x)?x:R);N=me(M),F=x?!R.some(U=>z(M,U)):N}else x?(F=(await Promise.all(R.map(async M=>{const U=z(r,M);return await B(U&&U._f?{[M]:U}:U)}))).every(Boolean),!(!F&&!t.isValid)&&g()):F=N=await B(r);return h.state.next({...!_e(x)||(d.isValid||u.isValid)&&N!==t.isValid?{}:{name:x},...s.resolver||!x?{isValid:N}:{},errors:t.errors}),v.shouldFocus&&!F&&cs(r,$,x?R:l.mount),F},C=x=>{const v={...o.mount?n:i};return ne(x)?v:_e(x)?z(v,x):x.map(N=>z(v,N))},D=(x,v)=>({invalid:!!z((v||t).errors,x),isDirty:!!z((v||t).dirtyFields,x),error:z((v||t).errors,x),isValidating:!!z(t.validatingFields,x),isTouched:!!z((v||t).touchedFields,x)}),G=x=>{x&&ls(x).forEach(v=>oe(t.errors,v)),h.state.next({errors:x?t.errors:{}})},ie=(x,v,N)=>{const F=(z(r,x,{_f:{}})._f||{}).ref,R=z(t.errors,x)||{},{ref:M,message:U,type:Q,...se}=R;re(t.errors,x,{...se,...v,ref:F}),h.state.next({name:x,errors:t.errors,isValid:!1}),N&&N.shouldFocus&&F&&F.focus&&F.focus()},Oe=(x,v)=>be(x)?h.state.subscribe({next:N=>x(V(void 0,v),N)}):V(x,v,!0),xt=x=>h.state.subscribe({next:v=>{ho(x.name,v.name,x.exact)&&mo(v,x.formState||d,Ur,x.reRenderRoot)&&x.callback({values:{...n},...t,...v})}}).unsubscribe,zr=x=>(o.mount=!0,u={...u,...x.formState},xt({...x,formState:u})),$s=(x,v={})=>{for(const N of x?ls(x):l.mount)l.mount.delete(N),l.array.delete(N),v.keepValue||(oe(r,N),oe(n,N)),!v.keepError&&oe(t.errors,N),!v.keepDirty&&oe(t.dirtyFields,N),!v.keepTouched&&oe(t.touchedFields,N),!v.keepIsValidating&&oe(t.validatingFields,N),!s.shouldUnregister&&!v.keepDefaultValue&&oe(i,N);h.state.next({values:de(n)}),h.state.next({...t,...v.keepDirty?{isDirty:O()}:{}}),!v.keepIsValid&&g()},pt=({disabled:x,name:v})=>{(Ne(x)&&o.mount||x||l.disabled.has(v))&&(x?l.disabled.add(v):l.disabled.delete(v))},Fs=(x,v={})=>{let N=z(r,x);const F=Ne(v.disabled)||Ne(s.disabled);return re(r,x,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:x}},name:x,mount:!0,...v}}),l.mount.add(x),N?pt({disabled:Ne(v.disabled)?v.disabled:s.disabled,name:x}):H(x,!0,v.value),{...F?{disabled:v.disabled||s.disabled}:{},...s.progressive?{required:!!v.required,min:rs(v.min),max:rs(v.max),minLength:rs(v.minLength),maxLength:rs(v.maxLength),pattern:rs(v.pattern)}:{},name:x,onChange:X,onBlur:X,ref:R=>{if(R){Fs(x,v),N=z(r,x);const M=ne(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,U=ao(M),Q=N._f.refs||[];if(U?Q.find(se=>se===M):M===N._f.ref)return;re(r,x,{_f:{...N._f,...U?{refs:[...Q.filter(Js),M,...Array.isArray(z(i,x))?[{}]:[]],ref:{type:M.type,name:x}}:{ref:M}}}),H(x,!1,void 0,M)}else N=z(r,x,{}),N._f&&(N._f.mount=!1),(s.shouldUnregister||v.shouldUnregister)&&!(Qn(l.array,x)&&o.action)&&l.unMount.add(x)}}},gt=()=>s.shouldFocusError&&cs(r,$,l.mount),Or=x=>{Ne(x)&&(h.state.next({disabled:x}),cs(r,(v,N)=>{const F=z(r,N);F&&(v.disabled=F._f.disabled||x,Array.isArray(F._f.refs)&&F._f.refs.forEach(R=>{R.disabled=F._f.disabled||x}))},0,!1))},ft=(x,v)=>async N=>{let F;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let R=de(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:M,values:U}=await ee();t.errors=M,R=U}else await B(r);if(l.disabled.size)for(const M of l.disabled)re(R,M,void 0);if(oe(t.errors,"root"),me(t.errors)){h.state.next({errors:{}});try{await x(R,N)}catch(M){F=M}}else v&&await v({...t.errors},N),gt(),setTimeout(gt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:me(t.errors)&&!F,submitCount:t.submitCount+1,errors:t.errors}),F)throw F},Ir=(x,v={})=>{z(r,x)&&(ne(v.defaultValue)?Y(x,de(z(i,x))):(Y(x,v.defaultValue),re(i,x,de(v.defaultValue))),v.keepTouched||oe(t.touchedFields,x),v.keepDirty||(oe(t.dirtyFields,x),t.isDirty=v.defaultValue?O(x,de(z(i,x))):O()),v.keepError||(oe(t.errors,x),d.isValid&&g()),h.state.next({...t}))},yt=(x,v={})=>{const N=x?de(x):i,F=de(N),R=me(x),M=R?i:F;if(v.keepDefaultValues||(i=N),!v.keepValues){if(v.keepDirtyValues){const U=new Set([...l.mount,...Object.keys(ts(i,n))]);for(const Q of Array.from(U))z(t.dirtyFields,Q)?re(M,Q,z(n,Q)):Y(Q,z(M,Q))}else{if(dt&&ne(x))for(const U of l.mount){const Q=z(r,U);if(Q&&Q._f){const se=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(Ns(se)){const ge=se.closest("form");if(ge){ge.reset();break}}}}for(const U of l.mount)Y(U,z(M,U))}n=de(M),h.array.next({values:{...M}}),h.state.next({values:{...M}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,o.watch=!!s.shouldUnregister,h.state.next({submitCount:v.keepSubmitCount?t.submitCount:0,isDirty:R?!1:v.keepDirty?t.isDirty:!!(v.keepDefaultValues&&!Le(x,i)),isSubmitted:v.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:R?{}:v.keepDirtyValues?v.keepDefaultValues&&n?ts(i,n):t.dirtyFields:v.keepDefaultValues&&x?ts(i,x):v.keepDirty?t.dirtyFields:{},touchedFields:v.keepTouched?t.touchedFields:{},errors:v.keepErrors?t.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},vt=(x,v)=>yt(be(x)?x(n):x,v),Vr=(x,v={})=>{const N=z(r,x),F=N&&N._f;if(F){const R=F.refs?F.refs[0]:F.ref;R.focus&&(R.focus(),v.shouldSelect&&be(R.select)&&R.select())}},Ur=x=>{t={...t,...x}},wt={control:{register:Fs,unregister:$s,getFieldState:D,handleSubmit:ft,setError:ie,_subscribe:xt,_runSchema:ee,_getWatch:V,_getDirty:O,_setValid:g,_setFieldArray:j,_setDisabledField:pt,_setErrors:E,_getFieldArray:k,_reset:yt,_resetDefaultValues:()=>be(s.defaultValues)&&s.defaultValues().then(x=>{vt(x,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Or,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return n},get _state(){return o},set _state(x){o=x},get _defaultValues(){return i},get _names(){return l},set _names(x){l=x},get _formState(){return t},get _options(){return s},set _options(x){s={...s,...x}}},subscribe:zr,trigger:A,register:Fs,handleSubmit:ft,watch:Oe,setValue:Y,getValues:C,reset:vt,resetField:Ir,clearErrors:G,unregister:$s,setError:ie,setFocus:Vr,getFieldState:D};return{...wt,formControl:wt}}function xs(a={}){const s=ye.useRef(void 0),t=ye.useRef(void 0),[r,i]=ye.useState({isDirty:!1,isValidating:!1,isLoading:be(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,isReady:!1,defaultValues:be(a.defaultValues)?void 0:a.defaultValues});s.current||(s.current={...a.formControl?a.formControl:fo(a),formState:r},a.formControl&&a.defaultValues&&!be(a.defaultValues)&&a.formControl.reset(a.defaultValues,a.resetOptions));const n=s.current.control;return n._options=a,so(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),n._formState.isReady=!0,o},[n]),ye.useEffect(()=>n._disableForm(a.disabled),[n,a.disabled]),ye.useEffect(()=>{a.mode&&(n._options.mode=a.mode),a.reValidateMode&&(n._options.reValidateMode=a.reValidateMode),a.errors&&!me(a.errors)&&n._setErrors(a.errors)},[n,a.errors,a.mode,a.reValidateMode]),ye.useEffect(()=>{a.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,a.shouldUnregister]),ye.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==r.isDirty&&n._subjects.state.next({isDirty:o})}},[n,r.isDirty]),ye.useEffect(()=>{a.values&&!Le(a.values,t.current)?(n._reset(a.values,n._options.resetOptions),t.current=a.values,i(o=>({...o}))):n._resetDefaultValues()},[n,a.values]),ye.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=eo(r,n),s.current}const yo=()=>{const{register:a,handleSubmit:s,reset:t,formState:{errors:r}}=xs(),[i,n]=f.useState(!1),[o,l]=f.useState(!1),[c,m]=f.useState(""),d=async u=>{n(!0),m("");try{await new Promise(h=>setTimeout(h,1500)),console.log("Form submitted:",u),l(!0),t()}catch(h){console.error("Error submitting form:",h),m("There was an error submitting your message. Please try again.")}finally{n(!1)}};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"divide-y-2 divide-gray-200",children:[e.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Get in touch"}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Support"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Need help with your account or have questions about our services?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:support@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"support@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Interested in our premium plans or enterprise solutions?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:sales@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"sales@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Press"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"For media inquiries or press kit requests."}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:press@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"press@serviceconnectpro.com"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Join Our Team"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"Looking for career opportunities with us?"}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"mailto:careers@serviceconnectpro.com",className:"text-primary-600 hover:text-primary-500",children:"careers@serviceconnectpro.com"})})]})]})]})]}),e.jsxs("div",{className:"mt-16 pt-16 lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Locations"}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"San Francisco"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"123 Market Street"}),e.jsx("p",{children:"Suite 456"}),e.jsx("p",{children:"San Francisco, CA 94103"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New York"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"456 Park Avenue"}),e.jsx("p",{children:"Floor 8"}),e.jsx("p",{children:"New York, NY 10022"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Austin"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"789 Congress Avenue"}),e.jsx("p",{children:"Suite 300"}),e.jsx("p",{children:"Austin, TX 78701"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Toronto"}),e.jsxs("div",{className:"mt-2 text-base text-gray-500",children:[e.jsx("p",{children:"567 King Street West"}),e.jsx("p",{children:"Unit 400"}),e.jsx("p",{children:"Toronto, ON M5V 1M3"})]})]})]})]})]})}),e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-lg mx-auto md:max-w-none md:grid md:grid-cols-2 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 sm:text-3xl",children:"Send us a message"}),e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:"text-lg text-gray-500",children:"Have a specific question or feedback? Fill out the form and we'll get back to you as soon as possible."})}),e.jsxs("div",{className:"mt-9",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{className:"ml-3 text-base text-gray-500",children:[e.jsx("p",{children:"+1 (555) 123-4567"}),e.jsx("p",{className:"mt-1",children:"Mon-Fri 8am to 6pm PST"})]})]}),e.jsxs("div",{className:"mt-6 flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("div",{className:"ml-3 text-base text-gray-500",children:e.jsx("p",{children:"contact@serviceconnectpro.com"})})]})]})]}),e.jsx("div",{className:"mt-12 sm:mt-16 md:mt-0",children:o?e.jsx("div",{className:"rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Message sent successfully"}),e.jsx("div",{className:"mt-2 text-sm text-green-700",children:e.jsx("p",{children:"Thank you for contacting us! We'll get back to you as soon as possible."})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:()=>l(!1),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Send another message"})})]})]})}):e.jsxs("form",{onSubmit:s(d),className:"grid grid-cols-1 gap-y-6",children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:c})})]})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{type:"text",id:"name",autoComplete:"name",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.name?"border-red-300":""}`,...a("name",{required:"Name is required"})}),r.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.name.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.email?"border-red-300":""}`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"phone",autoComplete:"tel",className:"py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md",...a("phone")})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{type:"text",id:"subject",className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border-gray-300 rounded-md ${r.subject?"border-red-300":""}`,...a("subject",{required:"Subject is required"})}),r.subject&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.subject.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("textarea",{id:"message",rows:4,className:`py-3 px-4 block w-full shadow-sm focus:ring-primary-500 focus:border-primary-500 border border-gray-300 rounded-md ${r.message?"border-red-300":""}`,...a("message",{required:"Message is required"})}),r.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.message.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:`inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${i?"opacity-75 cursor-not-allowed":""}`,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Submit"})})]})})]})})})]})},vo=()=>{const[a,s]=f.useState(!0),{user:t}=Z(),r=()=>{s(!a)},i=[{name:"Basic",description:"Perfect for homeowners with occasional service needs",price:0,features:["Post up to 3 projects per month","Connect with up to 5 service providers","Basic project management tools","Community access","Email support"],cta:"Get started",mostPopular:!1},{name:"Pro",description:"For homeowners with regular service needs",price:a?99:9.99,features:["Unlimited project postings","Priority matching with providers","Advanced project management","Project milestone tracking","Phone & email support","Exclusive deals and discounts"],cta:"Start free trial",mostPopular:!0},{name:"Business",description:"For service providers looking to grow",price:a?299:29.99,features:["Featured provider listing","Lead generation tools","Business analytics dashboard","Client management system","Marketing toolkit","Priority support","Verified business badge"],cta:"Contact sales",mostPopular:!1}];return e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:flex sm:flex-col sm:align-center",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 sm:text-center",children:"Pricing Plans"}),e.jsx("p",{className:"mt-5 text-xl text-gray-500 sm:text-center",children:"Choose the perfect plan for your needs. Start with a 14-day free trial."}),e.jsxs("div",{className:"relative self-center mt-6 bg-gray-100 rounded-lg p-0.5 flex sm:mt-8",children:[e.jsxs("button",{type:"button",className:`${a?"bg-white border-gray-200 shadow-sm":"border border-transparent"} relative w-1/2 rounded-md py-2 text-sm font-medium text-gray-700 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 sm:w-auto sm:px-8`,onClick:r,children:["Annual billing",a&&e.jsx("span",{className:"absolute -top-2 -right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Save 20%"})]}),e.jsx("button",{type:"button",className:`${a?"border border-transparent":"bg-white border-gray-200 shadow-sm"} ml-0.5 relative w-1/2 rounded-md py-2 text-sm font-medium text-gray-700 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-500 focus:z-10 sm:w-auto sm:px-8`,onClick:r,children:"Monthly billing"})]})]}),e.jsx("div",{className:"mt-12 space-y-4 sm:mt-16 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6 lg:max-w-4xl lg:mx-auto xl:max-w-none xl:mx-0 xl:grid-cols-3",children:i.map(n=>e.jsxs("div",{className:`${n.mostPopular?"border-primary-500":"border-gray-200"} border rounded-lg shadow-sm divide-y divide-gray-200`,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:n.name}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:n.description}),e.jsxs("p",{className:"mt-8",children:[e.jsxs("span",{className:"text-4xl font-extrabold text-gray-900",children:["$",n.price]}),e.jsxs("span",{className:"text-base font-medium text-gray-500",children:["/",a?"year":"month"]})]}),e.jsx(L,{to:t?"/settings/billing":"/register",className:`${n.mostPopular?"bg-primary-600 text-white hover:bg-primary-700":"bg-primary-50 text-primary-700 hover:bg-primary-100"} mt-8 block w-full py-3 px-6 border border-transparent rounded-md text-center font-medium`,children:n.cta})]}),e.jsxs("div",{className:"pt-6 pb-8 px-6",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 tracking-wide uppercase",children:"What's included"}),e.jsx("ul",{className:"mt-6 space-y-4",children:n.features.map(o=>e.jsxs("li",{className:"flex space-x-3",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-gray-500",children:o})]},o))})]})]},n.name))})]}),e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto divide-y-2 divide-gray-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Frequently asked questions"}),e.jsxs("dl",{className:"mt-6 space-y-6 divide-y divide-gray-200",children:[e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"How does the free trial work?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"All paid plans come with a 14-day free trial. You can try out all the features without being charged. If you decide to continue, we'll bill you at the end of the trial. You can cancel anytime during the trial period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Can I change plans later?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, you can upgrade or downgrade your plan at any time. If you upgrade, the new features will be available immediately. If you downgrade, the changes will take effect at the start of your next billing cycle."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"What payment methods do you accept?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal. For annual Business plans, we can also arrange for invoice payment."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Is there a contract or commitment?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"No long-term contracts or commitments. You can cancel your subscription at any time, and your plan will remain active until the end of the current billing period."})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("dt",{className:"text-lg",children:e.jsx("span",{className:"font-medium text-gray-900",children:"Do you offer discounts for non-profits or educational institutions?"})}),e.jsx("dd",{className:"mt-2 text-base text-gray-500",children:"Yes, we offer special pricing for non-profit organizations and educational institutions. Please contact our sales team for more information."})]})]})]})}),e.jsx("div",{className:"bg-primary-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:[e.jsx("span",{className:"block",children:"Ready to get started?"}),e.jsx("span",{className:"block",children:"Start your free trial today."})]}),e.jsx("p",{className:"mt-4 text-lg leading-6 text-primary-200",children:"Join thousands of homeowners and service providers already using our platform."}),e.jsx(L,{to:"/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 sm:w-auto",children:"Sign up for free"})]})})]})},wo=()=>e.jsx("div",{className:"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8",children:e.jsx("div",{className:"max-w-max mx-auto",children:e.jsxs("main",{className:"sm:flex",children:[e.jsx("p",{className:"text-4xl font-extrabold text-primary-600 sm:text-5xl",children:"404"}),e.jsxs("div",{className:"sm:ml-6",children:[e.jsxs("div",{className:"sm:border-l sm:border-gray-200 sm:pl-6",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl",children:"Page not found"}),e.jsx("p",{className:"mt-1 text-base text-gray-500",children:"Please check the URL in the address bar and try again."})]}),e.jsxs("div",{className:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6",children:[e.jsx(L,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Go back home"}),e.jsx(L,{to:"/contact",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Contact support"})]})]})]})})});class We{static async getConversations(){const{data:s}=await P.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:t,error:r}=await P.from("ai_conversations").select("*").eq("user_id",s.user.id).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching conversations:",r),r;return t||[]}static async createConversation(s){const{data:t}=await P.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:i}=await P.from("ai_conversations").insert({user_id:t.user.id,title:s.title||"New Conversation",project_id:s.project_id||null}).select().single();if(i)throw console.error("Error creating conversation:",i),i;return r}static async getConversationById(s){const{data:t}=await P.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:i}=await P.from("ai_conversations").select("*").eq("id",s).eq("user_id",t.user.id).single();if(i)throw console.error("Error fetching conversation:",i),i;const{data:n,error:o}=await P.from("ai_messages").select("*").eq("conversation_id",s).order("created_at",{ascending:!0});if(o)throw console.error("Error fetching messages:",o),o;return{...r,messages:n||[]}}static async addMessage(s,t){const{data:r}=await P.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:i,error:n}=await P.from("ai_messages").insert({conversation_id:s,role:t.role,content:t.content}).select().single();if(n)throw console.error("Error adding message:",n),n;return await P.from("ai_conversations").update({updated_at:new Date().toISOString()}).eq("id",s),i}static async sendMessage(s,t){const{data:r}=await P.auth.getUser();if(!r)throw new Error("User not authenticated");await this.addMessage(s,{role:"user",content:t});const i=this.generateAIResponse(t);return await this.addMessage(s,{role:"assistant",content:i})}static generateAIResponse(s){const t=s.toLowerCase();return t.includes("hello")||t.includes("hi")?"Hello! I'm your Home Concierge. How can I help with your home project today?":t.includes("kitchen")?"Kitchen renovations are exciting! Are you thinking about a full remodel or updating specific elements like cabinets or countertops? I can help you plan this project and connect you with qualified professionals.":t.includes("bathroom")?"Bathroom projects can really transform your home! Are you looking for a complete renovation or specific updates? Let me know what you're envisioning, and I can help guide you through the process.":t.includes("paint")||t.includes("painting")?"Fresh paint can make a huge difference! Are you painting interior or exterior? Do you have colors in mind, or would you like some suggestions based on current trends?":t.includes("cost")||t.includes("price")||t.includes("budget")?"Budgeting is an important part of any home project. To give you a better estimate, I'd need to know more details about your project scope, materials, and your location. Would you like to share more specifics?":t.includes("vision board")?"Creating a vision board is a great way to organize your ideas! You can collect inspiration images, color schemes, and material samples. Would you like me to help you set up a vision board for your project?":t.includes("contractor")||t.includes("professional")?"Finding the right professional is crucial for your project's success. I can help you connect with verified contractors in your area. What specific skills or expertise are you looking for?":"That's an interesting aspect of your home project. Could you tell me more about what you're envisioning? The more details you share, the better I can help guide you through the process."}static async createSuggestion(s){const{data:t}=await P.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:i}=await P.from("ai_suggestions").insert({user_id:t.user.id,conversation_id:s.conversation_id,project_id:s.project_id||null,suggestion_type:s.suggestion_type,content:s.content}).select().single();if(i)throw console.error("Error creating suggestion:",i),i;return r}static async applySuggestion(s){const{data:t}=await P.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:i}=await P.from("ai_suggestions").update({is_applied:!0}).eq("id",s).eq("user_id",t.user.id).select().single();if(i)throw console.error("Error applying suggestion:",i),i;return r}}const bo=()=>{const{user:a,login:s,register:t}=Z(),r=Re(),[i,n]=f.useState("welcome"),[o,l]=f.useState(!1),[c,m]=f.useState(null),[d,u]=f.useState(null),[h,y]=f.useState([]),[p,g]=f.useState(""),w=f.useRef(null),[j,b]=f.useState({firstName:"",address:"",city:"",state:"",zipCode:"",phone:""}),[E,H]=f.useState({email:"",password:"",confirmPassword:"",role:"homeowner"});f.useEffect(()=>{a&&S()},[a]),f.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[h]);const S=async()=>{try{const{data:C,error:D}=await P.from("homeowner_profiles").select("first_name, address, phone").eq("user_id",a.id).single();if(D)throw D;C&&C.first_name&&C.address&&C.phone?I():n("onboarding")}catch(C){console.error("Error checking user profile:",C),n("onboarding")}},I=async()=>{try{l(!0);let C;try{C=(await We.getConversations())[0]}catch{console.log("No existing conversations, creating a new one")}C||(C=await We.createConversation({title:"Home Project Consultation"})),u(C);let D=[];if(C.id&&(D=(await We.getConversationById(C.id)).messages||[]),D.length===0){const G={role:"assistant",content:"Hi there! I'm your Home Concierge. I'm here to help you with your home projects. What kind of project are you thinking about working on?"};await We.addMessage(C.id,G),D=[G]}y(D),n("chat")}catch(C){console.error("Error initializing conversation:",C),m("Failed to start conversation. Please try again.")}finally{l(!1)}},ee=async C=>{if(C.preventDefault(),!(!p.trim()||!d))try{l(!0);const D={role:"user",content:p};y(ie=>[...ie,D]),g("");const G=await We.sendMessage(d.id,D.content);y(ie=>[...ie,{role:"assistant",content:G.content}]),h.length>4&&!h.some(ie=>ie.content.includes("vision board"))&&setTimeout(async()=>{const ie={role:"assistant",content:"Would you like to create a vision board for your project? It's a great way to collect and organize your ideas. I can help you set one up."};await We.addMessage(d.id,ie),y(Oe=>[...Oe,ie])},2e3)}catch(D){console.error("Error sending message:",D),m("Failed to send message. Please try again.")}finally{l(!1)}},ce=()=>{r("/homeowner/vision-boards")},B=C=>{g(C.target.value)},T=C=>{const{name:D,value:G}=C.target;b(ie=>({...ie,[D]:G}))},O=C=>{const{name:D,value:G}=C.target;H(ie=>({...ie,[D]:G}))},V=async C=>{C.preventDefault();try{l(!0),m(null);const{error:D}=await P.from("homeowner_profiles").update({first_name:j.firstName,address:`${j.address}, ${j.city}, ${j.state} ${j.zipCode}`,phone:j.phone}).eq("user_id",a.id);if(D)throw D;await I()}catch(D){console.error("Error saving profile:",D),m("Failed to save your information. Please try again.")}finally{l(!1)}},k=async C=>{C.preventDefault();try{l(!0),m(null);const{error:D}=await s(E.email,E.password);if(D)throw D}catch(D){console.error("Login error:",D),m("Invalid email or password. Please try again.")}finally{l(!1)}},_=async C=>{C.preventDefault();try{if(l(!0),m(null),E.password!==E.confirmPassword)throw new Error("Passwords do not match");const{error:D}=await t(E.email,E.password,E.role);if(D)throw D}catch(D){console.error("Registration error:",D),m(D.message||"Failed to create account. Please try again.")}finally{l(!1)}},q=()=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center mb-6",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Your Home Concierge"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"I'm here to help you with your home projects. Let's get started by creating an account or signing in."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx("button",{onClick:()=>n("register"),className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:"Create Account"}),e.jsx("button",{onClick:()=>n("login"),className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:"Sign In"})]})]}),Y=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx("button",{onClick:()=>n("register"),className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{className:"space-y-6",onSubmit:k,children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:E.email,onChange:O,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:E.password,onChange:O,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:o?"Signing in...":"Sign in"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>n("welcome"),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Welcome"})})]})]})})]}),X=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx("button",{onClick:()=>n("login"),className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{className:"space-y-6",onSubmit:_,children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:E.email,onChange:O,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:E.password,onChange:O,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:E.confirmPassword,onChange:O,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:o?"Creating account...":"Create account"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>n("welcome"),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Welcome"})})]})]})})]}),$=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Tell us about yourself"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"This information helps us personalize your experience"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("form",{className:"space-y-6",onSubmit:V,children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:j.firstName,onChange:T,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"address",name:"address",type:"text",required:!0,value:j.address,onChange:T,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",required:!0,value:j.city,onChange:T,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",id:"state",required:!0,value:j.state,onChange:T,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal Code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"zipCode",name:"zipCode",type:"text",required:!0,value:j.zipCode,onChange:T,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Mobile Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:j.phone,onChange:T,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:o?"Saving...":"Continue"})})]})})})]}),A=()=>e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[h.map((C,D)=>e.jsx("div",{className:`flex ${C.role==="assistant"?"justify-start":"justify-end"}`,children:e.jsx("div",{className:`max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl rounded-lg px-4 py-2 ${C.role==="assistant"?"bg-gray-100 text-gray-800":"bg-primary-600 text-white"}`,children:e.jsx("p",{className:"text-sm",children:C.content})})},D)),e.jsx("div",{ref:w})]}),e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsxs("form",{onSubmit:ee,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:p,onChange:B,placeholder:"Type your message...",className:"flex-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),e.jsx("button",{type:"submit",disabled:o||!p.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:o?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"})})})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{onClick:ce,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Go to Vision Boards"]})})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden min-h-[70vh] flex flex-col",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 bg-primary-600 text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),e.jsx("h3",{className:"text-lg leading-6 font-medium",children:"Home Concierge"})]})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-center",children:[i==="welcome"&&q(),i==="login"&&Y(),i==="register"&&X(),i==="onboarding"&&$(),i==="chat"&&A()]})]})})})})},jo=()=>{const{register:a,handleSubmit:s,formState:{errors:t}}=xs(),[r,i]=f.useState(!1),[n,o]=f.useState(""),{login:l}=Z();Re();const c=async m=>{try{i(!0),o("");const{data:d,error:u}=await l(m.email,m.password);if(u)throw u}catch(d){o(d.message||"Failed to sign in. Please check your credentials."),console.error("Login error:",d)}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(L,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),n&&e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:n})})]})}),e.jsx("div",{className:"mt-8",children:e.jsxs("form",{className:"space-y-6",onSubmit:s(c),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("password",{required:"Password is required"})}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(L,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:r,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-70 cursor-not-allowed":""}`,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r?"Signing in...":"Sign in"]})})]})})]})},No=()=>{const{register:a,handleSubmit:s,watch:t,formState:{errors:r}}=xs(),[i,n]=f.useState(!1),[o,l]=f.useState(""),[c,m]=f.useState("homeowner"),{register:d}=Z();Re();const u=t("password"),h=async y=>{try{n(!0),l("");const{data:p,error:g}=await d(y.email,y.password,c);if(g)throw g}catch(p){l(p.message||"Failed to create an account. Please try again."),console.error("Registration error:",p)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(L,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),o&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:s(h),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",...a("confirmPassword",{required:"Please confirm your password",validate:y=>y===u||"Passwords do not match"})}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword.message})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"homeowner",name:"userType",type:"radio",checked:c==="homeowner",onChange:()=>m("homeowner"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("label",{htmlFor:"homeowner",className:"ml-2 block text-sm text-gray-900",children:"I'm a Homeowner"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"provider",name:"userType",type:"radio",checked:c==="provider",onChange:()=>m("provider"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("label",{htmlFor:"provider",className:"ml-2 block text-sm text-gray-900",children:"I'm a Service Provider"})]})]})}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${i?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[i?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsx("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),i?"Creating account...":"Sign up"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsxs("p",{className:"text-gray-600",children:["By signing up, you agree to our"," ",e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})})]})]})})},_o=()=>{const{register:a,handleSubmit:s,formState:{errors:t}}=xs(),[r,i]=f.useState(!1),[n,o]=f.useState(""),[l,c]=f.useState(""),{resetPassword:m}=Z(),d=async u=>{try{i(!0),c(""),o("");const{error:h}=await m(u.email);if(h)throw h;o("Password reset instructions have been sent to your email.")}catch(h){c(h.message||"Failed to reset password. Please try again."),console.error("Reset password error:",h)}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),l&&e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:l})})]})}),n&&e.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:n})})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:s(d),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full px-3 py-2 border ${t.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:r,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-70 cursor-not-allowed":""}`,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r?"Sending...":"Send reset instructions"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(L,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to sign in"})})]})]})},ko=()=>{const{register:a,handleSubmit:s,watch:t,formState:{errors:r}}=xs(),[i,n]=f.useState(!1),[o,l]=f.useState(""),[c,m]=f.useState(""),{updatePassword:d}=Z(),u=Re(),h=Cs(),p=new URLSearchParams(h.search).get("token"),g=t("password");f.useEffect(()=>{p||m("Invalid or missing reset token. Please request a new password reset link.")},[p]);const w=async j=>{if(!p){m("Invalid or missing reset token. Please request a new password reset link.");return}try{n(!0),m(""),l("");const{error:b}=await d(p,j.password);if(b)throw b;l("Your password has been successfully reset. You can now log in with your new password."),setTimeout(()=>{u("/login")},3e3)}catch(b){m(b.message||"Failed to reset password. Please try again or request a new reset link."),console.error("Password reset error:",b)}finally{n(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),c&&e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:c})})]})}),o&&e.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:o})})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:s(w),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${r.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full px-3 py-2 border ${r.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...a("confirmPassword",{required:"Please confirm your password",validate:j=>j===g||"Passwords do not match"})}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:i||!p,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${i||!p?"opacity-70 cursor-not-allowed":""}`,children:[i?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,i?"Resetting...":"Reset Password"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(L,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to sign in"})})]})]})},Co=()=>{var m;const{user:a,homeownerProfile:s,supabase:t}=Z(),[r,i]=f.useState([]),[n,o]=f.useState([]),[l,c]=f.useState(!0);return f.useEffect(()=>{(async()=>{if(a)try{c(!0),await new Promise(u=>setTimeout(u,1e3)),i([{id:1,title:"Kitchen Renovation",status:"In Progress",progress:65,provider:"ABC Contractors",dueDate:"2023-12-15"},{id:2,title:"Bathroom Remodel",status:"Planning",progress:20,provider:"XYZ Home Services",dueDate:"2024-01-10"},{id:3,title:"Backyard Landscaping",status:"Completed",progress:100,provider:"Green Thumb Landscaping",dueDate:"2023-11-30"}]),o([{id:1,name:"John's Plumbing",category:"Plumbing",rating:4.8,reviews:56,image:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:2,name:"Elite Electrical",category:"Electrical",rating:4.7,reviews:42,image:"https://images.pexels.com/photos/8961438/pexels-photo-8961438.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:3,name:"Perfect Paint",category:"Painting",rating:4.9,reviews:78,image:"https://images.pexels.com/photos/6474343/pexels-photo-6474343.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}])}catch(u){console.error("Error fetching dashboard data:",u)}finally{c(!1)}})()},[a]),l?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Homeowner Dashboard"}),e.jsx("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Welcome back, ",((m=a==null?void 0:a.email)==null?void 0:m.split("@")[0])||"Homeowner","!"]}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Track your home improvement projects, find trusted service providers, and get inspired with project ideas."})}),e.jsx("div",{className:"mt-5",children:e.jsx(L,{to:"/homeowner/projects",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View All Projects"})})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Your Projects"}),e.jsx(L,{to:"/homeowner/projects",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[r.map(d=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:d.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d.status==="Completed"?"bg-green-100 text-green-800":d.status==="In Progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:d.status})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[d.progress,"%"]})]}),e.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${d.status==="Completed"?"bg-green-500":"bg-primary-500"}`,style:{width:`${d.progress}%`}})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsxs("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]}),d.provider]}),e.jsxs("div",{className:"text-gray-500",children:["Due ",new Date(d.dueDate).toLocaleDateString()]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(L,{to:`/homeowner/projects/${d.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View details"})})})]},d.id)),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 flex flex-col items-center justify-center text-center h-full",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Start a new project"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started on your next home improvement project."}),e.jsx("div",{className:"mt-6",children:e.jsx(L,{to:"/homeowner/projects/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"New Project"})})]})})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recommended Providers"}),e.jsx(L,{to:"/homeowner/providers",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View all"})]}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:n.map(d=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d.category}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,h)=>e.jsx("svg",{className:`h-5 w-5 ${h<Math.floor(d.rating)?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},h))}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[d.rating," (",d.reviews," reviews)"]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(L,{to:`/homeowner/providers/${d.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View profile"})})})]},d.id))})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Community Inspiration"}),e.jsx(L,{to:"/community",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"Explore more"})]}),e.jsx("div",{className:"mt-4 bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Modern Kitchen",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Modern Kitchens"})})]}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Bathroom Ideas",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Bathroom Ideas"})})]}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-48",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Outdoor Spaces",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:e.jsx("h4",{className:"text-white font-medium",children:"Outdoor Spaces"})})]})]})})})]})]})})},So=()=>{const{user:a,supabase:s}=Z(),[t,r]=f.useState({first_name:"",last_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",bio:"",profile_image_url:""}),[i,n]=f.useState(!0),[o,l]=f.useState(!1),[c,m]=f.useState(null),[d,u]=f.useState(null),[h,y]=f.useState(!1),[p,g]=f.useState([]),[w,j]=f.useState("personal");f.useEffect(()=>{a&&(b(),E())},[a]);const b=async()=>{try{n(!0),await new Promise(I=>setTimeout(I,800)),r({first_name:"Alex",last_name:"Johnson",email:(a==null?void 0:a.email)||"alex.johnson@example.com",phone:"(555) 123-4567",address:"123 Main Street",city:"Springfield",state:"IL",zip_code:"62704",bio:"Homeowner passionate about DIY projects and home improvement. Looking to renovate my kitchen and bathroom this year.",profile_image_url:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"})}catch(I){console.error("Error fetching profile:",I),m("Failed to load profile information")}finally{n(!1)}},E=async()=>{try{await new Promise(I=>setTimeout(I,1e3)),g([{id:1,name:"Main Residence",address:"123 Main Street, Springfield, IL 62704",type:"Single Family Home",year_built:1998,square_feet:2200,bedrooms:4,bathrooms:2.5,is_primary:!0,image_url:"https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},{id:2,name:"Vacation Cottage",address:"456 Lake View Dr, Lake Geneva, WI 53147",type:"Cottage",year_built:2005,square_feet:1200,bedrooms:2,bathrooms:1,is_primary:!1,image_url:"https://images.pexels.com/photos/2079234/pexels-photo-2079234.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}])}catch(I){console.error("Error fetching properties:",I)}},H=I=>{const{name:ee,value:ce}=I.target;r({...t,[ee]:ce})},S=async I=>{I.preventDefault();try{l(!0),m(null),await new Promise(ee=>setTimeout(ee,1e3)),u("Profile updated successfully!"),y(!1),setTimeout(()=>{u(null)},3e3)}catch(ee){console.error("Error updating profile:",ee),m("Failed to update profile. Please try again.")}finally{l(!1)}};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Profile"}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="personal"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("personal"),children:"Personal Information"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="properties"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("properties"),children:"My Properties"}),e.jsx("button",{className:`py-4 px-1 border-b-2 font-medium text-sm ${w==="preferences"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("preferences"),children:"Preferences"})]})}),w==="personal"&&e.jsxs("div",{className:"mt-6",children:[c&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:c})})]})]})}),d&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:d})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Your personal details and contact information."})]}),e.jsx("button",{type:"button",onClick:()=>y(!h),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:h?"Cancel":"Edit"})]}),h?e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",autoComplete:"given-name",value:t.first_name,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",autoComplete:"family-name",value:t.last_name,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",value:t.email,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone number"}),e.jsx("input",{type:"text",name:"phone",id:"phone",autoComplete:"tel",value:t.phone,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street address"}),e.jsx("input",{type:"text",name:"address",id:"address",autoComplete:"street-address",value:t.address,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-6 lg:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",id:"city",autoComplete:"address-level2",value:t.city,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("input",{type:"text",name:"state",id:"state",autoComplete:"address-level1",value:t.state,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[e.jsx("label",{htmlFor:"zip_code",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal code"}),e.jsx("input",{type:"text",name:"zip_code",id:"zip_code",autoComplete:"postal-code",value:t.zip_code,onChange:H,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"bio",name:"bio",rows:3,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:"A brief description about yourself",value:t.bio,onChange:H})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description about yourself and your home improvement interests."})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:o,children:o?"Saving...":"Save"})]})]})}):e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[t.first_name," ",t.last_name]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.email})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone number"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.phone})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[t.address,", ",t.city,", ",t.state," ",t.zip_code]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.bio})]})]})})]})]}),w==="properties"&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Properties"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Add Property"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[p.map(I=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:I.image_url,alt:I.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:I.name}),I.is_primary&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Primary Residence"})]}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:I.address}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:I.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Year Built:"}),e.jsx("span",{className:"ml-1 text-gray-900",children:I.year_built})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Size:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[I.square_feet," sq ft"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Bed/Bath:"}),e.jsxs("span",{className:"ml-1 text-gray-900",children:[I.bedrooms,"/",I.bathrooms]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx("button",{type:"button",className:"font-medium text-primary-600 hover:text-primary-500",children:"Edit property"})})})]},I.id)),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 flex flex-col items-center justify-center text-center h-full",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Add a property"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add details about your home or other properties."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Add Property"})})]})})]})]}),w==="preferences"&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage how you receive updates and notifications."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"project_updates",name:"project_updates",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"project_updates",className:"font-medium text-gray-700",children:"Project updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive email notifications about your project status changes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"provider_messages",name:"provider_messages",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"provider_messages",className:"font-medium text-gray-700",children:"Provider messages"}),e.jsx("p",{className:"text-gray-500",children:"Get notified when providers send you messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"estimate_requests",name:"estimate_requests",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"estimate_requests",className:"font-medium text-gray-700",children:"Estimate requests"}),e.jsx("p",{className:"text-gray-500",children:"Receive notifications about estimate request updates."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"marketing_emails",name:"marketing_emails",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"marketing_emails",className:"font-medium text-gray-700",children:"Marketing emails"}),e.jsx("p",{className:"text-gray-500",children:"Receive promotional content and special offers."})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_project_updates",name:"sms_project_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_project_updates",className:"font-medium text-gray-700",children:"Project updates"}),e.jsx("p",{className:"text-gray-500",children:"Receive text messages about your project status changes."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"sms_provider_messages",name:"sms_provider_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"sms_provider_messages",className:"font-medium text-gray-700",children:"Provider messages"}),e.jsx("p",{className:"text-gray-500",children:"Get text notifications when providers send you messages."})]})]})]})]}),e.jsx("div",{className:"pt-5",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save"})]})})]})})]}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your privacy and data sharing preferences."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Data Sharing"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_with_providers",name:"share_with_providers",type:"checkbox",defaultChecked:!0,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_with_providers",className:"font-medium text-gray-700",children:"Share with service providers"}),e.jsx("p",{className:"text-gray-500",children:"Allow service providers to see your contact information and project details."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"share_in_community",name:"share_in_community",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"share_in_community",className:"font-medium text-gray-700",children:"Share in community"}),e.jsx("p",{className:"text-gray-500",children:"Allow your projects to be featured in the community inspiration hub."})]})]})]})]}),e.jsx("div",{className:"pt-5",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save"})]})})]})})]})]})]})})},Po=()=>{const[a,s]=f.useState([{id:1,title:"Kitchen Renovation",description:"Complete kitchen remodel with new cabinets, countertops, and appliances",status:"in-progress",budget:"$15,000",startDate:"2023-10-15",endDate:"2023-12-20",progress:65,providers:[{id:101,name:"Elite Cabinets",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:102,name:"Modern Plumbing",avatar:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=100"}]},{id:2,title:"Bathroom Remodel",description:"Master bathroom renovation with new shower, vanity, and flooring",status:"planning",budget:"$8,500",startDate:"2024-01-10",endDate:"2024-02-15",progress:15,providers:[{id:103,name:"Luxury Baths",avatar:"https://images.pexels.com/photos/2379006/pexels-photo-2379006.jpeg?auto=compress&cs=tinysrgb&w=100"}]},{id:3,title:"Deck Construction",description:"New backyard deck with composite decking and railing",status:"completed",budget:"$7,200",startDate:"2023-05-01",endDate:"2023-06-15",progress:100,providers:[{id:104,name:"Outdoor Living Pros",avatar:"https://images.pexels.com/photos/2379007/pexels-photo-2379007.jpeg?auto=compress&cs=tinysrgb&w=100"}]}]),t=r=>{switch(r){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"on-hold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Projects"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:"Create New Project"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"})}),e.jsxs("div",{className:"p-4 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"on-hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"last-3-months",children:"Last 3 Months"}),e.jsx("option",{value:"last-6-months",children:"Last 6 Months"}),e.jsx("option",{value:"this-year",children:"This Year"})]})]}),e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsxs("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Budgets"}),e.jsx("option",{value:"under-5000",children:"Under $5,000"}),e.jsx("option",{value:"5000-10000",children:"$5,000 - $10,000"}),e.jsx("option",{value:"10000-25000",children:"$10,000 - $25,000"}),e.jsx("option",{value:"over-25000",children:"Over $25,000"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:a.map(r=>e.jsx("li",{className:"hover:bg-gray-50",children:e.jsx(L,{to:`/homeowner/projects/${r.id}`,className:"block",children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-lg font-medium text-blue-600 truncate",children:r.title}),e.jsx("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:"text-sm text-gray-500",children:r.budget})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:r.description})}),e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsxs("p",{children:[r.startDate," to ",r.endDate]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"relative pt-1",children:[e.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[e.jsx("div",{children:e.jsx("span",{className:"text-xs font-semibold inline-block text-blue-600",children:"Progress"})}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[r.progress,"%"]})})]}),e.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:e.jsx("div",{style:{width:`${r.progress}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-600"})})]})}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:r.providers.map(i=>e.jsx("img",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white",src:i.avatar,alt:i.name},i.id))}),e.jsx("div",{className:"ml-2 text-sm text-gray-500",children:r.providers.length===1?"1 provider assigned":`${r.providers.length} providers assigned`})]})]})})},r.id))})})]})},Eo=()=>{const{id:a}=at();Z();const{getHomeownerProject:s}=es(),[t,r]=f.useState(null),[i,n]=f.useState(!0),[o,l]=f.useState(""),[c,m]=f.useState("overview"),[d,u]=f.useState([]),[h,y]=f.useState(""),[p,g]=f.useState([]),[w,j]=f.useState([]);f.useEffect(()=>{(async()=>{try{n(!0),await new Promise(ee=>setTimeout(ee,800));const I={id:parseInt(a),title:"Kitchen Renovation",description:"Complete kitchen remodel with custom cabinets and quartz countertops",status:"in-progress",startDate:"2023-10-15",estimatedEndDate:"2023-12-20",budget:35e3,currentSpent:22500,location:"123 Main St, Anytown, USA",provider:{id:1,name:"ABC Contractors",rating:4.8,phone:"(555) 123-4567",email:"contact@abccontractors.com"},tasks:[{id:1,title:"Initial consultation",status:"completed",dueDate:"2023-10-15"},{id:2,title:"Design approval",status:"completed",dueDate:"2023-10-25"},{id:3,title:"Demolition",status:"completed",dueDate:"2023-11-05"},{id:4,title:"Plumbing and electrical",status:"in-progress",dueDate:"2023-11-15"},{id:5,title:"Cabinet installation",status:"pending",dueDate:"2023-11-25"},{id:6,title:"Countertop installation",status:"pending",dueDate:"2023-12-05"},{id:7,title:"Finishing touches",status:"pending",dueDate:"2023-12-15"},{id:8,title:"Final inspection",status:"pending",dueDate:"2023-12-20"}],materials:[{id:1,name:"Custom maple cabinets",status:"ordered",deliveryDate:"2023-11-20"},{id:2,name:"Quartz countertops",status:"pending",deliveryDate:"2023-12-01"},{id:3,name:"Stainless steel sink",status:"delivered",deliveryDate:"2023-11-10"},{id:4,name:"Tile backsplash",status:"delivered",deliveryDate:"2023-11-12"},{id:5,name:"Cabinet hardware",status:"delivered",deliveryDate:"2023-11-05"}],images:["https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"]};r(I),u([{id:1,sender:"ABC Contractors",senderType:"provider",message:"We've completed the demolition phase and will begin plumbing work tomorrow.",timestamp:"2023-11-06T14:30:00Z"},{id:2,sender:"John Smith",senderType:"homeowner",message:"Great! Will you need access to the basement for the plumbing work?",timestamp:"2023-11-06T15:45:00Z"},{id:3,sender:"ABC Contractors",senderType:"provider",message:"Yes, we'll need access to the basement. Also, the cabinet delivery has been confirmed for the 20th.",timestamp:"2023-11-06T16:20:00Z"},{id:4,sender:"John Smith",senderType:"homeowner",message:"Perfect. I'll make sure someone is home to let you in.",timestamp:"2023-11-06T16:35:00Z"}]),g([{id:1,name:"Kitchen Design Plans.pdf",type:"pdf",size:"2.4 MB",uploadDate:"2023-10-18"},{id:2,name:"Contract.pdf",type:"pdf",size:"1.8 MB",uploadDate:"2023-10-20"},{id:3,name:"Cabinet Specifications.docx",type:"docx",size:"1.2 MB",uploadDate:"2023-10-22"},{id:4,name:"Demolition Photos.zip",type:"zip",size:"15.7 MB",uploadDate:"2023-11-06"}]),j([{id:1,date:"2023-10-15",title:"Project Started",description:"Initial consultation and project planning"},{id:2,date:"2023-10-25",title:"Design Approved",description:"Final kitchen design approved"},{id:3,date:"2023-11-01",title:"Permits Obtained",description:"All necessary permits secured"},{id:4,date:"2023-11-05",title:"Demolition Complete",description:"Old kitchen removed and space prepared for new installation"},{id:5,date:"2023-11-10",title:"Plumbing Started",description:"Began updating plumbing for new layout"}])}catch(I){console.error("Error fetching project data:",I),l("Failed to load project details. Please try again later.")}finally{n(!1)}})()},[a,s]);const b=S=>{if(S.preventDefault(),!h.trim())return;const I={id:d.length+1,sender:"John Smith",senderType:"homeowner",message:h,timestamp:new Date().toISOString()};u([...d,I]),y("")},E=S=>{switch(S){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},H=()=>{if(!t||!t.tasks||t.tasks.length===0)return 0;const S=t.tasks.filter(I=>I.status==="completed").length;return Math.round(S/t.tasks.length*100)};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):o?e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:o})})]})}):t?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.description})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium ${E(t.status)}`,children:t.status==="in-progress"?"In Progress":t.status.charAt(0).toUpperCase()+t.status.slice(1)}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Project"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsxs("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),e.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Contact Provider"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Project Progress"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[H(),"%"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${H()}%`}})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2 row-span-2",children:e.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-full object-cover rounded-lg shadow-md"})}),t.images.slice(1,4).map((S,I)=>e.jsx("div",{children:e.jsx("img",{src:S,alt:`${t.title} ${I+2}`,className:"w-full h-48 object-cover rounded-lg shadow-md"})},I))]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>m("overview"),className:`${c==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Overview"}),e.jsx("button",{onClick:()=>m("tasks"),className:`${c==="tasks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Tasks"}),e.jsx("button",{onClick:()=>m("messages"),className:`${c==="messages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Messages"}),e.jsx("button",{onClick:()=>m("files"),className:`${c==="files"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Files"}),e.jsx("button",{onClick:()=>m("timeline"),className:`${c==="timeline"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Timeline"})]})}),e.jsxs("div",{className:"py-6",children:[c==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Details"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:e.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Project name"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.title})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.description})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Start date"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(t.startDate).toLocaleDateString()})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estimated completion"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(t.estimatedEndDate).toLocaleDateString()})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Budget"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["$",t.budget.toLocaleString()]})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Current spent"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:["$",t.currentSpent.toLocaleString()," (",Math.round(t.currentSpent/t.budget*100),"% of budget)"]})]}),e.jsxs("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.location})]})]})})]}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Materials"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:t.materials.map(S=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Delivery: ",new Date(S.deliveryDate).toLocaleDateString()]})]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status==="delivered"?"bg-green-100 text-green-800":S.status==="ordered"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})})]})},S.id))})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Service Provider"})}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-800 font-semibold text-lg",children:t.provider.name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:t.provider.name}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[t.provider.rating," rating"]})]})]})]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:t.provider.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:t.provider.email})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[e.jsxs("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),e.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Message Provider"]})})]})]}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Quick Actions"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"View Contract"]}),e.jsxs("button",{className:"w-full inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Upload Document"]}),e.jsxs("button",{className:"w-full inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Request Information"]}),e.jsxs("button",{className:"w-full inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"})}),"Report Issue"]})]})})]})]})]}),c==="tasks"&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Tasks"}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"-ml-1 mr-1 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Task"]})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:t.tasks.map(S=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:S.status==="completed"?e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${S.status==="completed"?"text-gray-500 line-through":"text-gray-900"}`,children:S.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(S.dueDate).toLocaleDateString()]})]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})})]})},S.id))})})]}),c==="messages"&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Messages"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col h-96",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:d.map(S=>e.jsx("div",{className:`flex ${S.senderType==="homeowner"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${S.senderType==="homeowner"?"bg-blue-100 text-blue-900":"bg-gray-100 text-gray-900"}`,children:[e.jsxs("div",{className:"font-medium text-xs mb-1",children:[S.sender,"  ",new Date(S.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-sm",children:S.message})]})},S.id))}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("form",{onSubmit:b,className:"flex space-x-2",children:[e.jsx("input",{type:"text",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Type a message...",value:h,onChange:S=>y(S.target.value)}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]})})]}),c==="files"&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Files"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload File"]})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:p.map(S=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 hover:text-blue-500 cursor-pointer",children:S.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[S.size,"  Uploaded on ",new Date(S.uploadDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"inline-flex items-center p-1.5 border border-gray-300 rounded-md shadow-sm text-xs text-gray-700 bg-white hover:bg-gray-50",children:e.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),e.jsx("button",{className:"inline-flex items-center p-1.5 border border-gray-300 rounded-md shadow-sm text-xs text-gray-700 bg-white hover:bg-gray-50",children:e.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),e.jsx("button",{className:"inline-flex items-center p-1.5 border border-gray-300 rounded-md shadow-sm text-xs text-gray-700 bg-white hover:bg-gray-50",children:e.jsx("svg",{className:"h-4 w-4 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})},S.id))})})]}),c==="timeline"&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Timeline"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"flow-root px-4 py-5 sm:px-6",children:e.jsx("ul",{className:"-mb-8",children:w.map((S,I)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[I!==w.length-1?e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{children:e.jsx("span",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center ring-8 ring-white",children:e.jsx("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})}),e.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:S.title}),e.jsx("p",{className:"text-sm text-gray-500",children:S.description})]}),e.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:new Date(S.date).toLocaleDateString()})]})]})]})},S.id))})})})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Project not found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"The project you're looking for doesn't exist or you don't have access to it."}),e.jsx(L,{to:"/homeowner/projects",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Back to Projects"})]})},Ao=()=>{const[a,s]=f.useState(""),[t,r]=f.useState(""),[i,n]=f.useState(""),[o,l]=f.useState([{id:1,name:"Elite Cabinets & Countertops",category:"Kitchen Remodeling",rating:4.8,reviews:124,description:"Specializing in custom cabinets and premium countertop installation with over 15 years of experience.",image:"https://images.pexels.com/photos/1669799/pexels-photo-1669799.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"3.2 miles",verified:!0,favorite:!0},{id:2,name:"Modern Plumbing Solutions",category:"Plumbing",rating:4.6,reviews:89,description:"Licensed plumbers providing residential and commercial services including repairs, installations, and maintenance.",image:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"5.7 miles",verified:!0,favorite:!1},{id:3,name:"Luxury Baths & Tiles",category:"Bathroom Remodeling",rating:4.9,reviews:156,description:"Transform your bathroom with our premium remodeling services. Specializing in luxury fixtures and custom tile work.",image:"https://images.pexels.com/photos/6585758/pexels-photo-6585758.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Boulder, CO",distance:"12.4 miles",verified:!0,favorite:!0},{id:4,name:"Outdoor Living Pros",category:"Landscaping",rating:4.7,reviews:78,description:"Complete outdoor solutions including decks, patios, landscaping, and garden design for your perfect outdoor space.",image:"https://images.pexels.com/photos/589/garden-grass-meadow-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Denver, CO",distance:"4.1 miles",verified:!0,favorite:!1},{id:5,name:"Bright Electric",category:"Electrical",rating:4.5,reviews:62,description:"Licensed electricians providing residential and commercial electrical services with 24/7 emergency support.",image:"https://images.pexels.com/photos/8961438/pexels-photo-8961438.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",location:"Lakewood, CO",distance:"7.8 miles",verified:!1,favorite:!1}]),c=["All Categories","Kitchen Remodeling","Bathroom Remodeling","Plumbing","Electrical","Landscaping","Painting","Flooring","Roofing","HVAC"],m=[{value:"",label:"Any Rating"},{value:"4.5",label:"4.5+ Stars"},{value:"4",label:"4+ Stars"},{value:"3.5",label:"3.5+ Stars"},{value:"3",label:"3+ Stars"}],d=h=>{l(o.map(y=>y.id===h?{...y,favorite:!y.favorite}:y))},u=o.filter(h=>{const y=h.name.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase()),p=t===""||t==="All Categories"||h.category===t,g=i===""||h.rating>=parseFloat(i);return y&&p&&g});return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Service Providers"})}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search providers"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"Search providers by name or service",value:a,onChange:h=>s(h.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("select",{id:"category",name:"category",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:t,onChange:h=>r(h.target.value),children:c.map((h,y)=>e.jsx("option",{value:h,children:h},y))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700",children:"Rating"}),e.jsx("select",{id:"rating",name:"rating",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:i,onChange:h=>n(h.target.value),children:m.map((h,y)=>e.jsx("option",{value:h.value,children:h.label},y))})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:u.map(h=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{className:"w-full h-full object-cover",src:h.image,alt:h.name}),e.jsx("button",{onClick:()=>d(h.id),className:"absolute top-4 right-4 p-1.5 rounded-full bg-white shadow hover:bg-gray-100",children:e.jsx("svg",{className:`h-5 w-5 ${h.favorite?"text-red-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.jsx(L,{to:`/homeowner/providers/${h.id}`,className:"hover:text-blue-600",children:h.name})}),e.jsx("p",{className:"text-sm text-gray-500",children:h.category})]}),h.verified&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-green-400",fill:"currentColor",viewBox:"0 0 8 8",children:e.jsx("circle",{cx:"4",cy:"4",r:"3"})}),"Verified"]})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((y,p)=>e.jsx("svg",{className:`h-5 w-5 ${p<Math.floor(h.rating)?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),e.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:[h.rating," (",h.reviews," reviews)"]})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:h.description}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsxs("p",{children:[h.location,"  ",h.distance]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(L,{to:`/homeowner/providers/${h.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"}),e.jsx("button",{className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact"})]})]})]},h.id))}),u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No providers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]})},Mo=()=>{const[a,s]=f.useState(1),[t,r]=f.useState(""),i=[{id:1,provider:{id:101,name:"Elite Cabinets",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=100",online:!0},unread:2,lastMessage:{text:"I can come by tomorrow at 2pm to measure your kitchen cabinets.",time:"10:42 AM",isRead:!1},messages:[{id:1,sender:"provider",text:"Hello! Thanks for reaching out about your kitchen renovation project.",time:"Yesterday, 4:30 PM",isRead:!0},{id:2,sender:"user",text:"Hi there! I'm interested in getting new cabinets installed. Do you have availability in the next couple of weeks?",time:"Yesterday, 5:15 PM",isRead:!0},{id:3,sender:"provider",text:"Yes, we do have some openings. I'd need to come by and take measurements first. Would you be available for an in-home consultation?",time:"Yesterday, 5:45 PM",isRead:!0},{id:4,sender:"user",text:"That sounds great. When would you be able to come by?",time:"Today, 9:30 AM",isRead:!0},{id:5,sender:"provider",text:"I can come by tomorrow at 2pm to measure your kitchen cabinets.",time:"10:42 AM",isRead:!1}]},{id:2,provider:{id:102,name:"Modern Plumbing",avatar:"https://images.pexels.com/photos/8486972/pexels-photo-8486972.jpeg?auto=compress&cs=tinysrgb&w=100",online:!1},unread:0,lastMessage:{text:"The parts have arrived. I can schedule the installation for next Tuesday.",time:"Yesterday",isRead:!0},messages:[{id:1,sender:"user",text:"Hi, I need to replace my bathroom faucet. Do you provide and install new fixtures?",time:"3 days ago, 2:15 PM",isRead:!0},{id:2,sender:"provider",text:"Hello! Yes, we do provide and install bathroom fixtures. Do you have a specific style in mind?",time:"3 days ago, 3:30 PM",isRead:!0},{id:3,sender:"user",text:"I'm looking for something modern with a brushed nickel finish. Do you have any recommendations?",time:"2 days ago, 10:20 AM",isRead:!0},{id:4,sender:"provider",text:"We have several options that would work well. I'll need to order the parts. It should take about 3-5 days to arrive.",time:"2 days ago, 11:45 AM",isRead:!0},{id:5,sender:"provider",text:"The parts have arrived. I can schedule the installation for next Tuesday.",time:"Yesterday, 4:30 PM",isRead:!0}]},{id:3,provider:{id:103,name:"Luxury Baths",avatar:"https://images.pexels.com/photos/6585758/pexels-photo-6585758.jpeg?auto=compress&cs=tinysrgb&w=100",online:!0},unread:0,lastMessage:{text:"I've attached the quote for your bathroom remodel. Let me know if you have any questions!",time:"Monday",isRead:!0},messages:[{id:1,sender:"provider",text:"Hello! I understand you're interested in a bathroom remodel. How can we help?",time:"Monday, 9:15 AM",isRead:!0},{id:2,sender:"user",text:"Yes, I'd like to completely renovate my master bathroom. Can you provide a quote?",time:"Monday, 10:30 AM",isRead:!0},{id:3,sender:"provider",text:"I've attached the quote for your bathroom remodel. Let me know if you have any questions!",time:"Monday, 3:45 PM",isRead:!0}]}],n=l=>{l.preventDefault(),t.trim()!==""&&(console.log("Sending message:",t),r(""))},o=i.find(l=>l.id===a);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Messages"}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("div",{className:"flex h-[calc(100vh-250px)]",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search messages",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("div",{className:"absolute left-3 top-2.5",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})}),e.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(l=>e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${a===l.id?"bg-blue-50":""}`,onClick:()=>s(l.id),children:e.jsxs("div",{className:"relative px-4 py-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:l.provider.avatar,alt:l.provider.name}),l.provider.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-white"})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.provider.name}),e.jsx("p",{className:"text-xs text-gray-500",children:l.lastMessage.time})]}),e.jsx("p",{className:`text-sm ${l.unread>0?"font-semibold text-gray-900":"text-gray-500"} line-clamp-1`,children:l.lastMessage.text})]})]}),l.unread>0&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-xs font-medium text-white",children:l.unread})})]})},l.id))})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{className:"h-10 w-10 rounded-full",src:o.provider.avatar,alt:o.provider.name}),o.provider.online&&e.jsx("span",{className:"absolute bottom-0 right-0 block h-2.5 w-2.5 rounded-full bg-green-400 ring-2 ring-white"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.provider.name}),e.jsx("p",{className:"text-xs text-gray-500",children:o.provider.online?"Online":"Offline"})]}),e.jsxs("div",{className:"ml-auto flex space-x-2",children:[e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),e.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("div",{className:"space-y-4",children:o.messages.map(l=>e.jsx("div",{className:`flex ${l.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${l.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[e.jsx("p",{className:"text-sm",children:l.text}),e.jsx("p",{className:`text-xs mt-1 ${l.sender==="user"?"text-blue-200":"text-gray-500"}`,children:l.time})]})},l.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:n,className:"flex items-center",children:[e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})})}),e.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",placeholder:"Type a message",className:"flex-1 mx-4 p-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:l=>r(l.target.value)}),e.jsx("button",{type:"submit",className:"p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conversation selected"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a conversation to start messaging."})]})})})]})})]})},Lo=()=>{const[a,s]=f.useState("account"),[t,r]=f.useState({email:"johndoe@example.com",firstName:"John",lastName:"Doe",phone:"(555) 123-4567",address:"123 Main St",city:"Denver",state:"CO",zipCode:"80202",notifyEmail:!0,notifySMS:!1,notifyPush:!0,twoFactorEnabled:!1,language:"english",theme:"light",currency:"usd"}),i=l=>{const{name:c,value:m,type:d,checked:u}=l.target;r({...t,[c]:d==="checkbox"?u:m})},n=l=>{l.preventDefault(),console.log("Saving settings:",t),alert("Settings saved successfully!")},o=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&console.log("Deleting account")};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"sm:hidden",children:[e.jsx("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),e.jsxs("select",{id:"tabs",name:"tabs",className:"block w-full focus:ring-blue-500 focus:border-blue-500 border-gray-300 rounded-md",value:a,onChange:l=>s(l.target.value),children:[e.jsx("option",{value:"account",children:"Account"}),e.jsx("option",{value:"notifications",children:"Notifications"}),e.jsx("option",{value:"security",children:"Security & Privacy"}),e.jsx("option",{value:"preferences",children:"Preferences"}),e.jsx("option",{value:"billing",children:"Billing"})]})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>s("account"),className:`${a==="account"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Account"}),e.jsx("button",{onClick:()=>s("notifications"),className:`${a==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Notifications"}),e.jsx("button",{onClick:()=>s("security"),className:`${a==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Security & Privacy"}),e.jsx("button",{onClick:()=>s("preferences"),className:`${a==="preferences"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Preferences"}),e.jsx("button",{onClick:()=>s("billing"),className:`${a==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/5 py-4 px-1 text-center border-b-2 font-medium text-sm`,children:"Billing"})]})})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[a==="account"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your account information and contact details."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"firstName",id:"firstName",autoComplete:"given-name",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.firstName,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"lastName",id:"lastName",autoComplete:"family-name",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.lastName,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.email,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"phone",id:"phone",autoComplete:"tel",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.phone,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"address",id:"address",autoComplete:"street-address",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.address,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"city",id:"city",autoComplete:"address-level2",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.city,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"state",id:"state",autoComplete:"address-level1",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.state,onChange:i})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"zipCode",id:"zipCode",autoComplete:"postal-code",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.zipCode,onChange:i})})]})]})]}),e.jsx("div",{className:"pt-6 sm:pt-8",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="notifications"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Decide how you want to be notified about activity."})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"By Email"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifyEmail",name:"notifyEmail",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifyEmail,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifyEmail",className:"font-medium text-gray-700",children:"Email notifications"}),e.jsx("p",{className:"text-gray-500",children:"Get notified about project updates, messages, and important announcements via email."})]})]})})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"By SMS"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifySMS",name:"notifySMS",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifySMS,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifySMS",className:"font-medium text-gray-700",children:"SMS notifications"}),e.jsx("p",{className:"text-gray-500",children:"Receive text messages for urgent updates and appointment reminders."})]})]})})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Push Notifications"}),e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"notifyPush",name:"notifyPush",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.notifyPush,onChange:i})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"notifyPush",className:"font-medium text-gray-700",children:"Push notifications"}),e.jsx("p",{className:"text-gray-500",children:"Get real-time notifications on your device when using our mobile app."})]})]})})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Security and Privacy"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account security and privacy settings."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Change password"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Update your password to keep your account secure."})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Change password"})})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Two-factor authentication"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Add an extra layer of security to your account by enabling two-factor authentication."})}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"twoFactorEnabled",name:"twoFactorEnabled",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded",checked:t.twoFactorEnabled,onChange:i}),e.jsx("label",{htmlFor:"twoFactorEnabled",className:"ml-2 block text-sm text-gray-900",children:"Enable two-factor authentication"})]})})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete account"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone."})}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"button",onClick:o,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete account"})})]})})]}),a==="preferences"&&e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Preferences"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your experience on our platform."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700",children:"Language"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"language",name:"language",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.language,onChange:i,children:[e.jsx("option",{value:"english",children:"English"}),e.jsx("option",{value:"spanish",children:"Spanish"}),e.jsx("option",{value:"french",children:"French"}),e.jsx("option",{value:"german",children:"German"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700",children:"Theme"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"theme",name:"theme",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.theme,onChange:i,children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"system",children:"System Default"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"currency",name:"currency",className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",value:t.currency,onChange:i,children:[e.jsx("option",{value:"usd",children:"USD ($)"}),e.jsx("option",{value:"eur",children:"EUR ()"}),e.jsx("option",{value:"gbp",children:"GBP ()"}),e.jsx("option",{value:"cad",children:"CAD ($)"})]})})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})})]}),a==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Billing Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your payment methods and billing history."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Payment Methods"}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-8 w-8 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M4 4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4ZM20 6V18H4V6H20Z"}),e.jsx("path",{d:"M4 14H20V16H4V14Z"})]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Visa ending in 4242"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Expires 12/2024"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),e.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Remove"})]})]})}),e.jsx("button",{type:"button",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add payment method"})]})]})}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Billing History"}),e.jsx("div",{className:"mt-5",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"View"})})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"May 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"April 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"March 15, 2023"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Premium Subscription"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$29.99"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-900",children:"View"})})]})]})]})})})})})})]})})]})]})]})]})};function Ro(){const{visionBoards:a,properties:s,createVisionBoard:t,loading:r}=es(),[i,n]=f.useState(!1),[o,l]=f.useState({title:"",description:"",category:"Kitchen",property_id:""}),[c,m]=f.useState(!1),[d,u]=f.useState(null),[h,y]=f.useState(null),p=["Kitchen","Bathroom","Living Room","Bedroom","Outdoor","Home Office","Landscaping","Other"],g=b=>{const{name:E,value:H}=b.target;l({...o,[E]:H})},w=async b=>{b.preventDefault();try{m(!0),u(null),await t(o),l({title:"",description:"",category:"Kitchen",property_id:""}),n(!1),y("Vision board created successfully!"),setTimeout(()=>{y(null)},3e3)}catch(E){console.error("Error creating vision board:",E),u("Failed to create vision board. Please try again.")}finally{m(!1)}},j=b=>{switch(b){case"Kitchen":return"M19 15v2a2 2 0 01-2 2H7a2 2 0 01-2-2v-2m3-4H8a2 2 0 00-2 2v4a2 2 0 002 2h12a2 2 0 002-2v-4a2 2 0 00-2-2h-1m-1-4l-3-3m0 0l-3 3m3-3v12";case"Bathroom":return"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z";case"Living Room":return"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6";case"Bedroom":return"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z";case"Outdoor":return"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z";case"Home Office":return"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z";case"Landscaping":return"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z";default:return"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vision Boards"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage your project vision boards."})]}),d&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:d})})]})]})}),h&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:h})})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Vision Board"]}),e.jsxs(L,{to:"/homeowner/inspiration",className:"ml-4 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsxs("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Browse Inspiration"]})]}),i&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Create Vision Board"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a new vision board to collect and organize your project ideas."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",name:"title",id:"title",required:!0,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.title,onChange:g})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.description,onChange:g})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsx("select",{id:"category",name:"category",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:o.category,onChange:g,children:p.map(b=>e.jsx("option",{value:b,children:b},b))})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"property_id",className:"block text-sm font-medium text-gray-700",children:"Property (Optional)"}),e.jsxs("select",{id:"property_id",name:"property_id",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:o.property_id,onChange:g,children:[e.jsx("option",{value:"",children:"Select a property"}),s.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>n(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:c,children:c?"Creating...":"Create"})]})]})})]})}),a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:a.map(b=>{var E;return e.jsx(L,{to:`/homeowner/vision-boards/${b.id}`,className:"block bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:j(b.category)})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.title}),e.jsx("p",{className:"text-sm text-gray-500",children:b.category})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:b.description||"No description provided."})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),e.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),e.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:[((E=b.vision_board_items)==null?void 0:E.length)||0," items"]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()})]})]})},b.id)})}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vision boards"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new vision board."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Vision Board"]})})]})})]})}function To(){const{id:a}=at(),{getVisionBoardById:s,updateVisionBoard:t,deleteVisionBoardItem:r,addVisionBoardItem:i,loading:n}=es(),[o,l]=f.useState(null),[c,m]=f.useState("inspiration"),[d,u]=f.useState(!1),[h,y]=f.useState({image_url:"",title:"",description:"",source_url:"",tags:""}),[p,g]=f.useState(!1),[w,j]=f.useState(null),[b,E]=f.useState(null),H={id:parseInt(a),title:"Modern Kitchen Renovation",description:"Ideas for my upcoming kitchen remodel with a focus on minimalist design and functionality.",category:"Kitchen",created_at:"2023-09-15T10:30:00Z",updated_at:"2023-10-05T14:45:00Z",property:{id:1,name:"Main Residence",address:"123 Home Street, Anytown, USA"},vision_board_items:[{id:1,image_url:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"White Marble Countertops",description:"Elegant white marble countertops with subtle gray veining for a clean, modern look.",source_url:"https://example.com/marble-countertops",tags:["countertops","marble","white","modern"],created_at:"2023-09-16T11:20:00Z"},{id:2,image_url:"https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Minimalist Cabinet Design",description:"Handle-less cabinets with push-to-open mechanism for a sleek, uncluttered appearance.",source_url:"https://example.com/minimalist-cabinets",tags:["cabinets","minimalist","modern","storage"],created_at:"2023-09-18T09:15:00Z"},{id:3,image_url:"https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Pendant Lighting",description:"Contemporary pendant lights to hang over the kitchen island, providing both style and functionality.",source_url:"https://example.com/pendant-lights",tags:["lighting","pendant","modern","fixtures"],created_at:"2023-09-20T16:40:00Z"},{id:4,image_url:"https://images.pexels.com/photos/6489123/pexels-photo-6489123.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Undermount Sink",description:"Deep single-basin undermount sink in stainless steel for a clean look and maximum functionality.",source_url:"https://example.com/undermount-sinks",tags:["sink","stainless","undermount","functional"],created_at:"2023-09-22T13:10:00Z"},{id:5,image_url:"https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Hardwood Flooring",description:"Engineered hardwood flooring in a light oak finish to brighten the space and provide durability.",source_url:"https://example.com/hardwood-flooring",tags:["flooring","hardwood","oak","durable"],created_at:"2023-09-25T10:05:00Z"},{id:6,image_url:"https://images.pexels.com/photos/6312364/pexels-photo-6312364.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Smart Refrigerator",description:"Built-in smart refrigerator with customizable temperature zones and WiFi connectivity.",source_url:"https://example.com/smart-refrigerators",tags:["appliances","refrigerator","smart","technology"],created_at:"2023-09-28T14:30:00Z"}]},S=[{id:101,image_url:"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Open Concept Kitchen",description:"Spacious open concept kitchen with island and bar seating.",source_url:"https://example.com/open-concept",tags:["open concept","island","modern"]},{id:102,image_url:"https://images.pexels.com/photos/1599791/pexels-photo-1599791.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Subway Tile Backsplash",description:"Classic white subway tile backsplash with dark grout for contrast.",source_url:"https://example.com/subway-tile",tags:["backsplash","subway tile","white","classic"]},{id:103,image_url:"https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Butcher Block Island",description:"Kitchen island with butcher block countertop for a warm, natural element.",source_url:"https://example.com/butcher-block",tags:["island","butcher block","wood","natural"]},{id:104,image_url:"https://images.pexels.com/photos/6969926/pexels-photo-6969926.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Matte Black Fixtures",description:"Modern matte black faucet and cabinet hardware for a bold statement.",source_url:"https://example.com/matte-black",tags:["fixtures","matte black","modern","hardware"]},{id:105,image_url:"https://images.pexels.com/photos/6186504/pexels-photo-6186504.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Glass Cabinet Doors",description:"Upper cabinets with glass doors to display dishware and add visual interest.",source_url:"https://example.com/glass-cabinets",tags:["cabinets","glass","display","storage"]},{id:106,image_url:"https://images.pexels.com/photos/6508947/pexels-photo-6508947.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Pot Filler",description:"Wall-mounted pot filler above the stove for convenience when cooking.",source_url:"https://example.com/pot-filler",tags:["fixtures","pot filler","convenience","cooking"]}];f.useEffect(()=>{(async()=>{try{await new Promise(O=>setTimeout(O,800)),l(H)}catch(O){console.error("Error fetching vision board:",O),j("Failed to load vision board. Please try again later.")}})()},[a]);const I=T=>{const{name:O,value:V}=T.target;y({...h,[O]:V})},ee=async T=>{T.preventDefault();try{g(!0),j(null),await new Promise(V=>setTimeout(V,800));const O={id:Math.floor(Math.random()*1e3)+10,...h,tags:h.tags.split(",").map(V=>V.trim()),created_at:new Date().toISOString()};l({...o,vision_board_items:[...o.vision_board_items,O]}),y({image_url:"",title:"",description:"",source_url:"",tags:""}),u(!1),E("Item added successfully!"),setTimeout(()=>{E(null)},3e3)}catch(O){console.error("Error adding vision board item:",O),j("Failed to add item. Please try again.")}finally{g(!1)}},ce=async T=>{if(confirm("Are you sure you want to remove this item from your vision board?"))try{await new Promise(O=>setTimeout(O,500)),l({...o,vision_board_items:o.vision_board_items.filter(O=>O.id!==T)}),E("Item removed successfully!"),setTimeout(()=>{E(null)},3e3)}catch(O){console.error("Error deleting vision board item:",O),j("Failed to remove item. Please try again.")}},B=async T=>{try{await new Promise(V=>setTimeout(V,500));const O={id:Math.floor(Math.random()*1e3)+10,...T,created_at:new Date().toISOString()};l({...o,vision_board_items:[...o.vision_board_items,O]}),E("Item added to your vision board!"),setTimeout(()=>{E(null)},3e3)}catch(O){console.error("Error adding vision board item:",O),j("Failed to add item. Please try again.")}};return n||!o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o.description}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:o.category}),o.property&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:o.property.name}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["Created ",new Date(o.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Item"]}),e.jsxs(L,{to:`/homeowner/projects/new?vision_board=${o.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Create Project"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Board"]})]})]})}),w&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:w})})]})]})}),b&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:b})})]})}),d&&e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Add Vision Board Item"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add a new item to your vision board. Include an image URL, title, and description."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{onSubmit:ee,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"image_url",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),e.jsx("input",{type:"url",name:"image_url",id:"image_url",required:!0,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:h.image_url,onChange:I,placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",name:"title",id:"title",required:!0,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:h.title,onChange:I})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"source_url",className:"block text-sm font-medium text-gray-700",children:"Source URL (Optional)"}),e.jsx("input",{type:"url",name:"source_url",id:"source_url",className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:h.source_url,onChange:I,placeholder:"https://example.com/source"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:h.description,onChange:I})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",name:"tags",id:"tags",className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:h.tags,onChange:I,placeholder:"modern, kitchen, white, marble"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>u(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:p,children:p?"Adding...":"Add Item"})]})]})})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>m("items"),className:`${c==="items"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["My Items (",o.vision_board_items.length,")"]}),e.jsx("button",{onClick:()=>m("inspiration"),className:`${c==="inspiration"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Inspiration"}),e.jsx("button",{onClick:()=>m("ai"),className:`${c==="ai"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"AI Suggestions"})]})}),c==="items"&&e.jsx("div",{children:o.vision_board_items.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:o.vision_board_items.map(T=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"relative pb-2/3",children:e.jsx("img",{src:T.image_url,alt:T.title,className:"absolute h-64 w-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.title}),e.jsx("button",{onClick:()=>ce(T.id),className:"text-gray-400 hover:text-red-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:T.description}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:T.tags&&T.tags.map((O,V)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:O},V))})}),T.source_url&&e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:T.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View Source"})})]})]},T.id))}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding items to your vision board."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Item"]})})]})})}),c==="inspiration"&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search for inspiration..."})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:S.map(T=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"relative pb-2/3",children:e.jsx("img",{src:T.image_url,alt:T.title,className:"absolute h-64 w-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.title}),e.jsx("button",{onClick:()=>B(T),className:"inline-flex items-center p-1.5 border border-transparent rounded-full shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:T.description}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:T.tags&&T.tags.map((O,V)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:O},V))})}),T.source_url&&e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:T.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"View Source"})})]})]},T.id))})]}),c==="ai"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"AI Design Assistant"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsxs("p",{children:["Describe what you're looking for, and our AI will generate personalized design suggestions for your ",o.category.toLowerCase(),"."]})}),e.jsxs("form",{className:"mt-5",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{rows:3,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:`Example: I want a modern ${o.category.toLowerCase()} with white cabinets, marble countertops, and gold fixtures.`})}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Generate Suggestions"]})})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No AI suggestions yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Use the form above to generate personalized design suggestions."})]})})]})]})}const Do=()=>{const{user:a,providerProfile:s,supabase:t}=Z(),[r,i]=f.useState({activeJobs:0,completedJobs:0,pendingRequests:0,totalEarnings:0}),[n,o]=f.useState([]),[l,c]=f.useState(!0);return f.useEffect(()=>{(async()=>{if(a)try{c(!0),await new Promise(d=>setTimeout(d,1e3)),i({activeJobs:5,completedJobs:12,pendingRequests:3,totalEarnings:4850}),o([{id:1,title:"Kitchen Renovation",client:"John Smith",status:"In Progress",dueDate:"2023-12-15",amount:1200},{id:2,title:"Bathroom Plumbing",client:"Sarah Johnson",status:"In Progress",dueDate:"2023-12-10",amount:850},{id:3,title:"Deck Installation",client:"Michael Brown",status:"In Progress",dueDate:"2023-12-20",amount:2200},{id:4,title:"Electrical Wiring",client:"Emily Davis",status:"Pending",dueDate:"2023-12-18",amount:600}])}catch(d){console.error("Error fetching dashboard data:",d)}finally{c(!1)}})()},[a]),l?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Provider Dashboard"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.activeJobs})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed Jobs"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.completedJobs})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:r.pendingRequests})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Earnings"}),e.jsx("dd",{children:e.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["$",r.totalEarnings]})})]})})]})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Jobs"}),e.jsx("div",{className:"mt-4 bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(m=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-primary-600 truncate",children:m.title}),e.jsx("div",{className:`ml-2 flex-shrink-0 flex ${m.status==="In Progress"?"bg-green-100":"bg-yellow-100"} rounded-full px-2 py-0.5`,children:e.jsx("p",{className:`text-xs font-medium ${m.status==="In Progress"?"text-green-800":"text-yellow-800"}`,children:m.status})})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Due ",new Date(m.dueDate).toLocaleDateString()]})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsx("div",{className:"sm:flex",children:e.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),m.client]})}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"$",m.amount]})]})]})},m.id))})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Update Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Keep your profile up to date to attract more clients."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Update Profile"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Schedule"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your availability and manage appointments."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Calendar"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Check Messages"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have 3 unread messages from clients."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Messages"})})]})]})})})]})]})]})})};function $o(){const{user:a,providerProfile:s,updateProviderProfile:t}=Z(),[r,i]=f.useState(!1),[n,o]=f.useState(null),[l,c]=f.useState(null),[m,d]=f.useState({business_name:"",contact_name:"",email:"",phone:"",website:"",address:"",city:"",state:"",zip:"",description:"",years_in_business:"",employees_count:"",license_number:"",insurance_info:"",service_area:""});f.useEffect(()=>{s&&d({business_name:s.business_name||"",contact_name:s.contact_name||"",email:s.email||(a==null?void 0:a.email)||"",phone:s.phone||"",website:s.website||"",address:s.address||"",city:s.city||"",state:s.state||"",zip:s.zip||"",description:s.description||"",years_in_business:s.years_in_business||"",employees_count:s.employees_count||"",license_number:s.license_number||"",insurance_info:s.insurance_info||"",service_area:s.service_area||""})},[s,a]);const u=y=>{const{name:p,value:g}=y.target;d({...m,[p]:g})},h=async y=>{y.preventDefault();try{i(!0),c(null);const{error:p}=await t(m);if(p)throw p;o("Profile updated successfully!"),setTimeout(()=>{o(null)},3e3)}catch(p){console.error("Error updating profile:",p),c("Failed to update profile. Please try again.")}finally{i(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your business information and settings."})]}),l&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:l})})]})]})}),n&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:n})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Business Information"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Update your business details and contact information."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:e.jsxs("form",{onSubmit:h,children:[e.jsx("div",{className:"sm:divide-y sm:divide-gray-200",children:e.jsx("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:e.jsxs("div",{className:"col-span-3 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"business_name",id:"business_name",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.business_name,onChange:u,required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"contact_name",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"contact_name",id:"contact_name",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.contact_name,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.email,onChange:u,required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"tel",name:"phone",id:"phone",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.phone,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"url",name:"website",id:"website",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.website,onChange:u})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Address"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"address",id:"address",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.address,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"city",id:"city",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.city,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"state",id:"state",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.state,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700",children:"ZIP / Postal Code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"zip",id:"zip",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.zip,onChange:u})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Business Details"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Business Description"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"description",name:"description",rows:"4",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.description,onChange:u})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description of your business and services."})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"years_in_business",className:"block text-sm font-medium text-gray-700",children:"Years in Business"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"years_in_business",id:"years_in_business",min:"0",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.years_in_business,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"employees_count",className:"block text-sm font-medium text-gray-700",children:"Number of Employees"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"employees_count",id:"employees_count",min:"1",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.employees_count,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"license_number",className:"block text-sm font-medium text-gray-700",children:"License Number"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"license_number",id:"license_number",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.license_number,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"insurance_info",className:"block text-sm font-medium text-gray-700",children:"Insurance Information"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"insurance_info",id:"insurance_info",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:m.insurance_info,onChange:u})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"service_area",className:"block text-sm font-medium text-gray-700",children:"Service Area"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"service_area",id:"service_area",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., 25 miles from Chicago, IL",value:m.service_area,onChange:u})})]})]})]})]})})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e.jsxs("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:r,children:[r?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Save Changes"]})})]})})]})]})}function Fo(){const{providerProfile:a}=Z(),[s,t]=f.useState([]),[r,i]=f.useState(!0),[n,o]=f.useState("all"),[l,c]=f.useState("");f.useEffect(()=>{a&&m()},[a,n]);const m=async()=>{try{i(!0);let g=P.from("projects").select(`
          *,
          services (*),
          bids (
            id,
            provider_id,
            amount,
            status,
            created_at
          )
        `).eq("bids.provider_id",a.id);n==="active"?g=g.eq("status","in_progress"):n==="completed"?g=g.eq("status","completed"):n==="pending"&&(g=g.eq("bids.status","pending"));const{data:w,error:j}=await g;if(j)throw j;t(w||[])}catch(g){console.error("Error fetching jobs:",g)}finally{i(!1)}},d=g=>{o(g)},u=l?s.filter(g=>g.title.toLowerCase().includes(l.toLowerCase())||g.description.toLowerCase().includes(l.toLowerCase())||g.location.toLowerCase().includes(l.toLowerCase())):s,h=g=>{switch(g){case"open":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},y=g=>new Date(g).toLocaleDateString(),p=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Jobs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your current and past jobs."})]}),e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[e.jsx("button",{onClick:()=>d("all"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="all"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"All Jobs"}),e.jsx("button",{onClick:()=>d("active"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="active"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Active"}),e.jsx("button",{onClick:()=>d("completed"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="completed"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Completed"}),e.jsx("button",{onClick:()=>d("pending"),className:`px-3 py-2 text-sm font-medium rounded-md ${n==="pending"?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700"}`,children:"Pending Bids"})]})})}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("form",{className:"flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-primary-500 focus:border-primary-500 block w-full rounded-md sm:text-sm border-gray-300",placeholder:"Search jobs...",value:l,onChange:g=>c(g.target.value)}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Search"})]})})]})}),u.length>0?e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(g=>{var w;return e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-medium",children:g.title.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.title}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h(g.status)}`,children:g.status==="open"?"Open":g.status==="in_progress"?"In Progress":g.status==="completed"?"Completed":g.status}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:((w=g.services)==null?void 0:w.name)||"General"})]})]})]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx(L,{to:`/jobs/${g.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Details"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:g.description})}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),g.location||"No location specified"]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),y(g.created_at)]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),g.bids&&g.bids.length>0?p(g.bids[0].amount):"No bid submitted"]})})]})]})},g.id)})})}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No jobs found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n!=="all"?`You don't have any ${n} jobs.`:"You haven't been assigned any jobs yet."}),e.jsx("div",{className:"mt-6",children:e.jsxs(L,{to:"/leads",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Browse Available Leads"]})})]})})]})}function Bo(){var I,ee,ce;const{user:a,providerProfile:s}=Z(),[t,r]=f.useState([]),[i,n]=f.useState(null),[o,l]=f.useState([]),[c,m]=f.useState(""),[d,u]=f.useState(!0),[h,y]=f.useState(!1),p=f.useRef(null);f.useEffect(()=>{s&&g()},[s]),f.useEffect(()=>{if(i){w(i.id);const B=P.channel(`conversation:${i.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${i.id}`},T=>{l(O=>[...O,T.new])}).subscribe();return()=>{P.removeChannel(B)}}},[i]),f.useEffect(()=>{b()},[o]);const g=async()=>{try{u(!0);const{data:B,error:T}=await P.from("conversations").select(`
          *,
          homeowner:homeowner_id (
            id,
            first_name,
            last_name,
            email
          ),
          provider:provider_id (
            id,
            business_name,
            contact_name,
            email
          ),
          project:project_id (
            id,
            title
          ),
          messages (
            id,
            created_at,
            content
          )
        `).eq("provider_id",s.id).order("updated_at",{ascending:!1});if(T)throw T;r(B||[]),B&&B.length>0&&!i&&n(B[0])}catch(B){console.error("Error fetching conversations:",B)}finally{u(!1)}},w=async B=>{try{const{data:T,error:O}=await P.from("messages").select(`
          *,
          sender:sender_id (
            id,
            email
          )
        `).eq("conversation_id",B).order("created_at",{ascending:!0});if(O)throw O;l(T||[]),await P.from("messages").update({is_read:!0}).eq("conversation_id",B).eq("sender_id","not.eq",a.id).eq("is_read",!1)}catch(T){console.error("Error fetching messages:",T)}},j=async B=>{if(B.preventDefault(),!(!c.trim()||!i))try{y(!0);const{data:T,error:O}=await P.from("messages").insert([{conversation_id:i.id,sender_id:a.id,content:c.trim(),is_read:!1}]).select();if(O)throw O;await P.from("conversations").update({updated_at:new Date().toISOString()}).eq("id",i.id),m("")}catch(T){console.error("Error sending message:",T)}finally{y(!1)}},b=()=>{var B;(B=p.current)==null||B.scrollIntoView({behavior:"smooth"})},E=B=>new Date(B).toLocaleString(),H=B=>{if(!B.messages||B.messages.length===0)return"No messages yet";const T=B.messages[B.messages.length-1];return T.content.length>30?`${T.content.substring(0,30)}...`:T.content},S=B=>B.messages?B.messages.filter(T=>!T.is_read&&T.sender_id!==a.id).length:0;return d&&t.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Communicate with homeowners about their projects."})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"h-[calc(100vh-250px)] flex",children:[e.jsxs("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Conversations"})}),t.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(B=>{var T,O,V;return e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${(i==null?void 0:i.id)===B.id?"bg-gray-50":""}`,onClick:()=>n(B),children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900",children:[(T=B.homeowner)==null?void 0:T.first_name," ",(O=B.homeowner)==null?void 0:O.last_name]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.updated_at).toLocaleDateString()})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 truncate",children:((V=B.project)==null?void 0:V.title)||"No project"}),e.jsxs("div",{className:"mt-2 flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-500 truncate",children:H(B)}),S(B)>0&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:S(B)})]})]})},B.id)})}):e.jsx("div",{className:"px-4 py-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No conversations yet."})})]}),e.jsx("div",{className:"w-2/3 flex flex-col",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[(I=i.homeowner)==null?void 0:I.first_name," ",(ee=i.homeowner)==null?void 0:ee.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:((ce=i.project)==null?void 0:ce.title)||"No project"})]})})}),e.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:o.length>0?e.jsxs("div",{className:"space-y-4",children:[o.map(B=>e.jsx("div",{className:`flex ${B.sender_id===a.id?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs sm:max-w-md px-4 py-2 rounded-lg ${B.sender_id===a.id?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("p",{className:"text-sm",children:B.content}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:E(B.created_at)})]})},B.id)),e.jsx("div",{ref:p})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No messages yet. Start the conversation!"})})}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:e.jsx("form",{onSubmit:j,children:e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",name:"message",id:"message",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Type a message...",value:c,onChange:B=>m(B.target.value),disabled:h}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",disabled:!c.trim()||h,children:h?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send"})]})})})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Select a conversation to view messages"})})})]})})]})}function zo(){const{user:a,logout:s}=Z(),[t,r]=f.useState("account"),[i,n]=f.useState(!1),[o,l]=f.useState(null),[c,m]=f.useState(null),[d,u]=f.useState((a==null?void 0:a.email)||""),[h,y]=f.useState(""),[p,g]=f.useState(""),[w,j]=f.useState(""),[b,E]=f.useState({email_new_leads:!0,email_messages:!0,email_job_updates:!0,push_new_leads:!1,push_messages:!0,push_job_updates:!1}),[H,S]=f.useState({show_contact_info:!0,show_reviews:!0,show_portfolio:!0,allow_messaging:!0}),I=async k=>{if(k.preventDefault(),!(!d||d===a.email))try{n(!0),m(null);const{error:_}=await P.auth.updateUser({email:d});if(_)throw _;l("Email update initiated. Please check your new email for confirmation."),setTimeout(()=>{l(null)},3e3)}catch(_){console.error("Error updating email:",_),m(_.message||"Failed to update email")}finally{n(!1)}},ee=async k=>{if(k.preventDefault(),!(!h||!p||!w)){if(p!==w){m("New passwords do not match");return}if(p.length<6){m("New password must be at least 6 characters");return}try{n(!0),m(null);const{error:_}=await P.auth.signInWithPassword({email:a.email,password:h});if(_)throw new Error("Current password is incorrect");const{error:q}=await P.auth.updateUser({password:p});if(q)throw q;l("Password updated successfully"),y(""),g(""),j(""),setTimeout(()=>{l(null)},3e3)}catch(_){console.error("Error updating password:",_),m(_.message||"Failed to update password")}finally{n(!1)}}},ce=async k=>{k.preventDefault();try{n(!0),m(null);const{error:_}=await P.from("provider_settings").upsert({provider_id:a.id,...b});if(_)throw _;l("Notification settings updated successfully"),setTimeout(()=>{l(null)},3e3)}catch(_){console.error("Error updating notification settings:",_),m(_.message||"Failed to update notification settings")}finally{n(!1)}},B=async k=>{k.preventDefault();try{n(!0),m(null);const{error:_}=await P.from("provider_settings").upsert({provider_id:a.id,...H});if(_)throw _;l("Privacy settings updated successfully"),setTimeout(()=>{l(null)},3e3)}catch(_){console.error("Error updating privacy settings:",_),m(_.message||"Failed to update privacy settings")}finally{n(!1)}},T=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{n(!0),m(null);const{error:k}=await P.from("providers").delete().eq("id",a.id);if(k)throw k;const{error:_}=await P.auth.admin.deleteUser(a.id);if(_)throw _;await s()}catch(k){console.error("Error deleting account:",k),m(k.message||"Failed to delete account"),n(!1)}},O=k=>{const{name:_,checked:q}=k.target;E({...b,[_]:q})},V=k=>{const{name:_,checked:q}=k.target;S({...H,[_]:q})};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings and preferences."})]}),c&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:c})})]})]})}),o&&e.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:o})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>r("account"),className:`${t==="account"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Account"}),e.jsx("button",{onClick:()=>r("notifications"),className:`${t==="notifications"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Notifications"}),e.jsx("button",{onClick:()=>r("privacy"),className:`${t==="privacy"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Privacy"}),e.jsx("button",{onClick:()=>r("danger"),className:`${t==="danger"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Danger Zone"})]})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Account Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your account email and password."})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:e.jsx("div",{className:"sm:col-span-4",children:e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("div",{className:"mt-1 flex rounded-md shadow-sm",children:e.jsx("input",{type:"email",name:"email",id:"email",className:"flex-1 focus:ring-primary-500 focus:border-primary-500 block w-full min-w-0 rounded-md sm:text-sm border-gray-300",value:d,onChange:k=>u(k.target.value)})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i||d===a.email,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Updating...":"Update Email"})})]})})}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsx("div",{className:"mt-4 sm:col-span-4",children:e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"current-password",id:"current-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:h,onChange:k=>y(k.target.value),required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"new-password",id:"new-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:p,onChange:k=>g(k.target.value),required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:w,onChange:k=>j(k.target.value),required:!0})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i||!h||!p||!w,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Updating...":"Update Password"})})]})})})]}),t==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage how you receive notifications."})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Email Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_new_leads",name:"email_new_leads",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.email_new_leads,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_new_leads",className:"font-medium text-gray-700",children:"New Leads"}),e.jsx("p",{className:"text-gray-500",children:"Get notified when new leads matching your services are posted."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_messages",name:"email_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.email_messages,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive email notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"email_job_updates",name:"email_job_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.email_job_updates,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"email_job_updates",className:"font-medium text-gray-700",children:"Job Updates"}),e.jsx("p",{className:"text-gray-500",children:"Get notified about updates to your active jobs."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Push Notifications"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_new_leads",name:"push_new_leads",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.push_new_leads,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_new_leads",className:"font-medium text-gray-700",children:"New Leads"}),e.jsx("p",{className:"text-gray-500",children:"Get push notifications for new leads."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_messages",name:"push_messages",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.push_messages,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_messages",className:"font-medium text-gray-700",children:"Messages"}),e.jsx("p",{className:"text-gray-500",children:"Receive push notifications for new messages."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"push_job_updates",name:"push_job_updates",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:b.push_job_updates,onChange:O})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"push_job_updates",className:"font-medium text-gray-700",children:"Job Updates"}),e.jsx("p",{className:"text-gray-500",children:"Get push notifications about updates to your active jobs."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Saving...":"Save Notification Settings"})})]})]}),t==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Control what information is visible to others."})]}),e.jsxs("form",{onSubmit:B,children:[e.jsx("div",{className:"mt-6",children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-base font-medium text-gray-900",children:"Profile Visibility"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_contact_info",name:"show_contact_info",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:H.show_contact_info,onChange:V})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_contact_info",className:"font-medium text-gray-700",children:"Show Contact Information"}),e.jsx("p",{className:"text-gray-500",children:"Allow homeowners to see your contact information."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_reviews",name:"show_reviews",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:H.show_reviews,onChange:V})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_reviews",className:"font-medium text-gray-700",children:"Show Reviews"}),e.jsx("p",{className:"text-gray-500",children:"Display reviews on your public profile."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"show_portfolio",name:"show_portfolio",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:H.show_portfolio,onChange:V})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"show_portfolio",className:"font-medium text-gray-700",children:"Show Portfolio"}),e.jsx("p",{className:"text-gray-500",children:"Display your portfolio on your public profile."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"allow_messaging",name:"allow_messaging",type:"checkbox",className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded",checked:H.allow_messaging,onChange:V})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"allow_messaging",className:"font-medium text-gray-700",children:"Allow Messaging"}),e.jsx("p",{className:"text-gray-500",children:"Allow homeowners to send you direct messages."})]})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:i?"Saving...":"Save Privacy Settings"})})]})]}),t==="danger"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-red-600",children:"Danger Zone"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Actions here can't be undone. Be careful."})]}),e.jsxs("div",{className:"mt-6 border border-red-200 rounded-md p-4 bg-red-50",children:[e.jsx("h3",{className:"text-base font-medium text-red-800",children:"Delete Account"}),e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Once you delete your account, all of your data will be permanently removed. This action cannot be undone."}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:T,disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:i?"Processing...":"Delete Account"})})]})]})]})]})]})}const Oo=()=>{const{user:a,supabase:s}=Z(),[t,r]=f.useState({totalUsers:0,totalProviders:0,totalHomeowners:0,activeProjects:0,pendingVerifications:0}),[i,n]=f.useState([]),[o,l]=f.useState(!0);return f.useEffect(()=>{(async()=>{if(a)try{l(!0),await new Promise(m=>setTimeout(m,1e3)),r({totalUsers:156,totalProviders:48,totalHomeowners:108,activeProjects:72,pendingVerifications:5}),n([{id:1,email:"john.smith@example.com",role:"homeowner",joinDate:"2023-11-28",status:"active"},{id:2,email:"elite.plumbing@example.com",role:"provider",joinDate:"2023-11-27",status:"active"},{id:3,email:"sarah.jones@example.com",role:"homeowner",joinDate:"2023-11-26",status:"active"},{id:4,email:"ace.electrical@example.com",role:"provider",joinDate:"2023-11-25",status:"pending"},{id:5,email:"mike.brown@example.com",role:"homeowner",joinDate:"2023-11-24",status:"active"}])}catch(m){console.error("Error fetching dashboard data:",m)}finally{l(!1)}})()},[a]),o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Dashboard"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.totalUsers})})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Providers"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.totalProviders})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Homeowners"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.totalHomeowners})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Projects"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.activeProjects})})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Verifications"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:t.pendingVerifications})})]})})]})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Users"}),e.jsx("div",{className:"mt-4 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Edit"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:c.email.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.email})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:c.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(c.joinDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-900",children:"View"})})]},c.id))})]})})})})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Provider Verifications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review and approve pending provider verification requests."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Review Verifications"})})]})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Content Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage community content, featured projects, and announcements."}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Manage Content"})})]})]})})})]})]})]})},Io=()=>{const{user:a,supabase:s}=Z(),[t,r]=f.useState([]),[i,n]=f.useState(!0),[o,l]=f.useState(""),[c,m]=f.useState("all"),[d,u]=f.useState("all");f.useEffect(()=>{(async()=>{if(a)try{n(!0),await new Promise(w=>setTimeout(w,1e3)),r([{id:"1",email:"john.smith@example.com",firstName:"John",lastName:"Smith",role:"homeowner",status:"active",createdAt:"2023-11-15T10:30:00Z",lastLogin:"2023-11-28T14:22:00Z"},{id:"2",email:"elite.plumbing@example.com",firstName:"Mike",lastName:"Johnson",role:"provider",status:"active",createdAt:"2023-11-10T08:15:00Z",lastLogin:"2023-11-27T16:45:00Z"},{id:"3",email:"sarah.jones@example.com",firstName:"Sarah",lastName:"Jones",role:"homeowner",status:"active",createdAt:"2023-11-05T14:20:00Z",lastLogin:"2023-11-26T09:10:00Z"},{id:"4",email:"ace.electrical@example.com",firstName:"David",lastName:"Williams",role:"provider",status:"pending",createdAt:"2023-11-01T11:45:00Z",lastLogin:"2023-11-25T13:30:00Z"},{id:"5",email:"mike.brown@example.com",firstName:"Mike",lastName:"Brown",role:"homeowner",status:"active",createdAt:"2023-10-28T09:00:00Z",lastLogin:"2023-11-24T10:15:00Z"},{id:"6",email:"quality.landscaping@example.com",firstName:"Robert",lastName:"Davis",role:"provider",status:"active",createdAt:"2023-10-25T15:30:00Z",lastLogin:"2023-11-23T11:20:00Z"},{id:"7",email:"emma.wilson@example.com",firstName:"Emma",lastName:"Wilson",role:"homeowner",status:"inactive",createdAt:"2023-10-20T13:10:00Z",lastLogin:"2023-11-10T08:45:00Z"},{id:"8",email:"admin@homeservicehub.com",firstName:"Admin",lastName:"User",role:"admin",status:"active",createdAt:"2023-10-01T09:00:00Z",lastLogin:"2023-11-28T09:30:00Z"}])}catch(g){console.error("Error fetching users:",g)}finally{n(!1)}})()},[a]);const h=t.filter(p=>{const g=p.email.toLowerCase().includes(o.toLowerCase())||`${p.firstName} ${p.lastName}`.toLowerCase().includes(o.toLowerCase()),w=c==="all"||p.role===c,j=d==="all"||p.status===d;return g&&w&&j}),y=(p,g)=>{console.log(`Performing ${g} on user ${p}`),(g==="activate"||g==="deactivate")&&r(t.map(w=>w.id===p?{...w,status:g==="activate"?"active":"inactive"}:w))};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Management"}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add User"]})})]}),e.jsx("div",{className:"mt-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"max-w-lg w-full lg:max-w-xs",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{id:"search",name:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search by name or email",type:"search",value:o,onChange:p=>l(p.target.value)})]})]})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role-filter",className:"sr-only",children:"Filter by role"}),e.jsxs("select",{id:"role-filter",name:"role-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:c,onChange:p=>m(p.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"homeowner",children:"Homeowner"}),e.jsx("option",{value:"provider",children:"Provider"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"sr-only",children:"Filter by status"}),e.jsxs("select",{id:"status-filter",name:"status-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:d,onChange:p=>u(p.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.length>0?h.map(p=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:[p.firstName.charAt(0),p.lastName.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[p.firstName," ",p.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:p.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:p.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="active"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.lastLogin).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",onClick:()=>console.log("View user",p.id),children:"View"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>console.log("Edit user",p.id),children:"Edit"}),p.status==="active"?e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>y(p.id,"deactivate"),children:"Deactivate"}):e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>y(p.id,"activate"),children:"Activate"})]})})]},p.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found matching your criteria"})})})]})})})})})]})},Vo=()=>{const{user:a,supabase:s}=Z(),[t,r]=f.useState([]),[i,n]=f.useState(!0),[o,l]=f.useState(""),[c,m]=f.useState("all"),[d,u]=f.useState("all");f.useEffect(()=>{(async()=>{if(a)try{n(!0),await new Promise(w=>setTimeout(w,1e3)),r([{id:"1",businessName:"Elite Plumbing Services",ownerName:"Mike Johnson",email:"elite.plumbing@example.com",phone:"(555) 123-4567",category:"plumbing",verificationStatus:"verified",rating:4.8,completedJobs:124,joinDate:"2023-06-15"},{id:"2",businessName:"Ace Electrical Contractors",ownerName:"David Williams",email:"ace.electrical@example.com",phone:"(555) 234-5678",category:"electrical",verificationStatus:"pending",rating:4.5,completedJobs:87,joinDate:"2023-08-22"},{id:"3",businessName:"Quality Landscaping",ownerName:"Robert Davis",email:"quality.landscaping@example.com",phone:"(555) 345-6789",category:"landscaping",verificationStatus:"verified",rating:4.9,completedJobs:156,joinDate:"2023-04-10"},{id:"4",businessName:"Precision HVAC Solutions",ownerName:"Thomas Anderson",email:"precision.hvac@example.com",phone:"(555) 456-7890",category:"hvac",verificationStatus:"verified",rating:4.7,completedJobs:98,joinDate:"2023-07-05"},{id:"5",businessName:"Superior Painting Co.",ownerName:"Jennifer Martinez",email:"superior.painting@example.com",phone:"(555) 567-8901",category:"painting",verificationStatus:"pending",rating:4.6,completedJobs:72,joinDate:"2023-09-18"},{id:"6",businessName:"Reliable Roofing",ownerName:"James Wilson",email:"reliable.roofing@example.com",phone:"(555) 678-9012",category:"roofing",verificationStatus:"verified",rating:4.8,completedJobs:112,joinDate:"2023-05-30"},{id:"7",businessName:"Modern Kitchen & Bath",ownerName:"Lisa Thompson",email:"modern.kitchen@example.com",phone:"(555) 789-0123",category:"remodeling",verificationStatus:"rejected",rating:4.2,completedJobs:45,joinDate:"2023-10-12"}])}catch(g){console.error("Error fetching providers:",g)}finally{n(!1)}})()},[a]);const h=t.filter(p=>{const g=p.businessName.toLowerCase().includes(o.toLowerCase())||p.ownerName.toLowerCase().includes(o.toLowerCase())||p.email.toLowerCase().includes(o.toLowerCase()),w=c==="all"||p.category===c,j=d==="all"||p.verificationStatus===d;return g&&w&&j}),y=(p,g)=>{console.log(`Performing ${g} on provider ${p}`),r(t.map(w=>w.id===p?{...w,verificationStatus:g==="verify"?"verified":g==="reject"?"rejected":"pending"}:w))};return i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsx("div",{className:"sm:flex sm:items-center sm:justify-between",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Service Provider Management"})}),e.jsx("div",{className:"mt-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"max-w-lg w-full lg:max-w-xs",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{id:"search",name:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search by business name or owner",type:"search",value:o,onChange:p=>l(p.target.value)})]})]})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-filter",className:"sr-only",children:"Filter by category"}),e.jsxs("select",{id:"category-filter",name:"category-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:c,onChange:p=>m(p.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"plumbing",children:"Plumbing"}),e.jsx("option",{value:"electrical",children:"Electrical"}),e.jsx("option",{value:"hvac",children:"HVAC"}),e.jsx("option",{value:"landscaping",children:"Landscaping"}),e.jsx("option",{value:"painting",children:"Painting"}),e.jsx("option",{value:"roofing",children:"Roofing"}),e.jsx("option",{value:"remodeling",children:"Remodeling"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"verification-filter",className:"sr-only",children:"Filter by verification"}),e.jsxs("select",{id:"verification-filter",name:"verification-filter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:d,onChange:p=>u(p.target.value),children:[e.jsx("option",{value:"all",children:"All Verification Statuses"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verification"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.length>0?h.map(p=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:p.businessName.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.businessName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[p.ownerName,"  ",p.email]}),e.jsx("div",{className:"text-sm text-gray-500",children:p.phone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 capitalize",children:p.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.verificationStatus==="verified"?"bg-green-100 text-green-800":p.verificationStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.verificationStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm text-gray-900",children:p.rating}),e.jsx("svg",{className:"w-4 h-4 text-yellow-400 ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.completedJobs}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.joinDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-900",onClick:()=>console.log("View provider",p.id),children:"View"}),p.verificationStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>y(p.id,"verify"),children:"Verify"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>y(p.id,"reject"),children:"Reject"})]}),p.verificationStatus==="verified"&&e.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",onClick:()=>y(p.id,"revoke"),children:"Revoke"}),p.verificationStatus==="rejected"&&e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>y(p.id,"reconsider"),children:"Reconsider"})]})})]},p.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No providers found matching your criteria"})})})]})})})})})]})};Qr.register(Xr,ea,sa,ta,ra,aa,ia,na,oa);const Uo=()=>{const{user:a,supabase:s}=Z(),[t,r]=f.useState(!0),[i,n]=f.useState("month"),[o,l]=f.useState("users"),[c,m]=f.useState({labels:[],datasets:[]}),[d,u]=f.useState({labels:[],datasets:[]}),[h,y]=f.useState({labels:[],datasets:[]}),[p,g]=f.useState({labels:[],datasets:[]});f.useEffect(()=>{(async()=>{if(a)try{r(!0),await new Promise(b=>setTimeout(b,1e3)),w(i,o)}catch(b){console.error("Error fetching report data:",b)}finally{r(!1)}})()},[a,i,o]);const w=(j,b)=>{let E=[];j==="week"?E=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:j==="month"?E=["Week 1","Week 2","Week 3","Week 4"]:j==="year"&&(E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),m({labels:E,datasets:[{label:"New Users",data:E.map(()=>Math.floor(Math.random()*50)+10),backgroundColor:"rgba(51, 97, 225, 0.5)"},{label:"Active Users",data:E.map(()=>Math.floor(Math.random()*100)+50),backgroundColor:"rgba(53, 162, 235, 0.5)"}]}),u({labels:E,datasets:[{label:"New Projects",data:E.map(()=>Math.floor(Math.random()*30)+5),backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Completed Projects",data:E.map(()=>Math.floor(Math.random()*25)+5),backgroundColor:"rgba(75, 192, 192, 0.5)"}]}),y({labels:["Plumbing","Electrical","HVAC","Landscaping","Painting","Roofing","Remodeling"],datasets:[{label:"Projects by Category",data:[12,19,15,8,22,14,17],backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(199, 199, 199, 0.5)"],borderWidth:1}]}),g({labels:E,datasets:[{label:"Platform Revenue",data:E.map(()=>Math.floor(Math.random()*5e3)+1e3),borderColor:"rgb(51, 97, 225)",backgroundColor:"rgba(51, 97, 225, 0.5)",tension:.3}]})};return t?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics & Reports"}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"report-period",className:"sr-only",children:"Report Period"}),e.jsxs("select",{id:"report-period",name:"report-period",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:i,onChange:j=>n(j.target.value),children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"year",children:"This Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"report-type",className:"sr-only",children:"Report Type"}),e.jsxs("select",{id:"report-type",name:"report-type",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:o,onChange:j=>l(j.target.value),children:[e.jsx("option",{value:"users",children:"User Growth"}),e.jsx("option",{value:"projects",children:"Project Activity"}),e.jsx("option",{value:"revenue",children:"Revenue"})]})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"156"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"12% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Projects"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"72"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"8% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Platform Revenue"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"$24,325"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"15% increase"})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:e.jsxs("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Conversion Rate"}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-gray-900",children:"24.8%"})})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"3% decrease"})]})})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"User Growth"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(Nt,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}}}})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Activity"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(Nt,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}}}})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Categories"}),e.jsx("div",{className:"mt-4 h-80 flex items-center justify-center",children:e.jsx("div",{style:{width:"70%",height:"100%"},children:e.jsx(la,{data:h,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!1}}}})})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Revenue Trends"}),e.jsx("div",{className:"mt-4 h-80",children:e.jsx(ca,{data:p,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(j){return"$"+j}}}}}})})]})})]}),e.jsx("div",{className:"mt-8 bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Export Reports"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Download detailed reports for your records or further analysis."})}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV Report"]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF Report"]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Excel Report"]})})]})]})})]})},Ho=()=>{Z();const[a,s]=f.useState("general"),[t,r]=f.useState({siteName:"Home Swerv",siteDescription:"Your Community Hub - Connecting homeowners with trusted service providers",contactEmail:"admin@homeswerv.com",supportPhone:"(555) 123-4567",maintenanceMode:!1}),[i,n]=f.useState({emailProvider:"sendgrid",fromEmail:"noreply@homeswerv.com",replyToEmail:"support@homeswerv.com",emailFooter:"Home Swerv - Your Community Hub",enableEmailNotifications:!0}),[o,l]=f.useState({enableStripe:!0,enableTwilio:!0,enableGoogleMaps:!0,enableZoom:!1}),[c,m]=f.useState({requireEmailVerification:!0,twoFactorAuth:!1,passwordMinLength:8,passwordRequireSpecialChar:!0,sessionTimeout:60}),d=g=>{const{name:w,value:j,type:b,checked:E}=g.target;r({...t,[w]:b==="checkbox"?E:j})},u=g=>{const{name:w,value:j,type:b,checked:E}=g.target;n({...i,[w]:b==="checkbox"?E:j})},h=g=>{const{name:w,checked:j}=g.target;l({...o,[w]:j})},y=g=>{const{name:w,value:j,type:b,checked:E}=g.target;m({...c,[w]:b==="checkbox"?E:b==="number"?parseInt(j,10):j})},p=g=>{console.log(`Saving ${g} settings`),alert(`${g.charAt(0).toUpperCase()+g.slice(1)} settings saved successfully!`)};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Settings"}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>s("general"),className:`${a==="general"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"General"}),e.jsx("button",{onClick:()=>s("email"),className:`${a==="email"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Email"}),e.jsx("button",{onClick:()=>s("integrations"),className:`${a==="integrations"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Integrations"}),e.jsx("button",{onClick:()=>s("security"),className:`${a==="security"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Security"})]})}),e.jsxs("div",{className:"mt-6",children:[a==="general"&&e.jsx("div",{className:"bg-white shadow-soft rounded-lg px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"General Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Basic settings for your platform."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{htmlFor:"siteName",className:"block text-sm font-medium text-gray-700",children:"Site Name"}),e.jsx("input",{type:"text",name:"siteName",id:"siteName",value:t.siteName,onChange:d,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"siteDescription",className:"block text-sm font-medium text-gray-700",children:"Site Description"}),e.jsx("textarea",{name:"siteDescription",id:"siteDescription",rows:3,value:t.siteDescription,onChange:d,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contactEmail",id:"contactEmail",value:t.contactEmail,onChange:d,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"supportPhone",className:"block text-sm font-medium text-gray-700",children:"Support Phone"}),e.jsx("input",{type:"text",name:"supportPhone",id:"supportPhone",value:t.supportPhone,onChange:d,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"maintenanceMode",name:"maintenanceMode",type:"checkbox",checked:t.maintenanceMode,onChange:d,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"maintenanceMode",className:"font-medium text-gray-700",children:"Maintenance Mode"}),e.jsx("p",{className:"text-gray-500",children:"When enabled, the site will display a maintenance message to all non-admin users."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>p("general"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Save Settings"})})]})})]})}),a==="email"&&e.jsx("div",{className:"bg-white shadow-soft rounded-lg px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Email Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure email notifications and templates."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"emailProvider",className:"block text-sm font-medium text-gray-700",children:"Email Provider"}),e.jsxs("select",{id:"emailProvider",name:"emailProvider",value:i.emailProvider,onChange:u,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[e.jsx("option",{value:"sendgrid",children:"SendGrid"}),e.jsx("option",{value:"mailchimp",children:"Mailchimp"}),e.jsx("option",{value:"ses",children:"Amazon SES"}),e.jsx("option",{value:"smtp",children:"Custom SMTP"})]})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"fromEmail",className:"block text-sm font-medium text-gray-700",children:"From Email"}),e.jsx("input",{type:"email",name:"fromEmail",id:"fromEmail",value:i.fromEmail,onChange:u,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"replyToEmail",className:"block text-sm font-medium text-gray-700",children:"Reply-To Email"}),e.jsx("input",{type:"email",name:"replyToEmail",id:"replyToEmail",value:i.replyToEmail,onChange:u,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{htmlFor:"emailFooter",className:"block text-sm font-medium text-gray-700",children:"Email Footer Text"}),e.jsx("textarea",{name:"emailFooter",id:"emailFooter",rows:2,value:i.emailFooter,onChange:u,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableEmailNotifications",name:"enableEmailNotifications",type:"checkbox",checked:i.enableEmailNotifications,onChange:u,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableEmailNotifications",className:"font-medium text-gray-700",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-gray-500",children:"Send automated email notifications for various system events."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>p("email"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Save Settings"})})]})})]})}),a==="integrations"&&e.jsx("div",{className:"bg-white shadow-soft rounded-lg px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Integration Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage third-party service integrations."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableStripe",name:"enableStripe",type:"checkbox",checked:o.enableStripe,onChange:h,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableStripe",className:"font-medium text-gray-700",children:"Enable Stripe Integration"}),e.jsx("p",{className:"text-gray-500",children:"Process payments and subscriptions through Stripe."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableTwilio",name:"enableTwilio",type:"checkbox",checked:o.enableTwilio,onChange:h,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableTwilio",className:"font-medium text-gray-700",children:"Enable Twilio Integration"}),e.jsx("p",{className:"text-gray-500",children:"Send SMS notifications and enable phone verification."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableGoogleMaps",name:"enableGoogleMaps",type:"checkbox",checked:o.enableGoogleMaps,onChange:h,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableGoogleMaps",className:"font-medium text-gray-700",children:"Enable Google Maps Integration"}),e.jsx("p",{className:"text-gray-500",children:"Display maps and enable location-based features."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"enableZoom",name:"enableZoom",type:"checkbox",checked:o.enableZoom,onChange:h,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"enableZoom",className:"font-medium text-gray-700",children:"Enable Zoom Integration"}),e.jsx("p",{className:"text-gray-500",children:"Allow virtual consultations through Zoom."})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>p("integration"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Save Settings"})})]})})]})}),a==="security"&&e.jsx("div",{className:"bg-white shadow-soft rounded-lg px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure security and authentication options."})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"requireEmailVerification",name:"requireEmailVerification",type:"checkbox",checked:c.requireEmailVerification,onChange:y,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"requireEmailVerification",className:"font-medium text-gray-700",children:"Require Email Verification"}),e.jsx("p",{className:"text-gray-500",children:"Users must verify their email address before accessing the platform."})]})]})}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"twoFactorAuth",name:"twoFactorAuth",type:"checkbox",checked:c.twoFactorAuth,onChange:y,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"twoFactorAuth",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),e.jsx("p",{className:"text-gray-500",children:"Require two-factor authentication for admin accounts."})]})]})}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"passwordMinLength",className:"block text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("input",{type:"number",name:"passwordMinLength",id:"passwordMinLength",min:"6",max:"20",value:c.passwordMinLength,onChange:y,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"sessionTimeout",className:"block text-sm font-medium text-gray-700",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",name:"sessionTimeout",id:"sessionTimeout",min:"15",max:"1440",value:c.sessionTimeout,onChange:y,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"passwordRequireSpecialChar",name:"passwordRequireSpecialChar",type:"checkbox",checked:c.passwordRequireSpecialChar,onChange:y,className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"passwordRequireSpecialChar",className:"font-medium text-gray-700",children:"Require Special Characters in Passwords"}),e.jsx("p",{className:"text-gray-500",children:"Passwords must contain at least one special character."})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>p("security"),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Save Settings"})})]})})]})})]})]})},qo=()=>{const{user:a}=Z(),[s,t]=f.useState([]),[r,i]=f.useState([]),[n,o]=f.useState("all"),[l,c]=f.useState(!0);f.useEffect(()=>{(async()=>{try{c(!0),await new Promise(u=>setTimeout(u,1e3)),i([{id:"kitchen",name:"Kitchen"},{id:"bathroom",name:"Bathroom"},{id:"outdoor",name:"Outdoor"},{id:"living",name:"Living Room"},{id:"bedroom",name:"Bedroom"},{id:"basement",name:"Basement"}]),t([{id:1,title:"Modern Kitchen Renovation",description:"Complete kitchen remodel with custom cabinets and quartz countertops.",category:"kitchen",image:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"John Smith",likes:42,comments:12,date:"2023-11-15"},{id:2,title:"Backyard Patio Makeover",description:"Transformed our backyard with a new paver patio, pergola, and fire pit.",category:"outdoor",image:"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Sarah Johnson",likes:38,comments:8,date:"2023-11-10"},{id:3,title:"Spa-Like Bathroom Remodel",description:"Complete bathroom renovation with walk-in shower, freestanding tub, and heated floors.",category:"bathroom",image:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Michael Brown",likes:56,comments:15,date:"2023-11-05"},{id:4,title:"Cozy Living Room Redesign",description:"Updated our living room with new furniture, lighting, and a custom built-in entertainment center.",category:"living",image:"https://images.pexels.com/photos/1571468/pexels-photo-1571468.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Emily Davis",likes:29,comments:7,date:"2023-10-28"},{id:5,title:"Master Bedroom Retreat",description:"Transformed our master bedroom with a new color scheme, furniture, and custom closet system.",category:"bedroom",image:"https://images.pexels.com/photos/1743229/pexels-photo-1743229.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Robert Wilson",likes:34,comments:9,date:"2023-10-20"},{id:6,title:"Basement Home Theater",description:"Converted our unfinished basement into a home theater with custom seating and sound system.",category:"basement",image:"https://images.pexels.com/photos/1457842/pexels-photo-1457842.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Jennifer Lee",likes:47,comments:14,date:"2023-10-15"}])}catch(u){console.error("Error fetching community data:",u)}finally{c(!1)}})()},[]);const m=n==="all"?s:s.filter(d=>d.category===n);return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Community Inspiration Hub"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Discover amazing home improvement projects shared by our community."})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:[e.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${n==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Projects"}),r.map(d=>e.jsx("button",{onClick:()=>o(d.id),className:`px-4 py-2 rounded-full text-sm font-medium ${n===d.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:d.name},d.id))]}),e.jsx("div",{className:"mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:m.map(d=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"h-48 w-full overflow-hidden",children:e.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.jsx(L,{to:`/community/project/${d.id}`,className:"hover:text-primary-600",children:d.title})}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d.description}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:d.author.charAt(0)})}),e.jsxs("div",{className:"ml-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.author}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-red-500 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),d.likes]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-400 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),d.comments]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(L,{to:`/community/project/${d.id}`,className:"font-medium text-primary-600 hover:text-primary-500",children:"View project details"})})})]},d.id))}),e.jsx("div",{className:"mt-12 bg-primary-50 rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Share your own project"}),e.jsx("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:e.jsx("p",{children:"Inspire others by sharing your home improvement journey with the community."})})]}),e.jsx("div",{className:"mt-5 sm:mt-0 sm:ml-6 sm:flex-shrink-0",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm",children:a?"Share a Project":"Sign in to Share"})})]})})})]})})},Wo=()=>{const{id:a}=at(),{user:s}=Z(),[t,r]=f.useState(null),[i,n]=f.useState([]),[o,l]=f.useState(!0),[c,m]=f.useState(""),[d,u]=f.useState(!1),[h,y]=f.useState(!1);f.useEffect(()=>{(async()=>{try{l(!0),await new Promise(b=>setTimeout(b,1e3)),r({id:parseInt(a),title:"Modern Kitchen Renovation",description:"Complete kitchen remodel with custom cabinets and quartz countertops.",longDescription:`
            Our kitchen was outdated and inefficient, so we decided to completely renovate it. We worked with a local contractor to design a modern, functional space that would be perfect for cooking and entertaining.
            
            The renovation included:
            - Custom maple cabinets with soft-close drawers
            - Quartz countertops in a marble-look finish
            - New stainless steel appliances
            - Porcelain tile flooring
            - Under-cabinet lighting
            - New plumbing fixtures
            
            The project took about 8 weeks to complete and cost approximately $35,000. We're thrilled with the results and have received many compliments from friends and family.
          `,category:"kitchen",images:["https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"],author:"John Smith",authorImage:null,likes:42,comments:12,date:"2023-11-15",duration:"8 weeks",cost:"$35,000",provider:"ABC Contractors",materials:["Maple cabinets","Quartz countertops","Stainless steel appliances","Porcelain tile flooring","LED lighting"],steps:[{title:"Planning and Design",description:"Worked with a kitchen designer to create the layout and select materials."},{title:"Demolition",description:"Removed all existing cabinets, countertops, flooring, and appliances."},{title:"Plumbing and Electrical",description:"Updated plumbing and electrical to accommodate the new layout."},{title:"Cabinets and Countertops",description:"Installed custom cabinets and quartz countertops."},{title:"Flooring",description:"Installed new porcelain tile flooring."},{title:"Appliances and Fixtures",description:"Installed new appliances, sink, and faucet."},{title:"Finishing Touches",description:"Added backsplash, lighting, and hardware."}]}),n([{id:1,author:"Sarah Johnson",authorImage:null,text:"This looks amazing! I love the quartz countertops. Did you consider any other materials?",date:"2023-11-16",likes:5},{id:2,author:"Michael Brown",authorImage:null,text:"Great job! How did you find your contractor? I'm looking to do a similar renovation.",date:"2023-11-17",likes:3},{id:3,author:"Emily Davis",authorImage:null,text:"The lighting makes such a difference. Beautiful work!",date:"2023-11-18",likes:2}])}catch(b){console.error("Error fetching project data:",b)}finally{l(!1)}})()},[a]);const p=j=>{var E;if(j.preventDefault(),!c.trim())return;const b={id:i.length+1,author:((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||"Anonymous",authorImage:null,text:c,date:new Date().toISOString().split("T")[0],likes:0};n([b,...i]),m("")},g=()=>{u(!d)},w=()=>{y(!h)};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin"})}):t?e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-4",children:[e.jsx("li",{children:e.jsx("div",{children:e.jsx(L,{to:"/community",className:"text-gray-400 hover:text-gray-500",children:"Community Hub"})})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),e.jsx("span",{className:"ml-4 text-gray-500","aria-current":"page",children:t.title})]})})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:t.title})}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-2",children:[e.jsxs("button",{type:"button",onClick:g,className:`inline-flex items-center px-4 py-2 border ${d?"border-red-300 bg-red-50":"border-gray-300 bg-white"} rounded-md shadow-sm text-sm font-medium ${d?"text-red-700":"text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:[e.jsx("svg",{className:`-ml-1 mr-2 h-5 w-5 ${d?"text-red-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),d?"Liked":"Like"]}),e.jsxs("button",{type:"button",onClick:w,className:`inline-flex items-center px-4 py-2 border ${h?"border-primary-300 bg-primary-50":"border-gray-300 bg-white"} rounded-md shadow-sm text-sm font-medium ${h?"text-primary-700":"text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:[e.jsx("svg",{className:`-ml-1 mr-2 h-5 w-5 ${h?"text-primary-500":"text-gray-400"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})}),h?"Saved":"Save"]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:t.author.charAt(0)})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.author}),e.jsxs("div",{className:"flex space-x-1 text-sm text-gray-500",children:[e.jsx("time",{dateTime:t.date,children:new Date(t.date).toLocaleDateString()}),e.jsx("span",{"aria-hidden":"true",children:""}),e.jsx("span",{children:t.category.charAt(0).toUpperCase()+t.category.slice(1)})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-96 object-cover rounded-lg shadow-md"})}),t.images.slice(1).map((j,b)=>e.jsx("div",{children:e.jsx("img",{src:j,alt:`${t.title} ${b+2}`,className:"w-full h-64 object-cover rounded-lg shadow-md"})},b))]})}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Description"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.longDescription})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Steps"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:t.steps.map((j,b)=>e.jsx("li",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary-100 rounded-full h-8 w-8 flex items-center justify-center text-primary-700 font-medium",children:b+1}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:j.title}),e.jsx("p",{className:"mt-1 text-gray-600",children:j.description})]})]})},b))})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsxs("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:["Comments (",i.length,")"]})}),e.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[s?e.jsxs("form",{onSubmit:p,className:"mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"comment",className:"sr-only",children:"Comment"}),e.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm block w-full focus:ring-primary-500 focus:border-primary-500 sm:text-sm border border-gray-300 rounded-md",placeholder:"Add a comment...",value:c,onChange:j=>m(j.target.value)})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Post Comment"})})]}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx(L,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})," to leave a comment."]})}),e.jsx("div",{className:"space-y-6",children:i.map(j=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-medium",children:j.author.charAt(0)})}),e.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg px-4 py-2 sm:px-6 sm:py-4",children:[e.jsxs("div",{className:"sm:flex sm:justify-between sm:items-baseline",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.author})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 sm:mt-0",children:new Date(j.date).toLocaleDateString()})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.jsx("p",{children:j.text})}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center",children:[e.jsxs("button",{className:"flex items-center text-gray-500 hover:text-gray-700",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}),j.likes," likes"]}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Reply"})]})]})]},j.id))})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Project Details"})}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Duration"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.duration})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cost"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.cost})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Provider"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.provider})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Materials Used"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e.jsx("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:t.materials.map((j,b)=>e.jsx("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:e.jsxs("div",{className:"w-0 flex-1 flex items-center",children:[e.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),e.jsx("span",{className:"ml-2 flex-1 w-0 truncate",children:j})]})},b))})})]})]})})]}),e.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Similar Projects"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("div",{className:"divide-y divide-gray-200",children:[e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Modern Kitchen Design",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(L,{to:"/community/project/2",children:"Modern Kitchen Design"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By Alex Johnson"})]})]})}),e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/6207014/pexels-photo-6207014.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Kitchen Island Upgrade",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(L,{to:"/community/project/3",children:"Kitchen Island Upgrade"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By Maria Garcia"})]})]})}),e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden",children:e.jsx("img",{src:"https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Budget Kitchen Refresh",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:e.jsx(L,{to:"/community/project/4",children:"Budget Kitchen Refresh"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"By David Wilson"})]})]})})]})})]})]})]})]})}):e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Project Not Found"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"The project you're looking for doesn't exist or has been removed."}),e.jsx("div",{className:"mt-6",children:e.jsx(L,{to:"/community",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Community Hub"})})]})})})};function Jo(){return e.jsx(Gr,{children:e.jsx(Cr,{children:e.jsxs(Zr,{children:[e.jsxs(J,{path:"/",element:e.jsx(zn,{}),children:[e.jsx(J,{index:!0,element:e.jsx(Kn,{})}),e.jsx(J,{path:"about",element:e.jsx(Gn,{})}),e.jsx(J,{path:"contact",element:e.jsx(yo,{})}),e.jsx(J,{path:"pricing",element:e.jsx(vo,{})}),e.jsx(J,{path:"ai-concierge",element:e.jsx(bo,{})}),e.jsx(J,{path:"community",element:e.jsx(qo,{})}),e.jsx(J,{path:"community/project/:id",element:e.jsx(Wo,{})}),e.jsx(J,{path:"*",element:e.jsx(wo,{})})]}),e.jsxs(J,{path:"/",element:e.jsx(On,{}),children:[e.jsx(J,{path:"login",element:e.jsx(jo,{})}),e.jsx(J,{path:"register",element:e.jsx(No,{})}),e.jsx(J,{path:"forgot-password",element:e.jsx(_o,{})}),e.jsx(J,{path:"reset-password",element:e.jsx(ko,{})})]}),e.jsx(J,{path:"/homeowner",element:e.jsx(Jn,{}),children:e.jsxs(J,{element:e.jsx(Tn,{}),children:[e.jsx(J,{path:"dashboard",element:e.jsx(Co,{})}),e.jsx(J,{path:"profile",element:e.jsx(So,{})}),e.jsx(J,{path:"projects",element:e.jsx(Po,{})}),e.jsx(J,{path:"projects/:id",element:e.jsx(Eo,{})}),e.jsx(J,{path:"providers",element:e.jsx(Ao,{})}),e.jsx(J,{path:"messages",element:e.jsx(Mo,{})}),e.jsx(J,{path:"settings",element:e.jsx(Lo,{})}),e.jsx(J,{path:"vision-boards",element:e.jsx(Ro,{})}),e.jsx(J,{path:"vision-boards/:id",element:e.jsx(To,{})})]})}),e.jsx(J,{path:"/provider",element:e.jsx(Wn,{}),children:e.jsxs(J,{element:e.jsx($n,{}),children:[e.jsx(J,{path:"dashboard",element:e.jsx(Do,{})}),e.jsx(J,{path:"profile",element:e.jsx($o,{})}),e.jsx(J,{path:"jobs",element:e.jsx(Fo,{})}),e.jsx(J,{path:"messages",element:e.jsx(Bo,{})}),e.jsx(J,{path:"settings",element:e.jsx(zo,{})})]})}),e.jsx(J,{path:"/admin",element:e.jsx(In,{}),children:e.jsxs(J,{element:e.jsx(Bn,{}),children:[e.jsx(J,{path:"dashboard",element:e.jsx(Oo,{})}),e.jsx(J,{path:"users",element:e.jsx(Io,{})}),e.jsx(J,{path:"providers",element:e.jsx(Vo,{})}),e.jsx(J,{path:"reports",element:e.jsx(Uo,{})}),e.jsx(J,{path:"settings",element:e.jsx(Ho,{})})]})})]})})})}Ks.createRoot(document.getElementById("root")).render(e.jsx(ye.StrictMode,{children:e.jsx(Cr,{children:e.jsx(Jo,{})})}));
//# sourceMappingURL=index-d3c09d36.js.map
