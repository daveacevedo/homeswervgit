{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","resolveFetch","customFetch","_fetch","args","__vitePreload","fetch","FunctionsError","message","name","context","FunctionsFetchError","FunctionsRelayError","FunctionsHttpError","FunctionRegion","__awaiter","this","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","rejected","result","FunctionsClient","url","headers","region","token","functionName","options","_a","method","functionArgs","_headers","body","response","fetchError","isRelayError","responseType","data","error","getGlobal","globalObject","nodeFetch","Headers","Request","Response","PostgrestError_1","PostgrestError","__importDefault","mod","PostgrestBuilder_1","node_fetch_1","require$$1","PostgrestBuilder$1","builder","onfulfilled","onrejected","res","_b","_c","count","status","statusText","countHeader","contentRange","PostgrestBuilder","PostgrestTransformBuilder_1","PostgrestTransformBuilder$1","columns","quoted","cleanedColumns","column","ascending","nullsFirst","foreignTable","referencedTable","key","existingOrder","from","to","keyOffset","keyLimit","signal","analyze","verbose","settings","buffers","wal","format","forMediatype","PostgrestTransformBuilder","PostgrestFilterBuilder_1","PostgrestFilterBuilder$1","pattern","patterns","values","cleanedValues","s","range","query","config","type","typePart","configPart","operator","filters","PostgrestFilterBuilder","PostgrestQueryBuilder_1","PostgrestQueryBuilder$1","schema","head","defaultToNull","prefersHeaders","acc","x","uniqueColumns","onConflict","ignoreDuplicates","PostgrestQueryBuilder","version","constants","version_1","PostgrestClient_1","constants_1","require$$2","PostgrestClient$1","PostgrestClient","relation","fn","get","_","cjs","require$$3","require$$4","require$$5","_default","index","DEFAULT_HEADERS","VSN","DEFAULT_TIMEOUT","WS_CLOSE_NORMAL","SOCKET_STATES","CHANNEL_STATES","CHANNEL_EVENTS","TRANSPORTS","CONNECTION_STATE","Serializer","rawPayload","callback","buffer","view","decoder","topicSize","eventSize","offset","topic","event","Timer","timerCalc","PostgresTypes","convertChangeData","record","skipTypes","rec_key","convertColumn","columnName","colType","convertCell","noop","dataType","toArray","toBoolean","toNumber","toJson","toTimestampString","parsedValue","lastIdx","closeBrace","arr","valTrim","val","httpEndpointURL","socketUrl","Push","channel","payload","timeout","REALTIME_PRESENCE_LISTEN_EVENTS","RealtimePresence","opts","events","newState","onJoin","onLeave","onSync","diff","currentPresences","newPresences","leftPresences","currentState","state","transformedState","joins","leaves","presences","newPresenceRefs","curPresenceRefs","joinedPresences","joinedPresenceRefs","curPresences","presenceRefsToRemove","obj","func","presence","REALTIME_POSTGRES_CHANGES_LISTEN_EVENT","REALTIME_LISTEN_TYPES","REALTIME_SUBSCRIBE_STATES","RealtimeChannel","params","socket","pushEvent","reason","ref","broadcast","isPrivate","accessTokenPayload","r","postgres_changes","clientPostgresBindings","bindingsLen","newPostgresBindings","i","clientPostgresBinding","table","filter","serverPostgresFilter","endpoint_payload","push","onClose","leavePush","controller","id","_event","_ref","typeLower","close","leave","join","handledPayload","bind","_d","_e","_f","bindId","bindEvent","postgresChanges","commit_timestamp","errors","binding","obj1","obj2","records","Transformers.convertChangeData","NATIVE_WEBSOCKET_AVAILABLE","WORKER_SCRIPT","RealtimeClient","endPoint","accessTokenValue","tries","WSWebSocketDummy","WS","code","values_1","kind","msg","chan","tokenToSend","parsed","newRef","dupChannel","rawMessage","objectUrl","prefix","result_url","blob","address","_protocols","StorageError","isStorageError","StorageApiError","StorageUnknownError","originalError","resolveResponse","browser","recursiveToCamel","item","el","newKey","_getErrorMessage","err","handleError","Res","_getRequestParams","parameters","_handleRequest","fetcher","post","put","remove","DEFAULT_SEARCH_OPTIONS","DEFAULT_FILE_OPTIONS","StorageFileApi","bucketId","path","fileBody","fileOptions","metadata","cleanPath","_path","fromPath","toPath","expiresIn","downloadQueryParam","paths","datum","renderPath","transformationQuery","queryString","_queryString","transform","StorageBucketApi","StorageClient","JS_ENV","DEFAULT_GLOBAL_OPTIONS","DEFAULT_DB_OPTIONS","DEFAULT_AUTH_OPTIONS","DEFAULT_REALTIME_OPTIONS","resolveHeadersConstructor","NodeFetchHeaders","fetchWithAuth","supabaseKey","getAccessToken","HeadersConstructor","input","init","accessToken","ensureTrailingSlash","applySettingDefaults","defaults","dbOptions","authOptions","realtimeOptions","globalOptions","AUTO_REFRESH_TICK_DURATION_MS","AUTO_REFRESH_TICK_THRESHOLD","EXPIRY_MARGIN_MS","GOTRUE_URL","STORAGE_KEY","API_VERSION_HEADER_NAME","API_VERSIONS","BASE64URL_REGEX","JWKS_TTL","AuthError","isAuthError","AuthApiError","isAuthApiError","AuthUnknownError","CustomAuthError","AuthSessionMissingError","isAuthSessionMissingError","AuthInvalidTokenResponseError","AuthInvalidCredentialsError","AuthImplicitGrantRedirectError","details","isAuthImplicitGrantRedirectError","AuthPKCEGrantCodeExchangeError","AuthRetryableFetchError","isAuthRetryableFetchError","AuthWeakPasswordError","reasons","AuthInvalidJwtError","TO_BASE64URL","IGNORE_BASE64URL","FROM_BASE64URL","charMap","byteFromBase64URL","charCode","emit","bits","stringFromBase64URL","str","conv","utf8Emit","codepoint","utf8State","b64State","byteEmit","byte","stringFromUTF8","codepointToUTF8","stringToUTF8","highSurrogate","leadingBit","base64UrlToUint8Array","onByte","stringToUint8Array","expiresAt","uuid","isBrowser","localStorageWriteTests","supportsLocalStorage","randomKey","parseParametersFromURL","href","looksLikeFetchResponse","maybeResponse","setItemAsync","storage","getItemAsync","removeItemAsync","Deferred","rej","decodeJWT","parts","sleep","time","accept","retryable","isRetryable","attempt","dec2hex","dec","generatePKCEVerifier","array","charSet","charSetLen","verifier","sha256","randomString","encodedData","hash","bytes","generatePKCEChallenge","hashed","getCodeChallengeAndMethod","storageKey","isPasswordRecovery","codeVerifier","storedCodeVerifier","codeChallenge","API_VERSION_REGEX","parseResponseAPIVersion","apiVersion","validateExp","exp","timeNow","getAlgorithm","alg","__rest","t","NETWORK_ERROR_CODES","errorCode","responseAPIVersion","_request","qs","requestParams","_sessionResponse","session","hasSession","user","_sessionResponsePassword","_userResponse","_ssoResponse","_generateLinkResponse","action_link","email_otp","hashed_token","redirect_to","verification_type","rest","properties","_noResolveJsonResponse","GoTrueAdminApi","jwt","scope","email","attributes","_g","pagination","users","total","links","link","page","rel","uid","shouldSoftDelete","factors","localStorageAdapter","memoryLocalStorageAdapter","store","polyfillGlobalThis","internals","LockAcquireTimeoutError","NavigatorLockAcquireTimeoutError","navigatorLock","acquireTimeout","abortController","lock","DEFAULT_OPTIONS","lockNoOp","GoTrueClient","callbackUrlType","redirectType","credentials","password","codeChallengeMethod","phone","authCode","storageItem","provider","access_token","nonce","redirectTo","captchaToken","sessionError","endpoint","last","waitOn","currentSession","maybeSession","hasExpired","suppressWarning","target","prop","receiver","sessionData","userError","refreshedSession","provider_token","provider_refresh_token","refresh_token","expires_in","expires_at","token_type","actuallyExpiresIn","issuedAt","currentStorageContent","subscription","identity","refreshToken","debugName","startedAt","nextBackOffInterval","expiresWithMargin","promises","ticker","now","expiresInTicks","calledFromInitialize","methodName","urlParams","flowParams","challengeData","challengeError","totp","factor","currentLevel","nextLevel","currentAuthenticationMethods","kid","jwks","jwk","header","signature","rawHeader","algorithm","signingKey","publicKey","AuthClient","SupabaseAuthClient","SupabaseClient","supabaseUrl","_supabaseUrl","baseUrl","defaultStorageKey","DEFAULTS","SupabaseStorageClient","autoRefreshToken","persistSession","detectSessionInUrl","flowType","debug","authHeaders","source","createClient","supabaseAnonKey","supabase","AuthContext","createContext","useAuth","useContext","AuthProvider","children","setUser","useState","loading","setLoading","setError","useEffect","newPassword","jsx","AppContext","useApp","AppProvider","userProfile","setUserProfile","notifications","setNotifications","profileData","profileError","newProfile","createError","notificationsSubscription","prev","notification","updates","notificationId","ArrowLeftIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArrowLeftIcon$1","Bars3Icon","Bars3Icon$1","BellIcon","BellIcon$1","BriefcaseIcon","BriefcaseIcon$1","CalendarIcon","CalendarIcon$1","CameraIcon","CameraIcon$1","ChartBarIcon","ChartBarIcon$1","ChatBubbleLeftRightIcon","ChatBubbleLeftRightIcon$1","CheckCircleIcon","CheckCircleIcon$1","CheckIcon","CheckIcon$1","ChevronLeftIcon","ChevronLeftIcon$1","ChevronRightIcon","ChevronRightIcon$1","ClockIcon","ClockIcon$1","Cog6ToothIcon","Cog6ToothIcon$1","CurrencyDollarIcon","CurrencyDollarIcon$1","DocumentTextIcon","DocumentTextIcon$1","EllipsisHorizontalIcon","EllipsisHorizontalIcon$1","ExclamationCircleIcon","ExclamationCircleIcon$1","EyeIcon","EyeIcon$1","HandThumbUpIcon","HandThumbUpIcon$1","HomeIcon","HomeIcon$1","KeyIcon","KeyIcon$1","MagnifyingGlassIcon","MagnifyingGlassIcon$1","PaperAirplaneIcon","PaperAirplaneIcon$1","PaperClipIcon","PaperClipIcon$1","PencilIcon","PencilIcon$1","PhoneIcon","PhoneIcon$1","PhotoIcon","PhotoIcon$1","PlusIcon","PlusIcon$2","PuzzlePieceIcon","PuzzlePieceIcon$1","ShareIcon","ShareIcon$1","ShieldCheckIcon","ShieldCheckIcon$1","StarIcon","StarIcon$1","UserGroupIcon","UserGroupIcon$1","UserIcon","UserIcon$1","UsersIcon","UsersIcon$1","XCircleIcon","XCircleIcon$1","XMarkIcon","XMarkIcon$1","MainLayout","signOut","location","useLocation","navigate","useNavigate","sidebarOpen","setSidebarOpen","notificationsOpen","setNotificationsOpen","userMenuOpen","setUserMenuOpen","role","unreadNotifications","handleSignOut","navigation","jsxs","Link","Outlet","AuthLayout","AdminLayout","isCheckBoxInput","element","isDateObject","isNullOrUndefined","isObjectType","isObject","getEventValue","getNodeParentName","isNameInFieldArray","names","isPlainObject","tempObject","prototypeCopy","isWeb","cloneObject","copy","isArray","isFileListInstance","compact","isUndefined","object","defaultValue","isBoolean","isKey","stringToPath","set","tempPath","length","lastIndex","newValue","objValue","EVENTS","VALIDATION_MODE","INPUT_VALIDATION_RULES","React__default","getProxyFormState","formState","control","localProxyFormState","isRoot","_key","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","isString","generateWatchOutput","_names","formValues","isGlobal","fieldName","appendErrors","validateAllFieldCriteria","convertToArrayPayload","createSubject","_observers","observer","o","isPrimitive","deepEqual","object1","object2","keys1","keys2","val1","val2","isEmptyObject","isFileInput","isFunction","isHTMLElement","owner","isMultipleSelect","isRadioInput","isRadioOrCheckbox","live","baseGet","updatePath","isEmptyArray","unset","childObject","objectHasFunction","markFieldsDirty","fields","isParentNodeArray","getDirtyFieldsFromDefaultValues","dirtyFieldsFromValues","getDirtyFields","defaultValues","defaultResult","validResult","getCheckboxValue","option","getFieldValueAs","valueAsNumber","valueAsDate","setValueAs","defaultReturn","getRadioValue","previous","getFieldValue","getResolverOptions","fieldsNames","_fields","criteriaMode","shouldUseNativeValidation","field","isRegex","getRuleValue","rule","getValidationModes","mode","ASYNC_FUNCTION","hasPromiseValidation","fieldReference","validateFunction","hasValidation","isWatched","isBlurEvent","watchName","iterateFieldsByAction","action","abortEarly","currentField","schemaErrorLookup","foundError","shouldRenderFormState","formStateData","_proxyFormState","updateFormState","shouldSubscribeByName","signalName","exact","currentName","skipValidation","isTouched","isSubmitted","reValidateMode","unsetEmptyArray","updateFieldArrayRootError","fieldArrayErrors","isMessage","getValidateError","getValueAndMessage","validationData","validateField","disabledFieldNames","isFieldArray","refs","required","maxLength","minLength","min","max","validate","mount","inputValue","inputRef","setCustomValidity","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueNumber","valueDate","convertTimeToDate","isTime","isWeek","maxLengthOutput","minLengthOutput","patternValue","validateError","validationResult","defaultOptions","createFormControl","_options","_formState","_defaultValues","_formValues","_state","delayErrorCallback","timer","_proxySubscribeFormState","_subjects","shouldDisplayAllAssociatedErrors","debounce","wait","_setValid","shouldUpdateValid","isValid","_runSchema","executeBuiltInValidation","_updateIsValidating","isValidating","_setFieldArray","shouldSetValues","shouldUpdateFieldsAndState","fieldValues","touchedFields","_getDirty","updateErrors","_setErrors","updateValidAndValue","shouldSkipSetValueAs","setFieldValue","updateTouchAndDirty","fieldValue","shouldDirty","shouldRender","shouldUpdateField","isPreviousDirty","output","isCurrentFieldPristine","isPreviousFieldTouched","shouldRenderByError","fieldState","previousFieldError","updatedFormState","executeSchemaAndUpdateState","shouldOnlyCheckValid","isFieldArrayRoot","isPromiseFunction","fieldError","_removeUnmounted","unregister","getValues","_getWatch","_getFieldArray","optionRef","checkboxRef","radioRef","trigger","setValues","fieldKey","setValue","cloneValue","onChange","isFieldValueUpdated","_updateIsFieldValueUpdated","validationModeBeforeSubmit","validationModeAfterSubmit","shouldSkipValidation","watched","previousErrorLookupResult","errorLookupResult","_focusInput","fieldNames","getFieldState","clearErrors","inputName","currentError","currentRef","restOfErrorTree","watch","_subscribe","_setFormState","subscribe","_setDisabledField","disabled","register","disabledIsDefined","fieldRef","radioOrCheckbox","_focusError","_disableForm","handleSubmit","onValid","onInvalid","onValidError","resetField","_reset","keepStateOptions","updatedValues","cloneUpdatedValues","isEmptyResetValues","fieldsToCheck","form","reset","setFocus","methods","useForm","_formControl","_values","sub","isDirty","u","Cache","maxSize","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","MAX_CACHE_SIZE","pathCache","setCache","getCache","propertyExpr","split","normalizePath","len","part","safe","segments","isQuoted","cb","forEach","iter","idx","isBracket","shouldBeQuoted","hasLeadingNumber","hasSpecialChars","reWords","words","upperFirst","camelCase","next","pascalCase","snakeCase","kebabCase","sentenceCase","titleCase","tinyCase","toposortModule","edges","toposort","uniqueNodes","nodes","cursor","sorted","visited","outgoingEdges","makeOutgoingEdges","nodesHash","makeNodesHash","edge","visit","node","predecessors","nodeRep","outgoing","child","toString","errorToString","regExpToString","symbolToString","SYMBOL_REGEXP","printNumber","printSimpleValue","quoteStrings","typeOf","tag","printValue","_Symbol$toStringTag","_Symbol$hasInstance","_Symbol$toStringTag2","strReg","ValidationErrorNoStack","errorOrErrors","ValidationError","innerErrors","disableStack","errorNoStack","inst","mixed","originalValue","castMsg","string","number","date","boolean","tuple","spec","typeLen","isSchema","Condition","is","then","otherwise","check","_branch","branch","base","prefixes","create$9","Reference","getter","parent","isAbsent","createValidation","panic","test","skipAbsent","disableStackTrace","overrides","nextParams","invalid","ctx","handleResult","validOrError","_result","getIn","lastPart","lastPartDebug","_part","isTuple","ReferenceSet","description","newItems","removeItems","clone","src","seen","v","Schema","label","before","combined","mergedSpec","conditions","prevSchema","condition","_options$strict","_options$abortEarly","_options$recursive","_options$disableStack","resolvedSchema","allowOptionality","formattedValue","formattedResult","rawValue","prevValue","_value","strict","initialTests","initialErrors","runOptions","fired","tests","panicOnce","arg","nextOnce","nestedErrors","parentPath","originalParent","isIndex","testOptions","_options$disableStack2","validated","_options$disableStack3","def","isStrict","nullable","optional","isExclusive","keys","deps","dep","enums","valids","resolved","invalids","strip","meta","list","alias","create$7","BooleanSchema","_raw","isoReg","parseIsoDate","struct","parseDateStruct","totalMinutesOffset","_regexResult$7$length","_regexResult$","regexResult","rEmail","rUrl","rUUID","yearMonthDay","hourMinuteSecond","zOrOffset","rIsoDateTime","isTrimmed","objStringTag","create$6","StringSchema","strValue","regex","excludeEmptyString","allowOffset","precision","invalidDate","isDate","DateSchema","param","cast","limit","sortFields","excludedEdges","excludes","addNode","depPath","findIndex","ii","_err$path","sortByKeyOrder","parseJson","deepPartial","partial","fieldSchema","nextArray","deepHas","unknown","known","defaultSort","create$3","ObjectSchema","_options$stripUnknown","intermediateValue","innerOptions","isChanged","exists","fieldSpec","recursive","objectErrors","fieldErrors","nextFields","schemaOrRef","dft","_innerOptions","shape","additions","picked","remaining","fromGetter","newObj","unknownKeys","noAllow","allow","_innerOptions2","yup.object","yup.string","Login","signIn","yupResolver","onSubmit","yup.ref","yup.boolean","Register","signUp","authData","authError","ForgotPassword","resetPassword","success","setSuccess","_typeof","toInteger","dirtyNumber","requiredArgs","toDate","argument","argStr","addDays","dirtyDate","dirtyAmount","amount","addMonths","dayOfMonth","endOfDesiredMonth","daysInMonth","addMilliseconds","timestamp","getDefaultOptions","startOfWeek","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","weekStartsOn","day","getTimezoneOffsetInMilliseconds","utcDate","startOfDay","isSameDay","dirtyDateLeft","dirtyDateRight","dateLeftStartOfDay","dateRightStartOfDay","endOfMonth","month","startOfMonth","endOfWeek","subMilliseconds","MILLISECONDS_IN_DAY","getUTCDayOfYear","startOfYearTimestamp","difference","startOfUTCISOWeek","getUTCISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","getUTCISOWeek","startOfUTCWeek","getUTCWeekYear","_options$firstWeekCon","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","getUTCWeek","addLeadingZeros","targetLength","sign","formatters","signedYear","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","formatters$3","dayPeriodEnum","localize","era","lightFormatters","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","quarter","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","originalDate","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","dirtyDelimiter","absOffset","minutes","delimiter","formatters$1","dateLongFormatter","formatLong","timeLongFormatter","dateTimeLongFormatter","matchResult","datePattern","timePattern","dateTimeFormat","longFormatters","longFormatters$1","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","throwProtectedError","formatDistanceLocale","formatDistance","tokenValue","formatDistance$1","buildFormatLongFn","width","dateFormats","timeFormats","dateTimeFormats","formatLong$1","formatRelativeLocale","formatRelative","_date","_baseDate","formatRelative$1","buildLocalizeFn","dirtyIndex","valuesArray","defaultWidth","_defaultWidth","_width","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","rem100","localize$1","buildMatchFn","matchPattern","matchedString","parsePatterns","findKey","predicate","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","match$1","locale","defaultLocale","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","_ref4","_options$locale2","_options$locale2$opti","_ref5","_ref6","_ref7","_options$locale3","_options$locale3$opti","_defaultOptions$local3","_defaultOptions$local4","formatStr","formatterOptions","substring","firstCharacter","longFormatter","cleanEscapedString","formatter","matched","isSameMonth","dateLeft","dateRight","subMonths","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ProviderDashboard","profile","setProfile","stats","setStats","upcomingJobs","setUpcomingJobs","recentReviews","setRecentReviews","fetchProviderData","userId","chartData","chartOptions","renderStars","rating","Bar","job","review","ProviderProfile","updateUserProfile","editing","setEditing","reviews","setReviews","projects","setProjects","formData","setFormData","fetchReviews","fetchProjects","mockReviews","mockProjects","handleInputChange","handleServiceChange","service","updatedServices","formatDate","availableServices","Fragment","project","ProviderJobs","jobs","setJobs","setFilter","searchTerm","setSearchTerm","sortBy","setSortBy","sortOrder","setSortOrder","fetchJobs","mockJobs","sortedJobs","matchesFilter","matchesSearch","getStatusBadge","ProviderCalendar","currentDate","setCurrentDate","setEvents","selectedEvent","setSelectedEvent","showEventModal","setShowEventModal","fetchEvents","mockEvents","handlePrevMonth","handleNextMonth","handleEventClick","handleCloseModal","getEventTypeBadge","typeInfo","formatTime","renderHeader","renderDays","days","renderCells","monthStart","monthEnd","startDate","endDate","rows","formattedDate","dayEvents","renderListView","eventsByDate","dateKey","sortedDates","renderEventModal","setView","ProviderMessages","conversations","setConversations","selectedConversation","setSelectedConversation","messages","setMessages","newMessage","setNewMessage","fetchConversations","fetchMessages","mockConversations","conversationId","mockMessages","handleSendMessage","newMessageObj","formatMessageTime","formatConversationTime","messageDate","filteredConversations","conversation","ProviderSettings","updateUser","setMessage","setEmail","setPassword","confirmPassword","setConfirmPassword","notificationSettings","setNotificationSettings","privacySettings","setPrivacySettings","handleUpdateEmail","handleUpdatePassword","handleNotificationChange","setting","handlePrivacyChange","handleSaveNotificationSettings","handleSavePrivacySettings","ArcElement","HomeownerDashboard","recentProviders","setRecentProviders","projectStatusData","fetchData","mockProviders","formatCurrency","Doughnut","HomeownerProfile","statusInfo","HomeownerProjects","sortedProjects","calculateProgress","spent","budget","HomeownerProviders","providers","setProviders","selectedService","setSelectedService","selectedRating","setSelectedRating","viewMode","setViewMode","fetchProviders","allServices","filteredProviders","matchesService","matchesRating","HomeownerMessages","HomeownerSettings","AdminContext","useAdmin","Dashboard","hasPermission","recentAuditLogs","setRecentAuditLogs","fetchDashboardData","adminUsersCount","pendingVerificationsCount","contentPagesCount","integrationsCount","apiKeysCount","auditLogs","cards","card","log","AdminDashboard","Users","setUsers","selectedRole","setSelectedRole","currentPage","setCurrentPage","usersPerPage","fetchUsers","handleRoleChange","newRole","toggleUserStatus","currentStatus","newStatus","filteredUsers","matchesRole","indexOfLastUser","indexOfFirstUser","currentUsers","totalPages","paginate","pageNumber","AdminUsers","Providers","selectedCategory","setSelectedCategory","selectedStatus","setSelectedStatus","providersPerPage","categories","setCategories","fetchCategories","toggleProviderStatus","providerId","toggleVerificationStatus","matchesCategory","_h","matchesStatus","indexOfLastProvider","indexOfFirstProvider","currentProviders","getCategoryName","categoryId","category","cat","_i","_k","_j","_m","_l","AdminProviders","Reports","activeTab","setActiveTab","timeRange","setTimeRange","fetchReportData","mockData","generateMockData","months","userGrowth","revenueData","AdminReports","Settings","generalSettings","setGeneralSettings","emailSettings","setEmailSettings","paymentSettings","setPaymentSettings","securitySettings","setSecuritySettings","handleGeneralSubmit","saveSettings","handleEmailSubmit","handlePaymentSubmit","handleSecuritySubmit","AdminSettings","CommunityHub","filteredProjects","getCategoryBadge","categoryInfo","ProjectDetails","useParams","setProject","comments","setComments","commentText","setCommentText","submitting","setSubmitting","fetchProjectDetails","mockProject","mockComments","handleSubmitComment","newComment","image","comment","Home","About","Contact","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","handleChange","prevData","Pricing","billingPeriod","setBillingPeriod","plans","plan","feature","NotFound","App","authLoading","profileLoading","userRole","Router","Routes","Route","Navigate","ReactDOM"],"sources":["../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js","../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js","../../node_modules/.pnpm/@supabase+functions-js@2.4.4/node_modules/@supabase/functions-js/dist/module/helper.js","../../node_modules/.pnpm/@supabase+functions-js@2.4.4/node_modules/@supabase/functions-js/dist/module/types.js","../../node_modules/.pnpm/@supabase+functions-js@2.4.4/node_modules/@supabase/functions-js/dist/module/FunctionsClient.js","../../node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestError.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestBuilder.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestTransformBuilder.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestFilterBuilder.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestQueryBuilder.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/version.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/constants.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestClient.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/index.js","../../node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/esm/wrapper.mjs","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/version.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/constants.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/serializer.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/timer.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/transformers.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/lib/push.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/RealtimePresence.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/RealtimeChannel.js","../../node_modules/.pnpm/@supabase+realtime-js@2.11.2/node_modules/@supabase/realtime-js/dist/module/RealtimeClient.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/lib/errors.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/lib/helpers.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/lib/fetch.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/packages/StorageFileApi.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/lib/version.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/lib/constants.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/packages/StorageBucketApi.js","../../node_modules/.pnpm/@supabase+storage-js@2.7.1/node_modules/@supabase/storage-js/dist/module/StorageClient.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/lib/version.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/lib/constants.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/lib/fetch.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/lib/helpers.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/version.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/constants.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/errors.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/base64url.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/helpers.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/fetch.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/GoTrueAdminApi.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/local-storage.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/polyfills.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/lib/locks.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/GoTrueClient.js","../../node_modules/.pnpm/@supabase+auth-js@2.69.1/node_modules/@supabase/auth-js/dist/module/AuthClient.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/lib/SupabaseAuthClient.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/SupabaseClient.js","../../node_modules/.pnpm/@supabase+supabase-js@2.49.8/node_modules/@supabase/supabase-js/dist/module/index.js","../../src/lib/supabaseClient.js","../../src/contexts/AuthContext.jsx","../../src/contexts/AppContext.jsx","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ArrowLeftIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/Bars3Icon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/BellIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/BriefcaseIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/CalendarIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/CameraIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ChartBarIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ChatBubbleLeftRightIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/CheckIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ChevronLeftIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ChevronRightIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/Cog6ToothIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/CurrencyDollarIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/DocumentTextIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/EllipsisHorizontalIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ExclamationCircleIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/HandThumbUpIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/HomeIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/MagnifyingGlassIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PaperAirplaneIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PaperClipIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PhoneIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PhotoIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PlusIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/PuzzlePieceIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ShareIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/ShieldCheckIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/StarIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/UserGroupIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/UserIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/UsersIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/XCircleIcon.js","../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.3.1/node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js","../../src/layouts/MainLayout.jsx","../../src/layouts/AuthLayout.jsx","../../src/layouts/AdminLayout.jsx","../../node_modules/.pnpm/react-hook-form@7.56.4_react@18.3.1/node_modules/react-hook-form/dist/index.esm.mjs","../../node_modules/.pnpm/@hookform+resolvers@3.10.0_react-hook-form@7.56.4/node_modules/@hookform/resolvers/dist/resolvers.mjs","../../node_modules/.pnpm/@hookform+resolvers@3.10.0_react-hook-form@7.56.4/node_modules/@hookform/resolvers/yup/dist/yup.mjs","../../node_modules/.pnpm/property-expr@2.0.6/node_modules/property-expr/index.js","../../node_modules/.pnpm/tiny-case@1.0.3/node_modules/tiny-case/index.js","../../node_modules/.pnpm/toposort@2.0.2/node_modules/toposort/index.js","../../node_modules/.pnpm/yup@1.6.1/node_modules/yup/index.esm.js","../../src/pages/auth/Login.jsx","../../src/pages/auth/Register.jsx","../../src/pages/auth/ForgotPassword.jsx","../../src/lib/supabase.js","../../node_modules/.pnpm/@babel+runtime@7.27.3/node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/toInteger/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/toDate/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/addDays/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/addMonths/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/addMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/defaultOptions/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/startOfWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/startOfDay/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isSameDay/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isDate/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isValid/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/endOfMonth/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/startOfMonth/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/endOfWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/subMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/formatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/protectedTokens/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/format/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isSameMonth/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/subMonths/index.js","../../src/pages/provider/Dashboard.jsx","../../src/pages/provider/Profile.jsx","../../src/pages/provider/Jobs.jsx","../../src/pages/provider/Calendar.jsx","../../src/pages/provider/Messages.jsx","../../src/pages/provider/Settings.jsx","../../src/pages/homeowner/Dashboard.jsx","../../src/pages/homeowner/Profile.jsx","../../src/pages/homeowner/Projects.jsx","../../src/pages/homeowner/Providers.jsx","../../src/pages/homeowner/Messages.jsx","../../src/pages/homeowner/Settings.jsx","../../src/contexts/AdminContext.jsx","../../src/components/admin/Dashboard.jsx","../../src/pages/admin/Dashboard.jsx","../../src/components/admin/Users.jsx","../../src/pages/admin/Users.jsx","../../src/components/admin/Providers.jsx","../../src/pages/admin/Providers.jsx","../../src/components/admin/Reports.jsx","../../src/pages/admin/Reports.jsx","../../src/components/admin/Settings.jsx","../../src/pages/admin/Settings.jsx","../../src/pages/community/CommunityHub.jsx","../../src/pages/community/ProjectDetails.jsx","../../src/pages/public/Home.jsx","../../src/pages/public/About.jsx","../../src/pages/public/Contact.jsx","../../src/pages/public/Pricing.jsx","../../src/pages/public/NotFound.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","export const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => import('@supabase/node-fetch').then(({ default: fetch }) => fetch(...args));\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\n//# sourceMappingURL=helper.js.map","export class FunctionsError extends Error {\n    constructor(message, name = 'FunctionsError', context) {\n        super(message);\n        this.name = name;\n        this.context = context;\n    }\n}\nexport class FunctionsFetchError extends FunctionsError {\n    constructor(context) {\n        super('Failed to send a request to the Edge Function', 'FunctionsFetchError', context);\n    }\n}\nexport class FunctionsRelayError extends FunctionsError {\n    constructor(context) {\n        super('Relay Error invoking the Edge Function', 'FunctionsRelayError', context);\n    }\n}\nexport class FunctionsHttpError extends FunctionsError {\n    constructor(context) {\n        super('Edge Function returned a non-2xx status code', 'FunctionsHttpError', context);\n    }\n}\n// Define the enum for the 'region' property\nexport var FunctionRegion;\n(function (FunctionRegion) {\n    FunctionRegion[\"Any\"] = \"any\";\n    FunctionRegion[\"ApNortheast1\"] = \"ap-northeast-1\";\n    FunctionRegion[\"ApNortheast2\"] = \"ap-northeast-2\";\n    FunctionRegion[\"ApSouth1\"] = \"ap-south-1\";\n    FunctionRegion[\"ApSoutheast1\"] = \"ap-southeast-1\";\n    FunctionRegion[\"ApSoutheast2\"] = \"ap-southeast-2\";\n    FunctionRegion[\"CaCentral1\"] = \"ca-central-1\";\n    FunctionRegion[\"EuCentral1\"] = \"eu-central-1\";\n    FunctionRegion[\"EuWest1\"] = \"eu-west-1\";\n    FunctionRegion[\"EuWest2\"] = \"eu-west-2\";\n    FunctionRegion[\"EuWest3\"] = \"eu-west-3\";\n    FunctionRegion[\"SaEast1\"] = \"sa-east-1\";\n    FunctionRegion[\"UsEast1\"] = \"us-east-1\";\n    FunctionRegion[\"UsWest1\"] = \"us-west-1\";\n    FunctionRegion[\"UsWest2\"] = \"us-west-2\";\n})(FunctionRegion || (FunctionRegion = {}));\n//# sourceMappingURL=types.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { resolveFetch } from './helper';\nimport { FunctionsFetchError, FunctionsHttpError, FunctionsRelayError, FunctionRegion, } from './types';\nexport class FunctionsClient {\n    constructor(url, { headers = {}, customFetch, region = FunctionRegion.Any, } = {}) {\n        this.url = url;\n        this.headers = headers;\n        this.region = region;\n        this.fetch = resolveFetch(customFetch);\n    }\n    /**\n     * Updates the authorization header\n     * @param token - the new jwt token sent in the authorisation header\n     */\n    setAuth(token) {\n        this.headers.Authorization = `Bearer ${token}`;\n    }\n    /**\n     * Invokes a function\n     * @param functionName - The name of the Function to invoke.\n     * @param options - Options for invoking the Function.\n     */\n    invoke(functionName, options = {}) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { headers, method, body: functionArgs } = options;\n                let _headers = {};\n                let { region } = options;\n                if (!region) {\n                    region = this.region;\n                }\n                if (region && region !== 'any') {\n                    _headers['x-region'] = region;\n                }\n                let body;\n                if (functionArgs &&\n                    ((headers && !Object.prototype.hasOwnProperty.call(headers, 'Content-Type')) || !headers)) {\n                    if ((typeof Blob !== 'undefined' && functionArgs instanceof Blob) ||\n                        functionArgs instanceof ArrayBuffer) {\n                        // will work for File as File inherits Blob\n                        // also works for ArrayBuffer as it is the same underlying structure as a Blob\n                        _headers['Content-Type'] = 'application/octet-stream';\n                        body = functionArgs;\n                    }\n                    else if (typeof functionArgs === 'string') {\n                        // plain string\n                        _headers['Content-Type'] = 'text/plain';\n                        body = functionArgs;\n                    }\n                    else if (typeof FormData !== 'undefined' && functionArgs instanceof FormData) {\n                        // don't set content-type headers\n                        // Request will automatically add the right boundary value\n                        body = functionArgs;\n                    }\n                    else {\n                        // default, assume this is JSON\n                        _headers['Content-Type'] = 'application/json';\n                        body = JSON.stringify(functionArgs);\n                    }\n                }\n                const response = yield this.fetch(`${this.url}/${functionName}`, {\n                    method: method || 'POST',\n                    // headers priority is (high to low):\n                    // 1. invoke-level headers\n                    // 2. client-level headers\n                    // 3. default Content-Type header\n                    headers: Object.assign(Object.assign(Object.assign({}, _headers), this.headers), headers),\n                    body,\n                }).catch((fetchError) => {\n                    throw new FunctionsFetchError(fetchError);\n                });\n                const isRelayError = response.headers.get('x-relay-error');\n                if (isRelayError && isRelayError === 'true') {\n                    throw new FunctionsRelayError(response);\n                }\n                if (!response.ok) {\n                    throw new FunctionsHttpError(response);\n                }\n                let responseType = ((_a = response.headers.get('Content-Type')) !== null && _a !== void 0 ? _a : 'text/plain').split(';')[0].trim();\n                let data;\n                if (responseType === 'application/json') {\n                    data = yield response.json();\n                }\n                else if (responseType === 'application/octet-stream') {\n                    data = yield response.blob();\n                }\n                else if (responseType === 'text/event-stream') {\n                    data = response;\n                }\n                else if (responseType === 'multipart/form-data') {\n                    data = yield response.formData();\n                }\n                else {\n                    // default to text\n                    data = yield response.text();\n                }\n                return { data, error: null };\n            }\n            catch (error) {\n                return { data: null, error };\n            }\n        });\n    }\n}\n//# sourceMappingURL=FunctionsClient.js.map","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function() {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') { return self; }\n    if (typeof window !== 'undefined') { return window; }\n    if (typeof global !== 'undefined') { return global; }\n    throw new Error('unable to locate global object');\n}\n\nvar globalObject = getGlobal();\n\nexport const fetch = globalObject.fetch;\n\nexport default globalObject.fetch.bind(globalObject);\n\nexport const Headers = globalObject.Headers;\nexport const Request = globalObject.Request;\nexport const Response = globalObject.Response;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Error format\n *\n * {@link https://postgrest.org/en/stable/api.html?highlight=options#errors-and-http-status-codes}\n */\nclass PostgrestError extends Error {\n    constructor(context) {\n        super(context.message);\n        this.name = 'PostgrestError';\n        this.details = context.details;\n        this.hint = context.hint;\n        this.code = context.code;\n    }\n}\nexports.default = PostgrestError;\n//# sourceMappingURL=PostgrestError.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// @ts-ignore\nconst node_fetch_1 = __importDefault(require(\"@supabase/node-fetch\"));\nconst PostgrestError_1 = __importDefault(require(\"./PostgrestError\"));\nclass PostgrestBuilder {\n    constructor(builder) {\n        this.shouldThrowOnError = false;\n        this.method = builder.method;\n        this.url = builder.url;\n        this.headers = builder.headers;\n        this.schema = builder.schema;\n        this.body = builder.body;\n        this.shouldThrowOnError = builder.shouldThrowOnError;\n        this.signal = builder.signal;\n        this.isMaybeSingle = builder.isMaybeSingle;\n        if (builder.fetch) {\n            this.fetch = builder.fetch;\n        }\n        else if (typeof fetch === 'undefined') {\n            this.fetch = node_fetch_1.default;\n        }\n        else {\n            this.fetch = fetch;\n        }\n    }\n    /**\n     * If there's an error with the query, throwOnError will reject the promise by\n     * throwing the error instead of returning it as part of a successful response.\n     *\n     * {@link https://github.com/supabase/supabase-js/issues/92}\n     */\n    throwOnError() {\n        this.shouldThrowOnError = true;\n        return this;\n    }\n    /**\n     * Set an HTTP header for the request.\n     */\n    setHeader(name, value) {\n        this.headers = Object.assign({}, this.headers);\n        this.headers[name] = value;\n        return this;\n    }\n    then(onfulfilled, onrejected) {\n        // https://postgrest.org/en/stable/api.html#switching-schemas\n        if (this.schema === undefined) {\n            // skip\n        }\n        else if (['GET', 'HEAD'].includes(this.method)) {\n            this.headers['Accept-Profile'] = this.schema;\n        }\n        else {\n            this.headers['Content-Profile'] = this.schema;\n        }\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.headers['Content-Type'] = 'application/json';\n        }\n        // NOTE: Invoke w/o `this` to avoid illegal invocation error.\n        // https://github.com/supabase/postgrest-js/pull/247\n        const _fetch = this.fetch;\n        let res = _fetch(this.url.toString(), {\n            method: this.method,\n            headers: this.headers,\n            body: JSON.stringify(this.body),\n            signal: this.signal,\n        }).then(async (res) => {\n            var _a, _b, _c;\n            let error = null;\n            let data = null;\n            let count = null;\n            let status = res.status;\n            let statusText = res.statusText;\n            if (res.ok) {\n                if (this.method !== 'HEAD') {\n                    const body = await res.text();\n                    if (body === '') {\n                        // Prefer: return=minimal\n                    }\n                    else if (this.headers['Accept'] === 'text/csv') {\n                        data = body;\n                    }\n                    else if (this.headers['Accept'] &&\n                        this.headers['Accept'].includes('application/vnd.pgrst.plan+text')) {\n                        data = body;\n                    }\n                    else {\n                        data = JSON.parse(body);\n                    }\n                }\n                const countHeader = (_a = this.headers['Prefer']) === null || _a === void 0 ? void 0 : _a.match(/count=(exact|planned|estimated)/);\n                const contentRange = (_b = res.headers.get('content-range')) === null || _b === void 0 ? void 0 : _b.split('/');\n                if (countHeader && contentRange && contentRange.length > 1) {\n                    count = parseInt(contentRange[1]);\n                }\n                // Temporary partial fix for https://github.com/supabase/postgrest-js/issues/361\n                // Issue persists e.g. for `.insert([...]).select().maybeSingle()`\n                if (this.isMaybeSingle && this.method === 'GET' && Array.isArray(data)) {\n                    if (data.length > 1) {\n                        error = {\n                            // https://github.com/PostgREST/postgrest/blob/a867d79c42419af16c18c3fb019eba8df992626f/src/PostgREST/Error.hs#L553\n                            code: 'PGRST116',\n                            details: `Results contain ${data.length} rows, application/vnd.pgrst.object+json requires 1 row`,\n                            hint: null,\n                            message: 'JSON object requested, multiple (or no) rows returned',\n                        };\n                        data = null;\n                        count = null;\n                        status = 406;\n                        statusText = 'Not Acceptable';\n                    }\n                    else if (data.length === 1) {\n                        data = data[0];\n                    }\n                    else {\n                        data = null;\n                    }\n                }\n            }\n            else {\n                const body = await res.text();\n                try {\n                    error = JSON.parse(body);\n                    // Workaround for https://github.com/supabase/postgrest-js/issues/295\n                    if (Array.isArray(error) && res.status === 404) {\n                        data = [];\n                        error = null;\n                        status = 200;\n                        statusText = 'OK';\n                    }\n                }\n                catch (_d) {\n                    // Workaround for https://github.com/supabase/postgrest-js/issues/295\n                    if (res.status === 404 && body === '') {\n                        status = 204;\n                        statusText = 'No Content';\n                    }\n                    else {\n                        error = {\n                            message: body,\n                        };\n                    }\n                }\n                if (error && this.isMaybeSingle && ((_c = error === null || error === void 0 ? void 0 : error.details) === null || _c === void 0 ? void 0 : _c.includes('0 rows'))) {\n                    error = null;\n                    status = 200;\n                    statusText = 'OK';\n                }\n                if (error && this.shouldThrowOnError) {\n                    throw new PostgrestError_1.default(error);\n                }\n            }\n            const postgrestResponse = {\n                error,\n                data,\n                count,\n                status,\n                statusText,\n            };\n            return postgrestResponse;\n        });\n        if (!this.shouldThrowOnError) {\n            res = res.catch((fetchError) => {\n                var _a, _b, _c;\n                return ({\n                    error: {\n                        message: `${(_a = fetchError === null || fetchError === void 0 ? void 0 : fetchError.name) !== null && _a !== void 0 ? _a : 'FetchError'}: ${fetchError === null || fetchError === void 0 ? void 0 : fetchError.message}`,\n                        details: `${(_b = fetchError === null || fetchError === void 0 ? void 0 : fetchError.stack) !== null && _b !== void 0 ? _b : ''}`,\n                        hint: '',\n                        code: `${(_c = fetchError === null || fetchError === void 0 ? void 0 : fetchError.code) !== null && _c !== void 0 ? _c : ''}`,\n                    },\n                    data: null,\n                    count: null,\n                    status: 0,\n                    statusText: '',\n                });\n            });\n        }\n        return res.then(onfulfilled, onrejected);\n    }\n    /**\n     * Override the type of the returned `data`.\n     *\n     * @typeParam NewResult - The new result type to override with\n     * @deprecated Use overrideTypes<yourType, { merge: false }>() method at the end of your call chain instead\n     */\n    returns() {\n        /* istanbul ignore next */\n        return this;\n    }\n    /**\n     * Override the type of the returned `data` field in the response.\n     *\n     * @typeParam NewResult - The new type to cast the response data to\n     * @typeParam Options - Optional type configuration (defaults to { merge: true })\n     * @typeParam Options.merge - When true, merges the new type with existing return type. When false, replaces the existing types entirely (defaults to true)\n     * @example\n     * ```typescript\n     * // Merge with existing types (default behavior)\n     * const query = supabase\n     *   .from('users')\n     *   .select()\n     *   .overrideTypes<{ custom_field: string }>()\n     *\n     * // Replace existing types completely\n     * const replaceQuery = supabase\n     *   .from('users')\n     *   .select()\n     *   .overrideTypes<{ id: number; name: string }, { merge: false }>()\n     * ```\n     * @returns A PostgrestBuilder instance with the new type\n     */\n    overrideTypes() {\n        return this;\n    }\n}\nexports.default = PostgrestBuilder;\n//# sourceMappingURL=PostgrestBuilder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PostgrestBuilder_1 = __importDefault(require(\"./PostgrestBuilder\"));\nclass PostgrestTransformBuilder extends PostgrestBuilder_1.default {\n    /**\n     * Perform a SELECT on the query result.\n     *\n     * By default, `.insert()`, `.update()`, `.upsert()`, and `.delete()` do not\n     * return modified rows. By calling this method, modified rows are returned in\n     * `data`.\n     *\n     * @param columns - The columns to retrieve, separated by commas\n     */\n    select(columns) {\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = (columns !== null && columns !== void 0 ? columns : '*')\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (this.headers['Prefer']) {\n            this.headers['Prefer'] += ',';\n        }\n        this.headers['Prefer'] += 'return=representation';\n        return this;\n    }\n    /**\n     * Order the query result by `column`.\n     *\n     * You can call this method multiple times to order by multiple columns.\n     *\n     * You can order referenced tables, but it only affects the ordering of the\n     * parent table if you use `!inner` in the query.\n     *\n     * @param column - The column to order by\n     * @param options - Named parameters\n     * @param options.ascending - If `true`, the result will be in ascending order\n     * @param options.nullsFirst - If `true`, `null`s appear first. If `false`,\n     * `null`s appear last.\n     * @param options.referencedTable - Set this to order a referenced table by\n     * its columns\n     * @param options.foreignTable - Deprecated, use `options.referencedTable`\n     * instead\n     */\n    order(column, { ascending = true, nullsFirst, foreignTable, referencedTable = foreignTable, } = {}) {\n        const key = referencedTable ? `${referencedTable}.order` : 'order';\n        const existingOrder = this.url.searchParams.get(key);\n        this.url.searchParams.set(key, `${existingOrder ? `${existingOrder},` : ''}${column}.${ascending ? 'asc' : 'desc'}${nullsFirst === undefined ? '' : nullsFirst ? '.nullsfirst' : '.nullslast'}`);\n        return this;\n    }\n    /**\n     * Limit the query result by `count`.\n     *\n     * @param count - The maximum number of rows to return\n     * @param options - Named parameters\n     * @param options.referencedTable - Set this to limit rows of referenced\n     * tables instead of the parent table\n     * @param options.foreignTable - Deprecated, use `options.referencedTable`\n     * instead\n     */\n    limit(count, { foreignTable, referencedTable = foreignTable, } = {}) {\n        const key = typeof referencedTable === 'undefined' ? 'limit' : `${referencedTable}.limit`;\n        this.url.searchParams.set(key, `${count}`);\n        return this;\n    }\n    /**\n     * Limit the query result by starting at an offset `from` and ending at the offset `to`.\n     * Only records within this range are returned.\n     * This respects the query order and if there is no order clause the range could behave unexpectedly.\n     * The `from` and `to` values are 0-based and inclusive: `range(1, 3)` will include the second, third\n     * and fourth rows of the query.\n     *\n     * @param from - The starting index from which to limit the result\n     * @param to - The last index to which to limit the result\n     * @param options - Named parameters\n     * @param options.referencedTable - Set this to limit rows of referenced\n     * tables instead of the parent table\n     * @param options.foreignTable - Deprecated, use `options.referencedTable`\n     * instead\n     */\n    range(from, to, { foreignTable, referencedTable = foreignTable, } = {}) {\n        const keyOffset = typeof referencedTable === 'undefined' ? 'offset' : `${referencedTable}.offset`;\n        const keyLimit = typeof referencedTable === 'undefined' ? 'limit' : `${referencedTable}.limit`;\n        this.url.searchParams.set(keyOffset, `${from}`);\n        // Range is inclusive, so add 1\n        this.url.searchParams.set(keyLimit, `${to - from + 1}`);\n        return this;\n    }\n    /**\n     * Set the AbortSignal for the fetch request.\n     *\n     * @param signal - The AbortSignal to use for the fetch request\n     */\n    abortSignal(signal) {\n        this.signal = signal;\n        return this;\n    }\n    /**\n     * Return `data` as a single object instead of an array of objects.\n     *\n     * Query result must be one row (e.g. using `.limit(1)`), otherwise this\n     * returns an error.\n     */\n    single() {\n        this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        return this;\n    }\n    /**\n     * Return `data` as a single object instead of an array of objects.\n     *\n     * Query result must be zero or one row (e.g. using `.limit(1)`), otherwise\n     * this returns an error.\n     */\n    maybeSingle() {\n        // Temporary partial fix for https://github.com/supabase/postgrest-js/issues/361\n        // Issue persists e.g. for `.insert([...]).select().maybeSingle()`\n        if (this.method === 'GET') {\n            this.headers['Accept'] = 'application/json';\n        }\n        else {\n            this.headers['Accept'] = 'application/vnd.pgrst.object+json';\n        }\n        this.isMaybeSingle = true;\n        return this;\n    }\n    /**\n     * Return `data` as a string in CSV format.\n     */\n    csv() {\n        this.headers['Accept'] = 'text/csv';\n        return this;\n    }\n    /**\n     * Return `data` as an object in [GeoJSON](https://geojson.org) format.\n     */\n    geojson() {\n        this.headers['Accept'] = 'application/geo+json';\n        return this;\n    }\n    /**\n     * Return `data` as the EXPLAIN plan for the query.\n     *\n     * You need to enable the\n     * [db_plan_enabled](https://supabase.com/docs/guides/database/debugging-performance#enabling-explain)\n     * setting before using this method.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.analyze - If `true`, the query will be executed and the\n     * actual run time will be returned\n     *\n     * @param options.verbose - If `true`, the query identifier will be returned\n     * and `data` will include the output columns of the query\n     *\n     * @param options.settings - If `true`, include information on configuration\n     * parameters that affect query planning\n     *\n     * @param options.buffers - If `true`, include information on buffer usage\n     *\n     * @param options.wal - If `true`, include information on WAL record generation\n     *\n     * @param options.format - The format of the output, can be `\"text\"` (default)\n     * or `\"json\"`\n     */\n    explain({ analyze = false, verbose = false, settings = false, buffers = false, wal = false, format = 'text', } = {}) {\n        var _a;\n        const options = [\n            analyze ? 'analyze' : null,\n            verbose ? 'verbose' : null,\n            settings ? 'settings' : null,\n            buffers ? 'buffers' : null,\n            wal ? 'wal' : null,\n        ]\n            .filter(Boolean)\n            .join('|');\n        // An Accept header can carry multiple media types but postgrest-js always sends one\n        const forMediatype = (_a = this.headers['Accept']) !== null && _a !== void 0 ? _a : 'application/json';\n        this.headers['Accept'] = `application/vnd.pgrst.plan+${format}; for=\"${forMediatype}\"; options=${options};`;\n        if (format === 'json')\n            return this;\n        else\n            return this;\n    }\n    /**\n     * Rollback the query.\n     *\n     * `data` will still be returned, but the query is not committed.\n     */\n    rollback() {\n        var _a;\n        if (((_a = this.headers['Prefer']) !== null && _a !== void 0 ? _a : '').trim().length > 0) {\n            this.headers['Prefer'] += ',tx=rollback';\n        }\n        else {\n            this.headers['Prefer'] = 'tx=rollback';\n        }\n        return this;\n    }\n    /**\n     * Override the type of the returned `data`.\n     *\n     * @typeParam NewResult - The new result type to override with\n     * @deprecated Use overrideTypes<yourType, { merge: false }>() method at the end of your call chain instead\n     */\n    returns() {\n        return this;\n    }\n}\nexports.default = PostgrestTransformBuilder;\n//# sourceMappingURL=PostgrestTransformBuilder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PostgrestTransformBuilder_1 = __importDefault(require(\"./PostgrestTransformBuilder\"));\nclass PostgrestFilterBuilder extends PostgrestTransformBuilder_1.default {\n    /**\n     * Match only rows where `column` is equal to `value`.\n     *\n     * To check if the value of `column` is NULL, you should use `.is()` instead.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    eq(column, value) {\n        this.url.searchParams.append(column, `eq.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is not equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    neq(column, value) {\n        this.url.searchParams.append(column, `neq.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is greater than `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    gt(column, value) {\n        this.url.searchParams.append(column, `gt.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is greater than or equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    gte(column, value) {\n        this.url.searchParams.append(column, `gte.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is less than `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    lt(column, value) {\n        this.url.searchParams.append(column, `lt.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is less than or equal to `value`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    lte(column, value) {\n        this.url.searchParams.append(column, `lte.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches `pattern` case-sensitively.\n     *\n     * @param column - The column to filter on\n     * @param pattern - The pattern to match with\n     */\n    like(column, pattern) {\n        this.url.searchParams.append(column, `like.${pattern}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches all of `patterns` case-sensitively.\n     *\n     * @param column - The column to filter on\n     * @param patterns - The patterns to match with\n     */\n    likeAllOf(column, patterns) {\n        this.url.searchParams.append(column, `like(all).{${patterns.join(',')}}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches any of `patterns` case-sensitively.\n     *\n     * @param column - The column to filter on\n     * @param patterns - The patterns to match with\n     */\n    likeAnyOf(column, patterns) {\n        this.url.searchParams.append(column, `like(any).{${patterns.join(',')}}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches `pattern` case-insensitively.\n     *\n     * @param column - The column to filter on\n     * @param pattern - The pattern to match with\n     */\n    ilike(column, pattern) {\n        this.url.searchParams.append(column, `ilike.${pattern}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches all of `patterns` case-insensitively.\n     *\n     * @param column - The column to filter on\n     * @param patterns - The patterns to match with\n     */\n    ilikeAllOf(column, patterns) {\n        this.url.searchParams.append(column, `ilike(all).{${patterns.join(',')}}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` matches any of `patterns` case-insensitively.\n     *\n     * @param column - The column to filter on\n     * @param patterns - The patterns to match with\n     */\n    ilikeAnyOf(column, patterns) {\n        this.url.searchParams.append(column, `ilike(any).{${patterns.join(',')}}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` IS `value`.\n     *\n     * For non-boolean columns, this is only relevant for checking if the value of\n     * `column` is NULL by setting `value` to `null`.\n     *\n     * For boolean columns, you can also set `value` to `true` or `false` and it\n     * will behave the same way as `.eq()`.\n     *\n     * @param column - The column to filter on\n     * @param value - The value to filter with\n     */\n    is(column, value) {\n        this.url.searchParams.append(column, `is.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows where `column` is included in the `values` array.\n     *\n     * @param column - The column to filter on\n     * @param values - The values array to filter with\n     */\n    in(column, values) {\n        const cleanedValues = Array.from(new Set(values))\n            .map((s) => {\n            // handle postgrest reserved characters\n            // https://postgrest.org/en/v7.0.0/api.html#reserved-characters\n            if (typeof s === 'string' && new RegExp('[,()]').test(s))\n                return `\"${s}\"`;\n            else\n                return `${s}`;\n        })\n            .join(',');\n        this.url.searchParams.append(column, `in.(${cleanedValues})`);\n        return this;\n    }\n    /**\n     * Only relevant for jsonb, array, and range columns. Match only rows where\n     * `column` contains every element appearing in `value`.\n     *\n     * @param column - The jsonb, array, or range column to filter on\n     * @param value - The jsonb, array, or range value to filter with\n     */\n    contains(column, value) {\n        if (typeof value === 'string') {\n            // range types can be inclusive '[', ']' or exclusive '(', ')' so just\n            // keep it simple and accept a string\n            this.url.searchParams.append(column, `cs.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(column, `cs.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(column, `cs.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for jsonb, array, and range columns. Match only rows where\n     * every element appearing in `column` is contained by `value`.\n     *\n     * @param column - The jsonb, array, or range column to filter on\n     * @param value - The jsonb, array, or range value to filter with\n     */\n    containedBy(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(column, `cd.${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // array\n            this.url.searchParams.append(column, `cd.{${value.join(',')}}`);\n        }\n        else {\n            // json\n            this.url.searchParams.append(column, `cd.${JSON.stringify(value)}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is greater than any element in `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeGt(column, range) {\n        this.url.searchParams.append(column, `sr.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is either contained in `range` or greater than any element in\n     * `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeGte(column, range) {\n        this.url.searchParams.append(column, `nxl.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is less than any element in `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeLt(column, range) {\n        this.url.searchParams.append(column, `sl.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where every element in\n     * `column` is either contained in `range` or less than any element in\n     * `range`.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeLte(column, range) {\n        this.url.searchParams.append(column, `nxr.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for range columns. Match only rows where `column` is\n     * mutually exclusive to `range` and there can be no element between the two\n     * ranges.\n     *\n     * @param column - The range column to filter on\n     * @param range - The range to filter with\n     */\n    rangeAdjacent(column, range) {\n        this.url.searchParams.append(column, `adj.${range}`);\n        return this;\n    }\n    /**\n     * Only relevant for array and range columns. Match only rows where\n     * `column` and `value` have an element in common.\n     *\n     * @param column - The array or range column to filter on\n     * @param value - The array or range value to filter with\n     */\n    overlaps(column, value) {\n        if (typeof value === 'string') {\n            // range\n            this.url.searchParams.append(column, `ov.${value}`);\n        }\n        else {\n            // array\n            this.url.searchParams.append(column, `ov.{${value.join(',')}}`);\n        }\n        return this;\n    }\n    /**\n     * Only relevant for text and tsvector columns. Match only rows where\n     * `column` matches the query string in `query`.\n     *\n     * @param column - The text or tsvector column to filter on\n     * @param query - The query text to match with\n     * @param options - Named parameters\n     * @param options.config - The text search configuration to use\n     * @param options.type - Change how the `query` text is interpreted\n     */\n    textSearch(column, query, { config, type } = {}) {\n        let typePart = '';\n        if (type === 'plain') {\n            typePart = 'pl';\n        }\n        else if (type === 'phrase') {\n            typePart = 'ph';\n        }\n        else if (type === 'websearch') {\n            typePart = 'w';\n        }\n        const configPart = config === undefined ? '' : `(${config})`;\n        this.url.searchParams.append(column, `${typePart}fts${configPart}.${query}`);\n        return this;\n    }\n    /**\n     * Match only rows where each column in `query` keys is equal to its\n     * associated value. Shorthand for multiple `.eq()`s.\n     *\n     * @param query - The object to filter with, with column names as keys mapped\n     * to their filter values\n     */\n    match(query) {\n        Object.entries(query).forEach(([column, value]) => {\n            this.url.searchParams.append(column, `eq.${value}`);\n        });\n        return this;\n    }\n    /**\n     * Match only rows which doesn't satisfy the filter.\n     *\n     * Unlike most filters, `opearator` and `value` are used as-is and need to\n     * follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure they are properly sanitized.\n     *\n     * @param column - The column to filter on\n     * @param operator - The operator to be negated to filter with, following\n     * PostgREST syntax\n     * @param value - The value to filter with, following PostgREST syntax\n     */\n    not(column, operator, value) {\n        this.url.searchParams.append(column, `not.${operator}.${value}`);\n        return this;\n    }\n    /**\n     * Match only rows which satisfy at least one of the filters.\n     *\n     * Unlike most filters, `filters` is used as-is and needs to follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure it's properly sanitized.\n     *\n     * It's currently not possible to do an `.or()` filter across multiple tables.\n     *\n     * @param filters - The filters to use, following PostgREST syntax\n     * @param options - Named parameters\n     * @param options.referencedTable - Set this to filter on referenced tables\n     * instead of the parent table\n     * @param options.foreignTable - Deprecated, use `referencedTable` instead\n     */\n    or(filters, { foreignTable, referencedTable = foreignTable, } = {}) {\n        const key = referencedTable ? `${referencedTable}.or` : 'or';\n        this.url.searchParams.append(key, `(${filters})`);\n        return this;\n    }\n    /**\n     * Match only rows which satisfy the filter. This is an escape hatch - you\n     * should use the specific filter methods wherever possible.\n     *\n     * Unlike most filters, `opearator` and `value` are used as-is and need to\n     * follow [PostgREST\n     * syntax](https://postgrest.org/en/stable/api.html#operators). You also need\n     * to make sure they are properly sanitized.\n     *\n     * @param column - The column to filter on\n     * @param operator - The operator to filter with, following PostgREST syntax\n     * @param value - The value to filter with, following PostgREST syntax\n     */\n    filter(column, operator, value) {\n        this.url.searchParams.append(column, `${operator}.${value}`);\n        return this;\n    }\n}\nexports.default = PostgrestFilterBuilder;\n//# sourceMappingURL=PostgrestFilterBuilder.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PostgrestFilterBuilder_1 = __importDefault(require(\"./PostgrestFilterBuilder\"));\nclass PostgrestQueryBuilder {\n    constructor(url, { headers = {}, schema, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.schema = schema;\n        this.fetch = fetch;\n    }\n    /**\n     * Perform a SELECT query on the table or view.\n     *\n     * @param columns - The columns to retrieve, separated by commas. Columns can be renamed when returned with `customName:columnName`\n     *\n     * @param options - Named parameters\n     *\n     * @param options.head - When set to `true`, `data` will not be returned.\n     * Useful if you only need the count.\n     *\n     * @param options.count - Count algorithm to use to count rows in the table or view.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    select(columns, { head = false, count, } = {}) {\n        const method = head ? 'HEAD' : 'GET';\n        // Remove whitespaces except when quoted\n        let quoted = false;\n        const cleanedColumns = (columns !== null && columns !== void 0 ? columns : '*')\n            .split('')\n            .map((c) => {\n            if (/\\s/.test(c) && !quoted) {\n                return '';\n            }\n            if (c === '\"') {\n                quoted = !quoted;\n            }\n            return c;\n        })\n            .join('');\n        this.url.searchParams.set('select', cleanedColumns);\n        if (count) {\n            this.headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an INSERT into the table or view.\n     *\n     * By default, inserted rows are not returned. To return it, chain the call\n     * with `.select()`.\n     *\n     * @param values - The values to insert. Pass an object to insert a single row\n     * or an array to insert multiple rows.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count inserted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     *\n     * @param options.defaultToNull - Make missing fields default to `null`.\n     * Otherwise, use the default value for the column. Only applies for bulk\n     * inserts.\n     */\n    insert(values, { count, defaultToNull = true, } = {}) {\n        const method = 'POST';\n        const prefersHeaders = [];\n        if (this.headers['Prefer']) {\n            prefersHeaders.push(this.headers['Prefer']);\n        }\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (!defaultToNull) {\n            prefersHeaders.push('missing=default');\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body: values,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an UPSERT on the table or view. Depending on the column(s) passed\n     * to `onConflict`, `.upsert()` allows you to perform the equivalent of\n     * `.insert()` if a row with the corresponding `onConflict` columns doesn't\n     * exist, or if it does exist, perform an alternative action depending on\n     * `ignoreDuplicates`.\n     *\n     * By default, upserted rows are not returned. To return it, chain the call\n     * with `.select()`.\n     *\n     * @param values - The values to upsert with. Pass an object to upsert a\n     * single row or an array to upsert multiple rows.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.onConflict - Comma-separated UNIQUE column(s) to specify how\n     * duplicate rows are determined. Two rows are duplicates if all the\n     * `onConflict` columns are equal.\n     *\n     * @param options.ignoreDuplicates - If `true`, duplicate rows are ignored. If\n     * `false`, duplicate rows are merged with existing rows.\n     *\n     * @param options.count - Count algorithm to use to count upserted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     *\n     * @param options.defaultToNull - Make missing fields default to `null`.\n     * Otherwise, use the default value for the column. This only applies when\n     * inserting new rows, not when merging with existing rows under\n     * `ignoreDuplicates: false`. This also only applies when doing bulk upserts.\n     */\n    upsert(values, { onConflict, ignoreDuplicates = false, count, defaultToNull = true, } = {}) {\n        const method = 'POST';\n        const prefersHeaders = [`resolution=${ignoreDuplicates ? 'ignore' : 'merge'}-duplicates`];\n        if (onConflict !== undefined)\n            this.url.searchParams.set('on_conflict', onConflict);\n        if (this.headers['Prefer']) {\n            prefersHeaders.push(this.headers['Prefer']);\n        }\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (!defaultToNull) {\n            prefersHeaders.push('missing=default');\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        if (Array.isArray(values)) {\n            const columns = values.reduce((acc, x) => acc.concat(Object.keys(x)), []);\n            if (columns.length > 0) {\n                const uniqueColumns = [...new Set(columns)].map((column) => `\"${column}\"`);\n                this.url.searchParams.set('columns', uniqueColumns.join(','));\n            }\n        }\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body: values,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform an UPDATE on the table or view.\n     *\n     * By default, updated rows are not returned. To return it, chain the call\n     * with `.select()` after filters.\n     *\n     * @param values - The values to update with\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count updated rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    update(values, { count, } = {}) {\n        const method = 'PATCH';\n        const prefersHeaders = [];\n        if (this.headers['Prefer']) {\n            prefersHeaders.push(this.headers['Prefer']);\n        }\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            body: values,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n    /**\n     * Perform a DELETE on the table or view.\n     *\n     * By default, deleted rows are not returned. To return it, chain the call\n     * with `.select()` after filters.\n     *\n     * @param options - Named parameters\n     *\n     * @param options.count - Count algorithm to use to count deleted rows.\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    delete({ count, } = {}) {\n        const method = 'DELETE';\n        const prefersHeaders = [];\n        if (count) {\n            prefersHeaders.push(`count=${count}`);\n        }\n        if (this.headers['Prefer']) {\n            prefersHeaders.unshift(this.headers['Prefer']);\n        }\n        this.headers['Prefer'] = prefersHeaders.join(',');\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url: this.url,\n            headers: this.headers,\n            schema: this.schema,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n}\nexports.default = PostgrestQueryBuilder;\n//# sourceMappingURL=PostgrestQueryBuilder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nexports.version = '0.0.0-automated';\n//# sourceMappingURL=version.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_HEADERS = void 0;\nconst version_1 = require(\"./version\");\nexports.DEFAULT_HEADERS = { 'X-Client-Info': `postgrest-js/${version_1.version}` };\n//# sourceMappingURL=constants.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PostgrestQueryBuilder_1 = __importDefault(require(\"./PostgrestQueryBuilder\"));\nconst PostgrestFilterBuilder_1 = __importDefault(require(\"./PostgrestFilterBuilder\"));\nconst constants_1 = require(\"./constants\");\n/**\n * PostgREST client.\n *\n * @typeParam Database - Types for the schema from the [type\n * generator](https://supabase.com/docs/reference/javascript/next/typescript-support)\n *\n * @typeParam SchemaName - Postgres schema to switch to. Must be a string\n * literal, the same one passed to the constructor. If the schema is not\n * `\"public\"`, this must be supplied manually.\n */\nclass PostgrestClient {\n    // TODO: Add back shouldThrowOnError once we figure out the typings\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url - URL of the PostgREST endpoint\n     * @param options - Named parameters\n     * @param options.headers - Custom headers\n     * @param options.schema - Postgres schema to switch to\n     * @param options.fetch - Custom fetch\n     */\n    constructor(url, { headers = {}, schema, fetch, } = {}) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, constants_1.DEFAULT_HEADERS), headers);\n        this.schemaName = schema;\n        this.fetch = fetch;\n    }\n    /**\n     * Perform a query on a table or a view.\n     *\n     * @param relation - The table or view name to query\n     */\n    from(relation) {\n        const url = new URL(`${this.url}/${relation}`);\n        return new PostgrestQueryBuilder_1.default(url, {\n            headers: Object.assign({}, this.headers),\n            schema: this.schemaName,\n            fetch: this.fetch,\n        });\n    }\n    /**\n     * Select a schema to query or perform an function (rpc) call.\n     *\n     * The schema needs to be on the list of exposed schemas inside Supabase.\n     *\n     * @param schema - The schema to query\n     */\n    schema(schema) {\n        return new PostgrestClient(this.url, {\n            headers: this.headers,\n            schema,\n            fetch: this.fetch,\n        });\n    }\n    /**\n     * Perform a function call.\n     *\n     * @param fn - The function name to call\n     * @param args - The arguments to pass to the function call\n     * @param options - Named parameters\n     * @param options.head - When set to `true`, `data` will not be returned.\n     * Useful if you only need the count.\n     * @param options.get - When set to `true`, the function will be called with\n     * read-only access mode.\n     * @param options.count - Count algorithm to use to count rows returned by the\n     * function. Only applicable for [set-returning\n     * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    rpc(fn, args = {}, { head = false, get = false, count, } = {}) {\n        let method;\n        const url = new URL(`${this.url}/rpc/${fn}`);\n        let body;\n        if (head || get) {\n            method = head ? 'HEAD' : 'GET';\n            Object.entries(args)\n                // params with undefined value needs to be filtered out, otherwise it'll\n                // show up as `?param=undefined`\n                .filter(([_, value]) => value !== undefined)\n                // array values need special syntax\n                .map(([name, value]) => [name, Array.isArray(value) ? `{${value.join(',')}}` : `${value}`])\n                .forEach(([name, value]) => {\n                url.searchParams.append(name, value);\n            });\n        }\n        else {\n            method = 'POST';\n            body = args;\n        }\n        const headers = Object.assign({}, this.headers);\n        if (count) {\n            headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder_1.default({\n            method,\n            url,\n            headers,\n            schema: this.schemaName,\n            body,\n            fetch: this.fetch,\n            allowEmpty: false,\n        });\n    }\n}\nexports.default = PostgrestClient;\n//# sourceMappingURL=PostgrestClient.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PostgrestError = exports.PostgrestBuilder = exports.PostgrestTransformBuilder = exports.PostgrestFilterBuilder = exports.PostgrestQueryBuilder = exports.PostgrestClient = void 0;\n// Always update wrapper.mjs when updating this file.\nconst PostgrestClient_1 = __importDefault(require(\"./PostgrestClient\"));\nexports.PostgrestClient = PostgrestClient_1.default;\nconst PostgrestQueryBuilder_1 = __importDefault(require(\"./PostgrestQueryBuilder\"));\nexports.PostgrestQueryBuilder = PostgrestQueryBuilder_1.default;\nconst PostgrestFilterBuilder_1 = __importDefault(require(\"./PostgrestFilterBuilder\"));\nexports.PostgrestFilterBuilder = PostgrestFilterBuilder_1.default;\nconst PostgrestTransformBuilder_1 = __importDefault(require(\"./PostgrestTransformBuilder\"));\nexports.PostgrestTransformBuilder = PostgrestTransformBuilder_1.default;\nconst PostgrestBuilder_1 = __importDefault(require(\"./PostgrestBuilder\"));\nexports.PostgrestBuilder = PostgrestBuilder_1.default;\nconst PostgrestError_1 = __importDefault(require(\"./PostgrestError\"));\nexports.PostgrestError = PostgrestError_1.default;\nexports.default = {\n    PostgrestClient: PostgrestClient_1.default,\n    PostgrestQueryBuilder: PostgrestQueryBuilder_1.default,\n    PostgrestFilterBuilder: PostgrestFilterBuilder_1.default,\n    PostgrestTransformBuilder: PostgrestTransformBuilder_1.default,\n    PostgrestBuilder: PostgrestBuilder_1.default,\n    PostgrestError: PostgrestError_1.default,\n};\n//# sourceMappingURL=index.js.map","import index from '../cjs/index.js'\nconst {\n  PostgrestClient,\n  PostgrestQueryBuilder,\n  PostgrestFilterBuilder,\n  PostgrestTransformBuilder,\n  PostgrestBuilder,\n  PostgrestError,\n} = index\n\nexport {\n  PostgrestBuilder,\n  PostgrestClient,\n  PostgrestFilterBuilder,\n  PostgrestQueryBuilder,\n  PostgrestTransformBuilder,\n  PostgrestError,\n}\n\n// compatibility with CJS output\nexport default {\n  PostgrestClient,\n  PostgrestQueryBuilder,\n  PostgrestFilterBuilder,\n  PostgrestTransformBuilder,\n  PostgrestBuilder,\n  PostgrestError,\n}\n","export const version = '2.11.2';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `realtime-js/${version}` };\nexport const VSN = '1.0.0';\nexport const DEFAULT_TIMEOUT = 10000;\nexport const WS_CLOSE_NORMAL = 1000;\nexport var SOCKET_STATES;\n(function (SOCKET_STATES) {\n    SOCKET_STATES[SOCKET_STATES[\"connecting\"] = 0] = \"connecting\";\n    SOCKET_STATES[SOCKET_STATES[\"open\"] = 1] = \"open\";\n    SOCKET_STATES[SOCKET_STATES[\"closing\"] = 2] = \"closing\";\n    SOCKET_STATES[SOCKET_STATES[\"closed\"] = 3] = \"closed\";\n})(SOCKET_STATES || (SOCKET_STATES = {}));\nexport var CHANNEL_STATES;\n(function (CHANNEL_STATES) {\n    CHANNEL_STATES[\"closed\"] = \"closed\";\n    CHANNEL_STATES[\"errored\"] = \"errored\";\n    CHANNEL_STATES[\"joined\"] = \"joined\";\n    CHANNEL_STATES[\"joining\"] = \"joining\";\n    CHANNEL_STATES[\"leaving\"] = \"leaving\";\n})(CHANNEL_STATES || (CHANNEL_STATES = {}));\nexport var CHANNEL_EVENTS;\n(function (CHANNEL_EVENTS) {\n    CHANNEL_EVENTS[\"close\"] = \"phx_close\";\n    CHANNEL_EVENTS[\"error\"] = \"phx_error\";\n    CHANNEL_EVENTS[\"join\"] = \"phx_join\";\n    CHANNEL_EVENTS[\"reply\"] = \"phx_reply\";\n    CHANNEL_EVENTS[\"leave\"] = \"phx_leave\";\n    CHANNEL_EVENTS[\"access_token\"] = \"access_token\";\n})(CHANNEL_EVENTS || (CHANNEL_EVENTS = {}));\nexport var TRANSPORTS;\n(function (TRANSPORTS) {\n    TRANSPORTS[\"websocket\"] = \"websocket\";\n})(TRANSPORTS || (TRANSPORTS = {}));\nexport var CONNECTION_STATE;\n(function (CONNECTION_STATE) {\n    CONNECTION_STATE[\"Connecting\"] = \"connecting\";\n    CONNECTION_STATE[\"Open\"] = \"open\";\n    CONNECTION_STATE[\"Closing\"] = \"closing\";\n    CONNECTION_STATE[\"Closed\"] = \"closed\";\n})(CONNECTION_STATE || (CONNECTION_STATE = {}));\n//# sourceMappingURL=constants.js.map","// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport default class Serializer {\n    constructor() {\n        this.HEADER_LENGTH = 1;\n    }\n    decode(rawPayload, callback) {\n        if (rawPayload.constructor === ArrayBuffer) {\n            return callback(this._binaryDecode(rawPayload));\n        }\n        if (typeof rawPayload === 'string') {\n            return callback(JSON.parse(rawPayload));\n        }\n        return callback({});\n    }\n    _binaryDecode(buffer) {\n        const view = new DataView(buffer);\n        const decoder = new TextDecoder();\n        return this._decodeBroadcast(buffer, view, decoder);\n    }\n    _decodeBroadcast(buffer, view, decoder) {\n        const topicSize = view.getUint8(1);\n        const eventSize = view.getUint8(2);\n        let offset = this.HEADER_LENGTH + 2;\n        const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n        offset = offset + topicSize;\n        const event = decoder.decode(buffer.slice(offset, offset + eventSize));\n        offset = offset + eventSize;\n        const data = JSON.parse(decoder.decode(buffer.slice(offset, buffer.byteLength)));\n        return { ref: null, topic: topic, event: event, payload: data };\n    }\n}\n//# sourceMappingURL=serializer.js.map","/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n    constructor(callback, timerCalc) {\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n        this.timer = undefined;\n        this.tries = 0;\n        this.callback = callback;\n        this.timerCalc = timerCalc;\n    }\n    reset() {\n        this.tries = 0;\n        clearTimeout(this.timer);\n    }\n    // Cancels any previous scheduleTimeout and schedules callback\n    scheduleTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.tries = this.tries + 1;\n            this.callback();\n        }, this.timerCalc(this.tries + 1));\n    }\n}\n//# sourceMappingURL=timer.js.map","/**\n * Helpers to convert the change Payload into native JS types.\n */\n// Adapted from epgsql (src/epgsql_binary.erl), this module licensed under\n// 3-clause BSD found here: https://raw.githubusercontent.com/epgsql/epgsql/devel/LICENSE\nexport var PostgresTypes;\n(function (PostgresTypes) {\n    PostgresTypes[\"abstime\"] = \"abstime\";\n    PostgresTypes[\"bool\"] = \"bool\";\n    PostgresTypes[\"date\"] = \"date\";\n    PostgresTypes[\"daterange\"] = \"daterange\";\n    PostgresTypes[\"float4\"] = \"float4\";\n    PostgresTypes[\"float8\"] = \"float8\";\n    PostgresTypes[\"int2\"] = \"int2\";\n    PostgresTypes[\"int4\"] = \"int4\";\n    PostgresTypes[\"int4range\"] = \"int4range\";\n    PostgresTypes[\"int8\"] = \"int8\";\n    PostgresTypes[\"int8range\"] = \"int8range\";\n    PostgresTypes[\"json\"] = \"json\";\n    PostgresTypes[\"jsonb\"] = \"jsonb\";\n    PostgresTypes[\"money\"] = \"money\";\n    PostgresTypes[\"numeric\"] = \"numeric\";\n    PostgresTypes[\"oid\"] = \"oid\";\n    PostgresTypes[\"reltime\"] = \"reltime\";\n    PostgresTypes[\"text\"] = \"text\";\n    PostgresTypes[\"time\"] = \"time\";\n    PostgresTypes[\"timestamp\"] = \"timestamp\";\n    PostgresTypes[\"timestamptz\"] = \"timestamptz\";\n    PostgresTypes[\"timetz\"] = \"timetz\";\n    PostgresTypes[\"tsrange\"] = \"tsrange\";\n    PostgresTypes[\"tstzrange\"] = \"tstzrange\";\n})(PostgresTypes || (PostgresTypes = {}));\n/**\n * Takes an array of columns and an object of string values then converts each string value\n * to its mapped type.\n *\n * @param {{name: String, type: String}[]} columns\n * @param {Object} record\n * @param {Object} options The map of various options that can be applied to the mapper\n * @param {Array} options.skipTypes The array of types that should not be converted\n *\n * @example convertChangeData([{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age:'33'}, {})\n * //=>{ first_name: 'Paul', age: 33 }\n */\nexport const convertChangeData = (columns, record, options = {}) => {\n    var _a;\n    const skipTypes = (_a = options.skipTypes) !== null && _a !== void 0 ? _a : [];\n    return Object.keys(record).reduce((acc, rec_key) => {\n        acc[rec_key] = convertColumn(rec_key, columns, record, skipTypes);\n        return acc;\n    }, {});\n};\n/**\n * Converts the value of an individual column.\n *\n * @param {String} columnName The column that you want to convert\n * @param {{name: String, type: String}[]} columns All of the columns\n * @param {Object} record The map of string values\n * @param {Array} skipTypes An array of types that should not be converted\n * @return {object} Useless information\n *\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, [])\n * //=> 33\n * @example convertColumn('age', [{name: 'first_name', type: 'text'}, {name: 'age', type: 'int4'}], {first_name: 'Paul', age: '33'}, ['int4'])\n * //=> \"33\"\n */\nexport const convertColumn = (columnName, columns, record, skipTypes) => {\n    const column = columns.find((x) => x.name === columnName);\n    const colType = column === null || column === void 0 ? void 0 : column.type;\n    const value = record[columnName];\n    if (colType && !skipTypes.includes(colType)) {\n        return convertCell(colType, value);\n    }\n    return noop(value);\n};\n/**\n * If the value of the cell is `null`, returns null.\n * Otherwise converts the string value to the correct type.\n * @param {String} type A postgres column type\n * @param {String} value The cell value\n *\n * @example convertCell('bool', 't')\n * //=> true\n * @example convertCell('int8', '10')\n * //=> 10\n * @example convertCell('_int4', '{1,2,3,4}')\n * //=> [1,2,3,4]\n */\nexport const convertCell = (type, value) => {\n    // if data type is an array\n    if (type.charAt(0) === '_') {\n        const dataType = type.slice(1, type.length);\n        return toArray(value, dataType);\n    }\n    // If not null, convert to correct type.\n    switch (type) {\n        case PostgresTypes.bool:\n            return toBoolean(value);\n        case PostgresTypes.float4:\n        case PostgresTypes.float8:\n        case PostgresTypes.int2:\n        case PostgresTypes.int4:\n        case PostgresTypes.int8:\n        case PostgresTypes.numeric:\n        case PostgresTypes.oid:\n            return toNumber(value);\n        case PostgresTypes.json:\n        case PostgresTypes.jsonb:\n            return toJson(value);\n        case PostgresTypes.timestamp:\n            return toTimestampString(value); // Format to be consistent with PostgREST\n        case PostgresTypes.abstime: // To allow users to cast it based on Timezone\n        case PostgresTypes.date: // To allow users to cast it based on Timezone\n        case PostgresTypes.daterange:\n        case PostgresTypes.int4range:\n        case PostgresTypes.int8range:\n        case PostgresTypes.money:\n        case PostgresTypes.reltime: // To allow users to cast it based on Timezone\n        case PostgresTypes.text:\n        case PostgresTypes.time: // To allow users to cast it based on Timezone\n        case PostgresTypes.timestamptz: // To allow users to cast it based on Timezone\n        case PostgresTypes.timetz: // To allow users to cast it based on Timezone\n        case PostgresTypes.tsrange:\n        case PostgresTypes.tstzrange:\n            return noop(value);\n        default:\n            // Return the value for remaining types\n            return noop(value);\n    }\n};\nconst noop = (value) => {\n    return value;\n};\nexport const toBoolean = (value) => {\n    switch (value) {\n        case 't':\n            return true;\n        case 'f':\n            return false;\n        default:\n            return value;\n    }\n};\nexport const toNumber = (value) => {\n    if (typeof value === 'string') {\n        const parsedValue = parseFloat(value);\n        if (!Number.isNaN(parsedValue)) {\n            return parsedValue;\n        }\n    }\n    return value;\n};\nexport const toJson = (value) => {\n    if (typeof value === 'string') {\n        try {\n            return JSON.parse(value);\n        }\n        catch (error) {\n            console.log(`JSON parse error: ${error}`);\n            return value;\n        }\n    }\n    return value;\n};\n/**\n * Converts a Postgres Array into a native JS array\n *\n * @example toArray('{}', 'int4')\n * //=> []\n * @example toArray('{\"[2021-01-01,2021-12-31)\",\"(2021-01-01,2021-12-32]\"}', 'daterange')\n * //=> ['[2021-01-01,2021-12-31)', '(2021-01-01,2021-12-32]']\n * @example toArray([1,2,3,4], 'int4')\n * //=> [1,2,3,4]\n */\nexport const toArray = (value, type) => {\n    if (typeof value !== 'string') {\n        return value;\n    }\n    const lastIdx = value.length - 1;\n    const closeBrace = value[lastIdx];\n    const openBrace = value[0];\n    // Confirm value is a Postgres array by checking curly brackets\n    if (openBrace === '{' && closeBrace === '}') {\n        let arr;\n        const valTrim = value.slice(1, lastIdx);\n        // TODO: find a better solution to separate Postgres array data\n        try {\n            arr = JSON.parse('[' + valTrim + ']');\n        }\n        catch (_) {\n            // WARNING: splitting on comma does not cover all edge cases\n            arr = valTrim ? valTrim.split(',') : [];\n        }\n        return arr.map((val) => convertCell(type, val));\n    }\n    return value;\n};\n/**\n * Fixes timestamp to be ISO-8601. Swaps the space between the date and time for a 'T'\n * See https://github.com/supabase/supabase/issues/18\n *\n * @example toTimestampString('2019-09-10 00:00:00')\n * //=> '2019-09-10T00:00:00'\n */\nexport const toTimestampString = (value) => {\n    if (typeof value === 'string') {\n        return value.replace(' ', 'T');\n    }\n    return value;\n};\nexport const httpEndpointURL = (socketUrl) => {\n    let url = socketUrl;\n    url = url.replace(/^ws/i, 'http');\n    url = url.replace(/(\\/socket\\/websocket|\\/socket|\\/websocket)\\/?$/i, '');\n    return url.replace(/\\/+$/, '');\n};\n//# sourceMappingURL=transformers.js.map","import { DEFAULT_TIMEOUT } from '../lib/constants';\nexport default class Push {\n    /**\n     * Initializes the Push\n     *\n     * @param channel The Channel\n     * @param event The event, for example `\"phx_join\"`\n     * @param payload The payload, for example `{user_id: 123}`\n     * @param timeout The push timeout in milliseconds\n     */\n    constructor(channel, event, payload = {}, timeout = DEFAULT_TIMEOUT) {\n        this.channel = channel;\n        this.event = event;\n        this.payload = payload;\n        this.timeout = timeout;\n        this.sent = false;\n        this.timeoutTimer = undefined;\n        this.ref = '';\n        this.receivedResp = null;\n        this.recHooks = [];\n        this.refEvent = null;\n    }\n    resend(timeout) {\n        this.timeout = timeout;\n        this._cancelRefEvent();\n        this.ref = '';\n        this.refEvent = null;\n        this.receivedResp = null;\n        this.sent = false;\n        this.send();\n    }\n    send() {\n        if (this._hasReceived('timeout')) {\n            return;\n        }\n        this.startTimeout();\n        this.sent = true;\n        this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload,\n            ref: this.ref,\n            join_ref: this.channel._joinRef(),\n        });\n    }\n    updatePayload(payload) {\n        this.payload = Object.assign(Object.assign({}, this.payload), payload);\n    }\n    receive(status, callback) {\n        var _a;\n        if (this._hasReceived(status)) {\n            callback((_a = this.receivedResp) === null || _a === void 0 ? void 0 : _a.response);\n        }\n        this.recHooks.push({ status, callback });\n        return this;\n    }\n    startTimeout() {\n        if (this.timeoutTimer) {\n            return;\n        }\n        this.ref = this.channel.socket._makeRef();\n        this.refEvent = this.channel._replyEventName(this.ref);\n        const callback = (payload) => {\n            this._cancelRefEvent();\n            this._cancelTimeout();\n            this.receivedResp = payload;\n            this._matchReceive(payload);\n        };\n        this.channel._on(this.refEvent, {}, callback);\n        this.timeoutTimer = setTimeout(() => {\n            this.trigger('timeout', {});\n        }, this.timeout);\n    }\n    trigger(status, response) {\n        if (this.refEvent)\n            this.channel._trigger(this.refEvent, { status, response });\n    }\n    destroy() {\n        this._cancelRefEvent();\n        this._cancelTimeout();\n    }\n    _cancelRefEvent() {\n        if (!this.refEvent) {\n            return;\n        }\n        this.channel._off(this.refEvent, {});\n    }\n    _cancelTimeout() {\n        clearTimeout(this.timeoutTimer);\n        this.timeoutTimer = undefined;\n    }\n    _matchReceive({ status, response, }) {\n        this.recHooks\n            .filter((h) => h.status === status)\n            .forEach((h) => h.callback(response));\n    }\n    _hasReceived(status) {\n        return this.receivedResp && this.receivedResp.status === status;\n    }\n}\n//# sourceMappingURL=push.js.map","/*\n  This file draws heavily from https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/assets/js/phoenix/presence.js\n  License: https://github.com/phoenixframework/phoenix/blob/d344ec0a732ab4ee204215b31de69cf4be72e3bf/LICENSE.md\n*/\nexport var REALTIME_PRESENCE_LISTEN_EVENTS;\n(function (REALTIME_PRESENCE_LISTEN_EVENTS) {\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"SYNC\"] = \"sync\";\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"JOIN\"] = \"join\";\n    REALTIME_PRESENCE_LISTEN_EVENTS[\"LEAVE\"] = \"leave\";\n})(REALTIME_PRESENCE_LISTEN_EVENTS || (REALTIME_PRESENCE_LISTEN_EVENTS = {}));\nexport default class RealtimePresence {\n    /**\n     * Initializes the Presence.\n     *\n     * @param channel - The RealtimeChannel\n     * @param opts - The options,\n     *        for example `{events: {state: 'state', diff: 'diff'}}`\n     */\n    constructor(channel, opts) {\n        this.channel = channel;\n        this.state = {};\n        this.pendingDiffs = [];\n        this.joinRef = null;\n        this.caller = {\n            onJoin: () => { },\n            onLeave: () => { },\n            onSync: () => { },\n        };\n        const events = (opts === null || opts === void 0 ? void 0 : opts.events) || {\n            state: 'presence_state',\n            diff: 'presence_diff',\n        };\n        this.channel._on(events.state, {}, (newState) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            this.joinRef = this.channel._joinRef();\n            this.state = RealtimePresence.syncState(this.state, newState, onJoin, onLeave);\n            this.pendingDiffs.forEach((diff) => {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n            });\n            this.pendingDiffs = [];\n            onSync();\n        });\n        this.channel._on(events.diff, {}, (diff) => {\n            const { onJoin, onLeave, onSync } = this.caller;\n            if (this.inPendingSyncState()) {\n                this.pendingDiffs.push(diff);\n            }\n            else {\n                this.state = RealtimePresence.syncDiff(this.state, diff, onJoin, onLeave);\n                onSync();\n            }\n        });\n        this.onJoin((key, currentPresences, newPresences) => {\n            this.channel._trigger('presence', {\n                event: 'join',\n                key,\n                currentPresences,\n                newPresences,\n            });\n        });\n        this.onLeave((key, currentPresences, leftPresences) => {\n            this.channel._trigger('presence', {\n                event: 'leave',\n                key,\n                currentPresences,\n                leftPresences,\n            });\n        });\n        this.onSync(() => {\n            this.channel._trigger('presence', { event: 'sync' });\n        });\n    }\n    /**\n     * Used to sync the list of presences on the server with the\n     * client's state.\n     *\n     * An optional `onJoin` and `onLeave` callback can be provided to\n     * react to changes in the client's local presences across\n     * disconnects and reconnects with the server.\n     *\n     * @internal\n     */\n    static syncState(currentState, newState, onJoin, onLeave) {\n        const state = this.cloneDeep(currentState);\n        const transformedState = this.transformState(newState);\n        const joins = {};\n        const leaves = {};\n        this.map(state, (key, presences) => {\n            if (!transformedState[key]) {\n                leaves[key] = presences;\n            }\n        });\n        this.map(transformedState, (key, newPresences) => {\n            const currentPresences = state[key];\n            if (currentPresences) {\n                const newPresenceRefs = newPresences.map((m) => m.presence_ref);\n                const curPresenceRefs = currentPresences.map((m) => m.presence_ref);\n                const joinedPresences = newPresences.filter((m) => curPresenceRefs.indexOf(m.presence_ref) < 0);\n                const leftPresences = currentPresences.filter((m) => newPresenceRefs.indexOf(m.presence_ref) < 0);\n                if (joinedPresences.length > 0) {\n                    joins[key] = joinedPresences;\n                }\n                if (leftPresences.length > 0) {\n                    leaves[key] = leftPresences;\n                }\n            }\n            else {\n                joins[key] = newPresences;\n            }\n        });\n        return this.syncDiff(state, { joins, leaves }, onJoin, onLeave);\n    }\n    /**\n     * Used to sync a diff of presence join and leave events from the\n     * server, as they happen.\n     *\n     * Like `syncState`, `syncDiff` accepts optional `onJoin` and\n     * `onLeave` callbacks to react to a user joining or leaving from a\n     * device.\n     *\n     * @internal\n     */\n    static syncDiff(state, diff, onJoin, onLeave) {\n        const { joins, leaves } = {\n            joins: this.transformState(diff.joins),\n            leaves: this.transformState(diff.leaves),\n        };\n        if (!onJoin) {\n            onJoin = () => { };\n        }\n        if (!onLeave) {\n            onLeave = () => { };\n        }\n        this.map(joins, (key, newPresences) => {\n            var _a;\n            const currentPresences = (_a = state[key]) !== null && _a !== void 0 ? _a : [];\n            state[key] = this.cloneDeep(newPresences);\n            if (currentPresences.length > 0) {\n                const joinedPresenceRefs = state[key].map((m) => m.presence_ref);\n                const curPresences = currentPresences.filter((m) => joinedPresenceRefs.indexOf(m.presence_ref) < 0);\n                state[key].unshift(...curPresences);\n            }\n            onJoin(key, currentPresences, newPresences);\n        });\n        this.map(leaves, (key, leftPresences) => {\n            let currentPresences = state[key];\n            if (!currentPresences)\n                return;\n            const presenceRefsToRemove = leftPresences.map((m) => m.presence_ref);\n            currentPresences = currentPresences.filter((m) => presenceRefsToRemove.indexOf(m.presence_ref) < 0);\n            state[key] = currentPresences;\n            onLeave(key, currentPresences, leftPresences);\n            if (currentPresences.length === 0)\n                delete state[key];\n        });\n        return state;\n    }\n    /** @internal */\n    static map(obj, func) {\n        return Object.getOwnPropertyNames(obj).map((key) => func(key, obj[key]));\n    }\n    /**\n     * Remove 'metas' key\n     * Change 'phx_ref' to 'presence_ref'\n     * Remove 'phx_ref' and 'phx_ref_prev'\n     *\n     * @example\n     * // returns {\n     *  abc123: [\n     *    { presence_ref: '2', user_id: 1 },\n     *    { presence_ref: '3', user_id: 2 }\n     *  ]\n     * }\n     * RealtimePresence.transformState({\n     *  abc123: {\n     *    metas: [\n     *      { phx_ref: '2', phx_ref_prev: '1' user_id: 1 },\n     *      { phx_ref: '3', user_id: 2 }\n     *    ]\n     *  }\n     * })\n     *\n     * @internal\n     */\n    static transformState(state) {\n        state = this.cloneDeep(state);\n        return Object.getOwnPropertyNames(state).reduce((newState, key) => {\n            const presences = state[key];\n            if ('metas' in presences) {\n                newState[key] = presences.metas.map((presence) => {\n                    presence['presence_ref'] = presence['phx_ref'];\n                    delete presence['phx_ref'];\n                    delete presence['phx_ref_prev'];\n                    return presence;\n                });\n            }\n            else {\n                newState[key] = presences;\n            }\n            return newState;\n        }, {});\n    }\n    /** @internal */\n    static cloneDeep(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n    /** @internal */\n    onJoin(callback) {\n        this.caller.onJoin = callback;\n    }\n    /** @internal */\n    onLeave(callback) {\n        this.caller.onLeave = callback;\n    }\n    /** @internal */\n    onSync(callback) {\n        this.caller.onSync = callback;\n    }\n    /** @internal */\n    inPendingSyncState() {\n        return !this.joinRef || this.joinRef !== this.channel._joinRef();\n    }\n}\n//# sourceMappingURL=RealtimePresence.js.map","import { CHANNEL_EVENTS, CHANNEL_STATES } from './lib/constants';\nimport Push from './lib/push';\nimport Timer from './lib/timer';\nimport RealtimePresence from './RealtimePresence';\nimport * as Transformers from './lib/transformers';\nimport { httpEndpointURL } from './lib/transformers';\nexport var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;\n(function (REALTIME_POSTGRES_CHANGES_LISTEN_EVENT) {\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"ALL\"] = \"*\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"INSERT\"] = \"INSERT\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"UPDATE\"] = \"UPDATE\";\n    REALTIME_POSTGRES_CHANGES_LISTEN_EVENT[\"DELETE\"] = \"DELETE\";\n})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT || (REALTIME_POSTGRES_CHANGES_LISTEN_EVENT = {}));\nexport var REALTIME_LISTEN_TYPES;\n(function (REALTIME_LISTEN_TYPES) {\n    REALTIME_LISTEN_TYPES[\"BROADCAST\"] = \"broadcast\";\n    REALTIME_LISTEN_TYPES[\"PRESENCE\"] = \"presence\";\n    REALTIME_LISTEN_TYPES[\"POSTGRES_CHANGES\"] = \"postgres_changes\";\n    REALTIME_LISTEN_TYPES[\"SYSTEM\"] = \"system\";\n})(REALTIME_LISTEN_TYPES || (REALTIME_LISTEN_TYPES = {}));\nexport var REALTIME_SUBSCRIBE_STATES;\n(function (REALTIME_SUBSCRIBE_STATES) {\n    REALTIME_SUBSCRIBE_STATES[\"SUBSCRIBED\"] = \"SUBSCRIBED\";\n    REALTIME_SUBSCRIBE_STATES[\"TIMED_OUT\"] = \"TIMED_OUT\";\n    REALTIME_SUBSCRIBE_STATES[\"CLOSED\"] = \"CLOSED\";\n    REALTIME_SUBSCRIBE_STATES[\"CHANNEL_ERROR\"] = \"CHANNEL_ERROR\";\n})(REALTIME_SUBSCRIBE_STATES || (REALTIME_SUBSCRIBE_STATES = {}));\nexport const REALTIME_CHANNEL_STATES = CHANNEL_STATES;\n/** A channel is the basic building block of Realtime\n * and narrows the scope of data flow to subscribed clients.\n * You can think of a channel as a chatroom where participants are able to see who's online\n * and send and receive messages.\n */\nexport default class RealtimeChannel {\n    constructor(\n    /** Topic name can be any string. */\n    topic, params = { config: {} }, socket) {\n        this.topic = topic;\n        this.params = params;\n        this.socket = socket;\n        this.bindings = {};\n        this.state = CHANNEL_STATES.closed;\n        this.joinedOnce = false;\n        this.pushBuffer = [];\n        this.subTopic = topic.replace(/^realtime:/i, '');\n        this.params.config = Object.assign({\n            broadcast: { ack: false, self: false },\n            presence: { key: '' },\n            private: false,\n        }, params.config);\n        this.timeout = this.socket.timeout;\n        this.joinPush = new Push(this, CHANNEL_EVENTS.join, this.params, this.timeout);\n        this.rejoinTimer = new Timer(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs);\n        this.joinPush.receive('ok', () => {\n            this.state = CHANNEL_STATES.joined;\n            this.rejoinTimer.reset();\n            this.pushBuffer.forEach((pushEvent) => pushEvent.send());\n            this.pushBuffer = [];\n        });\n        this._onClose(() => {\n            this.rejoinTimer.reset();\n            this.socket.log('channel', `close ${this.topic} ${this._joinRef()}`);\n            this.state = CHANNEL_STATES.closed;\n            this.socket._remove(this);\n        });\n        this._onError((reason) => {\n            if (this._isLeaving() || this._isClosed()) {\n                return;\n            }\n            this.socket.log('channel', `error ${this.topic}`, reason);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this.joinPush.receive('timeout', () => {\n            if (!this._isJoining()) {\n                return;\n            }\n            this.socket.log('channel', `timeout ${this.topic}`, this.joinPush.timeout);\n            this.state = CHANNEL_STATES.errored;\n            this.rejoinTimer.scheduleTimeout();\n        });\n        this._on(CHANNEL_EVENTS.reply, {}, (payload, ref) => {\n            this._trigger(this._replyEventName(ref), payload);\n        });\n        this.presence = new RealtimePresence(this);\n        this.broadcastEndpointURL =\n            httpEndpointURL(this.socket.endPoint) + '/api/broadcast';\n        this.private = this.params.config.private || false;\n    }\n    /** Subscribe registers your client with the server */\n    subscribe(callback, timeout = this.timeout) {\n        var _a, _b;\n        if (!this.socket.isConnected()) {\n            this.socket.connect();\n        }\n        if (this.joinedOnce) {\n            throw `tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance`;\n        }\n        else {\n            const { config: { broadcast, presence, private: isPrivate }, } = this.params;\n            this._onError((e) => callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, e));\n            this._onClose(() => callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CLOSED));\n            const accessTokenPayload = {};\n            const config = {\n                broadcast,\n                presence,\n                postgres_changes: (_b = (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.map((r) => r.filter)) !== null && _b !== void 0 ? _b : [],\n                private: isPrivate,\n            };\n            if (this.socket.accessTokenValue) {\n                accessTokenPayload.access_token = this.socket.accessTokenValue;\n            }\n            this.updateJoinPayload(Object.assign({ config }, accessTokenPayload));\n            this.joinedOnce = true;\n            this._rejoin(timeout);\n            this.joinPush\n                .receive('ok', async ({ postgres_changes }) => {\n                var _a;\n                this.socket.setAuth();\n                if (postgres_changes === undefined) {\n                    callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);\n                    return;\n                }\n                else {\n                    const clientPostgresBindings = this.bindings.postgres_changes;\n                    const bindingsLen = (_a = clientPostgresBindings === null || clientPostgresBindings === void 0 ? void 0 : clientPostgresBindings.length) !== null && _a !== void 0 ? _a : 0;\n                    const newPostgresBindings = [];\n                    for (let i = 0; i < bindingsLen; i++) {\n                        const clientPostgresBinding = clientPostgresBindings[i];\n                        const { filter: { event, schema, table, filter }, } = clientPostgresBinding;\n                        const serverPostgresFilter = postgres_changes && postgres_changes[i];\n                        if (serverPostgresFilter &&\n                            serverPostgresFilter.event === event &&\n                            serverPostgresFilter.schema === schema &&\n                            serverPostgresFilter.table === table &&\n                            serverPostgresFilter.filter === filter) {\n                            newPostgresBindings.push(Object.assign(Object.assign({}, clientPostgresBinding), { id: serverPostgresFilter.id }));\n                        }\n                        else {\n                            this.unsubscribe();\n                            callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, new Error('mismatch between server and client bindings for postgres changes'));\n                            return;\n                        }\n                    }\n                    this.bindings.postgres_changes = newPostgresBindings;\n                    callback && callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);\n                    return;\n                }\n            })\n                .receive('error', (error) => {\n                callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(error).join(', ') || 'error')));\n                return;\n            })\n                .receive('timeout', () => {\n                callback === null || callback === void 0 ? void 0 : callback(REALTIME_SUBSCRIBE_STATES.TIMED_OUT);\n                return;\n            });\n        }\n        return this;\n    }\n    presenceState() {\n        return this.presence.state;\n    }\n    async track(payload, opts = {}) {\n        return await this.send({\n            type: 'presence',\n            event: 'track',\n            payload,\n        }, opts.timeout || this.timeout);\n    }\n    async untrack(opts = {}) {\n        return await this.send({\n            type: 'presence',\n            event: 'untrack',\n        }, opts);\n    }\n    on(type, filter, callback) {\n        return this._on(type, filter, callback);\n    }\n    /**\n     * Sends a message into the channel.\n     *\n     * @param args Arguments to send to channel\n     * @param args.type The type of event to send\n     * @param args.event The name of the event being sent\n     * @param args.payload Payload to be sent\n     * @param opts Options to be used during the send process\n     */\n    async send(args, opts = {}) {\n        var _a, _b;\n        if (!this._canPush() && args.type === 'broadcast') {\n            const { event, payload: endpoint_payload } = args;\n            const authorization = this.socket.accessTokenValue\n                ? `Bearer ${this.socket.accessTokenValue}`\n                : '';\n            const options = {\n                method: 'POST',\n                headers: {\n                    Authorization: authorization,\n                    apikey: this.socket.apiKey ? this.socket.apiKey : '',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    messages: [\n                        {\n                            topic: this.subTopic,\n                            event,\n                            payload: endpoint_payload,\n                            private: this.private,\n                        },\n                    ],\n                }),\n            };\n            try {\n                const response = await this._fetchWithTimeout(this.broadcastEndpointURL, options, (_a = opts.timeout) !== null && _a !== void 0 ? _a : this.timeout);\n                await ((_b = response.body) === null || _b === void 0 ? void 0 : _b.cancel());\n                return response.ok ? 'ok' : 'error';\n            }\n            catch (error) {\n                if (error.name === 'AbortError') {\n                    return 'timed out';\n                }\n                else {\n                    return 'error';\n                }\n            }\n        }\n        else {\n            return new Promise((resolve) => {\n                var _a, _b, _c;\n                const push = this._push(args.type, args, opts.timeout || this.timeout);\n                if (args.type === 'broadcast' && !((_c = (_b = (_a = this.params) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.broadcast) === null || _c === void 0 ? void 0 : _c.ack)) {\n                    resolve('ok');\n                }\n                push.receive('ok', () => resolve('ok'));\n                push.receive('error', () => resolve('error'));\n                push.receive('timeout', () => resolve('timed out'));\n            });\n        }\n    }\n    updateJoinPayload(payload) {\n        this.joinPush.updatePayload(payload);\n    }\n    /**\n     * Leaves the channel.\n     *\n     * Unsubscribes from server events, and instructs channel to terminate on server.\n     * Triggers onClose() hooks.\n     *\n     * To receive leave acknowledgements, use the a `receive` hook to bind to the server ack, ie:\n     * channel.unsubscribe().receive(\"ok\", () => alert(\"left!\") )\n     */\n    unsubscribe(timeout = this.timeout) {\n        this.state = CHANNEL_STATES.leaving;\n        const onClose = () => {\n            this.socket.log('channel', `leave ${this.topic}`);\n            this._trigger(CHANNEL_EVENTS.close, 'leave', this._joinRef());\n        };\n        this.rejoinTimer.reset();\n        // Destroy joinPush to avoid connection timeouts during unscription phase\n        this.joinPush.destroy();\n        return new Promise((resolve) => {\n            const leavePush = new Push(this, CHANNEL_EVENTS.leave, {}, timeout);\n            leavePush\n                .receive('ok', () => {\n                onClose();\n                resolve('ok');\n            })\n                .receive('timeout', () => {\n                onClose();\n                resolve('timed out');\n            })\n                .receive('error', () => {\n                resolve('error');\n            });\n            leavePush.send();\n            if (!this._canPush()) {\n                leavePush.trigger('ok', {});\n            }\n        });\n    }\n    /** @internal */\n    async _fetchWithTimeout(url, options, timeout) {\n        const controller = new AbortController();\n        const id = setTimeout(() => controller.abort(), timeout);\n        const response = await this.socket.fetch(url, Object.assign(Object.assign({}, options), { signal: controller.signal }));\n        clearTimeout(id);\n        return response;\n    }\n    /** @internal */\n    _push(event, payload, timeout = this.timeout) {\n        if (!this.joinedOnce) {\n            throw `tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;\n        }\n        let pushEvent = new Push(this, event, payload, timeout);\n        if (this._canPush()) {\n            pushEvent.send();\n        }\n        else {\n            pushEvent.startTimeout();\n            this.pushBuffer.push(pushEvent);\n        }\n        return pushEvent;\n    }\n    /**\n     * Overridable message hook\n     *\n     * Receives all events for specialized message handling before dispatching to the channel callbacks.\n     * Must return the payload, modified or unmodified.\n     *\n     * @internal\n     */\n    _onMessage(_event, payload, _ref) {\n        return payload;\n    }\n    /** @internal */\n    _isMember(topic) {\n        return this.topic === topic;\n    }\n    /** @internal */\n    _joinRef() {\n        return this.joinPush.ref;\n    }\n    /** @internal */\n    _trigger(type, payload, ref) {\n        var _a, _b;\n        const typeLower = type.toLocaleLowerCase();\n        const { close, error, leave, join } = CHANNEL_EVENTS;\n        const events = [close, error, leave, join];\n        if (ref && events.indexOf(typeLower) >= 0 && ref !== this._joinRef()) {\n            return;\n        }\n        let handledPayload = this._onMessage(typeLower, payload, ref);\n        if (payload && !handledPayload) {\n            throw 'channel onMessage callbacks must return the payload, modified or unmodified';\n        }\n        if (['insert', 'update', 'delete'].includes(typeLower)) {\n            (_a = this.bindings.postgres_changes) === null || _a === void 0 ? void 0 : _a.filter((bind) => {\n                var _a, _b, _c;\n                return (((_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event) === '*' ||\n                    ((_c = (_b = bind.filter) === null || _b === void 0 ? void 0 : _b.event) === null || _c === void 0 ? void 0 : _c.toLocaleLowerCase()) === typeLower);\n            }).map((bind) => bind.callback(handledPayload, ref));\n        }\n        else {\n            (_b = this.bindings[typeLower]) === null || _b === void 0 ? void 0 : _b.filter((bind) => {\n                var _a, _b, _c, _d, _e, _f;\n                if (['broadcast', 'presence', 'postgres_changes'].includes(typeLower)) {\n                    if ('id' in bind) {\n                        const bindId = bind.id;\n                        const bindEvent = (_a = bind.filter) === null || _a === void 0 ? void 0 : _a.event;\n                        return (bindId &&\n                            ((_b = payload.ids) === null || _b === void 0 ? void 0 : _b.includes(bindId)) &&\n                            (bindEvent === '*' ||\n                                (bindEvent === null || bindEvent === void 0 ? void 0 : bindEvent.toLocaleLowerCase()) ===\n                                    ((_c = payload.data) === null || _c === void 0 ? void 0 : _c.type.toLocaleLowerCase())));\n                    }\n                    else {\n                        const bindEvent = (_e = (_d = bind === null || bind === void 0 ? void 0 : bind.filter) === null || _d === void 0 ? void 0 : _d.event) === null || _e === void 0 ? void 0 : _e.toLocaleLowerCase();\n                        return (bindEvent === '*' ||\n                            bindEvent === ((_f = payload === null || payload === void 0 ? void 0 : payload.event) === null || _f === void 0 ? void 0 : _f.toLocaleLowerCase()));\n                    }\n                }\n                else {\n                    return bind.type.toLocaleLowerCase() === typeLower;\n                }\n            }).map((bind) => {\n                if (typeof handledPayload === 'object' && 'ids' in handledPayload) {\n                    const postgresChanges = handledPayload.data;\n                    const { schema, table, commit_timestamp, type, errors } = postgresChanges;\n                    const enrichedPayload = {\n                        schema: schema,\n                        table: table,\n                        commit_timestamp: commit_timestamp,\n                        eventType: type,\n                        new: {},\n                        old: {},\n                        errors: errors,\n                    };\n                    handledPayload = Object.assign(Object.assign({}, enrichedPayload), this._getPayloadRecords(postgresChanges));\n                }\n                bind.callback(handledPayload, ref);\n            });\n        }\n    }\n    /** @internal */\n    _isClosed() {\n        return this.state === CHANNEL_STATES.closed;\n    }\n    /** @internal */\n    _isJoined() {\n        return this.state === CHANNEL_STATES.joined;\n    }\n    /** @internal */\n    _isJoining() {\n        return this.state === CHANNEL_STATES.joining;\n    }\n    /** @internal */\n    _isLeaving() {\n        return this.state === CHANNEL_STATES.leaving;\n    }\n    /** @internal */\n    _replyEventName(ref) {\n        return `chan_reply_${ref}`;\n    }\n    /** @internal */\n    _on(type, filter, callback) {\n        const typeLower = type.toLocaleLowerCase();\n        const binding = {\n            type: typeLower,\n            filter: filter,\n            callback: callback,\n        };\n        if (this.bindings[typeLower]) {\n            this.bindings[typeLower].push(binding);\n        }\n        else {\n            this.bindings[typeLower] = [binding];\n        }\n        return this;\n    }\n    /** @internal */\n    _off(type, filter) {\n        const typeLower = type.toLocaleLowerCase();\n        this.bindings[typeLower] = this.bindings[typeLower].filter((bind) => {\n            var _a;\n            return !(((_a = bind.type) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase()) === typeLower &&\n                RealtimeChannel.isEqual(bind.filter, filter));\n        });\n        return this;\n    }\n    /** @internal */\n    static isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n            return false;\n        }\n        for (const k in obj1) {\n            if (obj1[k] !== obj2[k]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /** @internal */\n    _rejoinUntilConnected() {\n        this.rejoinTimer.scheduleTimeout();\n        if (this.socket.isConnected()) {\n            this._rejoin();\n        }\n    }\n    /**\n     * Registers a callback that will be executed when the channel closes.\n     *\n     * @internal\n     */\n    _onClose(callback) {\n        this._on(CHANNEL_EVENTS.close, {}, callback);\n    }\n    /**\n     * Registers a callback that will be executed when the channel encounteres an error.\n     *\n     * @internal\n     */\n    _onError(callback) {\n        this._on(CHANNEL_EVENTS.error, {}, (reason) => callback(reason));\n    }\n    /**\n     * Returns `true` if the socket is connected and the channel has been joined.\n     *\n     * @internal\n     */\n    _canPush() {\n        return this.socket.isConnected() && this._isJoined();\n    }\n    /** @internal */\n    _rejoin(timeout = this.timeout) {\n        if (this._isLeaving()) {\n            return;\n        }\n        this.socket._leaveOpenTopic(this.topic);\n        this.state = CHANNEL_STATES.joining;\n        this.joinPush.resend(timeout);\n    }\n    /** @internal */\n    _getPayloadRecords(payload) {\n        const records = {\n            new: {},\n            old: {},\n        };\n        if (payload.type === 'INSERT' || payload.type === 'UPDATE') {\n            records.new = Transformers.convertChangeData(payload.columns, payload.record);\n        }\n        if (payload.type === 'UPDATE' || payload.type === 'DELETE') {\n            records.old = Transformers.convertChangeData(payload.columns, payload.old_record);\n        }\n        return records;\n    }\n}\n//# sourceMappingURL=RealtimeChannel.js.map","import { CHANNEL_EVENTS, CONNECTION_STATE, DEFAULT_HEADERS, DEFAULT_TIMEOUT, SOCKET_STATES, TRANSPORTS, VSN, WS_CLOSE_NORMAL, } from './lib/constants';\nimport Serializer from './lib/serializer';\nimport Timer from './lib/timer';\nimport { httpEndpointURL } from './lib/transformers';\nimport RealtimeChannel from './RealtimeChannel';\nconst noop = () => { };\nconst NATIVE_WEBSOCKET_AVAILABLE = typeof WebSocket !== 'undefined';\nconst WORKER_SCRIPT = `\n  addEventListener(\"message\", (e) => {\n    if (e.data.event === \"start\") {\n      setInterval(() => postMessage({ event: \"keepAlive\" }), e.data.interval);\n    }\n  });`;\nexport default class RealtimeClient {\n    /**\n     * Initializes the Socket.\n     *\n     * @param endPoint The string WebSocket endpoint, ie, \"ws://example.com/socket\", \"wss://example.com\", \"/socket\" (inherited host & protocol)\n     * @param httpEndpoint The string HTTP endpoint, ie, \"https://example.com\", \"/\" (inherited host & protocol)\n     * @param options.transport The Websocket Transport, for example WebSocket.\n     * @param options.timeout The default timeout in milliseconds to trigger push timeouts.\n     * @param options.params The optional params to pass when connecting.\n     * @param options.headers The optional headers to pass when connecting.\n     * @param options.heartbeatIntervalMs The millisec interval to send a heartbeat message.\n     * @param options.logger The optional function for specialized logging, ie: logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data) }\n     * @param options.encode The function to encode outgoing messages. Defaults to JSON: (payload, callback) => callback(JSON.stringify(payload))\n     * @param options.decode The function to decode incoming messages. Defaults to Serializer's decode.\n     * @param options.reconnectAfterMs he optional function that returns the millsec reconnect interval. Defaults to stepped backoff off.\n     * @param options.worker Use Web Worker to set a side flow. Defaults to false.\n     * @param options.workerUrl The URL of the worker script. Defaults to https://realtime.supabase.com/worker.js that includes a heartbeat event call to keep the connection alive.\n     */\n    constructor(endPoint, options) {\n        var _a;\n        this.accessTokenValue = null;\n        this.apiKey = null;\n        this.channels = [];\n        this.endPoint = '';\n        this.httpEndpoint = '';\n        this.headers = DEFAULT_HEADERS;\n        this.params = {};\n        this.timeout = DEFAULT_TIMEOUT;\n        this.heartbeatIntervalMs = 30000;\n        this.heartbeatTimer = undefined;\n        this.pendingHeartbeatRef = null;\n        this.ref = 0;\n        this.logger = noop;\n        this.conn = null;\n        this.sendBuffer = [];\n        this.serializer = new Serializer();\n        this.stateChangeCallbacks = {\n            open: [],\n            close: [],\n            error: [],\n            message: [],\n        };\n        this.accessToken = null;\n        /**\n         * Use either custom fetch, if provided, or default fetch to make HTTP requests\n         *\n         * @internal\n         */\n        this._resolveFetch = (customFetch) => {\n            let _fetch;\n            if (customFetch) {\n                _fetch = customFetch;\n            }\n            else if (typeof fetch === 'undefined') {\n                _fetch = (...args) => import('@supabase/node-fetch').then(({ default: fetch }) => fetch(...args));\n            }\n            else {\n                _fetch = fetch;\n            }\n            return (...args) => _fetch(...args);\n        };\n        this.endPoint = `${endPoint}/${TRANSPORTS.websocket}`;\n        this.httpEndpoint = httpEndpointURL(endPoint);\n        if (options === null || options === void 0 ? void 0 : options.transport) {\n            this.transport = options.transport;\n        }\n        else {\n            this.transport = null;\n        }\n        if (options === null || options === void 0 ? void 0 : options.params)\n            this.params = options.params;\n        if (options === null || options === void 0 ? void 0 : options.headers)\n            this.headers = Object.assign(Object.assign({}, this.headers), options.headers);\n        if (options === null || options === void 0 ? void 0 : options.timeout)\n            this.timeout = options.timeout;\n        if (options === null || options === void 0 ? void 0 : options.logger)\n            this.logger = options.logger;\n        if (options === null || options === void 0 ? void 0 : options.heartbeatIntervalMs)\n            this.heartbeatIntervalMs = options.heartbeatIntervalMs;\n        const accessTokenValue = (_a = options === null || options === void 0 ? void 0 : options.params) === null || _a === void 0 ? void 0 : _a.apikey;\n        if (accessTokenValue) {\n            this.accessTokenValue = accessTokenValue;\n            this.apiKey = accessTokenValue;\n        }\n        this.reconnectAfterMs = (options === null || options === void 0 ? void 0 : options.reconnectAfterMs)\n            ? options.reconnectAfterMs\n            : (tries) => {\n                return [1000, 2000, 5000, 10000][tries - 1] || 10000;\n            };\n        this.encode = (options === null || options === void 0 ? void 0 : options.encode)\n            ? options.encode\n            : (payload, callback) => {\n                return callback(JSON.stringify(payload));\n            };\n        this.decode = (options === null || options === void 0 ? void 0 : options.decode)\n            ? options.decode\n            : this.serializer.decode.bind(this.serializer);\n        this.reconnectTimer = new Timer(async () => {\n            this.disconnect();\n            this.connect();\n        }, this.reconnectAfterMs);\n        this.fetch = this._resolveFetch(options === null || options === void 0 ? void 0 : options.fetch);\n        if (options === null || options === void 0 ? void 0 : options.worker) {\n            if (typeof window !== 'undefined' && !window.Worker) {\n                throw new Error('Web Worker is not supported');\n            }\n            this.worker = (options === null || options === void 0 ? void 0 : options.worker) || false;\n            this.workerUrl = options === null || options === void 0 ? void 0 : options.workerUrl;\n        }\n        this.accessToken = (options === null || options === void 0 ? void 0 : options.accessToken) || null;\n    }\n    /**\n     * Connects the socket, unless already connected.\n     */\n    connect() {\n        if (this.conn) {\n            return;\n        }\n        if (this.transport) {\n            this.conn = new this.transport(this.endpointURL(), undefined, {\n                headers: this.headers,\n            });\n            return;\n        }\n        if (NATIVE_WEBSOCKET_AVAILABLE) {\n            this.conn = new WebSocket(this.endpointURL());\n            this.setupConnection();\n            return;\n        }\n        this.conn = new WSWebSocketDummy(this.endpointURL(), undefined, {\n            close: () => {\n                this.conn = null;\n            },\n        });\n        import('ws').then(({ default: WS }) => {\n            this.conn = new WS(this.endpointURL(), undefined, {\n                headers: this.headers,\n            });\n            this.setupConnection();\n        });\n    }\n    /**\n     * Returns the URL of the websocket.\n     * @returns string The URL of the websocket.\n     */\n    endpointURL() {\n        return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: VSN }));\n    }\n    /**\n     * Disconnects the socket.\n     *\n     * @param code A numeric status code to send on disconnect.\n     * @param reason A custom reason for the disconnect.\n     */\n    disconnect(code, reason) {\n        if (this.conn) {\n            this.conn.onclose = function () { }; // noop\n            if (code) {\n                this.conn.close(code, reason !== null && reason !== void 0 ? reason : '');\n            }\n            else {\n                this.conn.close();\n            }\n            this.conn = null;\n            // remove open handles\n            this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n            this.reconnectTimer.reset();\n        }\n    }\n    /**\n     * Returns all created channels\n     */\n    getChannels() {\n        return this.channels;\n    }\n    /**\n     * Unsubscribes and removes a single channel\n     * @param channel A RealtimeChannel instance\n     */\n    async removeChannel(channel) {\n        const status = await channel.unsubscribe();\n        if (this.channels.length === 0) {\n            this.disconnect();\n        }\n        return status;\n    }\n    /**\n     * Unsubscribes and removes all channels\n     */\n    async removeAllChannels() {\n        const values_1 = await Promise.all(this.channels.map((channel) => channel.unsubscribe()));\n        this.disconnect();\n        return values_1;\n    }\n    /**\n     * Logs the message.\n     *\n     * For customized logging, `this.logger` can be overridden.\n     */\n    log(kind, msg, data) {\n        this.logger(kind, msg, data);\n    }\n    /**\n     * Returns the current state of the socket.\n     */\n    connectionState() {\n        switch (this.conn && this.conn.readyState) {\n            case SOCKET_STATES.connecting:\n                return CONNECTION_STATE.Connecting;\n            case SOCKET_STATES.open:\n                return CONNECTION_STATE.Open;\n            case SOCKET_STATES.closing:\n                return CONNECTION_STATE.Closing;\n            default:\n                return CONNECTION_STATE.Closed;\n        }\n    }\n    /**\n     * Returns `true` is the connection is open.\n     */\n    isConnected() {\n        return this.connectionState() === CONNECTION_STATE.Open;\n    }\n    channel(topic, params = { config: {} }) {\n        const chan = new RealtimeChannel(`realtime:${topic}`, params, this);\n        this.channels.push(chan);\n        return chan;\n    }\n    /**\n     * Push out a message if the socket is connected.\n     *\n     * If the socket is not connected, the message gets enqueued within a local buffer, and sent out when a connection is next established.\n     */\n    push(data) {\n        const { topic, event, payload, ref } = data;\n        const callback = () => {\n            this.encode(data, (result) => {\n                var _a;\n                (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(result);\n            });\n        };\n        this.log('push', `${topic} ${event} (${ref})`, payload);\n        if (this.isConnected()) {\n            callback();\n        }\n        else {\n            this.sendBuffer.push(callback);\n        }\n    }\n    /**\n     * Sets the JWT access token used for channel subscription authorization and Realtime RLS.\n     *\n     * If param is null it will use the `accessToken` callback function or the token set on the client.\n     *\n     * On callback used, it will set the value of the token internal to the client.\n     *\n     * @param token A JWT string to override the token set on the client.\n     */\n    async setAuth(token = null) {\n        let tokenToSend = token ||\n            (this.accessToken && (await this.accessToken())) ||\n            this.accessTokenValue;\n        if (tokenToSend) {\n            let parsed = null;\n            try {\n                parsed = JSON.parse(atob(tokenToSend.split('.')[1]));\n            }\n            catch (_error) { }\n            if (parsed && parsed.exp) {\n                let now = Math.floor(Date.now() / 1000);\n                let valid = now - parsed.exp < 0;\n                if (!valid) {\n                    this.log('auth', `InvalidJWTToken: Invalid value for JWT claim \"exp\" with value ${parsed.exp}`);\n                    return Promise.reject(`InvalidJWTToken: Invalid value for JWT claim \"exp\" with value ${parsed.exp}`);\n                }\n            }\n            this.accessTokenValue = tokenToSend;\n            this.channels.forEach((channel) => {\n                tokenToSend && channel.updateJoinPayload({ access_token: tokenToSend });\n                if (channel.joinedOnce && channel._isJoined()) {\n                    channel._push(CHANNEL_EVENTS.access_token, {\n                        access_token: tokenToSend,\n                    });\n                }\n            });\n        }\n    }\n    /**\n     * Sends a heartbeat message if the socket is connected.\n     */\n    async sendHeartbeat() {\n        var _a;\n        if (!this.isConnected()) {\n            return;\n        }\n        if (this.pendingHeartbeatRef) {\n            this.pendingHeartbeatRef = null;\n            this.log('transport', 'heartbeat timeout. Attempting to re-establish connection');\n            (_a = this.conn) === null || _a === void 0 ? void 0 : _a.close(WS_CLOSE_NORMAL, 'hearbeat timeout');\n            return;\n        }\n        this.pendingHeartbeatRef = this._makeRef();\n        this.push({\n            topic: 'phoenix',\n            event: 'heartbeat',\n            payload: {},\n            ref: this.pendingHeartbeatRef,\n        });\n        this.setAuth();\n    }\n    /**\n     * Flushes send buffer\n     */\n    flushSendBuffer() {\n        if (this.isConnected() && this.sendBuffer.length > 0) {\n            this.sendBuffer.forEach((callback) => callback());\n            this.sendBuffer = [];\n        }\n    }\n    /**\n     * Return the next message ref, accounting for overflows\n     *\n     * @internal\n     */\n    _makeRef() {\n        let newRef = this.ref + 1;\n        if (newRef === this.ref) {\n            this.ref = 0;\n        }\n        else {\n            this.ref = newRef;\n        }\n        return this.ref.toString();\n    }\n    /**\n     * Unsubscribe from channels with the specified topic.\n     *\n     * @internal\n     */\n    _leaveOpenTopic(topic) {\n        let dupChannel = this.channels.find((c) => c.topic === topic && (c._isJoined() || c._isJoining()));\n        if (dupChannel) {\n            this.log('transport', `leaving duplicate topic \"${topic}\"`);\n            dupChannel.unsubscribe();\n        }\n    }\n    /**\n     * Removes a subscription from the socket.\n     *\n     * @param channel An open subscription.\n     *\n     * @internal\n     */\n    _remove(channel) {\n        this.channels = this.channels.filter((c) => c._joinRef() !== channel._joinRef());\n    }\n    /**\n     * Sets up connection handlers.\n     *\n     * @internal\n     */\n    setupConnection() {\n        if (this.conn) {\n            this.conn.binaryType = 'arraybuffer';\n            this.conn.onopen = () => this._onConnOpen();\n            this.conn.onerror = (error) => this._onConnError(error);\n            this.conn.onmessage = (event) => this._onConnMessage(event);\n            this.conn.onclose = (event) => this._onConnClose(event);\n        }\n    }\n    /** @internal */\n    _onConnMessage(rawMessage) {\n        this.decode(rawMessage.data, (msg) => {\n            let { topic, event, payload, ref } = msg;\n            if (ref && ref === this.pendingHeartbeatRef) {\n                this.pendingHeartbeatRef = null;\n            }\n            this.log('receive', `${payload.status || ''} ${topic} ${event} ${(ref && '(' + ref + ')') || ''}`, payload);\n            this.channels\n                .filter((channel) => channel._isMember(topic))\n                .forEach((channel) => channel._trigger(event, payload, ref));\n            this.stateChangeCallbacks.message.forEach((callback) => callback(msg));\n        });\n    }\n    /** @internal */\n    async _onConnOpen() {\n        this.log('transport', `connected to ${this.endpointURL()}`);\n        this.flushSendBuffer();\n        this.reconnectTimer.reset();\n        if (!this.worker) {\n            this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n            this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs);\n        }\n        else {\n            if (this.workerUrl) {\n                this.log('worker', `starting worker for from ${this.workerUrl}`);\n            }\n            else {\n                this.log('worker', `starting default worker`);\n            }\n            const objectUrl = this._workerObjectUrl(this.workerUrl);\n            this.workerRef = new Worker(objectUrl);\n            this.workerRef.onerror = (error) => {\n                this.log('worker', 'worker error', error.message);\n                this.workerRef.terminate();\n            };\n            this.workerRef.onmessage = (event) => {\n                if (event.data.event === 'keepAlive') {\n                    this.sendHeartbeat();\n                }\n            };\n            this.workerRef.postMessage({\n                event: 'start',\n                interval: this.heartbeatIntervalMs,\n            });\n        }\n        this.stateChangeCallbacks.open.forEach((callback) => callback());\n    }\n    /** @internal */\n    _onConnClose(event) {\n        this.log('transport', 'close', event);\n        this._triggerChanError();\n        this.heartbeatTimer && clearInterval(this.heartbeatTimer);\n        this.reconnectTimer.scheduleTimeout();\n        this.stateChangeCallbacks.close.forEach((callback) => callback(event));\n    }\n    /** @internal */\n    _onConnError(error) {\n        this.log('transport', error.message);\n        this._triggerChanError();\n        this.stateChangeCallbacks.error.forEach((callback) => callback(error));\n    }\n    /** @internal */\n    _triggerChanError() {\n        this.channels.forEach((channel) => channel._trigger(CHANNEL_EVENTS.error));\n    }\n    /** @internal */\n    _appendParams(url, params) {\n        if (Object.keys(params).length === 0) {\n            return url;\n        }\n        const prefix = url.match(/\\?/) ? '&' : '?';\n        const query = new URLSearchParams(params);\n        return `${url}${prefix}${query}`;\n    }\n    _workerObjectUrl(url) {\n        let result_url;\n        if (url) {\n            result_url = url;\n        }\n        else {\n            const blob = new Blob([WORKER_SCRIPT], { type: 'application/javascript' });\n            result_url = URL.createObjectURL(blob);\n        }\n        return result_url;\n    }\n}\nclass WSWebSocketDummy {\n    constructor(address, _protocols, options) {\n        this.binaryType = 'arraybuffer';\n        this.onclose = () => { };\n        this.onerror = () => { };\n        this.onmessage = () => { };\n        this.onopen = () => { };\n        this.readyState = SOCKET_STATES.connecting;\n        this.send = () => { };\n        this.url = null;\n        this.url = address;\n        this.close = options.close;\n    }\n}\n//# sourceMappingURL=RealtimeClient.js.map","export class StorageError extends Error {\n    constructor(message) {\n        super(message);\n        this.__isStorageError = true;\n        this.name = 'StorageError';\n    }\n}\nexport function isStorageError(error) {\n    return typeof error === 'object' && error !== null && '__isStorageError' in error;\n}\nexport class StorageApiError extends StorageError {\n    constructor(message, status) {\n        super(message);\n        this.name = 'StorageApiError';\n        this.status = status;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n        };\n    }\n}\nexport class StorageUnknownError extends StorageError {\n    constructor(message, originalError) {\n        super(message);\n        this.name = 'StorageUnknownError';\n        this.originalError = originalError;\n    }\n}\n//# sourceMappingURL=errors.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => import('@supabase/node-fetch').then(({ default: fetch }) => fetch(...args));\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const resolveResponse = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof Response === 'undefined') {\n        // @ts-ignore\n        return (yield import('@supabase/node-fetch')).Response;\n    }\n    return Response;\n});\nexport const recursiveToCamel = (item) => {\n    if (Array.isArray(item)) {\n        return item.map((el) => recursiveToCamel(el));\n    }\n    else if (typeof item === 'function' || item !== Object(item)) {\n        return item;\n    }\n    const result = {};\n    Object.entries(item).forEach(([key, value]) => {\n        const newKey = key.replace(/([-_][a-z])/gi, (c) => c.toUpperCase().replace(/[-_]/g, ''));\n        result[newKey] = recursiveToCamel(value);\n    });\n    return result;\n};\n//# sourceMappingURL=helpers.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { StorageApiError, StorageUnknownError } from './errors';\nimport { resolveResponse } from './helpers';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst handleError = (error, reject, options) => __awaiter(void 0, void 0, void 0, function* () {\n    const Res = yield resolveResponse();\n    if (error instanceof Res && !(options === null || options === void 0 ? void 0 : options.noResolveJson)) {\n        error\n            .json()\n            .then((err) => {\n            reject(new StorageApiError(_getErrorMessage(err), error.status || 500));\n        })\n            .catch((err) => {\n            reject(new StorageUnknownError(_getErrorMessage(err), err));\n        });\n    }\n    else {\n        reject(new StorageUnknownError(_getErrorMessage(error), error));\n    }\n});\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json' }, options === null || options === void 0 ? void 0 : options.headers);\n    if (body) {\n        params.body = JSON.stringify(body);\n    }\n    return Object.assign(Object.assign({}, params), parameters);\n};\nfunction _handleRequest(fetcher, method, url, options, parameters, body) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            fetcher(url, _getRequestParams(method, options, parameters, body))\n                .then((result) => {\n                if (!result.ok)\n                    throw result;\n                if (options === null || options === void 0 ? void 0 : options.noResolveJson)\n                    return result;\n                return result.json();\n            })\n                .then((data) => resolve(data))\n                .catch((error) => handleError(error, reject, options));\n        });\n    });\n}\nexport function get(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'GET', url, options, parameters);\n    });\n}\nexport function post(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'POST', url, options, parameters, body);\n    });\n}\nexport function put(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'PUT', url, options, parameters, body);\n    });\n}\nexport function head(fetcher, url, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'HEAD', url, Object.assign(Object.assign({}, options), { noResolveJson: true }), parameters);\n    });\n}\nexport function remove(fetcher, url, body, options, parameters) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return _handleRequest(fetcher, 'DELETE', url, options, parameters, body);\n    });\n}\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isStorageError, StorageError, StorageUnknownError } from '../lib/errors';\nimport { get, head, post, remove } from '../lib/fetch';\nimport { recursiveToCamel, resolveFetch } from '../lib/helpers';\nconst DEFAULT_SEARCH_OPTIONS = {\n    limit: 100,\n    offset: 0,\n    sortBy: {\n        column: 'name',\n        order: 'asc',\n    },\n};\nconst DEFAULT_FILE_OPTIONS = {\n    cacheControl: '3600',\n    contentType: 'text/plain;charset=UTF-8',\n    upsert: false,\n};\nexport default class StorageFileApi {\n    constructor(url, headers = {}, bucketId, fetch) {\n        this.url = url;\n        this.headers = headers;\n        this.bucketId = bucketId;\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Uploads a file to an existing bucket or replaces an existing file at the specified path with a new one.\n     *\n     * @param method HTTP method.\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    uploadOrUpdate(method, path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let body;\n                const options = Object.assign(Object.assign({}, DEFAULT_FILE_OPTIONS), fileOptions);\n                let headers = Object.assign(Object.assign({}, this.headers), (method === 'POST' && { 'x-upsert': String(options.upsert) }));\n                const metadata = options.metadata;\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    if (metadata) {\n                        body.append('metadata', this.encodeMetadata(metadata));\n                    }\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                    if (metadata) {\n                        body.append('metadata', this.encodeMetadata(metadata));\n                    }\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                    if (metadata) {\n                        headers['x-metadata'] = this.toBase64(this.encodeMetadata(metadata));\n                    }\n                }\n                if (fileOptions === null || fileOptions === void 0 ? void 0 : fileOptions.headers) {\n                    headers = Object.assign(Object.assign({}, headers), fileOptions.headers);\n                }\n                const cleanPath = this._removeEmptyFolders(path);\n                const _path = this._getFinalPath(cleanPath);\n                const res = yield this.fetch(`${this.url}/object/${_path}`, Object.assign({ method, body: body, headers }, ((options === null || options === void 0 ? void 0 : options.duplex) ? { duplex: options.duplex } : {})));\n                const data = yield res.json();\n                if (res.ok) {\n                    return {\n                        data: { path: cleanPath, id: data.Id, fullPath: data.Key },\n                        error: null,\n                    };\n                }\n                else {\n                    const error = data;\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Uploads a file to an existing bucket.\n     *\n     * @param path The file path, including the file name. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    upload(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('POST', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Upload a file with a token generated from `createSignedUploadUrl`.\n     * @param path The file path, including the file name. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to upload.\n     * @param token The token generated from `createSignedUploadUrl`\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    uploadToSignedUrl(path, token, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const cleanPath = this._removeEmptyFolders(path);\n            const _path = this._getFinalPath(cleanPath);\n            const url = new URL(this.url + `/object/upload/sign/${_path}`);\n            url.searchParams.set('token', token);\n            try {\n                let body;\n                const options = Object.assign({ upsert: DEFAULT_FILE_OPTIONS.upsert }, fileOptions);\n                const headers = Object.assign(Object.assign({}, this.headers), { 'x-upsert': String(options.upsert) });\n                if (typeof Blob !== 'undefined' && fileBody instanceof Blob) {\n                    body = new FormData();\n                    body.append('cacheControl', options.cacheControl);\n                    body.append('', fileBody);\n                }\n                else if (typeof FormData !== 'undefined' && fileBody instanceof FormData) {\n                    body = fileBody;\n                    body.append('cacheControl', options.cacheControl);\n                }\n                else {\n                    body = fileBody;\n                    headers['cache-control'] = `max-age=${options.cacheControl}`;\n                    headers['content-type'] = options.contentType;\n                }\n                const res = yield this.fetch(url.toString(), {\n                    method: 'PUT',\n                    body: body,\n                    headers,\n                });\n                const data = yield res.json();\n                if (res.ok) {\n                    return {\n                        data: { path: cleanPath, fullPath: data.Key },\n                        error: null,\n                    };\n                }\n                else {\n                    const error = data;\n                    return { data: null, error };\n                }\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a signed upload URL.\n     * Signed upload URLs can be used to upload files to the bucket without further authentication.\n     * They are valid for 2 hours.\n     * @param path The file path, including the current file name. For example `folder/image.png`.\n     * @param options.upsert If set to true, allows the file to be overwritten if it already exists.\n     */\n    createSignedUploadUrl(path, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let _path = this._getFinalPath(path);\n                const headers = Object.assign({}, this.headers);\n                if (options === null || options === void 0 ? void 0 : options.upsert) {\n                    headers['x-upsert'] = 'true';\n                }\n                const data = yield post(this.fetch, `${this.url}/object/upload/sign/${_path}`, {}, { headers });\n                const url = new URL(this.url + data.url);\n                const token = url.searchParams.get('token');\n                if (!token) {\n                    throw new StorageError('No token returned by API');\n                }\n                return { data: { signedUrl: url.toString(), path, token }, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Replaces an existing file at the specified path with a new one.\n     *\n     * @param path The relative file path. Should be of the format `folder/subfolder/filename.png`. The bucket must already exist before attempting to update.\n     * @param fileBody The body of the file to be stored in the bucket.\n     */\n    update(path, fileBody, fileOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.uploadOrUpdate('PUT', path, fileBody, fileOptions);\n        });\n    }\n    /**\n     * Moves an existing file to a new path in the same bucket.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-new.png`.\n     * @param options The destination options.\n     */\n    move(fromPath, toPath, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/move`, {\n                    bucketId: this.bucketId,\n                    sourceKey: fromPath,\n                    destinationKey: toPath,\n                    destinationBucket: options === null || options === void 0 ? void 0 : options.destinationBucket,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Copies an existing file to a new path in the same bucket.\n     *\n     * @param fromPath The original file path, including the current file name. For example `folder/image.png`.\n     * @param toPath The new file path, including the new file name. For example `folder/image-copy.png`.\n     * @param options The destination options.\n     */\n    copy(fromPath, toPath, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/copy`, {\n                    bucketId: this.bucketId,\n                    sourceKey: fromPath,\n                    destinationKey: toPath,\n                    destinationBucket: options === null || options === void 0 ? void 0 : options.destinationBucket,\n                }, { headers: this.headers });\n                return { data: { path: data.Key }, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a signed URL. Use a signed URL to share a file for a fixed amount of time.\n     *\n     * @param path The file path, including the current file name. For example `folder/image.png`.\n     * @param expiresIn The number of seconds until the signed URL expires. For example, `60` for a URL which is valid for one minute.\n     * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    createSignedUrl(path, expiresIn, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let _path = this._getFinalPath(path);\n                let data = yield post(this.fetch, `${this.url}/object/sign/${_path}`, Object.assign({ expiresIn }, ((options === null || options === void 0 ? void 0 : options.transform) ? { transform: options.transform } : {})), { headers: this.headers });\n                const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n                    ? `&download=${options.download === true ? '' : options.download}`\n                    : '';\n                const signedUrl = encodeURI(`${this.url}${data.signedURL}${downloadQueryParam}`);\n                data = { signedUrl };\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates multiple signed URLs. Use a signed URL to share a file for a fixed amount of time.\n     *\n     * @param paths The file paths to be downloaded, including the current file names. For example `['folder/image.png', 'folder2/image2.png']`.\n     * @param expiresIn The number of seconds until the signed URLs expire. For example, `60` for URLs which are valid for one minute.\n     * @param options.download triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     */\n    createSignedUrls(paths, expiresIn, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn, paths }, { headers: this.headers });\n                const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n                    ? `&download=${options.download === true ? '' : options.download}`\n                    : '';\n                return {\n                    data: data.map((datum) => (Object.assign(Object.assign({}, datum), { signedUrl: datum.signedURL\n                            ? encodeURI(`${this.url}${datum.signedURL}${downloadQueryParam}`)\n                            : null }))),\n                    error: null,\n                };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Downloads a file from a private bucket. For public buckets, make a request to the URL returned from `getPublicUrl` instead.\n     *\n     * @param path The full path and file name of the file to be downloaded. For example `folder/image.png`.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    download(path, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const wantsTransformation = typeof (options === null || options === void 0 ? void 0 : options.transform) !== 'undefined';\n            const renderPath = wantsTransformation ? 'render/image/authenticated' : 'object';\n            const transformationQuery = this.transformOptsToQueryString((options === null || options === void 0 ? void 0 : options.transform) || {});\n            const queryString = transformationQuery ? `?${transformationQuery}` : '';\n            try {\n                const _path = this._getFinalPath(path);\n                const res = yield get(this.fetch, `${this.url}/${renderPath}/${_path}${queryString}`, {\n                    headers: this.headers,\n                    noResolveJson: true,\n                });\n                const data = yield res.blob();\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing file.\n     * @param path\n     */\n    info(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _path = this._getFinalPath(path);\n            try {\n                const data = yield get(this.fetch, `${this.url}/object/info/${_path}`, {\n                    headers: this.headers,\n                });\n                return { data: recursiveToCamel(data), error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Checks the existence of a file.\n     * @param path\n     */\n    exists(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _path = this._getFinalPath(path);\n            try {\n                yield head(this.fetch, `${this.url}/object/${_path}`, {\n                    headers: this.headers,\n                });\n                return { data: true, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error) && error instanceof StorageUnknownError) {\n                    const originalError = error.originalError;\n                    if ([400, 404].includes(originalError === null || originalError === void 0 ? void 0 : originalError.status)) {\n                        return { data: false, error };\n                    }\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * A simple convenience function to get the URL for an asset in a public bucket. If you do not want to use this function, you can construct the public URL by concatenating the bucket URL with the path to the asset.\n     * This function does not verify if the bucket is public. If a public URL is created for a bucket which is not public, you will not be able to download the asset.\n     *\n     * @param path The path and name of the file to generate the public URL for. For example `folder/image.png`.\n     * @param options.download Triggers the file as a download if set to true. Set this parameter as the name of the file if you want to trigger the download with a different filename.\n     * @param options.transform Transform the asset before serving it to the client.\n     */\n    getPublicUrl(path, options) {\n        const _path = this._getFinalPath(path);\n        const _queryString = [];\n        const downloadQueryParam = (options === null || options === void 0 ? void 0 : options.download)\n            ? `download=${options.download === true ? '' : options.download}`\n            : '';\n        if (downloadQueryParam !== '') {\n            _queryString.push(downloadQueryParam);\n        }\n        const wantsTransformation = typeof (options === null || options === void 0 ? void 0 : options.transform) !== 'undefined';\n        const renderPath = wantsTransformation ? 'render/image' : 'object';\n        const transformationQuery = this.transformOptsToQueryString((options === null || options === void 0 ? void 0 : options.transform) || {});\n        if (transformationQuery !== '') {\n            _queryString.push(transformationQuery);\n        }\n        let queryString = _queryString.join('&');\n        if (queryString !== '') {\n            queryString = `?${queryString}`;\n        }\n        return {\n            data: { publicUrl: encodeURI(`${this.url}/${renderPath}/public/${_path}${queryString}`) },\n        };\n    }\n    /**\n     * Deletes files within the same bucket\n     *\n     * @param paths An array of files to delete, including the path and file name. For example [`'folder/image.png'`].\n     */\n    remove(paths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: paths }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Get file metadata\n     * @param id the file id to retrieve metadata\n     */\n    // async getMetadata(\n    //   id: string\n    // ): Promise<\n    //   | {\n    //       data: Metadata\n    //       error: null\n    //     }\n    //   | {\n    //       data: null\n    //       error: StorageError\n    //     }\n    // > {\n    //   try {\n    //     const data = await get(this.fetch, `${this.url}/metadata/${id}`, { headers: this.headers })\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     if (isStorageError(error)) {\n    //       return { data: null, error }\n    //     }\n    //     throw error\n    //   }\n    // }\n    /**\n     * Update file metadata\n     * @param id the file id to update metadata\n     * @param meta the new file metadata\n     */\n    // async updateMetadata(\n    //   id: string,\n    //   meta: Metadata\n    // ): Promise<\n    //   | {\n    //       data: Metadata\n    //       error: null\n    //     }\n    //   | {\n    //       data: null\n    //       error: StorageError\n    //     }\n    // > {\n    //   try {\n    //     const data = await post(\n    //       this.fetch,\n    //       `${this.url}/metadata/${id}`,\n    //       { ...meta },\n    //       { headers: this.headers }\n    //     )\n    //     return { data, error: null }\n    //   } catch (error) {\n    //     if (isStorageError(error)) {\n    //       return { data: null, error }\n    //     }\n    //     throw error\n    //   }\n    // }\n    /**\n     * Lists all the files within a bucket.\n     * @param path The folder path.\n     */\n    list(path, options, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const body = Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_OPTIONS), options), { prefix: path || '' });\n                const data = yield post(this.fetch, `${this.url}/object/list/${this.bucketId}`, body, { headers: this.headers }, parameters);\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    encodeMetadata(metadata) {\n        return JSON.stringify(metadata);\n    }\n    toBase64(data) {\n        if (typeof Buffer !== 'undefined') {\n            return Buffer.from(data).toString('base64');\n        }\n        return btoa(data);\n    }\n    _getFinalPath(path) {\n        return `${this.bucketId}/${path}`;\n    }\n    _removeEmptyFolders(path) {\n        return path.replace(/^\\/|\\/$/g, '').replace(/\\/+/g, '/');\n    }\n    transformOptsToQueryString(transform) {\n        const params = [];\n        if (transform.width) {\n            params.push(`width=${transform.width}`);\n        }\n        if (transform.height) {\n            params.push(`height=${transform.height}`);\n        }\n        if (transform.resize) {\n            params.push(`resize=${transform.resize}`);\n        }\n        if (transform.format) {\n            params.push(`format=${transform.format}`);\n        }\n        if (transform.quality) {\n            params.push(`quality=${transform.quality}`);\n        }\n        return params.join('&');\n    }\n}\n//# sourceMappingURL=StorageFileApi.js.map","// generated by genversion\nexport const version = '2.7.1';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `storage-js/${version}` };\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { DEFAULT_HEADERS } from '../lib/constants';\nimport { isStorageError } from '../lib/errors';\nimport { get, post, put, remove } from '../lib/fetch';\nimport { resolveFetch } from '../lib/helpers';\nexport default class StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        this.url = url;\n        this.headers = Object.assign(Object.assign({}, DEFAULT_HEADERS), headers);\n        this.fetch = resolveFetch(fetch);\n    }\n    /**\n     * Retrieves the details of all Storage buckets within an existing project.\n     */\n    listBuckets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Retrieves the details of an existing Storage bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to retrieve.\n     */\n    getBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield get(this.fetch, `${this.url}/bucket/${id}`, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Creates a new Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are creating.\n     * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations. By default, buckets are private.\n     * @param options.fileSizeLimit specifies the max file size in bytes that can be uploaded to this bucket.\n     * The global file size limit takes precedence over this value.\n     * The default value is null, which doesn't set a per bucket file size limit.\n     * @param options.allowedMimeTypes specifies the allowed mime types that this bucket can accept during upload.\n     * The default value is null, which allows files with all mime types to be uploaded.\n     * Each mime type specified can be a wildcard, e.g. image/*, or a specific mime type, e.g. image/png.\n     * @returns newly created bucket id\n     */\n    createBucket(id, options = {\n        public: false,\n    }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket`, {\n                    id,\n                    name: id,\n                    public: options.public,\n                    file_size_limit: options.fileSizeLimit,\n                    allowed_mime_types: options.allowedMimeTypes,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Updates a Storage bucket\n     *\n     * @param id A unique identifier for the bucket you are updating.\n     * @param options.public The visibility of the bucket. Public buckets don't require an authorization token to download objects, but still require a valid token for all other operations.\n     * @param options.fileSizeLimit specifies the max file size in bytes that can be uploaded to this bucket.\n     * The global file size limit takes precedence over this value.\n     * The default value is null, which doesn't set a per bucket file size limit.\n     * @param options.allowedMimeTypes specifies the allowed mime types that this bucket can accept during upload.\n     * The default value is null, which allows files with all mime types to be uploaded.\n     * Each mime type specified can be a wildcard, e.g. image/*, or a specific mime type, e.g. image/png.\n     */\n    updateBucket(id, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield put(this.fetch, `${this.url}/bucket/${id}`, {\n                    id,\n                    name: id,\n                    public: options.public,\n                    file_size_limit: options.fileSizeLimit,\n                    allowed_mime_types: options.allowedMimeTypes,\n                }, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Removes all objects inside a single bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to empty.\n     */\n    emptyBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield post(this.fetch, `${this.url}/bucket/${id}/empty`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * Deletes an existing bucket. A bucket can't be deleted with existing objects inside it.\n     * You must first `empty()` the bucket.\n     *\n     * @param id The unique identifier of the bucket you would like to delete.\n     */\n    deleteBucket(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const data = yield remove(this.fetch, `${this.url}/bucket/${id}`, {}, { headers: this.headers });\n                return { data, error: null };\n            }\n            catch (error) {\n                if (isStorageError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n}\n//# sourceMappingURL=StorageBucketApi.js.map","import StorageFileApi from './packages/StorageFileApi';\nimport StorageBucketApi from './packages/StorageBucketApi';\nexport class StorageClient extends StorageBucketApi {\n    constructor(url, headers = {}, fetch) {\n        super(url, headers, fetch);\n    }\n    /**\n     * Perform file operation in a bucket.\n     *\n     * @param id The bucket id to operate on.\n     */\n    from(id) {\n        return new StorageFileApi(this.url, this.headers, id, this.fetch);\n    }\n}\n//# sourceMappingURL=StorageClient.js.map","export const version = '2.49.8';\n//# sourceMappingURL=version.js.map","import { version } from './version';\nlet JS_ENV = '';\n// @ts-ignore\nif (typeof Deno !== 'undefined') {\n    JS_ENV = 'deno';\n}\nelse if (typeof document !== 'undefined') {\n    JS_ENV = 'web';\n}\nelse if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    JS_ENV = 'react-native';\n}\nelse {\n    JS_ENV = 'node';\n}\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js-${JS_ENV}/${version}` };\nexport const DEFAULT_GLOBAL_OPTIONS = {\n    headers: DEFAULT_HEADERS,\n};\nexport const DEFAULT_DB_OPTIONS = {\n    schema: 'public',\n};\nexport const DEFAULT_AUTH_OPTIONS = {\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    flowType: 'implicit',\n};\nexport const DEFAULT_REALTIME_OPTIONS = {};\n//# sourceMappingURL=constants.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// @ts-ignore\nimport nodeFetch, { Headers as NodeFetchHeaders } from '@supabase/node-fetch';\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = nodeFetch;\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const resolveHeadersConstructor = () => {\n    if (typeof Headers === 'undefined') {\n        return NodeFetchHeaders;\n    }\n    return Headers;\n};\nexport const fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n    const fetch = resolveFetch(customFetch);\n    const HeadersConstructor = resolveHeadersConstructor();\n    return (input, init) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        const accessToken = (_a = (yield getAccessToken())) !== null && _a !== void 0 ? _a : supabaseKey;\n        let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n        if (!headers.has('apikey')) {\n            headers.set('apikey', supabaseKey);\n        }\n        if (!headers.has('Authorization')) {\n            headers.set('Authorization', `Bearer ${accessToken}`);\n        }\n        return fetch(input, Object.assign(Object.assign({}, init), { headers }));\n    });\n};\n//# sourceMappingURL=fetch.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport function ensureTrailingSlash(url) {\n    return url.endsWith('/') ? url : url + '/';\n}\nexport const isBrowser = () => typeof window !== 'undefined';\nexport function applySettingDefaults(options, defaults) {\n    var _a, _b;\n    const { db: dbOptions, auth: authOptions, realtime: realtimeOptions, global: globalOptions, } = options;\n    const { db: DEFAULT_DB_OPTIONS, auth: DEFAULT_AUTH_OPTIONS, realtime: DEFAULT_REALTIME_OPTIONS, global: DEFAULT_GLOBAL_OPTIONS, } = defaults;\n    const result = {\n        db: Object.assign(Object.assign({}, DEFAULT_DB_OPTIONS), dbOptions),\n        auth: Object.assign(Object.assign({}, DEFAULT_AUTH_OPTIONS), authOptions),\n        realtime: Object.assign(Object.assign({}, DEFAULT_REALTIME_OPTIONS), realtimeOptions),\n        global: Object.assign(Object.assign(Object.assign({}, DEFAULT_GLOBAL_OPTIONS), globalOptions), { headers: Object.assign(Object.assign({}, ((_a = DEFAULT_GLOBAL_OPTIONS === null || DEFAULT_GLOBAL_OPTIONS === void 0 ? void 0 : DEFAULT_GLOBAL_OPTIONS.headers) !== null && _a !== void 0 ? _a : {})), ((_b = globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.headers) !== null && _b !== void 0 ? _b : {})) }),\n        accessToken: () => __awaiter(this, void 0, void 0, function* () { return ''; }),\n    };\n    if (options.accessToken) {\n        result.accessToken = options.accessToken;\n    }\n    else {\n        // hack around Required<>\n        delete result.accessToken;\n    }\n    return result;\n}\n//# sourceMappingURL=helpers.js.map","export const version = '2.69.1';\n//# sourceMappingURL=version.js.map","import { version } from './version';\n/** Current session will be checked for refresh at this interval. */\nexport const AUTO_REFRESH_TICK_DURATION_MS = 30 * 1000;\n/**\n * A token refresh will be attempted this many ticks before the current session expires. */\nexport const AUTO_REFRESH_TICK_THRESHOLD = 3;\n/*\n * Earliest time before an access token expires that the session should be refreshed.\n */\nexport const EXPIRY_MARGIN_MS = AUTO_REFRESH_TICK_THRESHOLD * AUTO_REFRESH_TICK_DURATION_MS;\nexport const GOTRUE_URL = 'http://localhost:9999';\nexport const STORAGE_KEY = 'supabase.auth.token';\nexport const AUDIENCE = '';\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `gotrue-js/${version}` };\nexport const NETWORK_FAILURE = {\n    MAX_RETRIES: 10,\n    RETRY_INTERVAL: 2, // in deciseconds\n};\nexport const API_VERSION_HEADER_NAME = 'X-Supabase-Api-Version';\nexport const API_VERSIONS = {\n    '2024-01-01': {\n        timestamp: Date.parse('2024-01-01T00:00:00.0Z'),\n        name: '2024-01-01',\n    },\n};\nexport const BASE64URL_REGEX = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;\nexport const JWKS_TTL = 600000; // 10 minutes\n//# sourceMappingURL=constants.js.map","export class AuthError extends Error {\n    constructor(message, status, code) {\n        super(message);\n        this.__isAuthError = true;\n        this.name = 'AuthError';\n        this.status = status;\n        this.code = code;\n    }\n}\nexport function isAuthError(error) {\n    return typeof error === 'object' && error !== null && '__isAuthError' in error;\n}\nexport class AuthApiError extends AuthError {\n    constructor(message, status, code) {\n        super(message, status, code);\n        this.name = 'AuthApiError';\n        this.status = status;\n        this.code = code;\n    }\n}\nexport function isAuthApiError(error) {\n    return isAuthError(error) && error.name === 'AuthApiError';\n}\nexport class AuthUnknownError extends AuthError {\n    constructor(message, originalError) {\n        super(message);\n        this.name = 'AuthUnknownError';\n        this.originalError = originalError;\n    }\n}\nexport class CustomAuthError extends AuthError {\n    constructor(message, name, status, code) {\n        super(message, status, code);\n        this.name = name;\n        this.status = status;\n    }\n}\nexport class AuthSessionMissingError extends CustomAuthError {\n    constructor() {\n        super('Auth session missing!', 'AuthSessionMissingError', 400, undefined);\n    }\n}\nexport function isAuthSessionMissingError(error) {\n    return isAuthError(error) && error.name === 'AuthSessionMissingError';\n}\nexport class AuthInvalidTokenResponseError extends CustomAuthError {\n    constructor() {\n        super('Auth session or user missing', 'AuthInvalidTokenResponseError', 500, undefined);\n    }\n}\nexport class AuthInvalidCredentialsError extends CustomAuthError {\n    constructor(message) {\n        super(message, 'AuthInvalidCredentialsError', 400, undefined);\n    }\n}\nexport class AuthImplicitGrantRedirectError extends CustomAuthError {\n    constructor(message, details = null) {\n        super(message, 'AuthImplicitGrantRedirectError', 500, undefined);\n        this.details = null;\n        this.details = details;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n            details: this.details,\n        };\n    }\n}\nexport function isAuthImplicitGrantRedirectError(error) {\n    return isAuthError(error) && error.name === 'AuthImplicitGrantRedirectError';\n}\nexport class AuthPKCEGrantCodeExchangeError extends CustomAuthError {\n    constructor(message, details = null) {\n        super(message, 'AuthPKCEGrantCodeExchangeError', 500, undefined);\n        this.details = null;\n        this.details = details;\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            message: this.message,\n            status: this.status,\n            details: this.details,\n        };\n    }\n}\nexport class AuthRetryableFetchError extends CustomAuthError {\n    constructor(message, status) {\n        super(message, 'AuthRetryableFetchError', status, undefined);\n    }\n}\nexport function isAuthRetryableFetchError(error) {\n    return isAuthError(error) && error.name === 'AuthRetryableFetchError';\n}\n/**\n * This error is thrown on certain methods when the password used is deemed\n * weak. Inspect the reasons to identify what password strength rules are\n * inadequate.\n */\nexport class AuthWeakPasswordError extends CustomAuthError {\n    constructor(message, status, reasons) {\n        super(message, 'AuthWeakPasswordError', status, 'weak_password');\n        this.reasons = reasons;\n    }\n}\nexport function isAuthWeakPasswordError(error) {\n    return isAuthError(error) && error.name === 'AuthWeakPasswordError';\n}\nexport class AuthInvalidJwtError extends CustomAuthError {\n    constructor(message) {\n        super(message, 'AuthInvalidJwtError', 400, 'invalid_jwt');\n    }\n}\n//# sourceMappingURL=errors.js.map","/**\n * Avoid modifying this file. It's part of\n * https://github.com/supabase-community/base64url-js.  Submit all fixes on\n * that repo!\n */\n/**\n * An array of characters that encode 6 bits into a Base64-URL alphabet\n * character.\n */\nconst TO_BASE64URL = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'.split('');\n/**\n * An array of characters that can appear in a Base64-URL encoded string but\n * should be ignored.\n */\nconst IGNORE_BASE64URL = ' \\t\\n\\r='.split('');\n/**\n * An array of 128 numbers that map a Base64-URL character to 6 bits, or if -2\n * used to skip the character, or if -1 used to error out.\n */\nconst FROM_BASE64URL = (() => {\n    const charMap = new Array(128);\n    for (let i = 0; i < charMap.length; i += 1) {\n        charMap[i] = -1;\n    }\n    for (let i = 0; i < IGNORE_BASE64URL.length; i += 1) {\n        charMap[IGNORE_BASE64URL[i].charCodeAt(0)] = -2;\n    }\n    for (let i = 0; i < TO_BASE64URL.length; i += 1) {\n        charMap[TO_BASE64URL[i].charCodeAt(0)] = i;\n    }\n    return charMap;\n})();\n/**\n * Converts a byte to a Base64-URL string.\n *\n * @param byte The byte to convert, or null to flush at the end of the byte sequence.\n * @param state The Base64 conversion state. Pass an initial value of `{ queue: 0, queuedBits: 0 }`.\n * @param emit A function called with the next Base64 character when ready.\n */\nexport function byteToBase64URL(byte, state, emit) {\n    if (byte !== null) {\n        state.queue = (state.queue << 8) | byte;\n        state.queuedBits += 8;\n        while (state.queuedBits >= 6) {\n            const pos = (state.queue >> (state.queuedBits - 6)) & 63;\n            emit(TO_BASE64URL[pos]);\n            state.queuedBits -= 6;\n        }\n    }\n    else if (state.queuedBits > 0) {\n        state.queue = state.queue << (6 - state.queuedBits);\n        state.queuedBits = 6;\n        while (state.queuedBits >= 6) {\n            const pos = (state.queue >> (state.queuedBits - 6)) & 63;\n            emit(TO_BASE64URL[pos]);\n            state.queuedBits -= 6;\n        }\n    }\n}\n/**\n * Converts a String char code (extracted using `string.charCodeAt(position)`) to a sequence of Base64-URL characters.\n *\n * @param charCode The char code of the JavaScript string.\n * @param state The Base64 state. Pass an initial value of `{ queue: 0, queuedBits: 0 }`.\n * @param emit A function called with the next byte.\n */\nexport function byteFromBase64URL(charCode, state, emit) {\n    const bits = FROM_BASE64URL[charCode];\n    if (bits > -1) {\n        // valid Base64-URL character\n        state.queue = (state.queue << 6) | bits;\n        state.queuedBits += 6;\n        while (state.queuedBits >= 8) {\n            emit((state.queue >> (state.queuedBits - 8)) & 0xff);\n            state.queuedBits -= 8;\n        }\n    }\n    else if (bits === -2) {\n        // ignore spaces, tabs, newlines, =\n        return;\n    }\n    else {\n        throw new Error(`Invalid Base64-URL character \"${String.fromCharCode(charCode)}\"`);\n    }\n}\n/**\n * Converts a JavaScript string (which may include any valid character) into a\n * Base64-URL encoded string. The string is first encoded in UTF-8 which is\n * then encoded as Base64-URL.\n *\n * @param str The string to convert.\n */\nexport function stringToBase64URL(str) {\n    const base64 = [];\n    const emitter = (char) => {\n        base64.push(char);\n    };\n    const state = { queue: 0, queuedBits: 0 };\n    stringToUTF8(str, (byte) => {\n        byteToBase64URL(byte, state, emitter);\n    });\n    byteToBase64URL(null, state, emitter);\n    return base64.join('');\n}\n/**\n * Converts a Base64-URL encoded string into a JavaScript string. It is assumed\n * that the underlying string has been encoded as UTF-8.\n *\n * @param str The Base64-URL encoded string.\n */\nexport function stringFromBase64URL(str) {\n    const conv = [];\n    const utf8Emit = (codepoint) => {\n        conv.push(String.fromCodePoint(codepoint));\n    };\n    const utf8State = {\n        utf8seq: 0,\n        codepoint: 0,\n    };\n    const b64State = { queue: 0, queuedBits: 0 };\n    const byteEmit = (byte) => {\n        stringFromUTF8(byte, utf8State, utf8Emit);\n    };\n    for (let i = 0; i < str.length; i += 1) {\n        byteFromBase64URL(str.charCodeAt(i), b64State, byteEmit);\n    }\n    return conv.join('');\n}\n/**\n * Converts a Unicode codepoint to a multi-byte UTF-8 sequence.\n *\n * @param codepoint The Unicode codepoint.\n * @param emit      Function which will be called for each UTF-8 byte that represents the codepoint.\n */\nexport function codepointToUTF8(codepoint, emit) {\n    if (codepoint <= 0x7f) {\n        emit(codepoint);\n        return;\n    }\n    else if (codepoint <= 0x7ff) {\n        emit(0xc0 | (codepoint >> 6));\n        emit(0x80 | (codepoint & 0x3f));\n        return;\n    }\n    else if (codepoint <= 0xffff) {\n        emit(0xe0 | (codepoint >> 12));\n        emit(0x80 | ((codepoint >> 6) & 0x3f));\n        emit(0x80 | (codepoint & 0x3f));\n        return;\n    }\n    else if (codepoint <= 0x10ffff) {\n        emit(0xf0 | (codepoint >> 18));\n        emit(0x80 | ((codepoint >> 12) & 0x3f));\n        emit(0x80 | ((codepoint >> 6) & 0x3f));\n        emit(0x80 | (codepoint & 0x3f));\n        return;\n    }\n    throw new Error(`Unrecognized Unicode codepoint: ${codepoint.toString(16)}`);\n}\n/**\n * Converts a JavaScript string to a sequence of UTF-8 bytes.\n *\n * @param str  The string to convert to UTF-8.\n * @param emit Function which will be called for each UTF-8 byte of the string.\n */\nexport function stringToUTF8(str, emit) {\n    for (let i = 0; i < str.length; i += 1) {\n        let codepoint = str.charCodeAt(i);\n        if (codepoint > 0xd7ff && codepoint <= 0xdbff) {\n            // most UTF-16 codepoints are Unicode codepoints, except values in this\n            // range where the next UTF-16 codepoint needs to be combined with the\n            // current one to get the Unicode codepoint\n            const highSurrogate = ((codepoint - 0xd800) * 0x400) & 0xffff;\n            const lowSurrogate = (str.charCodeAt(i + 1) - 0xdc00) & 0xffff;\n            codepoint = (lowSurrogate | highSurrogate) + 0x10000;\n            i += 1;\n        }\n        codepointToUTF8(codepoint, emit);\n    }\n}\n/**\n * Converts a UTF-8 byte to a Unicode codepoint.\n *\n * @param byte  The UTF-8 byte next in the sequence.\n * @param state The shared state between consecutive UTF-8 bytes in the\n *              sequence, an object with the shape `{ utf8seq: 0, codepoint: 0 }`.\n * @param emit  Function which will be called for each codepoint.\n */\nexport function stringFromUTF8(byte, state, emit) {\n    if (state.utf8seq === 0) {\n        if (byte <= 0x7f) {\n            emit(byte);\n            return;\n        }\n        // count the number of 1 leading bits until you reach 0\n        for (let leadingBit = 1; leadingBit < 6; leadingBit += 1) {\n            if (((byte >> (7 - leadingBit)) & 1) === 0) {\n                state.utf8seq = leadingBit;\n                break;\n            }\n        }\n        if (state.utf8seq === 2) {\n            state.codepoint = byte & 31;\n        }\n        else if (state.utf8seq === 3) {\n            state.codepoint = byte & 15;\n        }\n        else if (state.utf8seq === 4) {\n            state.codepoint = byte & 7;\n        }\n        else {\n            throw new Error('Invalid UTF-8 sequence');\n        }\n        state.utf8seq -= 1;\n    }\n    else if (state.utf8seq > 0) {\n        if (byte <= 0x7f) {\n            throw new Error('Invalid UTF-8 sequence');\n        }\n        state.codepoint = (state.codepoint << 6) | (byte & 63);\n        state.utf8seq -= 1;\n        if (state.utf8seq === 0) {\n            emit(state.codepoint);\n        }\n    }\n}\n/**\n * Helper functions to convert different types of strings to Uint8Array\n */\nexport function base64UrlToUint8Array(str) {\n    const result = [];\n    const state = { queue: 0, queuedBits: 0 };\n    const onByte = (byte) => {\n        result.push(byte);\n    };\n    for (let i = 0; i < str.length; i += 1) {\n        byteFromBase64URL(str.charCodeAt(i), state, onByte);\n    }\n    return new Uint8Array(result);\n}\nexport function stringToUint8Array(str) {\n    const result = [];\n    stringToUTF8(str, (byte) => result.push(byte));\n    return new Uint8Array(result);\n}\n//# sourceMappingURL=base64url.js.map","import { API_VERSION_HEADER_NAME, BASE64URL_REGEX } from './constants';\nimport { AuthInvalidJwtError } from './errors';\nimport { base64UrlToUint8Array, stringFromBase64URL } from './base64url';\nexport function expiresAt(expiresIn) {\n    const timeNow = Math.round(Date.now() / 1000);\n    return timeNow + expiresIn;\n}\nexport function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nexport const isBrowser = () => typeof window !== 'undefined' && typeof document !== 'undefined';\nconst localStorageWriteTests = {\n    tested: false,\n    writable: false,\n};\n/**\n * Checks whether localStorage is supported on this browser.\n */\nexport const supportsLocalStorage = () => {\n    if (!isBrowser()) {\n        return false;\n    }\n    try {\n        if (typeof globalThis.localStorage !== 'object') {\n            return false;\n        }\n    }\n    catch (e) {\n        // DOM exception when accessing `localStorage`\n        return false;\n    }\n    if (localStorageWriteTests.tested) {\n        return localStorageWriteTests.writable;\n    }\n    const randomKey = `lswt-${Math.random()}${Math.random()}`;\n    try {\n        globalThis.localStorage.setItem(randomKey, randomKey);\n        globalThis.localStorage.removeItem(randomKey);\n        localStorageWriteTests.tested = true;\n        localStorageWriteTests.writable = true;\n    }\n    catch (e) {\n        // localStorage can't be written to\n        // https://www.chromium.org/for-testers/bug-reporting-guidelines/uncaught-securityerror-failed-to-read-the-localstorage-property-from-window-access-is-denied-for-this-document\n        localStorageWriteTests.tested = true;\n        localStorageWriteTests.writable = false;\n    }\n    return localStorageWriteTests.writable;\n};\n/**\n * Extracts parameters encoded in the URL both in the query and fragment.\n */\nexport function parseParametersFromURL(href) {\n    const result = {};\n    const url = new URL(href);\n    if (url.hash && url.hash[0] === '#') {\n        try {\n            const hashSearchParams = new URLSearchParams(url.hash.substring(1));\n            hashSearchParams.forEach((value, key) => {\n                result[key] = value;\n            });\n        }\n        catch (e) {\n            // hash is not a query string\n        }\n    }\n    // search parameters take precedence over hash parameters\n    url.searchParams.forEach((value, key) => {\n        result[key] = value;\n    });\n    return result;\n}\nexport const resolveFetch = (customFetch) => {\n    let _fetch;\n    if (customFetch) {\n        _fetch = customFetch;\n    }\n    else if (typeof fetch === 'undefined') {\n        _fetch = (...args) => import('@supabase/node-fetch').then(({ default: fetch }) => fetch(...args));\n    }\n    else {\n        _fetch = fetch;\n    }\n    return (...args) => _fetch(...args);\n};\nexport const looksLikeFetchResponse = (maybeResponse) => {\n    return (typeof maybeResponse === 'object' &&\n        maybeResponse !== null &&\n        'status' in maybeResponse &&\n        'ok' in maybeResponse &&\n        'json' in maybeResponse &&\n        typeof maybeResponse.json === 'function');\n};\n// Storage helpers\nexport const setItemAsync = async (storage, key, data) => {\n    await storage.setItem(key, JSON.stringify(data));\n};\nexport const getItemAsync = async (storage, key) => {\n    const value = await storage.getItem(key);\n    if (!value) {\n        return null;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n};\nexport const removeItemAsync = async (storage, key) => {\n    await storage.removeItem(key);\n};\n/**\n * A deferred represents some asynchronous work that is not yet finished, which\n * may or may not culminate in a value.\n * Taken from: https://github.com/mike-north/types/blob/master/src/async.ts\n */\nexport class Deferred {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\n        ;\n        this.promise = new Deferred.promiseConstructor((res, rej) => {\n            // eslint-disable-next-line @typescript-eslint/no-extra-semi\n            ;\n            this.resolve = res;\n            this.reject = rej;\n        });\n    }\n}\nDeferred.promiseConstructor = Promise;\nexport function decodeJWT(token) {\n    const parts = token.split('.');\n    if (parts.length !== 3) {\n        throw new AuthInvalidJwtError('Invalid JWT structure');\n    }\n    // Regex checks for base64url format\n    for (let i = 0; i < parts.length; i++) {\n        if (!BASE64URL_REGEX.test(parts[i])) {\n            throw new AuthInvalidJwtError('JWT not in base64url format');\n        }\n    }\n    const data = {\n        // using base64url lib\n        header: JSON.parse(stringFromBase64URL(parts[0])),\n        payload: JSON.parse(stringFromBase64URL(parts[1])),\n        signature: base64UrlToUint8Array(parts[2]),\n        raw: {\n            header: parts[0],\n            payload: parts[1],\n        },\n    };\n    return data;\n}\n/**\n * Creates a promise that resolves to null after some time.\n */\nexport async function sleep(time) {\n    return await new Promise((accept) => {\n        setTimeout(() => accept(null), time);\n    });\n}\n/**\n * Converts the provided async function into a retryable function. Each result\n * or thrown error is sent to the isRetryable function which should return true\n * if the function should run again.\n */\nexport function retryable(fn, isRetryable) {\n    const promise = new Promise((accept, reject) => {\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\n        ;\n        (async () => {\n            for (let attempt = 0; attempt < Infinity; attempt++) {\n                try {\n                    const result = await fn(attempt);\n                    if (!isRetryable(attempt, null, result)) {\n                        accept(result);\n                        return;\n                    }\n                }\n                catch (e) {\n                    if (!isRetryable(attempt, e)) {\n                        reject(e);\n                        return;\n                    }\n                }\n            }\n        })();\n    });\n    return promise;\n}\nfunction dec2hex(dec) {\n    return ('0' + dec.toString(16)).substr(-2);\n}\n// Functions below taken from: https://stackoverflow.com/questions/63309409/creating-a-code-verifier-and-challenge-for-pkce-auth-on-spotify-api-in-reactjs\nexport function generatePKCEVerifier() {\n    const verifierLength = 56;\n    const array = new Uint32Array(verifierLength);\n    if (typeof crypto === 'undefined') {\n        const charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n        const charSetLen = charSet.length;\n        let verifier = '';\n        for (let i = 0; i < verifierLength; i++) {\n            verifier += charSet.charAt(Math.floor(Math.random() * charSetLen));\n        }\n        return verifier;\n    }\n    crypto.getRandomValues(array);\n    return Array.from(array, dec2hex).join('');\n}\nasync function sha256(randomString) {\n    const encoder = new TextEncoder();\n    const encodedData = encoder.encode(randomString);\n    const hash = await crypto.subtle.digest('SHA-256', encodedData);\n    const bytes = new Uint8Array(hash);\n    return Array.from(bytes)\n        .map((c) => String.fromCharCode(c))\n        .join('');\n}\nexport async function generatePKCEChallenge(verifier) {\n    const hasCryptoSupport = typeof crypto !== 'undefined' &&\n        typeof crypto.subtle !== 'undefined' &&\n        typeof TextEncoder !== 'undefined';\n    if (!hasCryptoSupport) {\n        console.warn('WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.');\n        return verifier;\n    }\n    const hashed = await sha256(verifier);\n    return btoa(hashed).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\nexport async function getCodeChallengeAndMethod(storage, storageKey, isPasswordRecovery = false) {\n    const codeVerifier = generatePKCEVerifier();\n    let storedCodeVerifier = codeVerifier;\n    if (isPasswordRecovery) {\n        storedCodeVerifier += '/PASSWORD_RECOVERY';\n    }\n    await setItemAsync(storage, `${storageKey}-code-verifier`, storedCodeVerifier);\n    const codeChallenge = await generatePKCEChallenge(codeVerifier);\n    const codeChallengeMethod = codeVerifier === codeChallenge ? 'plain' : 's256';\n    return [codeChallenge, codeChallengeMethod];\n}\n/** Parses the API version which is 2YYY-MM-DD. */\nconst API_VERSION_REGEX = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;\nexport function parseResponseAPIVersion(response) {\n    const apiVersion = response.headers.get(API_VERSION_HEADER_NAME);\n    if (!apiVersion) {\n        return null;\n    }\n    if (!apiVersion.match(API_VERSION_REGEX)) {\n        return null;\n    }\n    try {\n        const date = new Date(`${apiVersion}T00:00:00.0Z`);\n        return date;\n    }\n    catch (e) {\n        return null;\n    }\n}\nexport function validateExp(exp) {\n    if (!exp) {\n        throw new Error('Missing exp claim');\n    }\n    const timeNow = Math.floor(Date.now() / 1000);\n    if (exp <= timeNow) {\n        throw new Error('JWT has expired');\n    }\n}\nexport function getAlgorithm(alg) {\n    switch (alg) {\n        case 'RS256':\n            return {\n                name: 'RSASSA-PKCS1-v1_5',\n                hash: { name: 'SHA-256' },\n            };\n        case 'ES256':\n            return {\n                name: 'ECDSA',\n                namedCurve: 'P-256',\n                hash: { name: 'SHA-256' },\n            };\n        default:\n            throw new Error('Invalid alg claim');\n    }\n}\n//# sourceMappingURL=helpers.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { API_VERSIONS, API_VERSION_HEADER_NAME } from './constants';\nimport { expiresAt, looksLikeFetchResponse, parseResponseAPIVersion } from './helpers';\nimport { AuthApiError, AuthRetryableFetchError, AuthWeakPasswordError, AuthUnknownError, AuthSessionMissingError, } from './errors';\nconst _getErrorMessage = (err) => err.msg || err.message || err.error_description || err.error || JSON.stringify(err);\nconst NETWORK_ERROR_CODES = [502, 503, 504];\nexport async function handleError(error) {\n    var _a;\n    if (!looksLikeFetchResponse(error)) {\n        throw new AuthRetryableFetchError(_getErrorMessage(error), 0);\n    }\n    if (NETWORK_ERROR_CODES.includes(error.status)) {\n        // status in 500...599 range - server had an error, request might be retryed.\n        throw new AuthRetryableFetchError(_getErrorMessage(error), error.status);\n    }\n    let data;\n    try {\n        data = await error.json();\n    }\n    catch (e) {\n        throw new AuthUnknownError(_getErrorMessage(e), e);\n    }\n    let errorCode = undefined;\n    const responseAPIVersion = parseResponseAPIVersion(error);\n    if (responseAPIVersion &&\n        responseAPIVersion.getTime() >= API_VERSIONS['2024-01-01'].timestamp &&\n        typeof data === 'object' &&\n        data &&\n        typeof data.code === 'string') {\n        errorCode = data.code;\n    }\n    else if (typeof data === 'object' && data && typeof data.error_code === 'string') {\n        errorCode = data.error_code;\n    }\n    if (!errorCode) {\n        // Legacy support for weak password errors, when there were no error codes\n        if (typeof data === 'object' &&\n            data &&\n            typeof data.weak_password === 'object' &&\n            data.weak_password &&\n            Array.isArray(data.weak_password.reasons) &&\n            data.weak_password.reasons.length &&\n            data.weak_password.reasons.reduce((a, i) => a && typeof i === 'string', true)) {\n            throw new AuthWeakPasswordError(_getErrorMessage(data), error.status, data.weak_password.reasons);\n        }\n    }\n    else if (errorCode === 'weak_password') {\n        throw new AuthWeakPasswordError(_getErrorMessage(data), error.status, ((_a = data.weak_password) === null || _a === void 0 ? void 0 : _a.reasons) || []);\n    }\n    else if (errorCode === 'session_not_found') {\n        // The `session_id` inside the JWT does not correspond to a row in the\n        // `sessions` table. This usually means the user has signed out, has been\n        // deleted, or their session has somehow been terminated.\n        throw new AuthSessionMissingError();\n    }\n    throw new AuthApiError(_getErrorMessage(data), error.status || 500, errorCode);\n}\nconst _getRequestParams = (method, options, parameters, body) => {\n    const params = { method, headers: (options === null || options === void 0 ? void 0 : options.headers) || {} };\n    if (method === 'GET') {\n        return params;\n    }\n    params.headers = Object.assign({ 'Content-Type': 'application/json;charset=UTF-8' }, options === null || options === void 0 ? void 0 : options.headers);\n    params.body = JSON.stringify(body);\n    return Object.assign(Object.assign({}, params), parameters);\n};\nexport async function _request(fetcher, method, url, options) {\n    var _a;\n    const headers = Object.assign({}, options === null || options === void 0 ? void 0 : options.headers);\n    if (!headers[API_VERSION_HEADER_NAME]) {\n        headers[API_VERSION_HEADER_NAME] = API_VERSIONS['2024-01-01'].name;\n    }\n    if (options === null || options === void 0 ? void 0 : options.jwt) {\n        headers['Authorization'] = `Bearer ${options.jwt}`;\n    }\n    const qs = (_a = options === null || options === void 0 ? void 0 : options.query) !== null && _a !== void 0 ? _a : {};\n    if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n        qs['redirect_to'] = options.redirectTo;\n    }\n    const queryString = Object.keys(qs).length ? '?' + new URLSearchParams(qs).toString() : '';\n    const data = await _handleRequest(fetcher, method, url + queryString, {\n        headers,\n        noResolveJson: options === null || options === void 0 ? void 0 : options.noResolveJson,\n    }, {}, options === null || options === void 0 ? void 0 : options.body);\n    return (options === null || options === void 0 ? void 0 : options.xform) ? options === null || options === void 0 ? void 0 : options.xform(data) : { data: Object.assign({}, data), error: null };\n}\nasync function _handleRequest(fetcher, method, url, options, parameters, body) {\n    const requestParams = _getRequestParams(method, options, parameters, body);\n    let result;\n    try {\n        result = await fetcher(url, Object.assign({}, requestParams));\n    }\n    catch (e) {\n        console.error(e);\n        // fetch failed, likely due to a network or CORS error\n        throw new AuthRetryableFetchError(_getErrorMessage(e), 0);\n    }\n    if (!result.ok) {\n        await handleError(result);\n    }\n    if (options === null || options === void 0 ? void 0 : options.noResolveJson) {\n        return result;\n    }\n    try {\n        return await result.json();\n    }\n    catch (e) {\n        await handleError(e);\n    }\n}\nexport function _sessionResponse(data) {\n    var _a;\n    let session = null;\n    if (hasSession(data)) {\n        session = Object.assign({}, data);\n        if (!data.expires_at) {\n            session.expires_at = expiresAt(data.expires_in);\n        }\n    }\n    const user = (_a = data.user) !== null && _a !== void 0 ? _a : data;\n    return { data: { session, user }, error: null };\n}\nexport function _sessionResponsePassword(data) {\n    const response = _sessionResponse(data);\n    if (!response.error &&\n        data.weak_password &&\n        typeof data.weak_password === 'object' &&\n        Array.isArray(data.weak_password.reasons) &&\n        data.weak_password.reasons.length &&\n        data.weak_password.message &&\n        typeof data.weak_password.message === 'string' &&\n        data.weak_password.reasons.reduce((a, i) => a && typeof i === 'string', true)) {\n        response.data.weak_password = data.weak_password;\n    }\n    return response;\n}\nexport function _userResponse(data) {\n    var _a;\n    const user = (_a = data.user) !== null && _a !== void 0 ? _a : data;\n    return { data: { user }, error: null };\n}\nexport function _ssoResponse(data) {\n    return { data, error: null };\n}\nexport function _generateLinkResponse(data) {\n    const { action_link, email_otp, hashed_token, redirect_to, verification_type } = data, rest = __rest(data, [\"action_link\", \"email_otp\", \"hashed_token\", \"redirect_to\", \"verification_type\"]);\n    const properties = {\n        action_link,\n        email_otp,\n        hashed_token,\n        redirect_to,\n        verification_type,\n    };\n    const user = Object.assign({}, rest);\n    return {\n        data: {\n            properties,\n            user,\n        },\n        error: null,\n    };\n}\nexport function _noResolveJsonResponse(data) {\n    return data;\n}\n/**\n * hasSession checks if the response object contains a valid session\n * @param data A response object\n * @returns true if a session is in the response\n */\nfunction hasSession(data) {\n    return data.access_token && data.refresh_token && data.expires_in;\n}\n//# sourceMappingURL=fetch.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { _generateLinkResponse, _noResolveJsonResponse, _request, _userResponse, } from './lib/fetch';\nimport { resolveFetch } from './lib/helpers';\nimport { isAuthError } from './lib/errors';\nexport default class GoTrueAdminApi {\n    constructor({ url = '', headers = {}, fetch, }) {\n        this.url = url;\n        this.headers = headers;\n        this.fetch = resolveFetch(fetch);\n        this.mfa = {\n            listFactors: this._listFactors.bind(this),\n            deleteFactor: this._deleteFactor.bind(this),\n        };\n    }\n    /**\n     * Removes a logged-in session.\n     * @param jwt A valid, logged-in JWT.\n     * @param scope The logout sope.\n     */\n    async signOut(jwt, scope = 'global') {\n        try {\n            await _request(this.fetch, 'POST', `${this.url}/logout?scope=${scope}`, {\n                headers: this.headers,\n                jwt,\n                noResolveJson: true,\n            });\n            return { data: null, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sends an invite link to an email address.\n     * @param email The email address of the user.\n     * @param options Additional options to be included when inviting.\n     */\n    async inviteUserByEmail(email, options = {}) {\n        try {\n            return await _request(this.fetch, 'POST', `${this.url}/invite`, {\n                body: { email, data: options.data },\n                headers: this.headers,\n                redirectTo: options.redirectTo,\n                xform: _userResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Generates email links and OTPs to be sent via a custom email provider.\n     * @param email The user's email.\n     * @param options.password User password. For signup only.\n     * @param options.data Optional user metadata. For signup only.\n     * @param options.redirectTo The redirect url which should be appended to the generated link\n     */\n    async generateLink(params) {\n        try {\n            const { options } = params, rest = __rest(params, [\"options\"]);\n            const body = Object.assign(Object.assign({}, rest), options);\n            if ('newEmail' in rest) {\n                // replace newEmail with new_email in request body\n                body.new_email = rest === null || rest === void 0 ? void 0 : rest.newEmail;\n                delete body['newEmail'];\n            }\n            return await _request(this.fetch, 'POST', `${this.url}/admin/generate_link`, {\n                body: body,\n                headers: this.headers,\n                xform: _generateLinkResponse,\n                redirectTo: options === null || options === void 0 ? void 0 : options.redirectTo,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return {\n                    data: {\n                        properties: null,\n                        user: null,\n                    },\n                    error,\n                };\n            }\n            throw error;\n        }\n    }\n    // User Admin API\n    /**\n     * Creates a new user.\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    async createUser(attributes) {\n        try {\n            return await _request(this.fetch, 'POST', `${this.url}/admin/users`, {\n                body: attributes,\n                headers: this.headers,\n                xform: _userResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Get a list of users.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     * @param params An object which supports `page` and `perPage` as numbers, to alter the paginated results.\n     */\n    async listUsers(params) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        try {\n            const pagination = { nextPage: null, lastPage: 0, total: 0 };\n            const response = await _request(this.fetch, 'GET', `${this.url}/admin/users`, {\n                headers: this.headers,\n                noResolveJson: true,\n                query: {\n                    page: (_b = (_a = params === null || params === void 0 ? void 0 : params.page) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '',\n                    per_page: (_d = (_c = params === null || params === void 0 ? void 0 : params.perPage) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : '',\n                },\n                xform: _noResolveJsonResponse,\n            });\n            if (response.error)\n                throw response.error;\n            const users = await response.json();\n            const total = (_e = response.headers.get('x-total-count')) !== null && _e !== void 0 ? _e : 0;\n            const links = (_g = (_f = response.headers.get('link')) === null || _f === void 0 ? void 0 : _f.split(',')) !== null && _g !== void 0 ? _g : [];\n            if (links.length > 0) {\n                links.forEach((link) => {\n                    const page = parseInt(link.split(';')[0].split('=')[1].substring(0, 1));\n                    const rel = JSON.parse(link.split(';')[1].split('=')[1]);\n                    pagination[`${rel}Page`] = page;\n                });\n                pagination.total = parseInt(total);\n            }\n            return { data: Object.assign(Object.assign({}, users), pagination), error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { users: [] }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Get user by id.\n     *\n     * @param uid The user's unique identifier\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    async getUserById(uid) {\n        try {\n            return await _request(this.fetch, 'GET', `${this.url}/admin/users/${uid}`, {\n                headers: this.headers,\n                xform: _userResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Updates the user data.\n     *\n     * @param attributes The data you want to update.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    async updateUserById(uid, attributes) {\n        try {\n            return await _request(this.fetch, 'PUT', `${this.url}/admin/users/${uid}`, {\n                body: attributes,\n                headers: this.headers,\n                xform: _userResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Delete a user. Requires a `service_role` key.\n     *\n     * @param id The user id you want to remove.\n     * @param shouldSoftDelete If true, then the user will be soft-deleted from the auth schema. Soft deletion allows user identification from the hashed user ID but is not reversible.\n     * Defaults to false for backward compatibility.\n     *\n     * This function should only be called on a server. Never expose your `service_role` key in the browser.\n     */\n    async deleteUser(id, shouldSoftDelete = false) {\n        try {\n            return await _request(this.fetch, 'DELETE', `${this.url}/admin/users/${id}`, {\n                headers: this.headers,\n                body: {\n                    should_soft_delete: shouldSoftDelete,\n                },\n                xform: _userResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    async _listFactors(params) {\n        try {\n            const { data, error } = await _request(this.fetch, 'GET', `${this.url}/admin/users/${params.userId}/factors`, {\n                headers: this.headers,\n                xform: (factors) => {\n                    return { data: { factors }, error: null };\n                },\n            });\n            return { data, error };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    async _deleteFactor(params) {\n        try {\n            const data = await _request(this.fetch, 'DELETE', `${this.url}/admin/users/${params.userId}/factors/${params.id}`, {\n                headers: this.headers,\n            });\n            return { data, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=GoTrueAdminApi.js.map","import { supportsLocalStorage } from './helpers';\n/**\n * Provides safe access to the globalThis.localStorage property.\n */\nexport const localStorageAdapter = {\n    getItem: (key) => {\n        if (!supportsLocalStorage()) {\n            return null;\n        }\n        return globalThis.localStorage.getItem(key);\n    },\n    setItem: (key, value) => {\n        if (!supportsLocalStorage()) {\n            return;\n        }\n        globalThis.localStorage.setItem(key, value);\n    },\n    removeItem: (key) => {\n        if (!supportsLocalStorage()) {\n            return;\n        }\n        globalThis.localStorage.removeItem(key);\n    },\n};\n/**\n * Returns a localStorage-like object that stores the key-value pairs in\n * memory.\n */\nexport function memoryLocalStorageAdapter(store = {}) {\n    return {\n        getItem: (key) => {\n            return store[key] || null;\n        },\n        setItem: (key, value) => {\n            store[key] = value;\n        },\n        removeItem: (key) => {\n            delete store[key];\n        },\n    };\n}\n//# sourceMappingURL=local-storage.js.map","/**\n * https://mathiasbynens.be/notes/globalthis\n */\nexport function polyfillGlobalThis() {\n    if (typeof globalThis === 'object')\n        return;\n    try {\n        Object.defineProperty(Object.prototype, '__magic__', {\n            get: function () {\n                return this;\n            },\n            configurable: true,\n        });\n        // @ts-expect-error 'Allow access to magic'\n        __magic__.globalThis = __magic__;\n        // @ts-expect-error 'Allow access to magic'\n        delete Object.prototype.__magic__;\n    }\n    catch (e) {\n        if (typeof self !== 'undefined') {\n            // @ts-expect-error 'Allow access to globals'\n            self.globalThis = self;\n        }\n    }\n}\n//# sourceMappingURL=polyfills.js.map","import { supportsLocalStorage } from './helpers';\n/**\n * @experimental\n */\nexport const internals = {\n    /**\n     * @experimental\n     */\n    debug: !!(globalThis &&\n        supportsLocalStorage() &&\n        globalThis.localStorage &&\n        globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug') === 'true'),\n};\n/**\n * An error thrown when a lock cannot be acquired after some amount of time.\n *\n * Use the {@link #isAcquireTimeout} property instead of checking with `instanceof`.\n */\nexport class LockAcquireTimeoutError extends Error {\n    constructor(message) {\n        super(message);\n        this.isAcquireTimeout = true;\n    }\n}\nexport class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError {\n}\nexport class ProcessLockAcquireTimeoutError extends LockAcquireTimeoutError {\n}\n/**\n * Implements a global exclusive lock using the Navigator LockManager API. It\n * is available on all browsers released after 2022-03-15 with Safari being the\n * last one to release support. If the API is not available, this function will\n * throw. Make sure you check availablility before configuring {@link\n * GoTrueClient}.\n *\n * You can turn on debugging by setting the `supabase.gotrue-js.locks.debug`\n * local storage item to `true`.\n *\n * Internals:\n *\n * Since the LockManager API does not preserve stack traces for the async\n * function passed in the `request` method, a trick is used where acquiring the\n * lock releases a previously started promise to run the operation in the `fn`\n * function. The lock waits for that promise to finish (with or without error),\n * while the function will finally wait for the result anyway.\n *\n * @param name Name of the lock to be acquired.\n * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n *                       the lock can't be acquired without waiting. If positive, the lock acquire\n *                       will time out after so many milliseconds. An error is\n *                       a timeout if it has `isAcquireTimeout` set to true.\n * @param fn The operation to run once the lock is acquired.\n */\nexport async function navigatorLock(name, acquireTimeout, fn) {\n    if (internals.debug) {\n        console.log('@supabase/gotrue-js: navigatorLock: acquire lock', name, acquireTimeout);\n    }\n    const abortController = new globalThis.AbortController();\n    if (acquireTimeout > 0) {\n        setTimeout(() => {\n            abortController.abort();\n            if (internals.debug) {\n                console.log('@supabase/gotrue-js: navigatorLock acquire timed out', name);\n            }\n        }, acquireTimeout);\n    }\n    // MDN article: https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request\n    // Wrapping navigator.locks.request() with a plain Promise is done as some\n    // libraries like zone.js patch the Promise object to track the execution\n    // context. However, it appears that most browsers use an internal promise\n    // implementation when using the navigator.locks.request() API causing them\n    // to lose context and emit confusing log messages or break certain features.\n    // This wrapping is believed to help zone.js track the execution context\n    // better.\n    return await Promise.resolve().then(() => globalThis.navigator.locks.request(name, acquireTimeout === 0\n        ? {\n            mode: 'exclusive',\n            ifAvailable: true,\n        }\n        : {\n            mode: 'exclusive',\n            signal: abortController.signal,\n        }, async (lock) => {\n        if (lock) {\n            if (internals.debug) {\n                console.log('@supabase/gotrue-js: navigatorLock: acquired', name, lock.name);\n            }\n            try {\n                return await fn();\n            }\n            finally {\n                if (internals.debug) {\n                    console.log('@supabase/gotrue-js: navigatorLock: released', name, lock.name);\n                }\n            }\n        }\n        else {\n            if (acquireTimeout === 0) {\n                if (internals.debug) {\n                    console.log('@supabase/gotrue-js: navigatorLock: not immediately available', name);\n                }\n                throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" immediately failed`);\n            }\n            else {\n                if (internals.debug) {\n                    try {\n                        const result = await globalThis.navigator.locks.query();\n                        console.log('@supabase/gotrue-js: Navigator LockManager state', JSON.stringify(result, null, '  '));\n                    }\n                    catch (e) {\n                        console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state', e);\n                    }\n                }\n                // Browser is not following the Navigator LockManager spec, it\n                // returned a null lock when we didn't use ifAvailable. So we can\n                // pretend the lock is acquired in the name of backward compatibility\n                // and user experience and just run the function.\n                console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request');\n                return await fn();\n            }\n        }\n    }));\n}\nconst PROCESS_LOCKS = {};\n/**\n * Implements a global exclusive lock that works only in the current process.\n * Useful for environments like React Native or other non-browser\n * single-process (i.e. no concept of \"tabs\") environments.\n *\n * Use {@link #navigatorLock} in browser environments.\n *\n * @param name Name of the lock to be acquired.\n * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n *                       the lock can't be acquired without waiting. If positive, the lock acquire\n *                       will time out after so many milliseconds. An error is\n *                       a timeout if it has `isAcquireTimeout` set to true.\n * @param fn The operation to run once the lock is acquired.\n */\nexport async function processLock(name, acquireTimeout, fn) {\n    var _a;\n    const previousOperation = (_a = PROCESS_LOCKS[name]) !== null && _a !== void 0 ? _a : Promise.resolve();\n    const currentOperation = Promise.race([\n        previousOperation.catch(() => {\n            // ignore error of previous operation that we're waiting to finish\n            return null;\n        }),\n        acquireTimeout >= 0\n            ? new Promise((_, reject) => {\n                setTimeout(() => {\n                    reject(new ProcessLockAcquireTimeoutError(`Acquring process lock with name \"${name}\" timed out`));\n                }, acquireTimeout);\n            })\n            : null,\n    ].filter((x) => x))\n        .catch((e) => {\n        if (e && e.isAcquireTimeout) {\n            throw e;\n        }\n        return null;\n    })\n        .then(async () => {\n        // previous operations finished and we didn't get a race on the acquire\n        // timeout, so the current operation can finally start\n        return await fn();\n    });\n    PROCESS_LOCKS[name] = currentOperation.catch(async (e) => {\n        if (e && e.isAcquireTimeout) {\n            // if the current operation timed out, it doesn't mean that the previous\n            // operation finished, so we need contnue waiting for it to finish\n            await previousOperation;\n            return null;\n        }\n        throw e;\n    });\n    // finally wait for the current operation to finish successfully, with an\n    // error or with an acquire timeout error\n    return await currentOperation;\n}\n//# sourceMappingURL=locks.js.map","import GoTrueAdminApi from './GoTrueAdminApi';\nimport { DEFAULT_HEADERS, EXPIRY_MARGIN_MS, AUTO_REFRESH_TICK_DURATION_MS, AUTO_REFRESH_TICK_THRESHOLD, GOTRUE_URL, STORAGE_KEY, JWKS_TTL, } from './lib/constants';\nimport { AuthImplicitGrantRedirectError, AuthPKCEGrantCodeExchangeError, AuthInvalidCredentialsError, AuthSessionMissingError, AuthInvalidTokenResponseError, AuthUnknownError, isAuthApiError, isAuthError, isAuthRetryableFetchError, isAuthSessionMissingError, isAuthImplicitGrantRedirectError, AuthInvalidJwtError, } from './lib/errors';\nimport { _request, _sessionResponse, _sessionResponsePassword, _userResponse, _ssoResponse, } from './lib/fetch';\nimport { Deferred, getItemAsync, isBrowser, removeItemAsync, resolveFetch, setItemAsync, uuid, retryable, sleep, supportsLocalStorage, parseParametersFromURL, getCodeChallengeAndMethod, getAlgorithm, validateExp, decodeJWT, } from './lib/helpers';\nimport { localStorageAdapter, memoryLocalStorageAdapter } from './lib/local-storage';\nimport { polyfillGlobalThis } from './lib/polyfills';\nimport { version } from './lib/version';\nimport { LockAcquireTimeoutError, navigatorLock } from './lib/locks';\nimport { stringToUint8Array } from './lib/base64url';\npolyfillGlobalThis(); // Make \"globalThis\" available\nconst DEFAULT_OPTIONS = {\n    url: GOTRUE_URL,\n    storageKey: STORAGE_KEY,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: true,\n    headers: DEFAULT_HEADERS,\n    flowType: 'implicit',\n    debug: false,\n    hasCustomAuthorizationHeader: false,\n};\nasync function lockNoOp(name, acquireTimeout, fn) {\n    return await fn();\n}\nexport default class GoTrueClient {\n    /**\n     * Create a new client for use in the browser.\n     */\n    constructor(options) {\n        var _a, _b;\n        this.memoryStorage = null;\n        this.stateChangeEmitters = new Map();\n        this.autoRefreshTicker = null;\n        this.visibilityChangedCallback = null;\n        this.refreshingDeferred = null;\n        /**\n         * Keeps track of the async client initialization.\n         * When null or not yet resolved the auth state is `unknown`\n         * Once resolved the the auth state is known and it's save to call any further client methods.\n         * Keep extra care to never reject or throw uncaught errors\n         */\n        this.initializePromise = null;\n        this.detectSessionInUrl = true;\n        this.hasCustomAuthorizationHeader = false;\n        this.suppressGetSessionWarning = false;\n        this.lockAcquired = false;\n        this.pendingInLock = [];\n        /**\n         * Used to broadcast state change events to other tabs listening.\n         */\n        this.broadcastChannel = null;\n        this.logger = console.log;\n        this.instanceID = GoTrueClient.nextInstanceID;\n        GoTrueClient.nextInstanceID += 1;\n        if (this.instanceID > 0 && isBrowser()) {\n            console.warn('Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.');\n        }\n        const settings = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n        this.logDebugMessages = !!settings.debug;\n        if (typeof settings.debug === 'function') {\n            this.logger = settings.debug;\n        }\n        this.persistSession = settings.persistSession;\n        this.storageKey = settings.storageKey;\n        this.autoRefreshToken = settings.autoRefreshToken;\n        this.admin = new GoTrueAdminApi({\n            url: settings.url,\n            headers: settings.headers,\n            fetch: settings.fetch,\n        });\n        this.url = settings.url;\n        this.headers = settings.headers;\n        this.fetch = resolveFetch(settings.fetch);\n        this.lock = settings.lock || lockNoOp;\n        this.detectSessionInUrl = settings.detectSessionInUrl;\n        this.flowType = settings.flowType;\n        this.hasCustomAuthorizationHeader = settings.hasCustomAuthorizationHeader;\n        if (settings.lock) {\n            this.lock = settings.lock;\n        }\n        else if (isBrowser() && ((_a = globalThis === null || globalThis === void 0 ? void 0 : globalThis.navigator) === null || _a === void 0 ? void 0 : _a.locks)) {\n            this.lock = navigatorLock;\n        }\n        else {\n            this.lock = lockNoOp;\n        }\n        this.jwks = { keys: [] };\n        this.jwks_cached_at = Number.MIN_SAFE_INTEGER;\n        this.mfa = {\n            verify: this._verify.bind(this),\n            enroll: this._enroll.bind(this),\n            unenroll: this._unenroll.bind(this),\n            challenge: this._challenge.bind(this),\n            listFactors: this._listFactors.bind(this),\n            challengeAndVerify: this._challengeAndVerify.bind(this),\n            getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this),\n        };\n        if (this.persistSession) {\n            if (settings.storage) {\n                this.storage = settings.storage;\n            }\n            else {\n                if (supportsLocalStorage()) {\n                    this.storage = localStorageAdapter;\n                }\n                else {\n                    this.memoryStorage = {};\n                    this.storage = memoryLocalStorageAdapter(this.memoryStorage);\n                }\n            }\n        }\n        else {\n            this.memoryStorage = {};\n            this.storage = memoryLocalStorageAdapter(this.memoryStorage);\n        }\n        if (isBrowser() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) {\n            try {\n                this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey);\n            }\n            catch (e) {\n                console.error('Failed to create a new BroadcastChannel, multi-tab state changes will not be available', e);\n            }\n            (_b = this.broadcastChannel) === null || _b === void 0 ? void 0 : _b.addEventListener('message', async (event) => {\n                this._debug('received broadcast notification from other tab or client', event);\n                await this._notifyAllSubscribers(event.data.event, event.data.session, false); // broadcast = false so we don't get an endless loop of messages\n            });\n        }\n        this.initialize();\n    }\n    _debug(...args) {\n        if (this.logDebugMessages) {\n            this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`, ...args);\n        }\n        return this;\n    }\n    /**\n     * Initializes the client session either from the url or from storage.\n     * This method is automatically called when instantiating the client, but should also be called\n     * manually when checking for an error from an auth redirect (oauth, magiclink, password recovery, etc).\n     */\n    async initialize() {\n        if (this.initializePromise) {\n            return await this.initializePromise;\n        }\n        this.initializePromise = (async () => {\n            return await this._acquireLock(-1, async () => {\n                return await this._initialize();\n            });\n        })();\n        return await this.initializePromise;\n    }\n    /**\n     * IMPORTANT:\n     * 1. Never throw in this method, as it is called from the constructor\n     * 2. Never return a session from this method as it would be cached over\n     *    the whole lifetime of the client\n     */\n    async _initialize() {\n        var _a;\n        try {\n            const params = parseParametersFromURL(window.location.href);\n            let callbackUrlType = 'none';\n            if (this._isImplicitGrantCallback(params)) {\n                callbackUrlType = 'implicit';\n            }\n            else if (await this._isPKCECallback(params)) {\n                callbackUrlType = 'pkce';\n            }\n            /**\n             * Attempt to get the session from the URL only if these conditions are fulfilled\n             *\n             * Note: If the URL isn't one of the callback url types (implicit or pkce),\n             * then there could be an existing session so we don't want to prematurely remove it\n             */\n            if (isBrowser() && this.detectSessionInUrl && callbackUrlType !== 'none') {\n                const { data, error } = await this._getSessionFromURL(params, callbackUrlType);\n                if (error) {\n                    this._debug('#_initialize()', 'error detecting session from URL', error);\n                    if (isAuthImplicitGrantRedirectError(error)) {\n                        const errorCode = (_a = error.details) === null || _a === void 0 ? void 0 : _a.code;\n                        if (errorCode === 'identity_already_exists' ||\n                            errorCode === 'identity_not_found' ||\n                            errorCode === 'single_identity_not_deletable') {\n                            return { error };\n                        }\n                    }\n                    // failed login attempt via url,\n                    // remove old session as in verifyOtp, signUp and signInWith*\n                    await this._removeSession();\n                    return { error };\n                }\n                const { session, redirectType } = data;\n                this._debug('#_initialize()', 'detected session in URL', session, 'redirect type', redirectType);\n                await this._saveSession(session);\n                setTimeout(async () => {\n                    if (redirectType === 'recovery') {\n                        await this._notifyAllSubscribers('PASSWORD_RECOVERY', session);\n                    }\n                    else {\n                        await this._notifyAllSubscribers('SIGNED_IN', session);\n                    }\n                }, 0);\n                return { error: null };\n            }\n            // no login attempt via callback url try to recover session from storage\n            await this._recoverAndRefresh();\n            return { error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { error };\n            }\n            return {\n                error: new AuthUnknownError('Unexpected error during initialization', error),\n            };\n        }\n        finally {\n            await this._handleVisibilityChange();\n            this._debug('#_initialize()', 'end');\n        }\n    }\n    /**\n     * Creates a new anonymous user.\n     *\n     * @returns A session where the is_anonymous claim in the access token JWT set to true\n     */\n    async signInAnonymously(credentials) {\n        var _a, _b, _c;\n        try {\n            const res = await _request(this.fetch, 'POST', `${this.url}/signup`, {\n                headers: this.headers,\n                body: {\n                    data: (_b = (_a = credentials === null || credentials === void 0 ? void 0 : credentials.options) === null || _a === void 0 ? void 0 : _a.data) !== null && _b !== void 0 ? _b : {},\n                    gotrue_meta_security: { captcha_token: (_c = credentials === null || credentials === void 0 ? void 0 : credentials.options) === null || _c === void 0 ? void 0 : _c.captchaToken },\n                },\n                xform: _sessionResponse,\n            });\n            const { data, error } = res;\n            if (error || !data) {\n                return { data: { user: null, session: null }, error: error };\n            }\n            const session = data.session;\n            const user = data.user;\n            if (data.session) {\n                await this._saveSession(data.session);\n                await this._notifyAllSubscribers('SIGNED_IN', session);\n            }\n            return { data: { user, session }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Creates a new user.\n     *\n     * Be aware that if a user account exists in the system you may get back an\n     * error message that attempts to hide this information from the user.\n     * This method has support for PKCE via email signups. The PKCE flow cannot be used when autoconfirm is enabled.\n     *\n     * @returns A logged-in session if the server has \"autoconfirm\" ON\n     * @returns A user if the server has \"autoconfirm\" OFF\n     */\n    async signUp(credentials) {\n        var _a, _b, _c;\n        try {\n            let res;\n            if ('email' in credentials) {\n                const { email, password, options } = credentials;\n                let codeChallenge = null;\n                let codeChallengeMethod = null;\n                if (this.flowType === 'pkce') {\n                    ;\n                    [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey);\n                }\n                res = await _request(this.fetch, 'POST', `${this.url}/signup`, {\n                    headers: this.headers,\n                    redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                    body: {\n                        email,\n                        password,\n                        data: (_a = options === null || options === void 0 ? void 0 : options.data) !== null && _a !== void 0 ? _a : {},\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        code_challenge: codeChallenge,\n                        code_challenge_method: codeChallengeMethod,\n                    },\n                    xform: _sessionResponse,\n                });\n            }\n            else if ('phone' in credentials) {\n                const { phone, password, options } = credentials;\n                res = await _request(this.fetch, 'POST', `${this.url}/signup`, {\n                    headers: this.headers,\n                    body: {\n                        phone,\n                        password,\n                        data: (_b = options === null || options === void 0 ? void 0 : options.data) !== null && _b !== void 0 ? _b : {},\n                        channel: (_c = options === null || options === void 0 ? void 0 : options.channel) !== null && _c !== void 0 ? _c : 'sms',\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                    },\n                    xform: _sessionResponse,\n                });\n            }\n            else {\n                throw new AuthInvalidCredentialsError('You must provide either an email or phone number and a password');\n            }\n            const { data, error } = res;\n            if (error || !data) {\n                return { data: { user: null, session: null }, error: error };\n            }\n            const session = data.session;\n            const user = data.user;\n            if (data.session) {\n                await this._saveSession(data.session);\n                await this._notifyAllSubscribers('SIGNED_IN', session);\n            }\n            return { data: { user, session }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Log in an existing user with an email and password or phone and password.\n     *\n     * Be aware that you may get back an error message that will not distinguish\n     * between the cases where the account does not exist or that the\n     * email/phone and password combination is wrong or that the account can only\n     * be accessed via social login.\n     */\n    async signInWithPassword(credentials) {\n        try {\n            let res;\n            if ('email' in credentials) {\n                const { email, password, options } = credentials;\n                res = await _request(this.fetch, 'POST', `${this.url}/token?grant_type=password`, {\n                    headers: this.headers,\n                    body: {\n                        email,\n                        password,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                    },\n                    xform: _sessionResponsePassword,\n                });\n            }\n            else if ('phone' in credentials) {\n                const { phone, password, options } = credentials;\n                res = await _request(this.fetch, 'POST', `${this.url}/token?grant_type=password`, {\n                    headers: this.headers,\n                    body: {\n                        phone,\n                        password,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                    },\n                    xform: _sessionResponsePassword,\n                });\n            }\n            else {\n                throw new AuthInvalidCredentialsError('You must provide either an email or phone number and a password');\n            }\n            const { data, error } = res;\n            if (error) {\n                return { data: { user: null, session: null }, error };\n            }\n            else if (!data || !data.session || !data.user) {\n                return { data: { user: null, session: null }, error: new AuthInvalidTokenResponseError() };\n            }\n            if (data.session) {\n                await this._saveSession(data.session);\n                await this._notifyAllSubscribers('SIGNED_IN', data.session);\n            }\n            return {\n                data: Object.assign({ user: data.user, session: data.session }, (data.weak_password ? { weakPassword: data.weak_password } : null)),\n                error,\n            };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Log in an existing user via a third-party provider.\n     * This method supports the PKCE flow.\n     */\n    async signInWithOAuth(credentials) {\n        var _a, _b, _c, _d;\n        return await this._handleProviderSignIn(credentials.provider, {\n            redirectTo: (_a = credentials.options) === null || _a === void 0 ? void 0 : _a.redirectTo,\n            scopes: (_b = credentials.options) === null || _b === void 0 ? void 0 : _b.scopes,\n            queryParams: (_c = credentials.options) === null || _c === void 0 ? void 0 : _c.queryParams,\n            skipBrowserRedirect: (_d = credentials.options) === null || _d === void 0 ? void 0 : _d.skipBrowserRedirect,\n        });\n    }\n    /**\n     * Log in an existing user by exchanging an Auth Code issued during the PKCE flow.\n     */\n    async exchangeCodeForSession(authCode) {\n        await this.initializePromise;\n        return this._acquireLock(-1, async () => {\n            return this._exchangeCodeForSession(authCode);\n        });\n    }\n    async _exchangeCodeForSession(authCode) {\n        const storageItem = await getItemAsync(this.storage, `${this.storageKey}-code-verifier`);\n        const [codeVerifier, redirectType] = (storageItem !== null && storageItem !== void 0 ? storageItem : '').split('/');\n        try {\n            const { data, error } = await _request(this.fetch, 'POST', `${this.url}/token?grant_type=pkce`, {\n                headers: this.headers,\n                body: {\n                    auth_code: authCode,\n                    code_verifier: codeVerifier,\n                },\n                xform: _sessionResponse,\n            });\n            await removeItemAsync(this.storage, `${this.storageKey}-code-verifier`);\n            if (error) {\n                throw error;\n            }\n            if (!data || !data.session || !data.user) {\n                return {\n                    data: { user: null, session: null, redirectType: null },\n                    error: new AuthInvalidTokenResponseError(),\n                };\n            }\n            if (data.session) {\n                await this._saveSession(data.session);\n                await this._notifyAllSubscribers('SIGNED_IN', data.session);\n            }\n            return { data: Object.assign(Object.assign({}, data), { redirectType: redirectType !== null && redirectType !== void 0 ? redirectType : null }), error };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null, redirectType: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Allows signing in with an OIDC ID token. The authentication provider used\n     * should be enabled and configured.\n     */\n    async signInWithIdToken(credentials) {\n        try {\n            const { options, provider, token, access_token, nonce } = credentials;\n            const res = await _request(this.fetch, 'POST', `${this.url}/token?grant_type=id_token`, {\n                headers: this.headers,\n                body: {\n                    provider,\n                    id_token: token,\n                    access_token,\n                    nonce,\n                    gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                },\n                xform: _sessionResponse,\n            });\n            const { data, error } = res;\n            if (error) {\n                return { data: { user: null, session: null }, error };\n            }\n            else if (!data || !data.session || !data.user) {\n                return {\n                    data: { user: null, session: null },\n                    error: new AuthInvalidTokenResponseError(),\n                };\n            }\n            if (data.session) {\n                await this._saveSession(data.session);\n                await this._notifyAllSubscribers('SIGNED_IN', data.session);\n            }\n            return { data, error };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Log in a user using magiclink or a one-time password (OTP).\n     *\n     * If the `{{ .ConfirmationURL }}` variable is specified in the email template, a magiclink will be sent.\n     * If the `{{ .Token }}` variable is specified in the email template, an OTP will be sent.\n     * If you're using phone sign-ins, only an OTP will be sent. You won't be able to send a magiclink for phone sign-ins.\n     *\n     * Be aware that you may get back an error message that will not distinguish\n     * between the cases where the account does not exist or, that the account\n     * can only be accessed via social login.\n     *\n     * Do note that you will need to configure a Whatsapp sender on Twilio\n     * if you are using phone sign in with the 'whatsapp' channel. The whatsapp\n     * channel is not supported on other providers\n     * at this time.\n     * This method supports PKCE when an email is passed.\n     */\n    async signInWithOtp(credentials) {\n        var _a, _b, _c, _d, _e;\n        try {\n            if ('email' in credentials) {\n                const { email, options } = credentials;\n                let codeChallenge = null;\n                let codeChallengeMethod = null;\n                if (this.flowType === 'pkce') {\n                    ;\n                    [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey);\n                }\n                const { error } = await _request(this.fetch, 'POST', `${this.url}/otp`, {\n                    headers: this.headers,\n                    body: {\n                        email,\n                        data: (_a = options === null || options === void 0 ? void 0 : options.data) !== null && _a !== void 0 ? _a : {},\n                        create_user: (_b = options === null || options === void 0 ? void 0 : options.shouldCreateUser) !== null && _b !== void 0 ? _b : true,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        code_challenge: codeChallenge,\n                        code_challenge_method: codeChallengeMethod,\n                    },\n                    redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                });\n                return { data: { user: null, session: null }, error };\n            }\n            if ('phone' in credentials) {\n                const { phone, options } = credentials;\n                const { data, error } = await _request(this.fetch, 'POST', `${this.url}/otp`, {\n                    headers: this.headers,\n                    body: {\n                        phone,\n                        data: (_c = options === null || options === void 0 ? void 0 : options.data) !== null && _c !== void 0 ? _c : {},\n                        create_user: (_d = options === null || options === void 0 ? void 0 : options.shouldCreateUser) !== null && _d !== void 0 ? _d : true,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                        channel: (_e = options === null || options === void 0 ? void 0 : options.channel) !== null && _e !== void 0 ? _e : 'sms',\n                    },\n                });\n                return { data: { user: null, session: null, messageId: data === null || data === void 0 ? void 0 : data.message_id }, error };\n            }\n            throw new AuthInvalidCredentialsError('You must provide either an email or phone number.');\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Log in a user given a User supplied OTP or TokenHash received through mobile or email.\n     */\n    async verifyOtp(params) {\n        var _a, _b;\n        try {\n            let redirectTo = undefined;\n            let captchaToken = undefined;\n            if ('options' in params) {\n                redirectTo = (_a = params.options) === null || _a === void 0 ? void 0 : _a.redirectTo;\n                captchaToken = (_b = params.options) === null || _b === void 0 ? void 0 : _b.captchaToken;\n            }\n            const { data, error } = await _request(this.fetch, 'POST', `${this.url}/verify`, {\n                headers: this.headers,\n                body: Object.assign(Object.assign({}, params), { gotrue_meta_security: { captcha_token: captchaToken } }),\n                redirectTo,\n                xform: _sessionResponse,\n            });\n            if (error) {\n                throw error;\n            }\n            if (!data) {\n                throw new Error('An error occurred on token verification.');\n            }\n            const session = data.session;\n            const user = data.user;\n            if (session === null || session === void 0 ? void 0 : session.access_token) {\n                await this._saveSession(session);\n                await this._notifyAllSubscribers(params.type == 'recovery' ? 'PASSWORD_RECOVERY' : 'SIGNED_IN', session);\n            }\n            return { data: { user, session }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Attempts a single-sign on using an enterprise Identity Provider. A\n     * successful SSO attempt will redirect the current page to the identity\n     * provider authorization page. The redirect URL is implementation and SSO\n     * protocol specific.\n     *\n     * You can use it by providing a SSO domain. Typically you can extract this\n     * domain by asking users for their email address. If this domain is\n     * registered on the Auth instance the redirect will use that organization's\n     * currently active SSO Identity Provider for the login.\n     *\n     * If you have built an organization-specific login page, you can use the\n     * organization's SSO Identity Provider UUID directly instead.\n     */\n    async signInWithSSO(params) {\n        var _a, _b, _c;\n        try {\n            let codeChallenge = null;\n            let codeChallengeMethod = null;\n            if (this.flowType === 'pkce') {\n                ;\n                [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey);\n            }\n            return await _request(this.fetch, 'POST', `${this.url}/sso`, {\n                body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, ('providerId' in params ? { provider_id: params.providerId } : null)), ('domain' in params ? { domain: params.domain } : null)), { redirect_to: (_b = (_a = params.options) === null || _a === void 0 ? void 0 : _a.redirectTo) !== null && _b !== void 0 ? _b : undefined }), (((_c = params === null || params === void 0 ? void 0 : params.options) === null || _c === void 0 ? void 0 : _c.captchaToken)\n                    ? { gotrue_meta_security: { captcha_token: params.options.captchaToken } }\n                    : null)), { skip_http_redirect: true, code_challenge: codeChallenge, code_challenge_method: codeChallengeMethod }),\n                headers: this.headers,\n                xform: _ssoResponse,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sends a reauthentication OTP to the user's email or phone number.\n     * Requires the user to be signed-in.\n     */\n    async reauthenticate() {\n        await this.initializePromise;\n        return await this._acquireLock(-1, async () => {\n            return await this._reauthenticate();\n        });\n    }\n    async _reauthenticate() {\n        try {\n            return await this._useSession(async (result) => {\n                const { data: { session }, error: sessionError, } = result;\n                if (sessionError)\n                    throw sessionError;\n                if (!session)\n                    throw new AuthSessionMissingError();\n                const { error } = await _request(this.fetch, 'GET', `${this.url}/reauthenticate`, {\n                    headers: this.headers,\n                    jwt: session.access_token,\n                });\n                return { data: { user: null, session: null }, error };\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Resends an existing signup confirmation email, email change email, SMS OTP or phone change OTP.\n     */\n    async resend(credentials) {\n        try {\n            const endpoint = `${this.url}/resend`;\n            if ('email' in credentials) {\n                const { email, type, options } = credentials;\n                const { error } = await _request(this.fetch, 'POST', endpoint, {\n                    headers: this.headers,\n                    body: {\n                        email,\n                        type,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                    },\n                    redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                });\n                return { data: { user: null, session: null }, error };\n            }\n            else if ('phone' in credentials) {\n                const { phone, type, options } = credentials;\n                const { data, error } = await _request(this.fetch, 'POST', endpoint, {\n                    headers: this.headers,\n                    body: {\n                        phone,\n                        type,\n                        gotrue_meta_security: { captcha_token: options === null || options === void 0 ? void 0 : options.captchaToken },\n                    },\n                });\n                return { data: { user: null, session: null, messageId: data === null || data === void 0 ? void 0 : data.message_id }, error };\n            }\n            throw new AuthInvalidCredentialsError('You must provide either an email or phone number and a type');\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Returns the session, refreshing it if necessary.\n     *\n     * The session returned can be null if the session is not detected which can happen in the event a user is not signed-in or has logged out.\n     *\n     * **IMPORTANT:** This method loads values directly from the storage attached\n     * to the client. If that storage is based on request cookies for example,\n     * the values in it may not be authentic and therefore it's strongly advised\n     * against using this method and its results in such circumstances. A warning\n     * will be emitted if this is detected. Use {@link #getUser()} instead.\n     */\n    async getSession() {\n        await this.initializePromise;\n        const result = await this._acquireLock(-1, async () => {\n            return this._useSession(async (result) => {\n                return result;\n            });\n        });\n        return result;\n    }\n    /**\n     * Acquires a global lock based on the storage key.\n     */\n    async _acquireLock(acquireTimeout, fn) {\n        this._debug('#_acquireLock', 'begin', acquireTimeout);\n        try {\n            if (this.lockAcquired) {\n                const last = this.pendingInLock.length\n                    ? this.pendingInLock[this.pendingInLock.length - 1]\n                    : Promise.resolve();\n                const result = (async () => {\n                    await last;\n                    return await fn();\n                })();\n                this.pendingInLock.push((async () => {\n                    try {\n                        await result;\n                    }\n                    catch (e) {\n                        // we just care if it finished\n                    }\n                })());\n                return result;\n            }\n            return await this.lock(`lock:${this.storageKey}`, acquireTimeout, async () => {\n                this._debug('#_acquireLock', 'lock acquired for storage key', this.storageKey);\n                try {\n                    this.lockAcquired = true;\n                    const result = fn();\n                    this.pendingInLock.push((async () => {\n                        try {\n                            await result;\n                        }\n                        catch (e) {\n                            // we just care if it finished\n                        }\n                    })());\n                    await result;\n                    // keep draining the queue until there's nothing to wait on\n                    while (this.pendingInLock.length) {\n                        const waitOn = [...this.pendingInLock];\n                        await Promise.all(waitOn);\n                        this.pendingInLock.splice(0, waitOn.length);\n                    }\n                    return await result;\n                }\n                finally {\n                    this._debug('#_acquireLock', 'lock released for storage key', this.storageKey);\n                    this.lockAcquired = false;\n                }\n            });\n        }\n        finally {\n            this._debug('#_acquireLock', 'end');\n        }\n    }\n    /**\n     * Use instead of {@link #getSession} inside the library. It is\n     * semantically usually what you want, as getting a session involves some\n     * processing afterwards that requires only one client operating on the\n     * session at once across multiple tabs or processes.\n     */\n    async _useSession(fn) {\n        this._debug('#_useSession', 'begin');\n        try {\n            // the use of __loadSession here is the only correct use of the function!\n            const result = await this.__loadSession();\n            return await fn(result);\n        }\n        finally {\n            this._debug('#_useSession', 'end');\n        }\n    }\n    /**\n     * NEVER USE DIRECTLY!\n     *\n     * Always use {@link #_useSession}.\n     */\n    async __loadSession() {\n        this._debug('#__loadSession()', 'begin');\n        if (!this.lockAcquired) {\n            this._debug('#__loadSession()', 'used outside of an acquired lock!', new Error().stack);\n        }\n        try {\n            let currentSession = null;\n            const maybeSession = await getItemAsync(this.storage, this.storageKey);\n            this._debug('#getSession()', 'session from storage', maybeSession);\n            if (maybeSession !== null) {\n                if (this._isValidSession(maybeSession)) {\n                    currentSession = maybeSession;\n                }\n                else {\n                    this._debug('#getSession()', 'session from storage is not valid');\n                    await this._removeSession();\n                }\n            }\n            if (!currentSession) {\n                return { data: { session: null }, error: null };\n            }\n            // A session is considered expired before the access token _actually_\n            // expires. When the autoRefreshToken option is off (or when the tab is\n            // in the background), very eager users of getSession() -- like\n            // realtime-js -- might send a valid JWT which will expire by the time it\n            // reaches the server.\n            const hasExpired = currentSession.expires_at\n                ? currentSession.expires_at * 1000 - Date.now() < EXPIRY_MARGIN_MS\n                : false;\n            this._debug('#__loadSession()', `session has${hasExpired ? '' : ' not'} expired`, 'expires_at', currentSession.expires_at);\n            if (!hasExpired) {\n                if (this.storage.isServer) {\n                    let suppressWarning = this.suppressGetSessionWarning;\n                    const proxySession = new Proxy(currentSession, {\n                        get: (target, prop, receiver) => {\n                            if (!suppressWarning && prop === 'user') {\n                                // only show warning when the user object is being accessed from the server\n                                console.warn('Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.');\n                                suppressWarning = true; // keeps this proxy instance from logging additional warnings\n                                this.suppressGetSessionWarning = true; // keeps this client's future proxy instances from warning\n                            }\n                            return Reflect.get(target, prop, receiver);\n                        },\n                    });\n                    currentSession = proxySession;\n                }\n                return { data: { session: currentSession }, error: null };\n            }\n            const { session, error } = await this._callRefreshToken(currentSession.refresh_token);\n            if (error) {\n                return { data: { session: null }, error };\n            }\n            return { data: { session }, error: null };\n        }\n        finally {\n            this._debug('#__loadSession()', 'end');\n        }\n    }\n    /**\n     * Gets the current user details if there is an existing session. This method\n     * performs a network request to the Supabase Auth server, so the returned\n     * value is authentic and can be used to base authorization rules on.\n     *\n     * @param jwt Takes in an optional access token JWT. If no JWT is provided, the JWT from the current session is used.\n     */\n    async getUser(jwt) {\n        if (jwt) {\n            return await this._getUser(jwt);\n        }\n        await this.initializePromise;\n        const result = await this._acquireLock(-1, async () => {\n            return await this._getUser();\n        });\n        return result;\n    }\n    async _getUser(jwt) {\n        try {\n            if (jwt) {\n                return await _request(this.fetch, 'GET', `${this.url}/user`, {\n                    headers: this.headers,\n                    jwt: jwt,\n                    xform: _userResponse,\n                });\n            }\n            return await this._useSession(async (result) => {\n                var _a, _b, _c;\n                const { data, error } = result;\n                if (error) {\n                    throw error;\n                }\n                // returns an error if there is no access_token or custom authorization header\n                if (!((_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token) && !this.hasCustomAuthorizationHeader) {\n                    return { data: { user: null }, error: new AuthSessionMissingError() };\n                }\n                return await _request(this.fetch, 'GET', `${this.url}/user`, {\n                    headers: this.headers,\n                    jwt: (_c = (_b = data.session) === null || _b === void 0 ? void 0 : _b.access_token) !== null && _c !== void 0 ? _c : undefined,\n                    xform: _userResponse,\n                });\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                if (isAuthSessionMissingError(error)) {\n                    // JWT contains a `session_id` which does not correspond to an active\n                    // session in the database, indicating the user is signed out.\n                    await this._removeSession();\n                    await removeItemAsync(this.storage, `${this.storageKey}-code-verifier`);\n                }\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Updates user data for a logged in user.\n     */\n    async updateUser(attributes, options = {}) {\n        await this.initializePromise;\n        return await this._acquireLock(-1, async () => {\n            return await this._updateUser(attributes, options);\n        });\n    }\n    async _updateUser(attributes, options = {}) {\n        try {\n            return await this._useSession(async (result) => {\n                const { data: sessionData, error: sessionError } = result;\n                if (sessionError) {\n                    throw sessionError;\n                }\n                if (!sessionData.session) {\n                    throw new AuthSessionMissingError();\n                }\n                const session = sessionData.session;\n                let codeChallenge = null;\n                let codeChallengeMethod = null;\n                if (this.flowType === 'pkce' && attributes.email != null) {\n                    ;\n                    [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey);\n                }\n                const { data, error: userError } = await _request(this.fetch, 'PUT', `${this.url}/user`, {\n                    headers: this.headers,\n                    redirectTo: options === null || options === void 0 ? void 0 : options.emailRedirectTo,\n                    body: Object.assign(Object.assign({}, attributes), { code_challenge: codeChallenge, code_challenge_method: codeChallengeMethod }),\n                    jwt: session.access_token,\n                    xform: _userResponse,\n                });\n                if (userError)\n                    throw userError;\n                session.user = data.user;\n                await this._saveSession(session);\n                await this._notifyAllSubscribers('USER_UPDATED', session);\n                return { data: { user: session.user }, error: null };\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sets the session data from the current session. If the current session is expired, setSession will take care of refreshing it to obtain a new session.\n     * If the refresh token or access token in the current session is invalid, an error will be thrown.\n     * @param currentSession The current session that minimally contains an access token and refresh token.\n     */\n    async setSession(currentSession) {\n        await this.initializePromise;\n        return await this._acquireLock(-1, async () => {\n            return await this._setSession(currentSession);\n        });\n    }\n    async _setSession(currentSession) {\n        try {\n            if (!currentSession.access_token || !currentSession.refresh_token) {\n                throw new AuthSessionMissingError();\n            }\n            const timeNow = Date.now() / 1000;\n            let expiresAt = timeNow;\n            let hasExpired = true;\n            let session = null;\n            const { payload } = decodeJWT(currentSession.access_token);\n            if (payload.exp) {\n                expiresAt = payload.exp;\n                hasExpired = expiresAt <= timeNow;\n            }\n            if (hasExpired) {\n                const { session: refreshedSession, error } = await this._callRefreshToken(currentSession.refresh_token);\n                if (error) {\n                    return { data: { user: null, session: null }, error: error };\n                }\n                if (!refreshedSession) {\n                    return { data: { user: null, session: null }, error: null };\n                }\n                session = refreshedSession;\n            }\n            else {\n                const { data, error } = await this._getUser(currentSession.access_token);\n                if (error) {\n                    throw error;\n                }\n                session = {\n                    access_token: currentSession.access_token,\n                    refresh_token: currentSession.refresh_token,\n                    user: data.user,\n                    token_type: 'bearer',\n                    expires_in: expiresAt - timeNow,\n                    expires_at: expiresAt,\n                };\n                await this._saveSession(session);\n                await this._notifyAllSubscribers('SIGNED_IN', session);\n            }\n            return { data: { user: session.user, session }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { session: null, user: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Returns a new session, regardless of expiry status.\n     * Takes in an optional current session. If not passed in, then refreshSession() will attempt to retrieve it from getSession().\n     * If the current session's refresh token is invalid, an error will be thrown.\n     * @param currentSession The current session. If passed in, it must contain a refresh token.\n     */\n    async refreshSession(currentSession) {\n        await this.initializePromise;\n        return await this._acquireLock(-1, async () => {\n            return await this._refreshSession(currentSession);\n        });\n    }\n    async _refreshSession(currentSession) {\n        try {\n            return await this._useSession(async (result) => {\n                var _a;\n                if (!currentSession) {\n                    const { data, error } = result;\n                    if (error) {\n                        throw error;\n                    }\n                    currentSession = (_a = data.session) !== null && _a !== void 0 ? _a : undefined;\n                }\n                if (!(currentSession === null || currentSession === void 0 ? void 0 : currentSession.refresh_token)) {\n                    throw new AuthSessionMissingError();\n                }\n                const { session, error } = await this._callRefreshToken(currentSession.refresh_token);\n                if (error) {\n                    return { data: { user: null, session: null }, error: error };\n                }\n                if (!session) {\n                    return { data: { user: null, session: null }, error: null };\n                }\n                return { data: { user: session.user, session }, error: null };\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { user: null, session: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Gets the session data from a URL string\n     */\n    async _getSessionFromURL(params, callbackUrlType) {\n        try {\n            if (!isBrowser())\n                throw new AuthImplicitGrantRedirectError('No browser detected.');\n            // If there's an error in the URL, it doesn't matter what flow it is, we just return the error.\n            if (params.error || params.error_description || params.error_code) {\n                // The error class returned implies that the redirect is from an implicit grant flow\n                // but it could also be from a redirect error from a PKCE flow.\n                throw new AuthImplicitGrantRedirectError(params.error_description || 'Error in URL with unspecified error_description', {\n                    error: params.error || 'unspecified_error',\n                    code: params.error_code || 'unspecified_code',\n                });\n            }\n            // Checks for mismatches between the flowType initialised in the client and the URL parameters\n            switch (callbackUrlType) {\n                case 'implicit':\n                    if (this.flowType === 'pkce') {\n                        throw new AuthPKCEGrantCodeExchangeError('Not a valid PKCE flow url.');\n                    }\n                    break;\n                case 'pkce':\n                    if (this.flowType === 'implicit') {\n                        throw new AuthImplicitGrantRedirectError('Not a valid implicit grant flow url.');\n                    }\n                    break;\n                default:\n                // there's no mismatch so we continue\n            }\n            // Since this is a redirect for PKCE, we attempt to retrieve the code from the URL for the code exchange\n            if (callbackUrlType === 'pkce') {\n                this._debug('#_initialize()', 'begin', 'is PKCE flow', true);\n                if (!params.code)\n                    throw new AuthPKCEGrantCodeExchangeError('No code detected.');\n                const { data, error } = await this._exchangeCodeForSession(params.code);\n                if (error)\n                    throw error;\n                const url = new URL(window.location.href);\n                url.searchParams.delete('code');\n                window.history.replaceState(window.history.state, '', url.toString());\n                return { data: { session: data.session, redirectType: null }, error: null };\n            }\n            const { provider_token, provider_refresh_token, access_token, refresh_token, expires_in, expires_at, token_type, } = params;\n            if (!access_token || !expires_in || !refresh_token || !token_type) {\n                throw new AuthImplicitGrantRedirectError('No session defined in URL');\n            }\n            const timeNow = Math.round(Date.now() / 1000);\n            const expiresIn = parseInt(expires_in);\n            let expiresAt = timeNow + expiresIn;\n            if (expires_at) {\n                expiresAt = parseInt(expires_at);\n            }\n            const actuallyExpiresIn = expiresAt - timeNow;\n            if (actuallyExpiresIn * 1000 <= AUTO_REFRESH_TICK_DURATION_MS) {\n                console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${actuallyExpiresIn}s, should have been closer to ${expiresIn}s`);\n            }\n            const issuedAt = expiresAt - expiresIn;\n            if (timeNow - issuedAt >= 120) {\n                console.warn('@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale', issuedAt, expiresAt, timeNow);\n            }\n            else if (timeNow - issuedAt < 0) {\n                console.warn('@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew', issuedAt, expiresAt, timeNow);\n            }\n            const { data, error } = await this._getUser(access_token);\n            if (error)\n                throw error;\n            const session = {\n                provider_token,\n                provider_refresh_token,\n                access_token,\n                expires_in: expiresIn,\n                expires_at: expiresAt,\n                refresh_token,\n                token_type,\n                user: data.user,\n            };\n            // Remove tokens from URL\n            window.location.hash = '';\n            this._debug('#_getSessionFromURL()', 'clearing window.location.hash');\n            return { data: { session, redirectType: params.type }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { session: null, redirectType: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Checks if the current URL contains parameters given by an implicit oauth grant flow (https://www.rfc-editor.org/rfc/rfc6749.html#section-4.2)\n     */\n    _isImplicitGrantCallback(params) {\n        return Boolean(params.access_token || params.error_description);\n    }\n    /**\n     * Checks if the current URL and backing storage contain parameters given by a PKCE flow\n     */\n    async _isPKCECallback(params) {\n        const currentStorageContent = await getItemAsync(this.storage, `${this.storageKey}-code-verifier`);\n        return !!(params.code && currentStorageContent);\n    }\n    /**\n     * Inside a browser context, `signOut()` will remove the logged in user from the browser session and log them out - removing all items from localstorage and then trigger a `\"SIGNED_OUT\"` event.\n     *\n     * For server-side management, you can revoke all refresh tokens for a user by passing a user's JWT through to `auth.api.signOut(JWT: string)`.\n     * There is no way to revoke a user's access token jwt until it expires. It is recommended to set a shorter expiry on the jwt for this reason.\n     *\n     * If using `others` scope, no `SIGNED_OUT` event is fired!\n     */\n    async signOut(options = { scope: 'global' }) {\n        await this.initializePromise;\n        return await this._acquireLock(-1, async () => {\n            return await this._signOut(options);\n        });\n    }\n    async _signOut({ scope } = { scope: 'global' }) {\n        return await this._useSession(async (result) => {\n            var _a;\n            const { data, error: sessionError } = result;\n            if (sessionError) {\n                return { error: sessionError };\n            }\n            const accessToken = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token;\n            if (accessToken) {\n                const { error } = await this.admin.signOut(accessToken, scope);\n                if (error) {\n                    // ignore 404s since user might not exist anymore\n                    // ignore 401s since an invalid or expired JWT should sign out the current session\n                    if (!(isAuthApiError(error) &&\n                        (error.status === 404 || error.status === 401 || error.status === 403))) {\n                        return { error };\n                    }\n                }\n            }\n            if (scope !== 'others') {\n                await this._removeSession();\n                await removeItemAsync(this.storage, `${this.storageKey}-code-verifier`);\n            }\n            return { error: null };\n        });\n    }\n    /**\n     * Receive a notification every time an auth event happens.\n     * @param callback A callback function to be invoked when an auth event happens.\n     */\n    onAuthStateChange(callback) {\n        const id = uuid();\n        const subscription = {\n            id,\n            callback,\n            unsubscribe: () => {\n                this._debug('#unsubscribe()', 'state change callback with id removed', id);\n                this.stateChangeEmitters.delete(id);\n            },\n        };\n        this._debug('#onAuthStateChange()', 'registered callback with id', id);\n        this.stateChangeEmitters.set(id, subscription);\n        (async () => {\n            await this.initializePromise;\n            await this._acquireLock(-1, async () => {\n                this._emitInitialSession(id);\n            });\n        })();\n        return { data: { subscription } };\n    }\n    async _emitInitialSession(id) {\n        return await this._useSession(async (result) => {\n            var _a, _b;\n            try {\n                const { data: { session }, error, } = result;\n                if (error)\n                    throw error;\n                await ((_a = this.stateChangeEmitters.get(id)) === null || _a === void 0 ? void 0 : _a.callback('INITIAL_SESSION', session));\n                this._debug('INITIAL_SESSION', 'callback id', id, 'session', session);\n            }\n            catch (err) {\n                await ((_b = this.stateChangeEmitters.get(id)) === null || _b === void 0 ? void 0 : _b.callback('INITIAL_SESSION', null));\n                this._debug('INITIAL_SESSION', 'callback id', id, 'error', err);\n                console.error(err);\n            }\n        });\n    }\n    /**\n     * Sends a password reset request to an email address. This method supports the PKCE flow.\n     *\n     * @param email The email address of the user.\n     * @param options.redirectTo The URL to send the user to after they click the password reset link.\n     * @param options.captchaToken Verification token received when the user completes the captcha on the site.\n     */\n    async resetPasswordForEmail(email, options = {}) {\n        let codeChallenge = null;\n        let codeChallengeMethod = null;\n        if (this.flowType === 'pkce') {\n            ;\n            [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey, true // isPasswordRecovery\n            );\n        }\n        try {\n            return await _request(this.fetch, 'POST', `${this.url}/recover`, {\n                body: {\n                    email,\n                    code_challenge: codeChallenge,\n                    code_challenge_method: codeChallengeMethod,\n                    gotrue_meta_security: { captcha_token: options.captchaToken },\n                },\n                headers: this.headers,\n                redirectTo: options.redirectTo,\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Gets all the identities linked to a user.\n     */\n    async getUserIdentities() {\n        var _a;\n        try {\n            const { data, error } = await this.getUser();\n            if (error)\n                throw error;\n            return { data: { identities: (_a = data.user.identities) !== null && _a !== void 0 ? _a : [] }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Links an oauth identity to an existing user.\n     * This method supports the PKCE flow.\n     */\n    async linkIdentity(credentials) {\n        var _a;\n        try {\n            const { data, error } = await this._useSession(async (result) => {\n                var _a, _b, _c, _d, _e;\n                const { data, error } = result;\n                if (error)\n                    throw error;\n                const url = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, credentials.provider, {\n                    redirectTo: (_a = credentials.options) === null || _a === void 0 ? void 0 : _a.redirectTo,\n                    scopes: (_b = credentials.options) === null || _b === void 0 ? void 0 : _b.scopes,\n                    queryParams: (_c = credentials.options) === null || _c === void 0 ? void 0 : _c.queryParams,\n                    skipBrowserRedirect: true,\n                });\n                return await _request(this.fetch, 'GET', url, {\n                    headers: this.headers,\n                    jwt: (_e = (_d = data.session) === null || _d === void 0 ? void 0 : _d.access_token) !== null && _e !== void 0 ? _e : undefined,\n                });\n            });\n            if (error)\n                throw error;\n            if (isBrowser() && !((_a = credentials.options) === null || _a === void 0 ? void 0 : _a.skipBrowserRedirect)) {\n                window.location.assign(data === null || data === void 0 ? void 0 : data.url);\n            }\n            return { data: { provider: credentials.provider, url: data === null || data === void 0 ? void 0 : data.url }, error: null };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: { provider: credentials.provider, url: null }, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Unlinks an identity from a user by deleting it. The user will no longer be able to sign in with that identity once it's unlinked.\n     */\n    async unlinkIdentity(identity) {\n        try {\n            return await this._useSession(async (result) => {\n                var _a, _b;\n                const { data, error } = result;\n                if (error) {\n                    throw error;\n                }\n                return await _request(this.fetch, 'DELETE', `${this.url}/user/identities/${identity.identity_id}`, {\n                    headers: this.headers,\n                    jwt: (_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : undefined,\n                });\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * Generates a new JWT.\n     * @param refreshToken A valid refresh token that was returned on login.\n     */\n    async _refreshAccessToken(refreshToken) {\n        const debugName = `#_refreshAccessToken(${refreshToken.substring(0, 5)}...)`;\n        this._debug(debugName, 'begin');\n        try {\n            const startedAt = Date.now();\n            // will attempt to refresh the token with exponential backoff\n            return await retryable(async (attempt) => {\n                if (attempt > 0) {\n                    await sleep(200 * Math.pow(2, attempt - 1)); // 200, 400, 800, ...\n                }\n                this._debug(debugName, 'refreshing attempt', attempt);\n                return await _request(this.fetch, 'POST', `${this.url}/token?grant_type=refresh_token`, {\n                    body: { refresh_token: refreshToken },\n                    headers: this.headers,\n                    xform: _sessionResponse,\n                });\n            }, (attempt, error) => {\n                const nextBackOffInterval = 200 * Math.pow(2, attempt);\n                return (error &&\n                    isAuthRetryableFetchError(error) &&\n                    // retryable only if the request can be sent before the backoff overflows the tick duration\n                    Date.now() + nextBackOffInterval - startedAt < AUTO_REFRESH_TICK_DURATION_MS);\n            });\n        }\n        catch (error) {\n            this._debug(debugName, 'error', error);\n            if (isAuthError(error)) {\n                return { data: { session: null, user: null }, error };\n            }\n            throw error;\n        }\n        finally {\n            this._debug(debugName, 'end');\n        }\n    }\n    _isValidSession(maybeSession) {\n        const isValidSession = typeof maybeSession === 'object' &&\n            maybeSession !== null &&\n            'access_token' in maybeSession &&\n            'refresh_token' in maybeSession &&\n            'expires_at' in maybeSession;\n        return isValidSession;\n    }\n    async _handleProviderSignIn(provider, options) {\n        const url = await this._getUrlForProvider(`${this.url}/authorize`, provider, {\n            redirectTo: options.redirectTo,\n            scopes: options.scopes,\n            queryParams: options.queryParams,\n        });\n        this._debug('#_handleProviderSignIn()', 'provider', provider, 'options', options, 'url', url);\n        // try to open on the browser\n        if (isBrowser() && !options.skipBrowserRedirect) {\n            window.location.assign(url);\n        }\n        return { data: { provider, url }, error: null };\n    }\n    /**\n     * Recovers the session from LocalStorage and refreshes the token\n     * Note: this method is async to accommodate for AsyncStorage e.g. in React native.\n     */\n    async _recoverAndRefresh() {\n        var _a;\n        const debugName = '#_recoverAndRefresh()';\n        this._debug(debugName, 'begin');\n        try {\n            const currentSession = await getItemAsync(this.storage, this.storageKey);\n            this._debug(debugName, 'session from storage', currentSession);\n            if (!this._isValidSession(currentSession)) {\n                this._debug(debugName, 'session is not valid');\n                if (currentSession !== null) {\n                    await this._removeSession();\n                }\n                return;\n            }\n            const expiresWithMargin = ((_a = currentSession.expires_at) !== null && _a !== void 0 ? _a : Infinity) * 1000 - Date.now() < EXPIRY_MARGIN_MS;\n            this._debug(debugName, `session has${expiresWithMargin ? '' : ' not'} expired with margin of ${EXPIRY_MARGIN_MS}s`);\n            if (expiresWithMargin) {\n                if (this.autoRefreshToken && currentSession.refresh_token) {\n                    const { error } = await this._callRefreshToken(currentSession.refresh_token);\n                    if (error) {\n                        console.error(error);\n                        if (!isAuthRetryableFetchError(error)) {\n                            this._debug(debugName, 'refresh failed with a non-retryable error, removing the session', error);\n                            await this._removeSession();\n                        }\n                    }\n                }\n            }\n            else {\n                // no need to persist currentSession again, as we just loaded it from\n                // local storage; persisting it again may overwrite a value saved by\n                // another client with access to the same local storage\n                await this._notifyAllSubscribers('SIGNED_IN', currentSession);\n            }\n        }\n        catch (err) {\n            this._debug(debugName, 'error', err);\n            console.error(err);\n            return;\n        }\n        finally {\n            this._debug(debugName, 'end');\n        }\n    }\n    async _callRefreshToken(refreshToken) {\n        var _a, _b;\n        if (!refreshToken) {\n            throw new AuthSessionMissingError();\n        }\n        // refreshing is already in progress\n        if (this.refreshingDeferred) {\n            return this.refreshingDeferred.promise;\n        }\n        const debugName = `#_callRefreshToken(${refreshToken.substring(0, 5)}...)`;\n        this._debug(debugName, 'begin');\n        try {\n            this.refreshingDeferred = new Deferred();\n            const { data, error } = await this._refreshAccessToken(refreshToken);\n            if (error)\n                throw error;\n            if (!data.session)\n                throw new AuthSessionMissingError();\n            await this._saveSession(data.session);\n            await this._notifyAllSubscribers('TOKEN_REFRESHED', data.session);\n            const result = { session: data.session, error: null };\n            this.refreshingDeferred.resolve(result);\n            return result;\n        }\n        catch (error) {\n            this._debug(debugName, 'error', error);\n            if (isAuthError(error)) {\n                const result = { session: null, error };\n                if (!isAuthRetryableFetchError(error)) {\n                    await this._removeSession();\n                }\n                (_a = this.refreshingDeferred) === null || _a === void 0 ? void 0 : _a.resolve(result);\n                return result;\n            }\n            (_b = this.refreshingDeferred) === null || _b === void 0 ? void 0 : _b.reject(error);\n            throw error;\n        }\n        finally {\n            this.refreshingDeferred = null;\n            this._debug(debugName, 'end');\n        }\n    }\n    async _notifyAllSubscribers(event, session, broadcast = true) {\n        const debugName = `#_notifyAllSubscribers(${event})`;\n        this._debug(debugName, 'begin', session, `broadcast = ${broadcast}`);\n        try {\n            if (this.broadcastChannel && broadcast) {\n                this.broadcastChannel.postMessage({ event, session });\n            }\n            const errors = [];\n            const promises = Array.from(this.stateChangeEmitters.values()).map(async (x) => {\n                try {\n                    await x.callback(event, session);\n                }\n                catch (e) {\n                    errors.push(e);\n                }\n            });\n            await Promise.all(promises);\n            if (errors.length > 0) {\n                for (let i = 0; i < errors.length; i += 1) {\n                    console.error(errors[i]);\n                }\n                throw errors[0];\n            }\n        }\n        finally {\n            this._debug(debugName, 'end');\n        }\n    }\n    /**\n     * set currentSession and currentUser\n     * process to _startAutoRefreshToken if possible\n     */\n    async _saveSession(session) {\n        this._debug('#_saveSession()', session);\n        // _saveSession is always called whenever a new session has been acquired\n        // so we can safely suppress the warning returned by future getSession calls\n        this.suppressGetSessionWarning = true;\n        await setItemAsync(this.storage, this.storageKey, session);\n    }\n    async _removeSession() {\n        this._debug('#_removeSession()');\n        await removeItemAsync(this.storage, this.storageKey);\n        await this._notifyAllSubscribers('SIGNED_OUT', null);\n    }\n    /**\n     * Removes any registered visibilitychange callback.\n     *\n     * {@see #startAutoRefresh}\n     * {@see #stopAutoRefresh}\n     */\n    _removeVisibilityChangedCallback() {\n        this._debug('#_removeVisibilityChangedCallback()');\n        const callback = this.visibilityChangedCallback;\n        this.visibilityChangedCallback = null;\n        try {\n            if (callback && isBrowser() && (window === null || window === void 0 ? void 0 : window.removeEventListener)) {\n                window.removeEventListener('visibilitychange', callback);\n            }\n        }\n        catch (e) {\n            console.error('removing visibilitychange callback failed', e);\n        }\n    }\n    /**\n     * This is the private implementation of {@link #startAutoRefresh}. Use this\n     * within the library.\n     */\n    async _startAutoRefresh() {\n        await this._stopAutoRefresh();\n        this._debug('#_startAutoRefresh()');\n        const ticker = setInterval(() => this._autoRefreshTokenTick(), AUTO_REFRESH_TICK_DURATION_MS);\n        this.autoRefreshTicker = ticker;\n        if (ticker && typeof ticker === 'object' && typeof ticker.unref === 'function') {\n            // ticker is a NodeJS Timeout object that has an `unref` method\n            // https://nodejs.org/api/timers.html#timeoutunref\n            // When auto refresh is used in NodeJS (like for testing) the\n            // `setInterval` is preventing the process from being marked as\n            // finished and tests run endlessly. This can be prevented by calling\n            // `unref()` on the returned object.\n            ticker.unref();\n            // @ts-expect-error TS has no context of Deno\n        }\n        else if (typeof Deno !== 'undefined' && typeof Deno.unrefTimer === 'function') {\n            // similar like for NodeJS, but with the Deno API\n            // https://deno.land/api@latest?unstable&s=Deno.unrefTimer\n            // @ts-expect-error TS has no context of Deno\n            Deno.unrefTimer(ticker);\n        }\n        // run the tick immediately, but in the next pass of the event loop so that\n        // #_initialize can be allowed to complete without recursively waiting on\n        // itself\n        setTimeout(async () => {\n            await this.initializePromise;\n            await this._autoRefreshTokenTick();\n        }, 0);\n    }\n    /**\n     * This is the private implementation of {@link #stopAutoRefresh}. Use this\n     * within the library.\n     */\n    async _stopAutoRefresh() {\n        this._debug('#_stopAutoRefresh()');\n        const ticker = this.autoRefreshTicker;\n        this.autoRefreshTicker = null;\n        if (ticker) {\n            clearInterval(ticker);\n        }\n    }\n    /**\n     * Starts an auto-refresh process in the background. The session is checked\n     * every few seconds. Close to the time of expiration a process is started to\n     * refresh the session. If refreshing fails it will be retried for as long as\n     * necessary.\n     *\n     * If you set the {@link GoTrueClientOptions#autoRefreshToken} you don't need\n     * to call this function, it will be called for you.\n     *\n     * On browsers the refresh process works only when the tab/window is in the\n     * foreground to conserve resources as well as prevent race conditions and\n     * flooding auth with requests. If you call this method any managed\n     * visibility change callback will be removed and you must manage visibility\n     * changes on your own.\n     *\n     * On non-browser platforms the refresh process works *continuously* in the\n     * background, which may not be desirable. You should hook into your\n     * platform's foreground indication mechanism and call these methods\n     * appropriately to conserve resources.\n     *\n     * {@see #stopAutoRefresh}\n     */\n    async startAutoRefresh() {\n        this._removeVisibilityChangedCallback();\n        await this._startAutoRefresh();\n    }\n    /**\n     * Stops an active auto refresh process running in the background (if any).\n     *\n     * If you call this method any managed visibility change callback will be\n     * removed and you must manage visibility changes on your own.\n     *\n     * See {@link #startAutoRefresh} for more details.\n     */\n    async stopAutoRefresh() {\n        this._removeVisibilityChangedCallback();\n        await this._stopAutoRefresh();\n    }\n    /**\n     * Runs the auto refresh token tick.\n     */\n    async _autoRefreshTokenTick() {\n        this._debug('#_autoRefreshTokenTick()', 'begin');\n        try {\n            await this._acquireLock(0, async () => {\n                try {\n                    const now = Date.now();\n                    try {\n                        return await this._useSession(async (result) => {\n                            const { data: { session }, } = result;\n                            if (!session || !session.refresh_token || !session.expires_at) {\n                                this._debug('#_autoRefreshTokenTick()', 'no session');\n                                return;\n                            }\n                            // session will expire in this many ticks (or has already expired if <= 0)\n                            const expiresInTicks = Math.floor((session.expires_at * 1000 - now) / AUTO_REFRESH_TICK_DURATION_MS);\n                            this._debug('#_autoRefreshTokenTick()', `access token expires in ${expiresInTicks} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`);\n                            if (expiresInTicks <= AUTO_REFRESH_TICK_THRESHOLD) {\n                                await this._callRefreshToken(session.refresh_token);\n                            }\n                        });\n                    }\n                    catch (e) {\n                        console.error('Auto refresh tick failed with error. This is likely a transient error.', e);\n                    }\n                }\n                finally {\n                    this._debug('#_autoRefreshTokenTick()', 'end');\n                }\n            });\n        }\n        catch (e) {\n            if (e.isAcquireTimeout || e instanceof LockAcquireTimeoutError) {\n                this._debug('auto refresh token tick lock not available');\n            }\n            else {\n                throw e;\n            }\n        }\n    }\n    /**\n     * Registers callbacks on the browser / platform, which in-turn run\n     * algorithms when the browser window/tab are in foreground. On non-browser\n     * platforms it assumes always foreground.\n     */\n    async _handleVisibilityChange() {\n        this._debug('#_handleVisibilityChange()');\n        if (!isBrowser() || !(window === null || window === void 0 ? void 0 : window.addEventListener)) {\n            if (this.autoRefreshToken) {\n                // in non-browser environments the refresh token ticker runs always\n                this.startAutoRefresh();\n            }\n            return false;\n        }\n        try {\n            this.visibilityChangedCallback = async () => await this._onVisibilityChanged(false);\n            window === null || window === void 0 ? void 0 : window.addEventListener('visibilitychange', this.visibilityChangedCallback);\n            // now immediately call the visbility changed callback to setup with the\n            // current visbility state\n            await this._onVisibilityChanged(true); // initial call\n        }\n        catch (error) {\n            console.error('_handleVisibilityChange', error);\n        }\n    }\n    /**\n     * Callback registered with `window.addEventListener('visibilitychange')`.\n     */\n    async _onVisibilityChanged(calledFromInitialize) {\n        const methodName = `#_onVisibilityChanged(${calledFromInitialize})`;\n        this._debug(methodName, 'visibilityState', document.visibilityState);\n        if (document.visibilityState === 'visible') {\n            if (this.autoRefreshToken) {\n                // in browser environments the refresh token ticker runs only on focused tabs\n                // which prevents race conditions\n                this._startAutoRefresh();\n            }\n            if (!calledFromInitialize) {\n                // called when the visibility has changed, i.e. the browser\n                // transitioned from hidden -> visible so we need to see if the session\n                // should be recovered immediately... but to do that we need to acquire\n                // the lock first asynchronously\n                await this.initializePromise;\n                await this._acquireLock(-1, async () => {\n                    if (document.visibilityState !== 'visible') {\n                        this._debug(methodName, 'acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting');\n                        // visibility has changed while waiting for the lock, abort\n                        return;\n                    }\n                    // recover the session\n                    await this._recoverAndRefresh();\n                });\n            }\n        }\n        else if (document.visibilityState === 'hidden') {\n            if (this.autoRefreshToken) {\n                this._stopAutoRefresh();\n            }\n        }\n    }\n    /**\n     * Generates the relevant login URL for a third-party provider.\n     * @param options.redirectTo A URL or mobile address to send the user to after they are confirmed.\n     * @param options.scopes A space-separated list of scopes granted to the OAuth application.\n     * @param options.queryParams An object of key-value pairs containing query parameters granted to the OAuth application.\n     */\n    async _getUrlForProvider(url, provider, options) {\n        const urlParams = [`provider=${encodeURIComponent(provider)}`];\n        if (options === null || options === void 0 ? void 0 : options.redirectTo) {\n            urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`);\n        }\n        if (options === null || options === void 0 ? void 0 : options.scopes) {\n            urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`);\n        }\n        if (this.flowType === 'pkce') {\n            const [codeChallenge, codeChallengeMethod] = await getCodeChallengeAndMethod(this.storage, this.storageKey);\n            const flowParams = new URLSearchParams({\n                code_challenge: `${encodeURIComponent(codeChallenge)}`,\n                code_challenge_method: `${encodeURIComponent(codeChallengeMethod)}`,\n            });\n            urlParams.push(flowParams.toString());\n        }\n        if (options === null || options === void 0 ? void 0 : options.queryParams) {\n            const query = new URLSearchParams(options.queryParams);\n            urlParams.push(query.toString());\n        }\n        if (options === null || options === void 0 ? void 0 : options.skipBrowserRedirect) {\n            urlParams.push(`skip_http_redirect=${options.skipBrowserRedirect}`);\n        }\n        return `${url}?${urlParams.join('&')}`;\n    }\n    async _unenroll(params) {\n        try {\n            return await this._useSession(async (result) => {\n                var _a;\n                const { data: sessionData, error: sessionError } = result;\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                return await _request(this.fetch, 'DELETE', `${this.url}/factors/${params.factorId}`, {\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    async _enroll(params) {\n        try {\n            return await this._useSession(async (result) => {\n                var _a, _b;\n                const { data: sessionData, error: sessionError } = result;\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                const body = Object.assign({ friendly_name: params.friendlyName, factor_type: params.factorType }, (params.factorType === 'phone' ? { phone: params.phone } : { issuer: params.issuer }));\n                const { data, error } = await _request(this.fetch, 'POST', `${this.url}/factors`, {\n                    body,\n                    headers: this.headers,\n                    jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                });\n                if (error) {\n                    return { data: null, error };\n                }\n                if (params.factorType === 'totp' && ((_b = data === null || data === void 0 ? void 0 : data.totp) === null || _b === void 0 ? void 0 : _b.qr_code)) {\n                    data.totp.qr_code = `data:image/svg+xml;utf-8,${data.totp.qr_code}`;\n                }\n                return { data, error: null };\n            });\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n    /**\n     * {@see GoTrueMFAApi#verify}\n     */\n    async _verify(params) {\n        return this._acquireLock(-1, async () => {\n            try {\n                return await this._useSession(async (result) => {\n                    var _a;\n                    const { data: sessionData, error: sessionError } = result;\n                    if (sessionError) {\n                        return { data: null, error: sessionError };\n                    }\n                    const { data, error } = await _request(this.fetch, 'POST', `${this.url}/factors/${params.factorId}/verify`, {\n                        body: { code: params.code, challenge_id: params.challengeId },\n                        headers: this.headers,\n                        jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                    });\n                    if (error) {\n                        return { data: null, error };\n                    }\n                    await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1000) + data.expires_in }, data));\n                    await this._notifyAllSubscribers('MFA_CHALLENGE_VERIFIED', data);\n                    return { data, error };\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * {@see GoTrueMFAApi#challenge}\n     */\n    async _challenge(params) {\n        return this._acquireLock(-1, async () => {\n            try {\n                return await this._useSession(async (result) => {\n                    var _a;\n                    const { data: sessionData, error: sessionError } = result;\n                    if (sessionError) {\n                        return { data: null, error: sessionError };\n                    }\n                    return await _request(this.fetch, 'POST', `${this.url}/factors/${params.factorId}/challenge`, {\n                        body: { channel: params.channel },\n                        headers: this.headers,\n                        jwt: (_a = sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) === null || _a === void 0 ? void 0 : _a.access_token,\n                    });\n                });\n            }\n            catch (error) {\n                if (isAuthError(error)) {\n                    return { data: null, error };\n                }\n                throw error;\n            }\n        });\n    }\n    /**\n     * {@see GoTrueMFAApi#challengeAndVerify}\n     */\n    async _challengeAndVerify(params) {\n        // both _challenge and _verify independently acquire the lock, so no need\n        // to acquire it here\n        const { data: challengeData, error: challengeError } = await this._challenge({\n            factorId: params.factorId,\n        });\n        if (challengeError) {\n            return { data: null, error: challengeError };\n        }\n        return await this._verify({\n            factorId: params.factorId,\n            challengeId: challengeData.id,\n            code: params.code,\n        });\n    }\n    /**\n     * {@see GoTrueMFAApi#listFactors}\n     */\n    async _listFactors() {\n        // use #getUser instead of #_getUser as the former acquires a lock\n        const { data: { user }, error: userError, } = await this.getUser();\n        if (userError) {\n            return { data: null, error: userError };\n        }\n        const factors = (user === null || user === void 0 ? void 0 : user.factors) || [];\n        const totp = factors.filter((factor) => factor.factor_type === 'totp' && factor.status === 'verified');\n        const phone = factors.filter((factor) => factor.factor_type === 'phone' && factor.status === 'verified');\n        return {\n            data: {\n                all: factors,\n                totp,\n                phone,\n            },\n            error: null,\n        };\n    }\n    /**\n     * {@see GoTrueMFAApi#getAuthenticatorAssuranceLevel}\n     */\n    async _getAuthenticatorAssuranceLevel() {\n        return this._acquireLock(-1, async () => {\n            return await this._useSession(async (result) => {\n                var _a, _b;\n                const { data: { session }, error: sessionError, } = result;\n                if (sessionError) {\n                    return { data: null, error: sessionError };\n                }\n                if (!session) {\n                    return {\n                        data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] },\n                        error: null,\n                    };\n                }\n                const { payload } = decodeJWT(session.access_token);\n                let currentLevel = null;\n                if (payload.aal) {\n                    currentLevel = payload.aal;\n                }\n                let nextLevel = currentLevel;\n                const verifiedFactors = (_b = (_a = session.user.factors) === null || _a === void 0 ? void 0 : _a.filter((factor) => factor.status === 'verified')) !== null && _b !== void 0 ? _b : [];\n                if (verifiedFactors.length > 0) {\n                    nextLevel = 'aal2';\n                }\n                const currentAuthenticationMethods = payload.amr || [];\n                return { data: { currentLevel, nextLevel, currentAuthenticationMethods }, error: null };\n            });\n        });\n    }\n    async fetchJwk(kid, jwks = { keys: [] }) {\n        // try fetching from the supplied jwks\n        let jwk = jwks.keys.find((key) => key.kid === kid);\n        if (jwk) {\n            return jwk;\n        }\n        // try fetching from cache\n        jwk = this.jwks.keys.find((key) => key.kid === kid);\n        // jwk exists and jwks isn't stale\n        if (jwk && this.jwks_cached_at + JWKS_TTL > Date.now()) {\n            return jwk;\n        }\n        // jwk isn't cached in memory so we need to fetch it from the well-known endpoint\n        const { data, error } = await _request(this.fetch, 'GET', `${this.url}/.well-known/jwks.json`, {\n            headers: this.headers,\n        });\n        if (error) {\n            throw error;\n        }\n        if (!data.keys || data.keys.length === 0) {\n            throw new AuthInvalidJwtError('JWKS is empty');\n        }\n        this.jwks = data;\n        this.jwks_cached_at = Date.now();\n        // Find the signing key\n        jwk = data.keys.find((key) => key.kid === kid);\n        if (!jwk) {\n            throw new AuthInvalidJwtError('No matching signing key found in JWKS');\n        }\n        return jwk;\n    }\n    /**\n     * @experimental This method may change in future versions.\n     * @description Gets the claims from a JWT. If the JWT is symmetric JWTs, it will call getUser() to verify against the server. If the JWT is asymmetric, it will be verified against the JWKS using the WebCrypto API.\n     */\n    async getClaims(jwt, jwks = { keys: [] }) {\n        try {\n            let token = jwt;\n            if (!token) {\n                const { data, error } = await this.getSession();\n                if (error || !data.session) {\n                    return { data: null, error };\n                }\n                token = data.session.access_token;\n            }\n            const { header, payload, signature, raw: { header: rawHeader, payload: rawPayload }, } = decodeJWT(token);\n            // Reject expired JWTs\n            validateExp(payload.exp);\n            // If symmetric algorithm or WebCrypto API is unavailable, fallback to getUser()\n            if (!header.kid ||\n                header.alg === 'HS256' ||\n                !('crypto' in globalThis && 'subtle' in globalThis.crypto)) {\n                const { error } = await this.getUser(token);\n                if (error) {\n                    throw error;\n                }\n                // getUser succeeds so the claims in the JWT can be trusted\n                return {\n                    data: {\n                        claims: payload,\n                        header,\n                        signature,\n                    },\n                    error: null,\n                };\n            }\n            const algorithm = getAlgorithm(header.alg);\n            const signingKey = await this.fetchJwk(header.kid, jwks);\n            // Convert JWK to CryptoKey\n            const publicKey = await crypto.subtle.importKey('jwk', signingKey, algorithm, true, [\n                'verify',\n            ]);\n            // Verify the signature\n            const isValid = await crypto.subtle.verify(algorithm, publicKey, signature, stringToUint8Array(`${rawHeader}.${rawPayload}`));\n            if (!isValid) {\n                throw new AuthInvalidJwtError('Invalid JWT signature');\n            }\n            // If verification succeeds, decode and return claims\n            return {\n                data: {\n                    claims: payload,\n                    header,\n                    signature,\n                },\n                error: null,\n            };\n        }\n        catch (error) {\n            if (isAuthError(error)) {\n                return { data: null, error };\n            }\n            throw error;\n        }\n    }\n}\nGoTrueClient.nextInstanceID = 0;\n//# sourceMappingURL=GoTrueClient.js.map","import GoTrueClient from './GoTrueClient';\nconst AuthClient = GoTrueClient;\nexport default AuthClient;\n//# sourceMappingURL=AuthClient.js.map","import { AuthClient } from '@supabase/auth-js';\nexport class SupabaseAuthClient extends AuthClient {\n    constructor(options) {\n        super(options);\n    }\n}\n//# sourceMappingURL=SupabaseAuthClient.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { FunctionsClient } from '@supabase/functions-js';\nimport { PostgrestClient, } from '@supabase/postgrest-js';\nimport { RealtimeClient, } from '@supabase/realtime-js';\nimport { StorageClient as SupabaseStorageClient } from '@supabase/storage-js';\nimport { DEFAULT_GLOBAL_OPTIONS, DEFAULT_DB_OPTIONS, DEFAULT_AUTH_OPTIONS, DEFAULT_REALTIME_OPTIONS, } from './lib/constants';\nimport { fetchWithAuth } from './lib/fetch';\nimport { ensureTrailingSlash, applySettingDefaults } from './lib/helpers';\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient';\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient {\n    /**\n     * Create a new client for use in the browser.\n     * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n     * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n     * @param options.db.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n     * @param options.auth.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n     * @param options.auth.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n     * @param options.auth.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n     * @param options.realtime Options passed along to realtime-js constructor.\n     * @param options.global.fetch A custom fetch implementation.\n     * @param options.global.headers Any additional headers to send with each network request.\n     */\n    constructor(supabaseUrl, supabaseKey, options) {\n        var _a, _b, _c;\n        this.supabaseUrl = supabaseUrl;\n        this.supabaseKey = supabaseKey;\n        if (!supabaseUrl)\n            throw new Error('supabaseUrl is required.');\n        if (!supabaseKey)\n            throw new Error('supabaseKey is required.');\n        const _supabaseUrl = ensureTrailingSlash(supabaseUrl);\n        const baseUrl = new URL(_supabaseUrl);\n        this.realtimeUrl = new URL('realtime/v1', baseUrl);\n        this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace('http', 'ws');\n        this.authUrl = new URL('auth/v1', baseUrl);\n        this.storageUrl = new URL('storage/v1', baseUrl);\n        this.functionsUrl = new URL('functions/v1', baseUrl);\n        // default storage key uses the supabase project ref as a namespace\n        const defaultStorageKey = `sb-${baseUrl.hostname.split('.')[0]}-auth-token`;\n        const DEFAULTS = {\n            db: DEFAULT_DB_OPTIONS,\n            realtime: DEFAULT_REALTIME_OPTIONS,\n            auth: Object.assign(Object.assign({}, DEFAULT_AUTH_OPTIONS), { storageKey: defaultStorageKey }),\n            global: DEFAULT_GLOBAL_OPTIONS,\n        };\n        const settings = applySettingDefaults(options !== null && options !== void 0 ? options : {}, DEFAULTS);\n        this.storageKey = (_a = settings.auth.storageKey) !== null && _a !== void 0 ? _a : '';\n        this.headers = (_b = settings.global.headers) !== null && _b !== void 0 ? _b : {};\n        if (!settings.accessToken) {\n            this.auth = this._initSupabaseAuthClient((_c = settings.auth) !== null && _c !== void 0 ? _c : {}, this.headers, settings.global.fetch);\n        }\n        else {\n            this.accessToken = settings.accessToken;\n            this.auth = new Proxy({}, {\n                get: (_, prop) => {\n                    throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(prop)} is not possible`);\n                },\n            });\n        }\n        this.fetch = fetchWithAuth(supabaseKey, this._getAccessToken.bind(this), settings.global.fetch);\n        this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, settings.realtime));\n        this.rest = new PostgrestClient(new URL('rest/v1', baseUrl).href, {\n            headers: this.headers,\n            schema: settings.db.schema,\n            fetch: this.fetch,\n        });\n        if (!settings.accessToken) {\n            this._listenForAuthEvents();\n        }\n    }\n    /**\n     * Supabase Functions allows you to deploy and invoke edge functions.\n     */\n    get functions() {\n        return new FunctionsClient(this.functionsUrl.href, {\n            headers: this.headers,\n            customFetch: this.fetch,\n        });\n    }\n    /**\n     * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n     */\n    get storage() {\n        return new SupabaseStorageClient(this.storageUrl.href, this.headers, this.fetch);\n    }\n    /**\n     * Perform a query on a table or a view.\n     *\n     * @param relation - The table or view name to query\n     */\n    from(relation) {\n        return this.rest.from(relation);\n    }\n    // NOTE: signatures must be kept in sync with PostgrestClient.schema\n    /**\n     * Select a schema to query or perform an function (rpc) call.\n     *\n     * The schema needs to be on the list of exposed schemas inside Supabase.\n     *\n     * @param schema - The schema to query\n     */\n    schema(schema) {\n        return this.rest.schema(schema);\n    }\n    // NOTE: signatures must be kept in sync with PostgrestClient.rpc\n    /**\n     * Perform a function call.\n     *\n     * @param fn - The function name to call\n     * @param args - The arguments to pass to the function call\n     * @param options - Named parameters\n     * @param options.head - When set to `true`, `data` will not be returned.\n     * Useful if you only need the count.\n     * @param options.get - When set to `true`, the function will be called with\n     * read-only access mode.\n     * @param options.count - Count algorithm to use to count rows returned by the\n     * function. Only applicable for [set-returning\n     * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n     *\n     * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n     * hood.\n     *\n     * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n     * statistics under the hood.\n     *\n     * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n     * numbers.\n     */\n    rpc(fn, args = {}, options = {}) {\n        return this.rest.rpc(fn, args, options);\n    }\n    /**\n     * Creates a Realtime channel with Broadcast, Presence, and Postgres Changes.\n     *\n     * @param {string} name - The name of the Realtime channel.\n     * @param {Object} opts - The options to pass to the Realtime channel.\n     *\n     */\n    channel(name, opts = { config: {} }) {\n        return this.realtime.channel(name, opts);\n    }\n    /**\n     * Returns all Realtime channels.\n     */\n    getChannels() {\n        return this.realtime.getChannels();\n    }\n    /**\n     * Unsubscribes and removes Realtime channel from Realtime client.\n     *\n     * @param {RealtimeChannel} channel - The name of the Realtime channel.\n     *\n     */\n    removeChannel(channel) {\n        return this.realtime.removeChannel(channel);\n    }\n    /**\n     * Unsubscribes and removes all Realtime channels from Realtime client.\n     */\n    removeAllChannels() {\n        return this.realtime.removeAllChannels();\n    }\n    _getAccessToken() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.accessToken) {\n                return yield this.accessToken();\n            }\n            const { data } = yield this.auth.getSession();\n            return (_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.access_token) !== null && _b !== void 0 ? _b : null;\n        });\n    }\n    _initSupabaseAuthClient({ autoRefreshToken, persistSession, detectSessionInUrl, storage, storageKey, flowType, lock, debug, }, headers, fetch) {\n        const authHeaders = {\n            Authorization: `Bearer ${this.supabaseKey}`,\n            apikey: `${this.supabaseKey}`,\n        };\n        return new SupabaseAuthClient({\n            url: this.authUrl.href,\n            headers: Object.assign(Object.assign({}, authHeaders), headers),\n            storageKey: storageKey,\n            autoRefreshToken,\n            persistSession,\n            detectSessionInUrl,\n            storage,\n            flowType,\n            lock,\n            debug,\n            fetch,\n            // auth checks if there is a custom authorizaiton header using this flag\n            // so it knows whether to return an error when getUser is called with no session\n            hasCustomAuthorizationHeader: 'Authorization' in this.headers,\n        });\n    }\n    _initRealtimeClient(options) {\n        return new RealtimeClient(this.realtimeUrl.href, Object.assign(Object.assign({}, options), { params: Object.assign({ apikey: this.supabaseKey }, options === null || options === void 0 ? void 0 : options.params) }));\n    }\n    _listenForAuthEvents() {\n        let data = this.auth.onAuthStateChange((event, session) => {\n            this._handleTokenChanged(event, 'CLIENT', session === null || session === void 0 ? void 0 : session.access_token);\n        });\n        return data;\n    }\n    _handleTokenChanged(event, source, token) {\n        if ((event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n            this.changedAccessToken !== token) {\n            this.changedAccessToken = token;\n        }\n        else if (event === 'SIGNED_OUT') {\n            this.realtime.setAuth();\n            if (source == 'STORAGE')\n                this.auth.signOut();\n            this.changedAccessToken = undefined;\n        }\n    }\n}\n//# sourceMappingURL=SupabaseClient.js.map","import SupabaseClient from './SupabaseClient';\nexport * from '@supabase/auth-js';\nexport { PostgrestError, } from '@supabase/postgrest-js';\nexport { FunctionsHttpError, FunctionsFetchError, FunctionsRelayError, FunctionsError, FunctionRegion, } from '@supabase/functions-js';\nexport * from '@supabase/realtime-js';\nexport { default as SupabaseClient } from './SupabaseClient';\n/**\n * Creates a new Supabase Client.\n */\nexport const createClient = (supabaseUrl, supabaseKey, options) => {\n    return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\n//# sourceMappingURL=index.js.map","import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error('Missing Supabase environment variables. Check your .env file.');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n    detectSessionInUrl: true\n  }\n});\n\n// Helper function to handle Supabase errors consistently\nexport const handleSupabaseError = (error) => {\n  console.error('Supabase error:', error);\n  \n  // Return a user-friendly error message\n  if (error.code === 'PGRST116') {\n    return 'No data found.';\n  } else if (error.code === '23505') {\n    return 'This record already exists.';\n  } else if (error.code === '23503') {\n    return 'This operation would violate referential integrity.';\n  } else if (error.message) {\n    return error.message;\n  } else {\n    return 'An unexpected error occurred. Please try again later.';\n  }\n};\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabaseClient';\n\nconst AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Check for active session on initial load\n    const checkSession = async () => {\n      try {\n        const { data: { session }, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          throw error;\n        }\n        \n        setUser(session?.user || null);\n      } catch (error) {\n        console.error('Error checking auth session:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkSession();\n\n    // Set up auth state listener\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (_event, session) => {\n        setUser(session?.user || null);\n        setLoading(false);\n      }\n    );\n\n    // Cleanup subscription on unmount\n    return () => {\n      if (subscription) subscription.unsubscribe();\n    };\n  }, []);\n\n  // Auth functions\n  const signUp = async (email, password) => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabase.auth.signUp({ email, password });\n      \n      if (error) throw error;\n      \n      return data;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const signIn = async (email, password) => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabase.auth.signInWithPassword({ \n        email, \n        password \n      });\n      \n      if (error) throw error;\n      \n      return data;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      setLoading(true);\n      const { error } = await supabase.auth.signOut();\n      \n      if (error) throw error;\n      \n    } catch (error) {\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetPassword = async (email) => {\n    try {\n      setLoading(true);\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/reset-password`,\n      });\n      \n      if (error) throw error;\n      \n    } catch (error) {\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updatePassword = async (newPassword) => {\n    try {\n      setLoading(true);\n      const { error } = await supabase.auth.updateUser({\n        password: newPassword,\n      });\n      \n      if (error) throw error;\n      \n    } catch (error) {\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const value = {\n    user,\n    loading,\n    error,\n    signUp,\n    signIn,\n    signOut,\n    resetPassword,\n    updatePassword,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabaseClient';\nimport { useAuth } from './AuthContext';\n\nconst AppContext = createContext();\n\nexport function useApp() {\n  return useContext(AppContext);\n}\n\nexport function AppProvider({ children }) {\n  const { user } = useAuth();\n  const [userProfile, setUserProfile] = useState(null);\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch user profile when auth user changes\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      if (!user) {\n        setUserProfile(null);\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        \n        // First check if user has a profile\n        const { data: profileData, error: profileError } = await supabase\n          .from('profiles')\n          .select('*')\n          .eq('user_id', user.id)\n          .single();\n        \n        if (profileError && profileError.code !== 'PGRST116') {\n          throw profileError;\n        }\n        \n        if (profileData) {\n          setUserProfile(profileData);\n        } else {\n          // If no profile exists, create one with default values\n          const { data: newProfile, error: createError } = await supabase\n            .from('profiles')\n            .insert([\n              { \n                user_id: user.id,\n                email: user.email,\n                role: 'homeowner', // Default role\n                full_name: '',\n                avatar_url: '',\n                created_at: new Date()\n              }\n            ])\n            .select()\n            .single();\n          \n          if (createError) throw createError;\n          \n          setUserProfile(newProfile);\n        }\n      } catch (error) {\n        console.error('Error fetching user profile:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUserProfile();\n  }, [user]);\n\n  // Fetch notifications when user profile changes\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      if (!user) {\n        setNotifications([]);\n        return;\n      }\n\n      try {\n        const { data, error } = await supabase\n          .from('notifications')\n          .select('*')\n          .eq('user_id', user.id)\n          .order('created_at', { ascending: false })\n          .limit(10);\n        \n        if (error) throw error;\n        \n        setNotifications(data || []);\n      } catch (error) {\n        console.error('Error fetching notifications:', error);\n      }\n    };\n\n    fetchNotifications();\n\n    // Set up real-time subscription for notifications\n    const notificationsSubscription = supabase\n      .channel('public:notifications')\n      .on('postgres_changes', \n        { \n          event: '*', \n          schema: 'public', \n          table: 'notifications',\n          filter: `user_id=eq.${user?.id}` \n        }, \n        (payload) => {\n          if (payload.eventType === 'INSERT') {\n            setNotifications(prev => [payload.new, ...prev].slice(0, 10));\n          } else if (payload.eventType === 'UPDATE') {\n            setNotifications(prev => \n              prev.map(notification => \n                notification.id === payload.new.id ? payload.new : notification\n              )\n            );\n          } else if (payload.eventType === 'DELETE') {\n            setNotifications(prev => \n              prev.filter(notification => notification.id !== payload.old.id)\n            );\n          }\n        }\n      )\n      .subscribe();\n\n    return () => {\n      if (notificationsSubscription) {\n        supabase.removeChannel(notificationsSubscription);\n      }\n    };\n  }, [user]);\n\n  // Profile management functions\n  const updateProfile = async (updates) => {\n    try {\n      if (!user) throw new Error('User not authenticated');\n      \n      const { data, error } = await supabase\n        .from('profiles')\n        .update(updates)\n        .eq('user_id', user.id)\n        .select()\n        .single();\n      \n      if (error) throw error;\n      \n      setUserProfile(data);\n      return data;\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      throw error;\n    }\n  };\n\n  // Notification functions\n  const markNotificationAsRead = async (notificationId) => {\n    try {\n      const { error } = await supabase\n        .from('notifications')\n        .update({ read: true })\n        .eq('id', notificationId);\n      \n      if (error) throw error;\n      \n      setNotifications(prev => \n        prev.map(notification => \n          notification.id === notificationId \n            ? { ...notification, read: true } \n            : notification\n        )\n      );\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n      throw error;\n    }\n  };\n\n  const markAllNotificationsAsRead = async () => {\n    try {\n      if (!user) throw new Error('User not authenticated');\n      \n      const { error } = await supabase\n        .from('notifications')\n        .update({ read: true })\n        .eq('user_id', user.id)\n        .eq('read', false);\n      \n      if (error) throw error;\n      \n      setNotifications(prev => \n        prev.map(notification => ({ ...notification, read: true }))\n      );\n    } catch (error) {\n      console.error('Error marking all notifications as read:', error);\n      throw error;\n    }\n  };\n\n  const value = {\n    userProfile,\n    notifications,\n    loading,\n    error,\n    updateProfile,\n    markNotificationAsRead,\n    markAllNotificationsAsRead,\n  };\n\n  return (\n    <AppContext.Provider value={value}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n","import * as React from \"react\";\nfunction ArrowLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowLeftIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Bars3Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Bars3Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BellIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BellIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BriefcaseIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BriefcaseIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CalendarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CameraIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CameraIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChartBarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChartBarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChatBubbleLeftRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChatBubbleLeftRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 19.5 8.25 12l7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronLeftIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m8.25 4.5 7.5 7.5-7.5 7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Cog6ToothIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Cog6ToothIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CurrencyDollarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CurrencyDollarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentTextIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentTextIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EllipsisHorizontalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EllipsisHorizontalIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ExclamationCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ExclamationCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HandThumbUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HandThumbUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HomeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HomeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PaperAirplaneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PaperAirplaneIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PaperClipIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PaperClipIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PhoneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhoneIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PhotoIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhotoIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PuzzlePieceIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PuzzlePieceIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShareIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldCheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldCheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction StarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(StarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserGroupIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserGroupIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UsersIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UsersIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import React, { useState } from 'react';\nimport { Outlet, Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useApp } from '../contexts/AppContext';\nimport { \n  Bars3Icon, \n  XMarkIcon, \n  HomeIcon, \n  UserIcon, \n  CalendarIcon, \n  ChatBubbleLeftRightIcon,\n  Cog6ToothIcon,\n  BriefcaseIcon,\n  UserGroupIcon,\n  BellIcon,\n  ArrowRightOnRectangleIcon\n} from '@heroicons/react/24/outline';\n\nconst MainLayout = () => {\n  const { user, signOut } = useAuth();\n  const { userProfile, notifications } = useApp();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [notificationsOpen, setNotificationsOpen] = useState(false);\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n\n  const role = userProfile?.role || 'homeowner';\n  const unreadNotifications = notifications.filter(n => !n.read).length;\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      navigate('/login');\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  // Navigation items based on user role\n  const navigation = role === 'provider' \n    ? [\n        { name: 'Dashboard', href: '/provider/dashboard', icon: HomeIcon },\n        { name: 'Jobs', href: '/provider/jobs', icon: BriefcaseIcon },\n        { name: 'Calendar', href: '/provider/calendar', icon: CalendarIcon },\n        { name: 'Messages', href: '/provider/messages', icon: ChatBubbleLeftRightIcon },\n        { name: 'Profile', href: '/provider/profile', icon: UserIcon },\n        { name: 'Settings', href: '/provider/settings', icon: Cog6ToothIcon },\n      ]\n    : [\n        { name: 'Dashboard', href: '/homeowner/dashboard', icon: HomeIcon },\n        { name: 'Projects', href: '/homeowner/projects', icon: BriefcaseIcon },\n        { name: 'Providers', href: '/homeowner/providers', icon: UserGroupIcon },\n        { name: 'Messages', href: '/homeowner/messages', icon: ChatBubbleLeftRightIcon },\n        { name: 'Profile', href: '/homeowner/profile', icon: UserIcon },\n        { name: 'Settings', href: '/homeowner/settings', icon: Cog6ToothIcon },\n      ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar */}\n      <div className={`fixed inset-0 z-40 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`} role=\"dialog\" aria-modal=\"true\">\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" aria-hidden=\"true\" onClick={() => setSidebarOpen(false)}></div>\n        \n        <div className=\"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-white\">\n          <div className=\"absolute top-0 right-0 pt-2 pr-2\">\n            <button\n              type=\"button\"\n              className=\"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500\"\n              onClick={() => setSidebarOpen(false)}\n            >\n              <span className=\"sr-only\">Close sidebar</span>\n              <XMarkIcon className=\"w-6 h-6\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          \n          <div className=\"flex items-center flex-shrink-0 px-4\">\n            <Link to=\"/\" className=\"text-xl font-bold text-blue-600\">ServiceConnectPro</Link>\n          </div>\n          \n          <div className=\"flex-1 h-0 mt-5 overflow-y-auto\">\n            <nav className=\"px-2 space-y-1\">\n              {navigation.map((item) => (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`${\n                    location.pathname === item.href\n                      ? 'bg-blue-50 text-blue-600'\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                  } group flex items-center px-2 py-2 text-base font-medium rounded-md`}\n                  onClick={() => setSidebarOpen(false)}\n                >\n                  <item.icon\n                    className={`${\n                      location.pathname === item.href ? 'text-blue-600' : 'text-gray-400 group-hover:text-gray-500'\n                    } mr-4 flex-shrink-0 h-6 w-6`}\n                    aria-hidden=\"true\"\n                  />\n                  {item.name}\n                </Link>\n              ))}\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      {/* Static sidebar for desktop */}\n      <div className=\"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0\">\n        <div className=\"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto border-r border-gray-200 bg-white\">\n          <div className=\"flex items-center flex-shrink-0 px-4\">\n            <Link to=\"/\" className=\"text-xl font-bold text-blue-600\">ServiceConnectPro</Link>\n          </div>\n          \n          <div className=\"flex flex-col flex-grow mt-5\">\n            <nav className=\"flex-1 px-2 space-y-1 bg-white\">\n              {navigation.map((item) => (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`${\n                    location.pathname === item.href\n                      ? 'bg-blue-50 text-blue-600'\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                  } group flex items-center px-2 py-2 text-sm font-medium rounded-md`}\n                >\n                  <item.icon\n                    className={`${\n                      location.pathname === item.href ? 'text-blue-600' : 'text-gray-400 group-hover:text-gray-500'\n                    } mr-3 flex-shrink-0 h-6 w-6`}\n                    aria-hidden=\"true\"\n                  />\n                  {item.name}\n                </Link>\n              ))}\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64 flex flex-col flex-1\">\n        <div className=\"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200\">\n          <button\n            type=\"button\"\n            className=\"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden\"\n            onClick={() => setSidebarOpen(true)}\n          >\n            <span className=\"sr-only\">Open sidebar</span>\n            <Bars3Icon className=\"h-6 w-6\" aria-hidden=\"true\" />\n          </button>\n          \n          <div className=\"flex-1 px-4 flex justify-end\">\n            <div className=\"ml-4 flex items-center md:ml-6\">\n              {/* Notifications dropdown */}\n              <div className=\"relative\">\n                <button\n                  type=\"button\"\n                  className=\"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  onClick={() => setNotificationsOpen(!notificationsOpen)}\n                >\n                  <span className=\"sr-only\">View notifications</span>\n                  <BellIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                  {unreadNotifications > 0 && (\n                    <span className=\"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white\"></span>\n                  )}\n                </button>\n                \n                {notificationsOpen && (\n                  <div className=\"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                    <div className=\"px-4 py-2 border-b border-gray-200\">\n                      <h3 className=\"text-sm font-medium text-gray-900\">Notifications</h3>\n                    </div>\n                    <div className=\"max-h-60 overflow-y-auto\">\n                      {notifications.length > 0 ? (\n                        notifications.map((notification) => (\n                          <div\n                            key={notification.id}\n                            className={`px-4 py-2 hover:bg-gray-50 ${!notification.read ? 'bg-blue-50' : ''}`}\n                          >\n                            <p className=\"text-sm text-gray-700\">{notification.message}</p>\n                            <p className=\"text-xs text-gray-500 mt-1\">\n                              {new Date(notification.created_at).toLocaleString()}\n                            </p>\n                          </div>\n                        ))\n                      ) : (\n                        <div className=\"px-4 py-2 text-sm text-gray-500\">No notifications</div>\n                      )}\n                    </div>\n                    {notifications.length > 0 && (\n                      <div className=\"px-4 py-2 border-t border-gray-200\">\n                        <button\n                          type=\"button\"\n                          className=\"text-sm text-blue-600 hover:text-blue-500\"\n                          onClick={() => {\n                            // Handle mark all as read\n                            setNotificationsOpen(false);\n                          }}\n                        >\n                          Mark all as read\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              {/* Profile dropdown */}\n              <div className=\"ml-3 relative\">\n                <div>\n                  <button\n                    type=\"button\"\n                    className=\"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    id=\"user-menu-button\"\n                    aria-expanded={userMenuOpen}\n                    aria-haspopup=\"true\"\n                    onClick={() => setUserMenuOpen(!userMenuOpen)}\n                  >\n                    <span className=\"sr-only\">Open user menu</span>\n                    {userProfile?.avatar_url ? (\n                      <img\n                        className=\"h-8 w-8 rounded-full\"\n                        src={userProfile.avatar_url}\n                        alt=\"User avatar\"\n                      />\n                    ) : (\n                      <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\">\n                        <span className=\"text-blue-600 font-medium\">\n                          {userProfile?.full_name?.charAt(0) || user?.email?.charAt(0) || '?'}\n                        </span>\n                      </div>\n                    )}\n                  </button>\n                </div>\n                \n                {userMenuOpen && (\n                  <div\n                    className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\n                    role=\"menu\"\n                    aria-orientation=\"vertical\"\n                    aria-labelledby=\"user-menu-button\"\n                    tabIndex=\"-1\"\n                  >\n                    <div className=\"px-4 py-2 text-sm text-gray-700 border-b border-gray-200\">\n                      <p className=\"font-medium\">{userProfile?.full_name || 'User'}</p>\n                      <p className=\"text-gray-500 truncate\">{user?.email}</p>\n                    </div>\n                    <Link\n                      to={`/${role}/profile`}\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      role=\"menuitem\"\n                      tabIndex=\"-1\"\n                      onClick={() => setUserMenuOpen(false)}\n                    >\n                      Your Profile\n                    </Link>\n                    <Link\n                      to={`/${role}/settings`}\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      role=\"menuitem\"\n                      tabIndex=\"-1\"\n                      onClick={() => setUserMenuOpen(false)}\n                    >\n                      Settings\n                    </Link>\n                    <button\n                      type=\"button\"\n                      className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      role=\"menuitem\"\n                      tabIndex=\"-1\"\n                      onClick={() => {\n                        setUserMenuOpen(false);\n                        handleSignOut();\n                      }}\n                    >\n                      Sign out\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <main className=\"flex-1 pb-8\">\n          <div className=\"py-6\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import React from 'react';\nimport { Outlet, Link } from 'react-router-dom';\n\nconst AuthLayout = () => {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <Link to=\"/\" className=\"flex justify-center\">\n          <h1 className=\"text-3xl font-bold text-blue-600\">ServiceConnectPro</h1>\n        </Link>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          <Outlet />\n        </div>\n        \n        <div className=\"mt-6 text-center\">\n          <div className=\"space-x-4\">\n            <Link to=\"/\" className=\"text-sm font-medium text-blue-600 hover:text-blue-500\">\n              Home\n            </Link>\n            <Link to=\"/about\" className=\"text-sm font-medium text-blue-600 hover:text-blue-500\">\n              About\n            </Link>\n            <Link to=\"/contact\" className=\"text-sm font-medium text-blue-600 hover:text-blue-500\">\n              Contact\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthLayout;\n","import React, { useState } from 'react';\nimport { Outlet, Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useApp } from '../contexts/AppContext';\nimport { \n  Bars3Icon, \n  XMarkIcon, \n  HomeIcon, \n  UsersIcon, \n  UserGroupIcon, \n  ChartBarIcon,\n  Cog6ToothIcon,\n  BellIcon,\n  ArrowRightOnRectangleIcon\n} from '@heroicons/react/24/outline';\n\nconst AdminLayout = () => {\n  const { user, signOut } = useAuth();\n  const { userProfile, notifications } = useApp();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [notificationsOpen, setNotificationsOpen] = useState(false);\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n\n  const unreadNotifications = notifications.filter(n => !n.read).length;\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      navigate('/login');\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  // Admin navigation items\n  const navigation = [\n    { name: 'Dashboard', href: '/admin/dashboard', icon: HomeIcon },\n    { name: 'Users', href: '/admin/users', icon: UsersIcon },\n    { name: 'Providers', href: '/admin/providers', icon: UserGroupIcon },\n    { name: 'Reports', href: '/admin/reports', icon: ChartBarIcon },\n    { name: 'Settings', href: '/admin/settings', icon: Cog6ToothIcon },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar */}\n      <div className={`fixed inset-0 z-40 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`} role=\"dialog\" aria-modal=\"true\">\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" aria-hidden=\"true\" onClick={() => setSidebarOpen(false)}></div>\n        \n        <div className=\"relative flex flex-col w-full max-w-xs pt-5 pb-4 bg-gray-800\">\n          <div className=\"absolute top-0 right-0 pt-2 pr-2\">\n            <button\n              type=\"button\"\n              className=\"flex items-center justify-center w-10 h-10 rounded-md text-gray-400 hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500\"\n              onClick={() => setSidebarOpen(false)}\n            >\n              <span className=\"sr-only\">Close sidebar</span>\n              <XMarkIcon className=\"w-6 h-6\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          \n          <div className=\"flex items-center flex-shrink-0 px-4\">\n            <Link to=\"/admin/dashboard\" className=\"text-xl font-bold text-white\">Admin Panel</Link>\n          </div>\n          \n          <div className=\"flex-1 h-0 mt-5 overflow-y-auto\">\n            <nav className=\"px-2 space-y-1\">\n              {navigation.map((item) => (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`${\n                    location.pathname === item.href\n                      ? 'bg-gray-900 text-white'\n                      : 'text-gray-300 hover:bg-gray-700 hover:text-white'\n                  } group flex items-center px-2 py-2 text-base font-medium rounded-md`}\n                  onClick={() => setSidebarOpen(false)}\n                >\n                  <item.icon\n                    className={`${\n                      location.pathname === item.href ? 'text-gray-300' : 'text-gray-400 group-hover:text-gray-300'\n                    } mr-4 flex-shrink-0 h-6 w-6`}\n                    aria-hidden=\"true\"\n                  />\n                  {item.name}\n                </Link>\n              ))}\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      {/* Static sidebar for desktop */}\n      <div className=\"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0\">\n        <div className=\"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto bg-gray-800\">\n          <div className=\"flex items-center flex-shrink-0 px-4\">\n            <Link to=\"/admin/dashboard\" className=\"text-xl font-bold text-white\">Admin Panel</Link>\n          </div>\n          \n          <div className=\"flex flex-col flex-grow mt-5\">\n            <nav className=\"flex-1 px-2 space-y-1\">\n              {navigation.map((item) => (\n                <Link\n                  key={item.name}\n                  to={item.href}\n                  className={`${\n                    location.pathname === item.href\n                      ? 'bg-gray-900 text-white'\n                      : 'text-gray-300 hover:bg-gray-700 hover:text-white'\n                  } group flex items-center px-2 py-2 text-sm font-medium rounded-md`}\n                >\n                  <item.icon\n                    className={`${\n                      location.pathname === item.href ? 'text-gray-300' : 'text-gray-400 group-hover:text-gray-300'\n                    } mr-3 flex-shrink-0 h-6 w-6`}\n                    aria-hidden=\"true\"\n                  />\n                  {item.name}\n                </Link>\n              ))}\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64 flex flex-col flex-1\">\n        <div className=\"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white border-b border-gray-200\">\n          <button\n            type=\"button\"\n            className=\"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden\"\n            onClick={() => setSidebarOpen(true)}\n          >\n            <span className=\"sr-only\">Open sidebar</span>\n            <Bars3Icon className=\"h-6 w-6\" aria-hidden=\"true\" />\n          </button>\n          \n          <div className=\"flex-1 px-4 flex justify-end\">\n            <div className=\"ml-4 flex items-center md:ml-6\">\n              {/* Notifications dropdown */}\n              <div className=\"relative\">\n                <button\n                  type=\"button\"\n                  className=\"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  onClick={() => setNotificationsOpen(!notificationsOpen)}\n                >\n                  <span className=\"sr-only\">View notifications</span>\n                  <BellIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                  {unreadNotifications > 0 && (\n                    <span className=\"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white\"></span>\n                  )}\n                </button>\n                \n                {notificationsOpen && (\n                  <div className=\"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                    <div className=\"px-4 py-2 border-b border-gray-200\">\n                      <h3 className=\"text-sm font-medium text-gray-900\">Notifications</h3>\n                    </div>\n                    <div className=\"max-h-60 overflow-y-auto\">\n                      {notifications.length > 0 ? (\n                        notifications.map((notification) => (\n                          <div\n                            key={notification.id}\n                            className={`px-4 py-2 hover:bg-gray-50 ${!notification.read ? 'bg-blue-50' : ''}`}\n                          >\n                            <p className=\"text-sm text-gray-700\">{notification.message}</p>\n                            <p className=\"text-xs text-gray-500 mt-1\">\n                              {new Date(notification.created_at).toLocaleString()}\n                            </p>\n                          </div>\n                        ))\n                      ) : (\n                        <div className=\"px-4 py-2 text-sm text-gray-500\">No notifications</div>\n                      )}\n                    </div>\n                    {notifications.length > 0 && (\n                      <div className=\"px-4 py-2 border-t border-gray-200\">\n                        <button\n                          type=\"button\"\n                          className=\"text-sm text-blue-600 hover:text-blue-500\"\n                          onClick={() => {\n                            // Handle mark all as read\n                            setNotificationsOpen(false);\n                          }}\n                        >\n                          Mark all as read\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              {/* Profile dropdown */}\n              <div className=\"ml-3 relative\">\n                <div>\n                  <button\n                    type=\"button\"\n                    className=\"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    id=\"user-menu-button\"\n                    aria-expanded={userMenuOpen}\n                    aria-haspopup=\"true\"\n                    onClick={() => setUserMenuOpen(!userMenuOpen)}\n                  >\n                    <span className=\"sr-only\">Open user menu</span>\n                    {userProfile?.avatar_url ? (\n                      <img\n                        className=\"h-8 w-8 rounded-full\"\n                        src={userProfile.avatar_url}\n                        alt=\"User avatar\"\n                      />\n                    ) : (\n                      <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\">\n                        <span className=\"text-blue-600 font-medium\">\n                          {userProfile?.full_name?.charAt(0) || user?.email?.charAt(0) || 'A'}\n                        </span>\n                      </div>\n                    )}\n                  </button>\n                </div>\n                \n                {userMenuOpen && (\n                  <div\n                    className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\n                    role=\"menu\"\n                    aria-orientation=\"vertical\"\n                    aria-labelledby=\"user-menu-button\"\n                    tabIndex=\"-1\"\n                  >\n                    <div className=\"px-4 py-2 text-sm text-gray-700 border-b border-gray-200\">\n                      <p className=\"font-medium\">{userProfile?.full_name || 'Admin'}</p>\n                      <p className=\"text-gray-500 truncate\">{user?.email}</p>\n                    </div>\n                    <Link\n                      to=\"/admin/settings\"\n                      className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      role=\"menuitem\"\n                      tabIndex=\"-1\"\n                      onClick={() => setUserMenuOpen(false)}\n                    >\n                      Settings\n                    </Link>\n                    <button\n                      type=\"button\"\n                      className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      role=\"menuitem\"\n                      tabIndex=\"-1\"\n                      onClick={() => {\n                        setUserMenuOpen(false);\n                        handleSignOut();\n                      }}\n                    >\n                      Sign out\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <main className=\"flex-1 pb-8\">\n          <div className=\"py-6\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminLayout;\n","import * as React from 'react';\nimport React__default from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    let copy;\n    const isArray = Array.isArray(data);\n    const isFileListInstance = typeof FileList !== 'undefined' ? data instanceof FileList : false;\n    if (data instanceof Date) {\n        copy = new Date(data);\n    }\n    else if (data instanceof Set) {\n        copy = new Set(data);\n    }\n    else if (!(isWeb && (data instanceof Blob || isFileListInstance)) &&\n        (isArray || isObject(data))) {\n        copy = isArray ? [] : {};\n        if (!isArray && !isPlainObject(data)) {\n            copy = data;\n        }\n        else {\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    copy[key] = cloneObject(data[key]);\n                }\n            }\n        }\n    }\n    else {\n        return data;\n    }\n    return copy;\n}\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar isUndefined = (val) => val === undefined;\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = compact(path.split(/[,[\\].]+?/)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React__default.createContext(null);\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React__default.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://reactjs.org/docs/context.html) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React__default.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate) • [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React__default.useState(control._formState);\n    const _localProxyFormState = React__default.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name: name,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n            !disabled &&\n                updateFormState({\n                    ...control._formState,\n                    ...formState,\n                });\n        },\n    }), [name, disabled, exact]);\n    React__default.useEffect(() => {\n        _localProxyFormState.current.isValid && control._setValid(true);\n    }, [control]);\n    return React__default.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName), get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, } = props || {};\n    const _defaultValue = React__default.useRef(defaultValue);\n    const [value, updateValue] = React__default.useState(control._getWatch(name, _defaultValue.current));\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name: name,\n        formState: {\n            values: true,\n        },\n        exact,\n        callback: (formState) => !disabled &&\n            updateValue(generateWatchOutput(name, control._names, formState.values || control._formValues, false, _defaultValue.current)),\n    }), [name, control, disabled, exact]);\n    React__default.useEffect(() => control._removeUnmounted());\n    return value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller) • [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: get(control._formValues, name, get(control._defaultValues, name, props.defaultValue)),\n        exact: true,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact: true,\n    });\n    const _props = React__default.useRef(props);\n    const _registerProps = React__default.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    const fieldState = React__default.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const onChange = React__default.useCallback((event) => _registerProps.current.onChange({\n        target: {\n            value: getEventValue(event),\n            name: name,\n        },\n        type: EVENTS.CHANGE,\n    }), [name]);\n    const onBlur = React__default.useCallback(() => _registerProps.current.onBlur({\n        target: {\n            value: get(control._formValues, name),\n            name: name,\n        },\n        type: EVENTS.BLUR,\n    }), [name, control._formValues]);\n    const ref = React__default.useCallback((elm) => {\n        const field = get(control._fields, name);\n        if (field && elm) {\n            field._f.ref = {\n                focus: () => elm.focus(),\n                select: () => elm.select(),\n                setCustomValidity: (message) => elm.setCustomValidity(message),\n                reportValidity: () => elm.reportValidity(),\n            };\n        }\n    }, [control._fields, name]);\n    const field = React__default.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange,\n        onBlur,\n        ref,\n    }), [name, disabled, formState.disabled, onChange, onBlur, ref, value]);\n    React__default.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        control.register(name, {\n            ..._props.current.rules,\n            ...(isBoolean(_props.current.disabled)\n                ? { disabled: _props.current.disabled }\n                : {}),\n        });\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React__default.useEffect(() => {\n        control._setDisabledField({\n            disabled,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React__default.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller) • [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw) • [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React__default.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType ? { 'Content-Type': encType } : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React__default.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React__default.createElement(React__default.Fragment, null, render({\n        submit,\n    }))) : (React__default.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return object1 === object2;\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction markFieldsDirty(data, fields = {}) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                fields[key] = Array.isArray(data[key]) ? [] : {};\n                markFieldsDirty(data[key], fields[key]);\n            }\n            else if (!isNullOrUndefined(data[key])) {\n                fields[key] = true;\n            }\n        }\n    }\n    return fields;\n}\nfunction getDirtyFieldsFromDefaultValues(data, formValues, dirtyFieldsFromValues) {\n    const isParentNodeArray = Array.isArray(data);\n    if (isObject(data) || isParentNodeArray) {\n        for (const key in data) {\n            if (Array.isArray(data[key]) ||\n                (isObject(data[key]) && !objectHasFunction(data[key]))) {\n                if (isUndefined(formValues) ||\n                    isPrimitive(dirtyFieldsFromValues[key])) {\n                    dirtyFieldsFromValues[key] = Array.isArray(data[key])\n                        ? markFieldsDirty(data[key], [])\n                        : { ...markFieldsDirty(data[key]) };\n                }\n                else {\n                    getDirtyFieldsFromDefaultValues(data[key], isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n                }\n            }\n            else {\n                dirtyFieldsFromValues[key] = !deepEqual(data[key], formValues[key]);\n            }\n        }\n    }\n    return dirtyFieldsFromValues;\n}\nvar getDirtyFields = (defaultValues, formValues) => getDirtyFieldsFromDefaultValues(defaultValues, formValues, markFieldsDirty(formValues));\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nvar isMessage = (value) => isString(value);\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isMessage(result) ||\n        (Array.isArray(result) && result.every(isMessage)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isMessage(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isMessage(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isReady: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    const _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.defaultValues || _options.values) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _proxySubscribeFormState = {\n        ..._proxyFormState,\n    };\n    const _subjects = {\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _setValid = async (shouldUpdateValid) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValid ||\n                _proxySubscribeFormState.isValid ||\n                shouldUpdateValid)) {\n            const isValid = _options.resolver\n                ? isEmptyObject((await _runSchema()).errors)\n                : await executeBuiltInValidation(_fields, true);\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating ||\n                _proxyFormState.validatingFields ||\n                _proxySubscribeFormState.isValidating ||\n                _proxySubscribeFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _setFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if ((_proxyFormState.touchedFields ||\n                _proxySubscribeFormState.touchedFields) &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && _setValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!get(_formState.dirtyFields, name);\n                isCurrentFieldPristine\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        ((_proxyFormState.dirtyFields ||\n                            _proxySubscribeFormState.dirtyFields) &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            ((_proxyFormState.touchedFields ||\n                                _proxySubscribeFormState.touchedFields) &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _runSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        _updateIsValidating(name);\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _runSchema(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.forEach((checkboxRef) => {\n                            if (!checkboxRef.defaultChecked || !checkboxRef.disabled) {\n                                if (Array.isArray(fieldValue)) {\n                                    checkboxRef.checked = !!fieldValue.find((data) => data === checkboxRef.value);\n                                }\n                                else {\n                                    checkboxRef.checked =\n                                        fieldValue === checkboxRef.value || !!fieldValue;\n                                }\n                            }\n                        });\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.state.next({\n                            name,\n                            values: cloneObject(_formValues),\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            if (!value.hasOwnProperty(fieldKey)) {\n                return;\n            }\n            const fieldValue = value[fieldKey];\n            const fieldName = `${name}.${fieldKey}`;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: cloneObject(_formValues),\n            });\n            if ((_proxyFormState.isDirty ||\n                _proxyFormState.dirtyFields ||\n                _proxySubscribeFormState.isDirty ||\n                _proxySubscribeFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState });\n        _subjects.state.next({\n            name: _state.mount ? name : undefined,\n            values: cloneObject(_formValues),\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        const validationModeBeforeSubmit = getValidationModes(_options.mode);\n        const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = target.type\n                ? getFieldValue(field._f)\n                : getEventValue(event);\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                field._f.onBlur && field._f.onBlur(event);\n                delayErrorCallback && delayErrorCallback(0);\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.state.next({\n                    name,\n                    type: event.type,\n                    values: cloneObject(_formValues),\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n                    if (_options.mode === 'onBlur') {\n                        if (isBlurEvent) {\n                            _setValid();\n                        }\n                    }\n                    else if (!isBlurEvent) {\n                        _setValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _runSchema([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid ||\n                        _proxySubscribeFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _setValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n                    isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames) => {\n        const values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.state.subscribe({\n            next: (payload) => name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const _subscribe = (props) => _subjects.state.subscribe({\n        next: (formState) => {\n            if (shouldSubscribeByName(props.name, formState.name, props.exact) &&\n                shouldRenderFormState(formState, props.formState || _proxyFormState, _setFormState, props.reRenderRoot)) {\n                props.callback({\n                    values: { ..._formValues },\n                    ..._formState,\n                    ...formState,\n                });\n            }\n        },\n    }).unsubscribe;\n    const subscribe = (props) => {\n        _state.mount = true;\n        _proxySubscribeFormState = {\n            ..._proxySubscribeFormState,\n            ...props.formState,\n        };\n        return _subscribe({\n            ...props,\n            formState: _proxySubscribeFormState,\n        });\n    };\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.state.next({\n            values: cloneObject(_formValues),\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _setValid();\n    };\n    const _setDisabledField = ({ disabled, name, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _setDisabledField({\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist &&\n                e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _runSchema();\n            _formState.errors = errors;\n            fieldValues = values;\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                set(fieldValues, name, undefined);\n            }\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _setValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                for (const fieldName of _names.mount) {\n                    setValue(fieldName, get(values, fieldName));\n                }\n            }\n            _formValues = cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.state.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues;\n        _state.watch = !!_options.shouldUnregister;\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, keepStateOptions);\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                fieldRef.focus();\n                options.shouldSelect &&\n                    isFunction(fieldRef.select) &&\n                    fieldRef.select();\n            }\n        }\n    };\n    const _setFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    const methods = {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _subscribe,\n            _runSchema,\n            _getWatch,\n            _getDirty,\n            _setValid,\n            _setFieldArray,\n            _setDisabledField,\n            _setErrors,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _removeUnmounted,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        subscribe,\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n    return {\n        ...methods,\n        formControl: methods,\n    };\n}\n\nvar generateId = () => {\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16 + d) % 16 | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc. • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn) • [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray) • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React__default.useState(control._getFieldArray(name));\n    const ids = React__default.useRef(control._getFieldArray(name).map(generateId));\n    const _fieldIds = React__default.useRef(fields);\n    const _name = React__default.useRef(name);\n    const _actioned = React__default.useRef(false);\n    _name.current = name;\n    _fieldIds.current = fields;\n    control._names.array.add(name);\n    rules &&\n        control.register(name, rules);\n    React__default.useEffect(() => control._subjects.array.subscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === _name.current || !fieldArrayName) {\n                const fieldValues = get(values, _name.current);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n    }).unsubscribe, [control]);\n    const updateValues = React__default.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._setFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React__default.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted) &&\n            !getValidationModes(control._options.reValidateMode).isOnSubmit) {\n            if (control._options.resolver) {\n                control._runSchema([name]).then((result) => {\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.state.next({\n            name,\n            values: cloneObject(control._formValues),\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._setValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React__default.useEffect(() => {\n        !get(control._formValues, name) && control._setFieldArray(name);\n        return () => {\n            const updateMounted = (name, value) => {\n                const field = get(control._fields, name);\n                if (field && field._f) {\n                    field._f.mount = value;\n                }\n            };\n            control._options.shouldUnregister || shouldUnregister\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React__default.useCallback(swap, [updateValues, name, control]),\n        move: React__default.useCallback(move, [updateValues, name, control]),\n        prepend: React__default.useCallback(prepend, [updateValues, name, control]),\n        append: React__default.useCallback(append, [updateValues, name, control]),\n        remove: React__default.useCallback(remove, [updateValues, name, control]),\n        insert: React__default.useCallback(insert$1, [updateValues, name, control]),\n        update: React__default.useCallback(update, [updateValues, name, control]),\n        replace: React__default.useCallback(replace, [updateValues, name, control]),\n        fields: React__default.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform) • [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm) • [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React__default.useRef(undefined);\n    const _values = React__default.useRef(undefined);\n    const [formState, updateFormState] = React__default.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        isReady: false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        _formControl.current = {\n            ...(props.formControl ? props.formControl : createFormControl(props)),\n            formState,\n        };\n        if (props.formControl &&\n            props.defaultValues &&\n            !isFunction(props.defaultValues)) {\n            props.formControl.reset(props.defaultValues, props.resetOptions);\n        }\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    useIsomorphicLayoutEffect(() => {\n        const sub = control._subscribe({\n            formState: control._proxyFormState,\n            callback: () => updateFormState({ ...control._formState }),\n            reRenderRoot: true,\n        });\n        updateFormState((data) => ({\n            ...data,\n            isReady: true,\n        }));\n        control._formState.isReady = true;\n        return sub;\n    }, [control]);\n    React__default.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React__default.useEffect(() => {\n        if (props.mode) {\n            control._options.mode = props.mode;\n        }\n        if (props.reValidateMode) {\n            control._options.reValidateMode = props.reValidateMode;\n        }\n        if (props.errors && !isEmptyObject(props.errors)) {\n            control._setErrors(props.errors);\n        }\n    }, [control, props.errors, props.mode, props.reValidateMode]);\n    React__default.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.state.next({\n                values: control._getWatch(),\n            });\n    }, [control, props.shouldUnregister]);\n    React__default.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React__default.useEffect(() => {\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, control._options.resetOptions);\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [control, props.values]);\n    React__default.useEffect(() => {\n        if (!control._state.mount) {\n            control._setValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\nexport { Controller, Form, FormProvider, appendErrors, createFormControl, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n","import{get as t,set as e}from\"react-hook-form\";const s=(e,s,o)=>{if(e&&\"reportValidity\"in e){const r=t(o,s);e.setCustomValidity(r&&r.message||\"\"),e.reportValidity()}},o=(t,e)=>{for(const o in e.fields){const r=e.fields[o];r&&r.ref&&\"reportValidity\"in r.ref?s(r.ref,o,t):r.refs&&r.refs.forEach(e=>s(e,o,t))}},r=(s,r)=>{r.shouldUseNativeValidation&&o(s,r);const f={};for(const o in s){const n=t(r.fields,o),a=Object.assign(s[o]||{},{ref:n&&n.ref});if(i(r.names||Object.keys(s),o)){const s=Object.assign({},t(f,o));e(s,\"root\",a),e(f,o,s)}else e(f,o,a)}return f},i=(t,e)=>t.some(t=>t.startsWith(e+\".\"));export{r as toNestErrors,o as validateFieldsNatively};\n//# sourceMappingURL=resolvers.mjs.map\n","import{validateFieldsNatively as e,toNestErrors as t}from\"@hookform/resolvers\";import{appendErrors as r}from\"react-hook-form\";function o(o,n,a){return void 0===n&&(n={}),void 0===a&&(a={}),function(s,i,c){try{return Promise.resolve(function(t,r){try{var u=(n.context&&\"development\"===process.env.NODE_ENV&&console.warn(\"You should not used the yup options context. Please, use the 'useForm' context object instead\"),Promise.resolve(o[\"sync\"===a.mode?\"validateSync\":\"validate\"](s,Object.assign({abortEarly:!1},n,{context:i}))).then(function(t){return c.shouldUseNativeValidation&&e({},c),{values:a.raw?s:t,errors:{}}}))}catch(e){return r(e)}return u&&u.then?u.then(void 0,r):u}(0,function(e){if(!e.inner)throw e;return{values:{},errors:t((o=e,n=!c.shouldUseNativeValidation&&\"all\"===c.criteriaMode,(o.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var o=e[t.path].types,a=o&&o[t.type];e[t.path]=r(t.path,n,e,t.type,a?[].concat(a,t.message):t.message)}return e},{})),c)};var o,n}))}catch(e){return Promise.reject(e)}}}export{o as yupResolver};\n//# sourceMappingURL=yup.module.js.map\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX) || ['']\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","const reWords = /[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*/g\n\nconst words = (str) => str.match(reWords) || []\n\nconst upperFirst = (str) => str[0].toUpperCase() + str.slice(1)\n\nconst join = (str, d) => words(str).join(d).toLowerCase()\n\nconst camelCase = (str) =>\n  words(str).reduce(\n    (acc, next) =>\n      `${acc}${\n        !acc\n          ? next.toLowerCase()\n          : next[0].toUpperCase() + next.slice(1).toLowerCase()\n      }`,\n    '',\n  )\n\nconst pascalCase = (str) => upperFirst(camelCase(str))\n\nconst snakeCase = (str) => join(str, '_')\n\nconst kebabCase = (str) => join(str, '-')\n\nconst sentenceCase = (str) => upperFirst(join(str, ' '))\n\nconst titleCase = (str) => words(str).map(upperFirst).join(' ')\n\nmodule.exports = {\n  words,\n  upperFirst,\n  camelCase,\n  pascalCase,\n  snakeCase,\n  kebabCase,\n  sentenceCase,\n  titleCase,\n}\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","import { getter, forEach, split, normalizePath, join } from 'property-expr';\nimport { camelCase, snakeCase } from 'tiny-case';\nimport toposort from 'toposort';\n\nconst toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\nfunction printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}\n\nfunction toArray(value) {\n  return value == null ? [] : [].concat(value);\n}\n\nlet _Symbol$toStringTag, _Symbol$hasInstance, _Symbol$toStringTag2;\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\n_Symbol$toStringTag = Symbol.toStringTag;\nclass ValidationErrorNoStack {\n  constructor(errorOrErrors, value, field, type) {\n    this.name = void 0;\n    this.message = void 0;\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.params = void 0;\n    this.errors = void 0;\n    this.inner = void 0;\n    this[_Symbol$toStringTag] = 'Error';\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        const innerErrors = err.inner.length ? err.inner : [err];\n        this.inner.push(...innerErrors);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n  }\n}\n_Symbol$hasInstance = Symbol.hasInstance;\n_Symbol$toStringTag2 = Symbol.toStringTag;\nclass ValidationError extends Error {\n  static formatError(message, params) {\n    // Attempt to make the path more friendly for error message interpolation.\n    const path = params.label || params.path || 'this';\n    // Store the original path under `originalPath` so it isn't lost to custom\n    // message functions; e.g., ones provided in `setLocale()` calls.\n    params = Object.assign({}, params, {\n      path,\n      originalPath: params.path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n  constructor(errorOrErrors, value, field, type, disableStack) {\n    const errorNoStack = new ValidationErrorNoStack(errorOrErrors, value, field, type);\n    if (disableStack) {\n      return errorNoStack;\n    }\n    super();\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.params = void 0;\n    this.errors = [];\n    this.inner = [];\n    this[_Symbol$toStringTag2] = 'Error';\n    this.name = errorNoStack.name;\n    this.message = errorNoStack.message;\n    this.type = errorNoStack.type;\n    this.value = errorNoStack.value;\n    this.path = errorNoStack.path;\n    this.errors = errorNoStack.errors;\n    this.inner = errorNoStack.inner;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n  }\n  static [_Symbol$hasInstance](inst) {\n    return ValidationErrorNoStack[Symbol.hasInstance](inst) || super[Symbol.hasInstance](inst);\n  }\n}\n\nlet mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  defined: '${path} must be defined',\n  notNull: '${path} cannot be null',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    const castMsg = originalValue != null && originalValue !== value ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.';\n    return type !== 'mixed' ? `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + castMsg : `${path} must match the configured type. ` + `The validated value was: \\`${printValue(value, true)}\\`` + castMsg;\n  }\n};\nlet string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  datetime: '${path} must be a valid ISO date-time',\n  datetime_precision: '${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits',\n  datetime_offset: '${path} must be a valid ISO date-time with UTC \"Z\" timezone',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nlet number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nlet date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nlet boolean = {\n  isValue: '${path} field must be ${value}'\n};\nlet object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}',\n  exact: '${path} object contains unknown properties: ${properties}'\n};\nlet array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must have ${length} items'\n};\nlet tuple = {\n  notType: params => {\n    const {\n      path,\n      value,\n      spec\n    } = params;\n    const typeLen = spec.types.length;\n    if (Array.isArray(value)) {\n      if (value.length < typeLen) return `${path} tuple value has too few items, expected a length of ${typeLen} but got ${value.length} for value: \\`${printValue(value, true)}\\``;\n      if (value.length > typeLen) return `${path} tuple value has too many items, expected a length of ${typeLen} but got ${value.length} for value: \\`${printValue(value, true)}\\``;\n    }\n    return ValidationError.formatError(mixed.notType, params);\n  }\n};\nvar locale = Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean,\n  tuple\n});\n\nconst isSchema = obj => obj && obj.__isYupSchema__;\n\nclass Condition {\n  static fromOptions(refs, config) {\n    if (!config.then && !config.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = config;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n    return new Condition(refs, (values, schema) => {\n      var _branch;\n      let branch = check(...values) ? then : otherwise;\n      return (_branch = branch == null ? void 0 : branch(schema)) != null ? _branch : schema;\n    });\n  }\n  constructor(refs, builder) {\n    this.fn = void 0;\n    this.refs = refs;\n    this.refs = refs;\n    this.fn = builder;\n  }\n  resolve(base, options) {\n    let values = this.refs.map(ref =>\n    // TODO: ? operator here?\n    ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn(values, base, options);\n    if (schema === undefined ||\n    // @ts-ignore this can be base\n    schema === base) {\n      return base;\n    }\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n}\n\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nfunction create$9(key, options) {\n  return new Reference(key, options);\n}\nclass Reference {\n  constructor(key, options = {}) {\n    this.key = void 0;\n    this.isContext = void 0;\n    this.isValue = void 0;\n    this.isSibling = void 0;\n    this.path = void 0;\n    this.getter = void 0;\n    this.map = void 0;\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n  resolve() {\n    return this;\n  }\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n  toString() {\n    return `Ref(${this.key})`;\n  }\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n}\n\n// @ts-ignore\nReference.prototype.__isYupRef = true;\n\nconst isAbsent = value => value == null;\n\nfunction createValidation(config) {\n  function validate({\n    value,\n    path = '',\n    options,\n    originalValue,\n    schema\n  }, panic, next) {\n    const {\n      name,\n      test,\n      params,\n      message,\n      skipAbsent\n    } = config;\n    let {\n      parent,\n      context,\n      abortEarly = schema.spec.abortEarly,\n      disableStackTrace = schema.spec.disableStackTrace\n    } = options;\n    function resolve(item) {\n      return Reference.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n    function createError(overrides = {}) {\n      const nextParams = Object.assign({\n        value,\n        originalValue,\n        label: schema.spec.label,\n        path: overrides.path || path,\n        spec: schema.spec,\n        disableStackTrace: overrides.disableStackTrace || disableStackTrace\n      }, params, overrides.params);\n      for (const key of Object.keys(nextParams)) nextParams[key] = resolve(nextParams[key]);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name, nextParams.disableStackTrace);\n      error.params = nextParams;\n      return error;\n    }\n    const invalid = abortEarly ? panic : next;\n    let ctx = {\n      path,\n      parent,\n      type: name,\n      from: options.from,\n      createError,\n      resolve,\n      options,\n      originalValue,\n      schema\n    };\n    const handleResult = validOrError => {\n      if (ValidationError.isError(validOrError)) invalid(validOrError);else if (!validOrError) invalid(createError());else next(null);\n    };\n    const handleError = err => {\n      if (ValidationError.isError(err)) invalid(err);else panic(err);\n    };\n    const shouldSkip = skipAbsent && isAbsent(value);\n    if (shouldSkip) {\n      return handleResult(true);\n    }\n    let result;\n    try {\n      var _result;\n      result = test.call(ctx, value, ctx);\n      if (typeof ((_result = result) == null ? void 0 : _result.then) === 'function') {\n        if (options.sync) {\n          throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n        }\n        return Promise.resolve(result).then(handleResult, handleError);\n      }\n    } catch (err) {\n      handleError(err);\n      return;\n    }\n    handleResult(result);\n  }\n  validate.OPTIONS = config;\n  return validate;\n}\n\nfunction getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug;\n\n  // root path: ''\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? _part.slice(1, _part.length - 1) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n    let isTuple = schema.type === 'tuple';\n    let idx = isArray ? parseInt(part, 10) : 0;\n    if (schema.innerType || isTuple) {\n      if (isTuple && !isArray) throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part \"${lastPartDebug}\" must contain an index to the tuple element, e.g. \"${lastPartDebug}[0]\"`);\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n      parent = value;\n      value = value && value[idx];\n      schema = isTuple ? schema.spec.types[idx] : schema.innerType;\n    }\n\n    // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema.type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\nfunction reach(obj, path, value, context) {\n  return getIn(obj, path, value, context).schema;\n}\n\nclass ReferenceSet extends Set {\n  describe() {\n    const description = [];\n    for (const item of this.values()) {\n      description.push(Reference.isRef(item) ? item.describe() : item);\n    }\n    return description;\n  }\n  resolveAll(resolve) {\n    let result = [];\n    for (const item of this.values()) {\n      result.push(resolve(item));\n    }\n    return result;\n  }\n  clone() {\n    return new ReferenceSet(this.values());\n  }\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.forEach(value => next.add(value));\n    removeItems.forEach(value => next.delete(value));\n    return next;\n  }\n}\n\n// tweaked from https://github.com/Kelin2025/nanoclone/blob/0abeb7635bda9b68ef2277093f76dbe3bf3948e1/src/index.js\nfunction clone(src, seen = new Map()) {\n  if (isSchema(src) || !src || typeof src !== 'object') return src;\n  if (seen.has(src)) return seen.get(src);\n  let copy;\n  if (src instanceof Date) {\n    // Date\n    copy = new Date(src.getTime());\n    seen.set(src, copy);\n  } else if (src instanceof RegExp) {\n    // RegExp\n    copy = new RegExp(src);\n    seen.set(src, copy);\n  } else if (Array.isArray(src)) {\n    // Array\n    copy = new Array(src.length);\n    seen.set(src, copy);\n    for (let i = 0; i < src.length; i++) copy[i] = clone(src[i], seen);\n  } else if (src instanceof Map) {\n    // Map\n    copy = new Map();\n    seen.set(src, copy);\n    for (const [k, v] of src.entries()) copy.set(k, clone(v, seen));\n  } else if (src instanceof Set) {\n    // Set\n    copy = new Set();\n    seen.set(src, copy);\n    for (const v of src) copy.add(clone(v, seen));\n  } else if (src instanceof Object) {\n    // Object\n    copy = {};\n    seen.set(src, copy);\n    for (const [k, v] of Object.entries(src)) copy[k] = clone(v, seen);\n  } else {\n    throw Error(`Unable to clone ${src}`);\n  }\n  return copy;\n}\n\n// If `CustomSchemaMeta` isn't extended with any keys, we'll fall back to a\n// loose Record definition allowing free form usage.\nclass Schema {\n  constructor(options) {\n    this.type = void 0;\n    this.deps = [];\n    this.tests = void 0;\n    this.transforms = void 0;\n    this.conditions = [];\n    this._mutate = void 0;\n    this.internalTests = {};\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this._typeCheck = void 0;\n    this.spec = void 0;\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(mixed.notType);\n    });\n    this.type = options.type;\n    this._typeCheck = options.check;\n    this.spec = Object.assign({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      disableStackTrace: false,\n      nullable: false,\n      optional: true,\n      coerce: true\n    }, options == null ? void 0 : options.spec);\n    this.withMutation(s => {\n      s.nonNullable();\n    });\n  }\n\n  // TODO: remove\n  get _type() {\n    return this.type;\n  }\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    }\n\n    // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n    const next = Object.create(Object.getPrototypeOf(this));\n\n    // @ts-expect-error this is readonly\n    next.type = this.type;\n    next._typeCheck = this._typeCheck;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.internalTests = Object.assign({}, this.internalTests);\n    next.exclusiveTests = Object.assign({}, this.exclusiveTests);\n\n    // @ts-expect-error this is readonly\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = clone(Object.assign({}, this.spec, spec));\n    return next;\n  }\n  label(label) {\n    let next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  }\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n    const mergedSpec = Object.assign({}, base.spec, combined.spec);\n    combined.spec = mergedSpec;\n    combined.internalTests = Object.assign({}, base.internalTests, combined.internalTests);\n\n    // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist);\n\n    // start with the current tests\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests;\n\n    // manually add the new tests to ensure\n    // the deduping logic is consistent\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    combined.transforms = [...base.transforms, ...combined.transforms];\n    return combined;\n  }\n  isType(v) {\n    if (v == null) {\n      if (this.spec.nullable && v === null) return true;\n      if (this.spec.optional && v === undefined) return true;\n      return false;\n    }\n    return this._typeCheck(v);\n  }\n  resolve(options) {\n    let schema = this;\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((prevSchema, condition) => condition.resolve(prevSchema, options), schema);\n      schema = schema.resolve(options);\n    }\n    return schema;\n  }\n  resolveOptions(options) {\n    var _options$strict, _options$abortEarly, _options$recursive, _options$disableStack;\n    return Object.assign({}, options, {\n      from: options.from || [],\n      strict: (_options$strict = options.strict) != null ? _options$strict : this.spec.strict,\n      abortEarly: (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly,\n      recursive: (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive,\n      disableStackTrace: (_options$disableStack = options.disableStackTrace) != null ? _options$disableStack : this.spec.disableStackTrace\n    });\n  }\n\n  /**\n   * Run the configured transform pipeline over an input value.\n   */\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(Object.assign({\n      value\n    }, options));\n    let allowOptionality = options.assert === 'ignore-optionality';\n    let result = resolvedSchema._cast(value, options);\n    if (options.assert !== false && !resolvedSchema.isType(result)) {\n      if (allowOptionality && isAbsent(result)) {\n        return result;\n      }\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema.type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n    return result;\n  }\n  _cast(rawValue, options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((prevValue, fn) => fn.call(this, prevValue, rawValue, this), rawValue);\n    if (value === undefined) {\n      value = this.getDefault(options);\n    }\n    return value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let {\n      path,\n      originalValue = _value,\n      strict = this.spec.strict\n    } = options;\n    let value = _value;\n    if (!strict) {\n      value = this._cast(value, Object.assign({\n        assert: false\n      }, options));\n    }\n    let initialTests = [];\n    for (let test of Object.values(this.internalTests)) {\n      if (test) initialTests.push(test);\n    }\n    this.runTests({\n      path,\n      value,\n      originalValue,\n      options,\n      tests: initialTests\n    }, panic, initialErrors => {\n      // even if we aren't ending early we can't proceed further if the types aren't correct\n      if (initialErrors.length) {\n        return next(initialErrors, value);\n      }\n      this.runTests({\n        path,\n        value,\n        originalValue,\n        options,\n        tests: this.tests\n      }, panic, next);\n    });\n  }\n\n  /**\n   * Executes a set of validations, either schema, produced Tests or a nested\n   * schema validate result.\n   */\n  runTests(runOptions, panic, next) {\n    let fired = false;\n    let {\n      tests,\n      value,\n      originalValue,\n      path,\n      options\n    } = runOptions;\n    let panicOnce = arg => {\n      if (fired) return;\n      fired = true;\n      panic(arg, value);\n    };\n    let nextOnce = arg => {\n      if (fired) return;\n      fired = true;\n      next(arg, value);\n    };\n    let count = tests.length;\n    let nestedErrors = [];\n    if (!count) return nextOnce([]);\n    let args = {\n      value,\n      originalValue,\n      path,\n      options,\n      schema: this\n    };\n    for (let i = 0; i < tests.length; i++) {\n      const test = tests[i];\n      test(args, panicOnce, function finishTestRun(err) {\n        if (err) {\n          Array.isArray(err) ? nestedErrors.push(...err) : nestedErrors.push(err);\n        }\n        if (--count <= 0) {\n          nextOnce(nestedErrors);\n        }\n      });\n    }\n  }\n  asNestedTest({\n    key,\n    index,\n    parent,\n    parentPath,\n    originalParent,\n    options\n  }) {\n    const k = key != null ? key : index;\n    if (k == null) {\n      throw TypeError('Must include `key` or `index` for nested validations');\n    }\n    const isIndex = typeof k === 'number';\n    let value = parent[k];\n    const testOptions = Object.assign({}, options, {\n      // Nested validations fields are always strict:\n      //    1. parent isn't strict so the casting will also have cast inner values\n      //    2. parent is strict in which case the nested values weren't cast either\n      strict: true,\n      parent,\n      value,\n      originalValue: originalParent[k],\n      // FIXME: tests depend on `index` being passed around deeply,\n      //   we should not let the options.key/index bleed through\n      key: undefined,\n      // index: undefined,\n      [isIndex ? 'index' : 'key']: k,\n      path: isIndex || k.includes('.') ? `${parentPath || ''}[${isIndex ? k : `\"${k}\"`}]` : (parentPath ? `${parentPath}.` : '') + key\n    });\n    return (_, panic, next) => this.resolve(testOptions)._validate(value, testOptions, panic, next);\n  }\n  validate(value, options) {\n    var _options$disableStack2;\n    let schema = this.resolve(Object.assign({}, options, {\n      value\n    }));\n    let disableStackTrace = (_options$disableStack2 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack2 : schema.spec.disableStackTrace;\n    return new Promise((resolve, reject) => schema._validate(value, options, (error, parsed) => {\n      if (ValidationError.isError(error)) error.value = parsed;\n      reject(error);\n    }, (errors, validated) => {\n      if (errors.length) reject(new ValidationError(errors, validated, undefined, undefined, disableStackTrace));else resolve(validated);\n    }));\n  }\n  validateSync(value, options) {\n    var _options$disableStack3;\n    let schema = this.resolve(Object.assign({}, options, {\n      value\n    }));\n    let result;\n    let disableStackTrace = (_options$disableStack3 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack3 : schema.spec.disableStackTrace;\n    schema._validate(value, Object.assign({}, options, {\n      sync: true\n    }), (error, parsed) => {\n      if (ValidationError.isError(error)) error.value = parsed;\n      throw error;\n    }, (errors, validated) => {\n      if (errors.length) throw new ValidationError(errors, value, undefined, undefined, disableStackTrace);\n      result = validated;\n    });\n    return result;\n  }\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n  _getDefault(options) {\n    let defaultValue = this.spec.default;\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n    return typeof defaultValue === 'function' ? defaultValue.call(this, options) : clone(defaultValue);\n  }\n  getDefault(options\n  // If schema is defaulted we know it's at least not undefined\n  ) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault(options);\n  }\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n  strict(isStrict = true) {\n    return this.clone({\n      strict: isStrict\n    });\n  }\n  nullability(nullable, message) {\n    const next = this.clone({\n      nullable\n    });\n    next.internalTests.nullable = createValidation({\n      message,\n      name: 'nullable',\n      test(value) {\n        return value === null ? this.schema.spec.nullable : true;\n      }\n    });\n    return next;\n  }\n  optionality(optional, message) {\n    const next = this.clone({\n      optional\n    });\n    next.internalTests.optionality = createValidation({\n      message,\n      name: 'optionality',\n      test(value) {\n        return value === undefined ? this.schema.spec.optional : true;\n      }\n    });\n    return next;\n  }\n  optional() {\n    return this.optionality(true);\n  }\n  defined(message = mixed.defined) {\n    return this.optionality(false, message);\n  }\n  nullable() {\n    return this.nullability(true);\n  }\n  nonNullable(message = mixed.notNull) {\n    return this.nullability(false, message);\n  }\n  required(message = mixed.required) {\n    return this.clone().withMutation(next => next.nonNullable(message).defined(message));\n  }\n  notRequired() {\n    return this.clone().withMutation(next => next.nullable().optional());\n  }\n  transform(fn) {\n    let next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n  test(...args) {\n    let opts;\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n    if (opts.message === undefined) opts.message = mixed.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Reference(key));\n    deps.forEach(dep => {\n      // @ts-ignore readonly array\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(typeof options === 'function' ? new Condition(deps, options) : Condition.fromOptions(deps, options));\n    return next;\n  }\n  typeError(message) {\n    let next = this.clone();\n    next.internalTests.typeError = createValidation({\n      message,\n      name: 'typeError',\n      skipAbsent: true,\n      test(value) {\n        if (!this.schema._typeCheck(value)) return this.createError({\n          params: {\n            type: this.schema.type\n          }\n        });\n        return true;\n      }\n    });\n    return next;\n  }\n  oneOf(enums, message = mixed.oneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n      next._blacklist.delete(val);\n    });\n    next.internalTests.whiteList = createValidation({\n      message,\n      name: 'oneOf',\n      skipAbsent: true,\n      test(value) {\n        let valids = this.schema._whitelist;\n        let resolved = valids.resolveAll(this.resolve);\n        return resolved.includes(value) ? true : this.createError({\n          params: {\n            values: Array.from(valids).join(', '),\n            resolved\n          }\n        });\n      }\n    });\n    return next;\n  }\n  notOneOf(enums, message = mixed.notOneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n      next._whitelist.delete(val);\n    });\n    next.internalTests.blacklist = createValidation({\n      message,\n      name: 'notOneOf',\n      test(value) {\n        let invalids = this.schema._blacklist;\n        let resolved = invalids.resolveAll(this.resolve);\n        if (resolved.includes(value)) return this.createError({\n          params: {\n            values: Array.from(invalids).join(', '),\n            resolved\n          }\n        });\n        return true;\n      }\n    });\n    return next;\n  }\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  /**\n   * Return a serialized description of the schema including validations, flags, types etc.\n   *\n   * @param options Provide any needed context for resolving runtime schema alterations (lazy, when conditions, etc).\n   */\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const {\n      label,\n      meta,\n      optional,\n      nullable\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      optional,\n      nullable,\n      default: next.getDefault(options),\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n}\n// @ts-expect-error\nSchema.prototype.__isYupSchema__ = true;\nfor (const method of ['validate', 'validateSync']) Schema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], Object.assign({}, options, {\n    parent,\n    path\n  }));\n};\nfor (const alias of ['equals', 'is']) Schema.prototype[alias] = Schema.prototype.oneOf;\nfor (const alias of ['not', 'nope']) Schema.prototype[alias] = Schema.prototype.notOneOf;\n\nconst returnsTrue = () => true;\nfunction create$8(spec) {\n  return new MixedSchema(spec);\n}\nclass MixedSchema extends Schema {\n  constructor(spec) {\n    super(typeof spec === 'function' ? {\n      type: 'mixed',\n      check: spec\n    } : Object.assign({\n      type: 'mixed',\n      check: returnsTrue\n    }, spec));\n  }\n}\ncreate$8.prototype = MixedSchema.prototype;\n\nfunction create$7() {\n  return new BooleanSchema();\n}\nclass BooleanSchema extends Schema {\n  constructor() {\n    super({\n      type: 'boolean',\n      check(v) {\n        if (v instanceof Boolean) v = v.valueOf();\n        return typeof v === 'boolean';\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw, ctx) => {\n        if (ctx.spec.coerce && !ctx.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n        return value;\n      });\n    });\n  }\n  isTrue(message = boolean.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n    });\n  }\n  isFalse(message = boolean.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n    });\n  }\n  default(def) {\n    return super.default(def);\n  }\n  defined(msg) {\n    return super.defined(msg);\n  }\n  optional() {\n    return super.optional();\n  }\n  required(msg) {\n    return super.required(msg);\n  }\n  notRequired() {\n    return super.notRequired();\n  }\n  nullable() {\n    return super.nullable();\n  }\n  nonNullable(msg) {\n    return super.nonNullable(msg);\n  }\n  strip(v) {\n    return super.strip(v);\n  }\n}\ncreate$7.prototype = BooleanSchema.prototype;\n\n/**\n * This file is a modified version of the file from the following repository:\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n * © 2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n\n// prettier-ignore\n//                1 YYYY                2 MM        3 DD              4 HH     5 mm        6 ss           7 msec         8 Z 9 ±   10 tzHH    11 tzmm\nconst isoReg = /^(\\d{4}|[+-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,.](\\d{1,}))?)?(?:(Z)|([+-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nfunction parseIsoDate(date) {\n  const struct = parseDateStruct(date);\n  if (!struct) return Date.parse ? Date.parse(date) : Number.NaN;\n\n  // timestamps without timezone identifiers should be considered local time\n  if (struct.z === undefined && struct.plusMinus === undefined) {\n    return new Date(struct.year, struct.month, struct.day, struct.hour, struct.minute, struct.second, struct.millisecond).valueOf();\n  }\n  let totalMinutesOffset = 0;\n  if (struct.z !== 'Z' && struct.plusMinus !== undefined) {\n    totalMinutesOffset = struct.hourOffset * 60 + struct.minuteOffset;\n    if (struct.plusMinus === '+') totalMinutesOffset = 0 - totalMinutesOffset;\n  }\n  return Date.UTC(struct.year, struct.month, struct.day, struct.hour, struct.minute + totalMinutesOffset, struct.second, struct.millisecond);\n}\nfunction parseDateStruct(date) {\n  var _regexResult$7$length, _regexResult$;\n  const regexResult = isoReg.exec(date);\n  if (!regexResult) return null;\n\n  // use of toNumber() avoids NaN timestamps caused by “undefined”\n  // values being passed to Date constructor\n  return {\n    year: toNumber(regexResult[1]),\n    month: toNumber(regexResult[2], 1) - 1,\n    day: toNumber(regexResult[3], 1),\n    hour: toNumber(regexResult[4]),\n    minute: toNumber(regexResult[5]),\n    second: toNumber(regexResult[6]),\n    millisecond: regexResult[7] ?\n    // allow arbitrary sub-second precision beyond milliseconds\n    toNumber(regexResult[7].substring(0, 3)) : 0,\n    precision: (_regexResult$7$length = (_regexResult$ = regexResult[7]) == null ? void 0 : _regexResult$.length) != null ? _regexResult$7$length : undefined,\n    z: regexResult[8] || undefined,\n    plusMinus: regexResult[9] || undefined,\n    hourOffset: toNumber(regexResult[10]),\n    minuteOffset: toNumber(regexResult[11])\n  };\n}\nfunction toNumber(str, defaultValue = 0) {\n  return Number(str) || defaultValue;\n}\n\n// Taken from HTML spec: https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nlet rEmail =\n// eslint-disable-next-line\n/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nlet rUrl =\n// eslint-disable-next-line\n/^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i;\n\n// eslint-disable-next-line\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nlet yearMonthDay = '^\\\\d{4}-\\\\d{2}-\\\\d{2}';\nlet hourMinuteSecond = '\\\\d{2}:\\\\d{2}:\\\\d{2}';\nlet zOrOffset = '(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)';\nlet rIsoDateTime = new RegExp(`${yearMonthDay}T${hourMinuteSecond}(\\\\.\\\\d+)?${zOrOffset}$`);\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\nlet objStringTag = {}.toString();\nfunction create$6() {\n  return new StringSchema();\n}\nclass StringSchema extends Schema {\n  constructor() {\n    super({\n      type: 'string',\n      check(value) {\n        if (value instanceof String) value = value.valueOf();\n        return typeof value === 'string';\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw, ctx) => {\n        if (!ctx.spec.coerce || ctx.isType(value)) return value;\n\n        // don't ever convert arrays\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n\n        // no one wants plain objects converted to [Object object]\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n  required(message) {\n    return super.required(message).withMutation(schema => schema.test({\n      message: message || mixed.required,\n      name: 'required',\n      skipAbsent: true,\n      test: value => !!value.length\n    }));\n  }\n  notRequired() {\n    return super.notRequired().withMutation(schema => {\n      schema.tests = schema.tests.filter(t => t.OPTIONS.name !== 'required');\n      return schema;\n    });\n  }\n  length(length, message = string.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length === this.resolve(length);\n      }\n    });\n  }\n  min(min, message = string.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message = string.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length <= this.resolve(max);\n      }\n    });\n  }\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n    return this.test({\n      name: name || 'matches',\n      message: message || string.matches,\n      params: {\n        regex\n      },\n      skipAbsent: true,\n      test: value => value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n  email(message = string.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n  url(message = string.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n  uuid(message = string.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  }\n  datetime(options) {\n    let message = '';\n    let allowOffset;\n    let precision;\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          message = '',\n          allowOffset = false,\n          precision = undefined\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n    return this.matches(rIsoDateTime, {\n      name: 'datetime',\n      message: message || string.datetime,\n      excludeEmptyString: true\n    }).test({\n      name: 'datetime_offset',\n      message: message || string.datetime_offset,\n      params: {\n        allowOffset\n      },\n      skipAbsent: true,\n      test: value => {\n        if (!value || allowOffset) return true;\n        const struct = parseDateStruct(value);\n        if (!struct) return false;\n        return !!struct.z;\n      }\n    }).test({\n      name: 'datetime_precision',\n      message: message || string.datetime_precision,\n      params: {\n        precision\n      },\n      skipAbsent: true,\n      test: value => {\n        if (!value || precision == undefined) return true;\n        const struct = parseDateStruct(value);\n        if (!struct) return false;\n        return struct.precision === precision;\n      }\n    });\n  }\n\n  //-- transforms --\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n  trim(message = string.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n  lowercase(message = string.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      skipAbsent: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n  uppercase(message = string.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      skipAbsent: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n}\ncreate$6.prototype = StringSchema.prototype;\n\n//\n// String Interfaces\n//\n\nlet isNaN$1 = value => value != +value;\nfunction create$5() {\n  return new NumberSchema();\n}\nclass NumberSchema extends Schema {\n  constructor() {\n    super({\n      type: 'number',\n      check(value) {\n        if (value instanceof Number) value = value.valueOf();\n        return typeof value === 'number' && !isNaN$1(value);\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw, ctx) => {\n        if (!ctx.spec.coerce) return value;\n        let parsed = value;\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN;\n          // don't use parseFloat to avoid positives on alpha-numeric strings\n          parsed = +parsed;\n        }\n\n        // null -> NaN isn't useful; treat all nulls as null and let it fail on\n        // nullability check vs TypeErrors\n        if (ctx.isType(parsed) || parsed === null) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n  min(min, message = number.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message = number.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value <= this.resolve(max);\n      }\n    });\n  }\n  lessThan(less, message = number.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n      skipAbsent: true,\n      test(value) {\n        return value < this.resolve(less);\n      }\n    });\n  }\n  moreThan(more, message = number.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n      skipAbsent: true,\n      test(value) {\n        return value > this.resolve(more);\n      }\n    });\n  }\n  positive(msg = number.positive) {\n    return this.moreThan(0, msg);\n  }\n  negative(msg = number.negative) {\n    return this.lessThan(0, msg);\n  }\n  integer(message = number.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      skipAbsent: true,\n      test: val => Number.isInteger(val)\n    });\n  }\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n  round(method) {\n    var _method;\n    let avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round';\n\n    // this exists for symemtry with the new Math.trunc\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n}\ncreate$5.prototype = NumberSchema.prototype;\n\n//\n// Number Interfaces\n//\n\nlet invalidDate = new Date('');\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\nfunction create$4() {\n  return new DateSchema();\n}\nclass DateSchema extends Schema {\n  constructor() {\n    super({\n      type: 'date',\n      check(v) {\n        return isDate(v) && !isNaN(v.getTime());\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw, ctx) => {\n        // null -> InvalidDate isn't useful; treat all nulls as null and let it fail on\n        // nullability check vs TypeErrors\n        if (!ctx.spec.coerce || ctx.isType(value) || value === null) return value;\n        value = parseIsoDate(value);\n\n        // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n        return !isNaN(value) ? new Date(value) : DateSchema.INVALID_DATE;\n      });\n    });\n  }\n  prepareParam(ref, name) {\n    let param;\n    if (!Reference.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n    return param;\n  }\n  min(min, message = date.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value >= this.resolve(limit);\n      }\n    });\n  }\n  max(max, message = date.max) {\n    let limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value <= this.resolve(limit);\n      }\n    });\n  }\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate$4.prototype = DateSchema.prototype;\ncreate$4.INVALID_DATE = invalidDate;\n\n// @ts-expect-error\nfunction sortFields(fields, excludedEdges = []) {\n  let edges = [];\n  let nodes = new Set();\n  let excludes = new Set(excludedEdges.map(([a, b]) => `${a}-${b}`));\n  function addNode(depPath, key) {\n    let node = split(depPath)[0];\n    nodes.add(node);\n    if (!excludes.has(`${key}-${node}`)) edges.push([key, node]);\n  }\n  for (const key of Object.keys(fields)) {\n    let value = fields[key];\n    nodes.add(key);\n    if (Reference.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n  return toposort.array(Array.from(nodes), edges).reverse();\n}\n\nfunction findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n    if ((_err$path = err.path) != null && _err$path.includes(key)) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\nfunction sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}\n\nconst parseJson = (value, _, ctx) => {\n  if (typeof value !== 'string') {\n    return value;\n  }\n  let parsed = value;\n  try {\n    parsed = JSON.parse(value);\n  } catch (err) {\n    /* */\n  }\n  return ctx.isType(parsed) ? parsed : value;\n};\n\n// @ts-ignore\nfunction deepPartial(schema) {\n  if ('fields' in schema) {\n    const partial = {};\n    for (const [key, fieldSchema] of Object.entries(schema.fields)) {\n      partial[key] = deepPartial(fieldSchema);\n    }\n    return schema.setFields(partial);\n  }\n  if (schema.type === 'array') {\n    const nextArray = schema.optional();\n    if (nextArray.innerType) nextArray.innerType = deepPartial(nextArray.innerType);\n    return nextArray;\n  }\n  if (schema.type === 'tuple') {\n    return schema.optional().clone({\n      types: schema.spec.types.map(deepPartial)\n    });\n  }\n  if ('optional' in schema) {\n    return schema.optional();\n  }\n  return schema;\n}\nconst deepHas = (obj, p) => {\n  const path = [...normalizePath(p)];\n  if (path.length === 1) return path[0] in obj;\n  let last = path.pop();\n  let parent = getter(join(path), true)(obj);\n  return !!(parent && last in parent);\n};\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\nconst defaultSort = sortByKeyOrder([]);\nfunction create$3(spec) {\n  return new ObjectSchema(spec);\n}\nclass ObjectSchema extends Schema {\n  constructor(spec) {\n    super({\n      type: 'object',\n      check(value) {\n        return isObject(value) || typeof value === 'function';\n      }\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n    let value = super._cast(_value, options);\n\n    //should ignore nulls here\n    if (value === undefined) return this.getDefault(options);\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n    let props = [].concat(this._nodes, Object.keys(value).filter(v => !this._nodes.includes(v)));\n    let intermediateValue = {}; // is filled during the transform below\n    let innerOptions = Object.assign({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n    let isChanged = false;\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = (prop in value);\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop];\n\n        // safe to mutate since this is fired in sequence\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop;\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = field instanceof Schema ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n        if (fieldSpec != null && fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n        fieldValue = !options.__validating || !strict ?\n        // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n      if (exists !== prop in intermediateValue || intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n    return isChanged ? intermediateValue : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let {\n      from = [],\n      originalValue = _value,\n      recursive = this.spec.recursive\n    } = options;\n    options.from = [{\n      schema: this,\n      value: originalValue\n    }, ...from];\n    // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n    options.__validating = true;\n    options.originalValue = originalValue;\n    super._validate(_value, options, panic, (objectErrors, value) => {\n      if (!recursive || !isObject(value)) {\n        next(objectErrors, value);\n        return;\n      }\n      originalValue = originalValue || value;\n      let tests = [];\n      for (let key of this._nodes) {\n        let field = this.fields[key];\n        if (!field || Reference.isRef(field)) {\n          continue;\n        }\n        tests.push(field.asNestedTest({\n          options,\n          key,\n          parent: value,\n          parentPath: options.path,\n          originalParent: originalValue\n        }));\n      }\n      this.runTests({\n        tests,\n        value,\n        originalValue,\n        options\n      }, panic, fieldErrors => {\n        next(fieldErrors.sort(this._sortErrors).concat(objectErrors), value);\n      });\n    });\n  }\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = Object.assign({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n      nextFields[field] = target === undefined ? schemaOrRef : target;\n    }\n    return next.withMutation(s =>\n    // XXX: excludes here is wrong\n    s.setFields(nextFields, [...this._excludedEdges, ...schema._excludedEdges]));\n  }\n  _getDefault(options) {\n    if ('default' in this.spec) {\n      return super._getDefault(options);\n    }\n\n    // if there is no default set invent one\n    if (!this._nodes.length) {\n      return undefined;\n    }\n    let dft = {};\n    this._nodes.forEach(key => {\n      var _innerOptions;\n      const field = this.fields[key];\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[key]\n        });\n      }\n      dft[key] = field && 'getDefault' in field ? field.getDefault(innerOptions) : undefined;\n    });\n    return dft;\n  }\n  setFields(shape, excludedEdges) {\n    let next = this.clone();\n    next.fields = shape;\n    next._nodes = sortFields(shape, excludedEdges);\n    next._sortErrors = sortByKeyOrder(Object.keys(shape));\n    // XXX: this carries over edges which may not be what you want\n    if (excludedEdges) next._excludedEdges = excludedEdges;\n    return next;\n  }\n  shape(additions, excludes = []) {\n    return this.clone().withMutation(next => {\n      let edges = next._excludedEdges;\n      if (excludes.length) {\n        if (!Array.isArray(excludes[0])) excludes = [excludes];\n        edges = [...next._excludedEdges, ...excludes];\n      }\n\n      // XXX: excludes here is wrong\n      return next.setFields(Object.assign(next.fields, additions), edges);\n    });\n  }\n  partial() {\n    const partial = {};\n    for (const [key, schema] of Object.entries(this.fields)) {\n      partial[key] = 'optional' in schema && schema.optional instanceof Function ? schema.optional() : schema;\n    }\n    return this.setFields(partial);\n  }\n  deepPartial() {\n    const next = deepPartial(this);\n    return next;\n  }\n  pick(keys) {\n    const picked = {};\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n    return this.setFields(picked, this._excludedEdges.filter(([a, b]) => keys.includes(a) && keys.includes(b)));\n  }\n  omit(keys) {\n    const remaining = [];\n    for (const key of Object.keys(this.fields)) {\n      if (keys.includes(key)) continue;\n      remaining.push(key);\n    }\n    return this.pick(remaining);\n  }\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (!obj) return obj;\n      let newObj = obj;\n      if (deepHas(obj, from)) {\n        newObj = Object.assign({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n      return newObj;\n    });\n  }\n\n  /** Parse an input JSON string to an object */\n  json() {\n    return this.transform(parseJson);\n  }\n\n  /**\n   * Similar to `noUnknown` but only validates that an object is the right shape without stripping the unknown keys\n   */\n  exact(message) {\n    return this.test({\n      name: 'exact',\n      exclusive: true,\n      message: message || object.exact,\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return unknownKeys.length === 0 || this.createError({\n          params: {\n            properties: unknownKeys.join(', ')\n          }\n        });\n      }\n    });\n  }\n  stripUnknown() {\n    return this.clone({\n      noUnknown: true\n    });\n  }\n  noUnknown(noAllow = true, message = object.noUnknown) {\n    if (typeof noAllow !== 'boolean') {\n      message = noAllow;\n      noAllow = true;\n    }\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n  unknown(allow = true, message = object.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n  transformKeys(fn) {\n    return this.transform(obj => {\n      if (!obj) return obj;\n      const result = {};\n      for (const key of Object.keys(obj)) result[fn(key)] = obj[key];\n      return result;\n    });\n  }\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    base.fields = {};\n    for (const [key, value] of Object.entries(next.fields)) {\n      var _innerOptions2;\n      let innerOptions = options;\n      if ((_innerOptions2 = innerOptions) != null && _innerOptions2.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[key]\n        });\n      }\n      base.fields[key] = value.describe(innerOptions);\n    }\n    return base;\n  }\n}\ncreate$3.prototype = ObjectSchema.prototype;\n\nfunction create$2(type) {\n  return new ArraySchema(type);\n}\nclass ArraySchema extends Schema {\n  constructor(type) {\n    super({\n      type: 'array',\n      spec: {\n        types: type\n      },\n      check(v) {\n        return Array.isArray(v);\n      }\n    });\n\n    // `undefined` specifically means uninitialized, as opposed to \"no subtype\"\n    this.innerType = void 0;\n    this.innerType = type;\n  }\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts);\n\n    // should ignore nulls here\n    if (!this._typeCheck(value) || !this.innerType) {\n      return value;\n    }\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, Object.assign({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n      if (castElement !== v) {\n        isChanged = true;\n      }\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    var _options$recursive;\n    // let sync = options.sync;\n    // let path = options.path;\n    let innerType = this.innerType;\n    // let endEarly = options.abortEarly ?? this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    options.originalValue != null ? options.originalValue : _value;\n    super._validate(_value, options, panic, (arrayErrors, value) => {\n      var _options$originalValu2;\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        next(arrayErrors, value);\n        return;\n      }\n\n      // #950 Ensure that sparse array empty slots are validated\n      let tests = new Array(value.length);\n      for (let index = 0; index < value.length; index++) {\n        var _options$originalValu;\n        tests[index] = innerType.asNestedTest({\n          options,\n          index,\n          parent: value,\n          parentPath: options.path,\n          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value\n        });\n      }\n      this.runTests({\n        value,\n        tests,\n        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,\n        options\n      }, panic, innerTypeErrors => next(innerTypeErrors.concat(arrayErrors), value));\n    });\n  }\n  clone(spec) {\n    const next = super.clone(spec);\n    // @ts-expect-error readonly\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  /** Parse an input JSON string to an object */\n  json() {\n    return this.transform(parseJson);\n  }\n  concat(schema) {\n    let next = super.concat(schema);\n\n    // @ts-expect-error readonly\n    next.innerType = this.innerType;\n    if (schema.innerType)\n      // @ts-expect-error readonly\n      next.innerType = next.innerType ?\n      // @ts-expect-error Lazy doesn't have concat and will break\n      next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema));\n\n    // @ts-expect-error readonly\n    next.innerType = schema;\n    next.spec = Object.assign({}, next.spec, {\n      types: schema\n    });\n    return next;\n  }\n  length(length, message = array.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length === this.resolve(length);\n      }\n    });\n  }\n  min(min, message) {\n    message = message || array.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return value.length >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message) {\n    message = message || array.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length <= this.resolve(max);\n      }\n    });\n  }\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    if (next.innerType) {\n      var _innerOptions;\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[0]\n        });\n      }\n      base.innerType = next.innerType.describe(innerOptions);\n    }\n    return base;\n  }\n}\ncreate$2.prototype = ArraySchema.prototype;\n\n// @ts-ignore\nfunction create$1(schemas) {\n  return new TupleSchema(schemas);\n}\nclass TupleSchema extends Schema {\n  constructor(schemas) {\n    super({\n      type: 'tuple',\n      spec: {\n        types: schemas\n      },\n      check(v) {\n        const types = this.spec.types;\n        return Array.isArray(v) && v.length === types.length;\n      }\n    });\n    this.withMutation(() => {\n      this.typeError(tuple.notType);\n    });\n  }\n  _cast(inputValue, options) {\n    const {\n      types\n    } = this.spec;\n    const value = super._cast(inputValue, options);\n    if (!this._typeCheck(value)) {\n      return value;\n    }\n    let isChanged = false;\n    const castArray = types.map((type, idx) => {\n      const castElement = type.cast(value[idx], Object.assign({}, options, {\n        path: `${options.path || ''}[${idx}]`\n      }));\n      if (castElement !== value[idx]) isChanged = true;\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let itemTypes = this.spec.types;\n    super._validate(_value, options, panic, (tupleErrors, value) => {\n      var _options$originalValu2;\n      // intentionally not respecting recursive\n      if (!this._typeCheck(value)) {\n        next(tupleErrors, value);\n        return;\n      }\n      let tests = [];\n      for (let [index, itemSchema] of itemTypes.entries()) {\n        var _options$originalValu;\n        tests[index] = itemSchema.asNestedTest({\n          options,\n          index,\n          parent: value,\n          parentPath: options.path,\n          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value\n        });\n      }\n      this.runTests({\n        value,\n        tests,\n        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,\n        options\n      }, panic, innerTypeErrors => next(innerTypeErrors.concat(tupleErrors), value));\n    });\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    base.innerType = next.spec.types.map((schema, index) => {\n      var _innerOptions;\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[index]\n        });\n      }\n      return schema.describe(innerOptions);\n    });\n    return base;\n  }\n}\ncreate$1.prototype = TupleSchema.prototype;\n\nfunction create(builder) {\n  return new Lazy(builder);\n}\nfunction catchValidationError(fn) {\n  try {\n    return fn();\n  } catch (err) {\n    if (ValidationError.isError(err)) return Promise.reject(err);\n    throw err;\n  }\n}\nclass Lazy {\n  constructor(builder) {\n    this.type = 'lazy';\n    this.__isYupSchema__ = true;\n    this.spec = void 0;\n    this._resolve = (value, options = {}) => {\n      let schema = this.builder(value, options);\n      if (!isSchema(schema)) throw new TypeError('lazy() functions must return a valid schema');\n      if (this.spec.optional) schema = schema.optional();\n      return schema.resolve(options);\n    };\n    this.builder = builder;\n    this.spec = {\n      meta: undefined,\n      optional: false\n    };\n  }\n  clone(spec) {\n    const next = new Lazy(this.builder);\n    next.spec = Object.assign({}, this.spec, spec);\n    return next;\n  }\n  optionality(optional) {\n    const next = this.clone({\n      optional\n    });\n    return next;\n  }\n  optional() {\n    return this.optionality(true);\n  }\n  resolve(options) {\n    return this._resolve(options.value, options);\n  }\n  cast(value, options) {\n    return this._resolve(value, options).cast(value, options);\n  }\n  asNestedTest(config) {\n    let {\n      key,\n      index,\n      parent,\n      options\n    } = config;\n    let value = parent[index != null ? index : key];\n    return this._resolve(value, Object.assign({}, options, {\n      value,\n      parent\n    })).asNestedTest(config);\n  }\n  validate(value, options) {\n    return catchValidationError(() => this._resolve(value, options).validate(value, options));\n  }\n  validateSync(value, options) {\n    return this._resolve(value, options).validateSync(value, options);\n  }\n  validateAt(path, value, options) {\n    return catchValidationError(() => this._resolve(value, options).validateAt(path, value, options));\n  }\n  validateSyncAt(path, value, options) {\n    return this._resolve(value, options).validateSyncAt(path, value, options);\n  }\n  isValid(value, options) {\n    try {\n      return this._resolve(value, options).isValid(value, options);\n    } catch (err) {\n      if (ValidationError.isError(err)) {\n        return Promise.resolve(false);\n      }\n      throw err;\n    }\n  }\n  isValidSync(value, options) {\n    return this._resolve(value, options).isValidSync(value, options);\n  }\n  describe(options) {\n    return options ? this.resolve(options).describe(options) : {\n      type: 'lazy',\n      meta: this.spec.meta,\n      label: undefined\n    };\n  }\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  }\n}\n\nfunction setLocale(custom) {\n  Object.keys(custom).forEach(type => {\n    // @ts-ignore\n    Object.keys(custom[type]).forEach(method => {\n      // @ts-ignore\n      locale[type][method] = custom[type][method];\n    });\n  });\n}\n\nfunction addMethod(schemaType, name, fn) {\n  if (!schemaType || !isSchema(schemaType.prototype)) throw new TypeError('You must provide a yup schema constructor function');\n  if (typeof name !== 'string') throw new TypeError('A Method name must be provided');\n  if (typeof fn !== 'function') throw new TypeError('Method function must be provided');\n  schemaType.prototype[name] = fn;\n}\n\nexport { ArraySchema, BooleanSchema, DateSchema, Lazy as LazySchema, MixedSchema, NumberSchema, ObjectSchema, Schema, StringSchema, TupleSchema, ValidationError, addMethod, create$2 as array, create$7 as bool, create$7 as boolean, create$4 as date, locale as defaultLocale, getIn, isSchema, create as lazy, create$8 as mixed, create$5 as number, create$3 as object, printValue, reach, create$9 as ref, setLocale, create$6 as string, create$1 as tuple };\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst schema = yup.object().shape({\n  email: yup.string().email('Please enter a valid email').required('Email is required'),\n  password: yup.string().required('Password is required'),\n});\n\nconst Login = () => {\n  const { signIn } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      const { user } = await signIn(data.email, data.password);\n      \n      if (user) {\n        // Redirect based on user role (will be determined by profile)\n        navigate('/homeowner/dashboard');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setError(error.message || 'Failed to sign in. Please check your credentials.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Sign in to your account</h2>\n      <p className=\"mt-2 text-center text-sm text-gray-600\">\n        Or{' '}\n        <Link to=\"/register\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n          create a new account\n        </Link>\n      </p>\n\n      {error && (\n        <div className=\"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <span className=\"block sm:inline\">{error}</span>\n        </div>\n      )}\n\n      <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n            Email address\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              required\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.email ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('email')}\n            />\n            {errors.email && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.email.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n            Password\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"current-password\"\n              required\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.password ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('password')}\n            />\n            {errors.password && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.password.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <input\n              id=\"remember-me\"\n              name=\"remember-me\"\n              type=\"checkbox\"\n              className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n              Remember me\n            </label>\n          </div>\n\n          <div className=\"text-sm\">\n            <Link to=\"/forgot-password\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Forgot your password?\n            </Link>\n          </div>\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? (\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            ) : 'Sign in'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst schema = yup.object().shape({\n  email: yup.string().email('Please enter a valid email').required('Email is required'),\n  password: yup\n    .string()\n    .required('Password is required')\n    .min(8, 'Password must be at least 8 characters'),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'Passwords must match')\n    .required('Confirm password is required'),\n  fullName: yup.string().required('Full name is required'),\n  role: yup.string().oneOf(['homeowner', 'provider'], 'Invalid role').required('Role is required'),\n  agreeTerms: yup.boolean().oneOf([true], 'You must agree to the terms and conditions'),\n});\n\nconst Register = () => {\n  const { signUp } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      role: 'homeowner',\n      agreeTerms: false,\n    },\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Sign up with Supabase Auth\n      const { data: authData, error: authError } = await signUp(data.email, data.password);\n      \n      if (authError) throw authError;\n      \n      if (authData?.user) {\n        // Create profile with additional information\n        const { error: profileError } = await supabase\n          .from('profiles')\n          .insert([\n            {\n              user_id: authData.user.id,\n              email: data.email,\n              full_name: data.fullName,\n              role: data.role,\n              created_at: new Date(),\n            },\n          ]);\n        \n        if (profileError) throw profileError;\n        \n        // Redirect to login page with success message\n        navigate('/login', { \n          state: { \n            message: 'Registration successful! Please check your email to confirm your account.' \n          } \n        });\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      setError(error.message || 'Failed to create account. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Create your account</h2>\n      <p className=\"mt-2 text-center text-sm text-gray-600\">\n        Or{' '}\n        <Link to=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n          sign in to your existing account\n        </Link>\n      </p>\n\n      {error && (\n        <div className=\"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <span className=\"block sm:inline\">{error}</span>\n        </div>\n      )}\n\n      <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n            Email address\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.email ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('email')}\n            />\n            {errors.email && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.email.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"fullName\" className=\"block text-sm font-medium text-gray-700\">\n            Full name\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"fullName\"\n              name=\"fullName\"\n              type=\"text\"\n              autoComplete=\"name\"\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.fullName ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('fullName')}\n            />\n            {errors.fullName && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.fullName.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n            Password\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              autoComplete=\"new-password\"\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.password ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('password')}\n            />\n            {errors.password && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.password.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n            Confirm password\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              type=\"password\"\n              autoComplete=\"new-password\"\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.confirmPassword ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('confirmPassword')}\n            />\n            {errors.confirmPassword && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.confirmPassword.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"role\" className=\"block text-sm font-medium text-gray-700\">\n            I am a\n          </label>\n          <div className=\"mt-1\">\n            <select\n              id=\"role\"\n              name=\"role\"\n              className={`block w-full pl-3 pr-10 py-2 text-base border ${\n                errors.role ? 'border-red-300' : 'border-gray-300'\n              } focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`}\n              {...register('role')}\n            >\n              <option value=\"homeowner\">Homeowner</option>\n              <option value=\"provider\">Service Provider</option>\n            </select>\n            {errors.role && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.role.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex items-center\">\n          <input\n            id=\"agreeTerms\"\n            name=\"agreeTerms\"\n            type=\"checkbox\"\n            className={`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded ${\n              errors.agreeTerms ? 'border-red-300' : ''\n            }`}\n            {...register('agreeTerms')}\n          />\n          <label htmlFor=\"agreeTerms\" className=\"ml-2 block text-sm text-gray-900\">\n            I agree to the{' '}\n            <Link to=\"/terms\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Terms and Conditions\n            </Link>{' '}\n            and{' '}\n            <Link to=\"/privacy\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Privacy Policy\n            </Link>\n          </label>\n        </div>\n        {errors.agreeTerms && (\n          <p className=\"mt-2 text-sm text-red-600\">{errors.agreeTerms.message}</p>\n        )}\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? (\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            ) : 'Create account'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst schema = yup.object().shape({\n  email: yup.string().email('Please enter a valid email').required('Email is required'),\n});\n\nconst ForgotPassword = () => {\n  const { resetPassword } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  \n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      setLoading(true);\n      setError('');\n      setSuccess(false);\n      \n      await resetPassword(data.email);\n      \n      setSuccess(true);\n    } catch (error) {\n      console.error('Password reset error:', error);\n      setError(error.message || 'Failed to send password reset email. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">Reset your password</h2>\n      <p className=\"mt-2 text-center text-sm text-gray-600\">\n        Enter your email address and we'll send you a link to reset your password.\n      </p>\n\n      {error && (\n        <div className=\"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <span className=\"block sm:inline\">{error}</span>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <span className=\"block sm:inline\">\n            Password reset email sent! Check your inbox for further instructions.\n          </span>\n        </div>\n      )}\n\n      <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n            Email address\n          </label>\n          <div className=\"mt-1\">\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              autoComplete=\"email\"\n              className={`appearance-none block w-full px-3 py-2 border ${\n                errors.email ? 'border-red-300' : 'border-gray-300'\n              } rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}\n              {...register('email')}\n            />\n            {errors.email && (\n              <p className=\"mt-2 text-sm text-red-600\">{errors.email.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={loading || success}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? (\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            ) : 'Send reset link'}\n          </button>\n        </div>\n\n        <div className=\"text-center\">\n          <Link to=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n            Back to sign in\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n","import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  var dayOfMonth = date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}","import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the end of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport default function endOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n  date.setDate(date.getDate() + diff);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    var signedYear = date.getUTCFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nexport default formatters;","var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nexport default formatDistance;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nexport default formatRelative;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import isValid from \"../isValid/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters[firstCharacter];\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month (and year)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport default function isSameMonth(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function subMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, -amount);\n}","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { \n  CalendarIcon, \n  CurrencyDollarIcon, \n  UserGroupIcon, \n  ClockIcon,\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ChartBarIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { Bar } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\n// Register ChartJS components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst ProviderDashboard = () => {\n  const [user, setUser] = useState(null);\n  const [profile, setProfile] = useState(null);\n  const [stats, setStats] = useState({\n    totalJobs: 0,\n    pendingJobs: 0,\n    completedJobs: 0,\n    totalEarnings: 0\n  });\n  const [upcomingJobs, setUpcomingJobs] = useState([]);\n  const [recentReviews, setRecentReviews] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getUser = async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (session) {\n        setUser(session.user);\n        fetchProviderData(session.user.id);\n      }\n    };\n\n    getUser();\n  }, []);\n\n  const fetchProviderData = async (userId) => {\n    try {\n      setLoading(true);\n      \n      // Fetch provider profile\n      const { data: profileData, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single();\n      \n      if (profileError) throw profileError;\n      setProfile(profileData);\n      \n      // For demo purposes, we'll use mock data\n      // In a real app, you would fetch this from your database\n      \n      // Mock stats\n      setStats({\n        totalJobs: 24,\n        pendingJobs: 5,\n        completedJobs: 19,\n        totalEarnings: 4850\n      });\n      \n      // Mock upcoming jobs\n      setUpcomingJobs([\n        {\n          id: 1,\n          title: 'Kitchen Renovation',\n          client: 'John Smith',\n          date: new Date(2023, 4, 15, 10, 0),\n          address: '123 Main St, Anytown, CA',\n          status: 'scheduled'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Plumbing',\n          client: 'Sarah Johnson',\n          date: new Date(2023, 4, 16, 14, 30),\n          address: '456 Oak Ave, Somewhere, CA',\n          status: 'confirmed'\n        },\n        {\n          id: 3,\n          title: 'Deck Installation',\n          client: 'Michael Brown',\n          date: new Date(2023, 4, 18, 9, 0),\n          address: '789 Pine Rd, Nowhere, CA',\n          status: 'pending'\n        }\n      ]);\n      \n      // Mock recent reviews\n      setRecentReviews([\n        {\n          id: 1,\n          client: 'Emily Wilson',\n          rating: 5,\n          comment: 'Excellent work! Very professional and completed the job ahead of schedule.',\n          date: new Date(2023, 4, 10)\n        },\n        {\n          id: 2,\n          client: 'David Lee',\n          rating: 4,\n          comment: 'Good quality work and reasonable pricing. Would hire again.',\n          date: new Date(2023, 4, 5)\n        }\n      ]);\n      \n    } catch (error) {\n      console.error('Error fetching provider data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Chart data\n  const chartData = {\n    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],\n    datasets: [\n      {\n        label: 'Jobs Completed',\n        data: [3, 5, 2, 4, 3, 2],\n        backgroundColor: 'rgba(59, 130, 246, 0.5)',\n        borderColor: 'rgb(59, 130, 246)',\n        borderWidth: 1\n      },\n      {\n        label: 'Revenue ($)',\n        data: [750, 1200, 500, 900, 800, 700],\n        backgroundColor: 'rgba(16, 185, 129, 0.5)',\n        borderColor: 'rgb(16, 185, 129)',\n        borderWidth: 1,\n        yAxisID: 'y1'\n      }\n    ]\n  };\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      y: {\n        beginAtZero: true,\n        title: {\n          display: true,\n          text: 'Jobs'\n        }\n      },\n      y1: {\n        beginAtZero: true,\n        position: 'right',\n        grid: {\n          drawOnChartArea: false\n        },\n        title: {\n          display: true,\n          text: 'Revenue ($)'\n        }\n      }\n    },\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Monthly Performance'\n      }\n    }\n  };\n\n  // Helper function to render stars for ratings\n  const renderStars = (rating) => {\n    return Array(5).fill(0).map((_, i) => (\n      <svg \n        key={i} \n        className={`h-5 w-5 ${i < rating ? 'text-yellow-400' : 'text-gray-300'}`} \n        fill=\"currentColor\" \n        viewBox=\"0 0 20 20\"\n      >\n        <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n      </svg>\n    ));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboard</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Welcome section */}\n        <div className=\"bg-white shadow rounded-lg p-6 mt-6\">\n          <h2 className=\"text-lg font-medium text-gray-900\">\n            Welcome back, {profile?.first_name || 'Provider'}!\n          </h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Here's what's happening with your business today.\n          </p>\n        </div>\n\n        {/* Stats */}\n        <div className=\"mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <CalendarIcon className=\"h-6 w-6 text-gray-400\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Jobs</dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">{stats.totalJobs}</div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/provider/jobs\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  View all\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <ClockIcon className=\"h-6 w-6 text-gray-400\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Pending Jobs</dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">{stats.pendingJobs}</div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/provider/jobs?status=pending\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  View pending\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <CheckCircleIcon className=\"h-6 w-6 text-gray-400\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Completed Jobs</dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">{stats.completedJobs}</div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/provider/jobs?status=completed\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  View completed\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <CurrencyDollarIcon className=\"h-6 w-6 text-gray-400\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Earnings</dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">${stats.totalEarnings}</div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/provider/jobs\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  View details\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Chart and upcoming jobs */}\n        <div className=\"mt-8 grid grid-cols-1 gap-5 lg:grid-cols-2\">\n          {/* Chart */}\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Performance Overview</h3>\n            <div className=\"mt-4 h-72\">\n              <Bar data={chartData} options={chartOptions} />\n            </div>\n          </div>\n\n          {/* Upcoming jobs */}\n          <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n            <div className=\"p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Upcoming Jobs</h3>\n              <div className=\"mt-4 flow-root\">\n                <ul className=\"-my-5 divide-y divide-gray-200\">\n                  {upcomingJobs.length > 0 ? (\n                    upcomingJobs.map((job) => (\n                      <li key={job.id} className=\"py-4\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"flex-shrink-0\">\n                            <span className=\"inline-flex items-center justify-center h-12 w-12 rounded-full bg-blue-100\">\n                              <CalendarIcon className=\"h-6 w-6 text-blue-600\" aria-hidden=\"true\" />\n                            </span>\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">{job.title}</p>\n                            <p className=\"text-sm text-gray-500 truncate\">Client: {job.client}</p>\n                            <p className=\"text-sm text-gray-500 truncate\">\n                              {format(job.date, 'MMM d, yyyy h:mm a')}\n                            </p>\n                            <p className=\"text-sm text-gray-500 truncate\">{job.address}</p>\n                          </div>\n                          <div>\n                            <span\n                              className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                                job.status === 'scheduled'\n                                  ? 'bg-green-100 text-green-800'\n                                  : job.status === 'confirmed'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : 'bg-yellow-100 text-yellow-800'\n                              }`}\n                            >\n                              {job.status.charAt(0).toUpperCase() + job.status.slice(1)}\n                            </span>\n                          </div>\n                        </div>\n                      </li>\n                    ))\n                  ) : (\n                    <li className=\"py-4 text-center text-gray-500\">No upcoming jobs</li>\n                  )}\n                </ul>\n              </div>\n            </div>\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/provider/calendar\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                  View calendar\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent reviews */}\n        <div className=\"mt-8 bg-white shadow rounded-lg overflow-hidden\">\n          <div className=\"p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Recent Reviews</h3>\n            <div className=\"mt-4 flow-root\">\n              <ul className=\"-my-5 divide-y divide-gray-200\">\n                {recentReviews.length > 0 ? (\n                  recentReviews.map((review) => (\n                    <li key={review.id} className=\"py-5\">\n                      <div className=\"flex items-start\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center\">\n                            <h4 className=\"text-sm font-medium text-gray-900\">{review.client}</h4>\n                            <span className=\"ml-2 text-sm text-gray-500\">\n                              {format(review.date, 'MMM d, yyyy')}\n                            </span>\n                          </div>\n                          <div className=\"mt-1 flex items-center\">\n                            <div className=\"flex items-center\">\n                              {renderStars(review.rating)}\n                            </div>\n                            <span className=\"ml-2 text-sm text-gray-500\">\n                              {review.rating} out of 5 stars\n                            </span>\n                          </div>\n                          <div className=\"mt-2 text-sm text-gray-700\">\n                            <p>{review.comment}</p>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  ))\n                ) : (\n                  <li className=\"py-5 text-center text-gray-500\">No reviews yet</li>\n                )}\n              </ul>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/provider/profile\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n                View all reviews\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderDashboard;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\nimport { \n  PencilIcon, \n  CheckIcon, \n  StarIcon,\n  CameraIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\n\nconst ProviderProfile = () => {\n  const { user } = useAuth();\n  const { userProfile, updateUserProfile } = useApp();\n  \n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [reviews, setReviews] = useState([]);\n  const [projects, setProjects] = useState([]);\n  \n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    company_name: '',\n    phone: '',\n    bio: '',\n    services: [],\n    years_experience: '',\n    website: '',\n    address: '',\n    city: '',\n    state: '',\n    zip: ''\n  });\n\n  useEffect(() => {\n    if (userProfile) {\n      setFormData({\n        first_name: userProfile.first_name || '',\n        last_name: userProfile.last_name || '',\n        company_name: userProfile.company_name || '',\n        phone: userProfile.phone || '',\n        bio: userProfile.bio || '',\n        services: userProfile.services || [],\n        years_experience: userProfile.years_experience || '',\n        website: userProfile.website || '',\n        address: userProfile.address || '',\n        city: userProfile.city || '',\n        state: userProfile.state || '',\n        zip: userProfile.zip || ''\n      });\n      \n      fetchReviews();\n      fetchProjects();\n    }\n  }, [userProfile]);\n\n  const fetchReviews = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch reviews from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock reviews data\n      const mockReviews = [\n        {\n          id: 1,\n          client: 'Emily Wilson',\n          client_avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          rating: 5,\n          comment: 'Excellent work! Very professional and completed the job ahead of schedule. The quality of work was outstanding and they were very clean and respectful of our home.',\n          date: new Date(2023, 4, 10),\n          project: 'Interior Painting'\n        },\n        {\n          id: 2,\n          client: 'David Lee',\n          client_avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          rating: 4,\n          comment: 'Good quality work and reasonable pricing. Would hire again for future projects. They were a bit late on the first day but made up for it by working longer hours.',\n          date: new Date(2023, 4, 5),\n          project: 'Roof Repair'\n        },\n        {\n          id: 3,\n          client: 'Sarah Johnson',\n          client_avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          rating: 5,\n          comment: 'I am extremely satisfied with the bathroom remodel. The attention to detail was impressive and they were very responsive to my questions and concerns throughout the project.',\n          date: new Date(2023, 3, 20),\n          project: 'Bathroom Remodel'\n        },\n        {\n          id: 4,\n          client: 'John Smith',\n          client_avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          rating: 4,\n          comment: 'The kitchen renovation turned out beautifully. They were knowledgeable and provided helpful suggestions throughout the process. The only reason for 4 stars instead of 5 is that the project took a bit longer than initially estimated.',\n          date: new Date(2023, 3, 15),\n          project: 'Kitchen Renovation'\n        }\n      ];\n      \n      setReviews(mockReviews);\n    } catch (error) {\n      console.error('Error fetching reviews:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProjects = async () => {\n    try {\n      // In a real app, you would fetch projects from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock projects data\n      const mockProjects = [\n        {\n          id: 1,\n          title: 'Modern Kitchen Renovation',\n          description: 'Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.',\n          image: 'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          date: new Date(2023, 3, 15),\n          client: 'John Smith',\n          location: 'Anytown, CA'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Remodel',\n          description: 'Full bathroom remodel including new shower, vanity, toilet, and tile work.',\n          image: 'https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          date: new Date(2023, 3, 20),\n          client: 'Sarah Johnson',\n          location: 'Somewhere, CA'\n        },\n        {\n          id: 3,\n          title: 'Deck Installation',\n          description: 'Built a new cedar deck with railings and stairs in the backyard.',\n          image: 'https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          date: new Date(2023, 4, 5),\n          client: 'Michael Brown',\n          location: 'Nowhere, CA'\n        },\n        {\n          id: 4,\n          title: 'Interior Painting',\n          description: 'Painted living room, dining room, and hallway with premium paint.',\n          image: 'https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          date: new Date(2023, 4, 10),\n          client: 'Emily Wilson',\n          location: 'Anytown, CA'\n        }\n      ];\n      \n      setProjects(mockProjects);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleServiceChange = (service) => {\n    const updatedServices = formData.services.includes(service)\n      ? formData.services.filter(s => s !== service)\n      : [...formData.services, service];\n    \n    setFormData({ ...formData, services: updatedServices });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      \n      // In a real app, you would update the profile in your database\n      // For demo purposes, we'll just update the local state\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update profile\n      // const { data, error } = await updateUserProfile(formData);\n      \n      // if (error) throw error;\n      \n      setEditing(false);\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to render stars for ratings\n  const renderStars = (rating) => {\n    return Array(5).fill(0).map((_, i) => (\n      <StarIcon \n        key={i} \n        className={`h-5 w-5 ${i < rating ? 'text-yellow-400' : 'text-gray-300'}`} \n        aria-hidden=\"true\" \n      />\n    ));\n  };\n\n  // Format date\n  const formatDate = (date) => {\n    return format(date, 'MMM d, yyyy');\n  };\n\n  // Available services\n  const availableServices = [\n    'Kitchen Renovation',\n    'Bathroom Remodeling',\n    'Deck Building',\n    'Painting',\n    'Flooring',\n    'Electrical',\n    'Plumbing',\n    'Roofing',\n    'Landscaping',\n    'Carpentry'\n  ];\n\n  if (loading && !userProfile) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Profile</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Profile header */}\n        <div className=\"mt-6 bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"relative h-40 bg-blue-600\">\n            <button\n              type=\"button\"\n              className=\"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <CameraIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          <div className=\"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16\">\n            <div className=\"flex-shrink-0 relative\">\n              <img\n                className=\"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32\"\n                src={userProfile?.avatar_url || \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"}\n                alt=\"\"\n              />\n              <button\n                type=\"button\"\n                className=\"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <CameraIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n              </button>\n            </div>\n            <div className=\"mt-6 sm:mt-0 sm:ml-6 flex-1\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-900\">\n                    {userProfile?.first_name} {userProfile?.last_name}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">{userProfile?.company_name || 'Your Company Name'}</p>\n                </div>\n                <div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setEditing(!editing)}\n                    className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <PencilIcon className=\"-ml-1 mr-2 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n              <div className=\"mt-2 flex items-center\">\n                <div className=\"flex items-center\">\n                  {renderStars(4.5)}\n                </div>\n                <span className=\"ml-2 text-sm text-gray-500\">4.5 out of 5 stars ({reviews.length} reviews)</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Profile content */}\n        <div className=\"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3\">\n          {/* Profile information */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Profile Information</h3>\n                {!editing && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setEditing(true)}\n                    className=\"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <PencilIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                )}\n              </div>\n              {editing ? (\n                <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"space-y-6\">\n                      <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n                        <div>\n                          <label htmlFor=\"first_name\" className=\"block text-sm font-medium text-gray-700\">\n                            First name\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"first_name\"\n                            id=\"first_name\"\n                            value={formData.first_name}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"last_name\" className=\"block text-sm font-medium text-gray-700\">\n                            Last name\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"last_name\"\n                            id=\"last_name\"\n                            value={formData.last_name}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                      </div>\n                      <div>\n                        <label htmlFor=\"company_name\" className=\"block text-sm font-medium text-gray-700\">\n                          Company name\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"company_name\"\n                          id=\"company_name\"\n                          value={formData.company_name}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\n                          Phone\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"phone\"\n                          id=\"phone\"\n                          value={formData.phone}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700\">\n                          Bio\n                        </label>\n                        <textarea\n                          id=\"bio\"\n                          name=\"bio\"\n                          rows={3}\n                          value={formData.bio}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"years_experience\" className=\"block text-sm font-medium text-gray-700\">\n                          Years of experience\n                        </label>\n                        <input\n                          type=\"number\"\n                          name=\"years_experience\"\n                          id=\"years_experience\"\n                          value={formData.years_experience}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"website\" className=\"block text-sm font-medium text-gray-700\">\n                          Website\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"website\"\n                          id=\"website\"\n                          value={formData.website}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"address\" className=\"block text-sm font-medium text-gray-700\">\n                          Address\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"address\"\n                          id=\"address\"\n                          value={formData.address}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3\">\n                        <div>\n                          <label htmlFor=\"city\" className=\"block text-sm font-medium text-gray-700\">\n                            City\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"city\"\n                            id=\"city\"\n                            value={formData.city}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"state\" className=\"block text-sm font-medium text-gray-700\">\n                            State\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"state\"\n                            id=\"state\"\n                            value={formData.state}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"zip\" className=\"block text-sm font-medium text-gray-700\">\n                            ZIP\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"zip\"\n                            id=\"zip\"\n                            value={formData.zip}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Services</label>\n                        <div className=\"mt-2 grid grid-cols-1 gap-y-2 sm:grid-cols-2\">\n                          {availableServices.map((service) => (\n                            <div key={service} className=\"flex items-center\">\n                              <input\n                                id={`service-${service}`}\n                                name={`service-${service}`}\n                                type=\"checkbox\"\n                                checked={formData.services.includes(service)}\n                                onChange={() => handleServiceChange(service)}\n                                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                              />\n                              <label htmlFor={`service-${service}`} className=\"ml-3 text-sm text-gray-700\">\n                                {service}\n                              </label>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"mt-6 flex justify-end space-x-3\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setEditing(false)}\n                        className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        type=\"submit\"\n                        className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        {loading ? (\n                          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                        ) : (\n                          <CheckIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n                        )}\n                        Save\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              ) : (\n                <div className=\"border-t border-gray-200\">\n                  <dl>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Full name</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.first_name} {formData.last_name}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Company name</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.company_name || 'Not specified'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Email address</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {user?.email}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Phone</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.phone || 'Not specified'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Bio</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.bio || 'No bio provided'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Years of experience</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.years_experience || 'Not specified'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Website</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.website ? (\n                          <a href={formData.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:text-blue-500\">\n                            {formData.website}\n                          </a>\n                        ) : (\n                          'Not specified'\n                        )}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Address</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.address ? (\n                          <>\n                            {formData.address}<br />\n                            {formData.city}, {formData.state} {formData.zip}\n                          </>\n                        ) : (\n                          'Not specified'\n                        )}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Services</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.services && formData.services.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {formData.services.map((service) => (\n                              <span\n                                key={service}\n                                className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n                              >\n                                {service}\n                              </span>\n                            ))}\n                          </div>\n                        ) : (\n                          'No services specified'\n                        )}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Reviews and projects */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Reviews */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Reviews</h3>\n                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                  4.5 / 5\n                </span>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                <ul className=\"divide-y divide-gray-200\">\n                  {reviews.map((review) => (\n                    <li key={review.id} className=\"px-4 py-4 sm:px-6\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <img\n                            className=\"h-10 w-10 rounded-full\"\n                            src={review.client_avatar}\n                            alt={review.client}\n                          />\n                          <div className=\"ml-3\">\n                            <p className=\"text-sm font-medium text-gray-900\">{review.client}</p>\n                            <p className=\"text-xs text-gray-500\">{formatDate(review.date)}</p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center\">\n                          {renderStars(review.rating)}\n                        </div>\n                      </div>\n                      <div className=\"mt-2\">\n                        <p className=\"text-sm text-gray-600\">{review.comment}</p>\n                      </div>\n                      <div className=\"mt-2\">\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                          {review.project}\n                        </span>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n\n            {/* Projects */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Projects</h3>\n                <button\n                  type=\"button\"\n                  className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  <PlusIcon className=\"-ml-1 mr-1 h-4 w-4\" aria-hidden=\"true\" />\n                  Add Project\n                </button>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4\">\n                  {projects.map((project) => (\n                    <div key={project.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n                      <div className=\"h-48 w-full overflow-hidden\">\n                        <img\n                          src={project.image}\n                          alt={project.title}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"px-4 py-4\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">{project.title}</h4>\n                        <p className=\"mt-1 text-sm text-gray-500\">{project.description}</p>\n                        <div className=\"mt-2 flex justify-between items-center\">\n                          <p className=\"text-xs text-gray-500\">{formatDate(project.date)}</p>\n                          <p className=\"text-xs text-gray-500\">{project.location}</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { format } from 'date-fns';\nimport { \n  CheckCircleIcon, \n  ClockIcon, \n  ExclamationCircleIcon,\n  XCircleIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  ChatBubbleLeftRightIcon\n} from '@heroicons/react/24/outline';\n\nconst ProviderJobs = () => {\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('date');\n  const [sortOrder, setSortOrder] = useState('desc');\n\n  useEffect(() => {\n    fetchJobs();\n  }, []);\n\n  const fetchJobs = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch jobs from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock jobs data\n      const mockJobs = [\n        {\n          id: 1,\n          title: 'Kitchen Renovation',\n          client: 'John Smith',\n          date: new Date(2023, 4, 15, 10, 0),\n          address: '123 Main St, Anytown, CA',\n          status: 'scheduled',\n          price: 3500,\n          description: 'Complete kitchen renovation including new cabinets, countertops, and appliances.'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Plumbing',\n          client: 'Sarah Johnson',\n          date: new Date(2023, 4, 16, 14, 30),\n          address: '456 Oak Ave, Somewhere, CA',\n          status: 'confirmed',\n          price: 850,\n          description: 'Fix leaking pipes and install new shower fixtures.'\n        },\n        {\n          id: 3,\n          title: 'Deck Installation',\n          client: 'Michael Brown',\n          date: new Date(2023, 4, 18, 9, 0),\n          address: '789 Pine Rd, Nowhere, CA',\n          status: 'pending',\n          price: 2200,\n          description: 'Build a new 12x16 wooden deck with railings and stairs.'\n        },\n        {\n          id: 4,\n          title: 'Interior Painting',\n          client: 'Emily Wilson',\n          date: new Date(2023, 4, 5, 13, 0),\n          address: '101 Elm St, Anytown, CA',\n          status: 'completed',\n          price: 1200,\n          description: 'Paint living room, dining room, and hallway. Includes primer and two coats of paint.'\n        },\n        {\n          id: 5,\n          title: 'Roof Repair',\n          client: 'David Lee',\n          date: new Date(2023, 4, 2, 11, 0),\n          address: '202 Cedar Ave, Somewhere, CA',\n          status: 'completed',\n          price: 950,\n          description: 'Repair damaged shingles and fix leak in roof.'\n        },\n        {\n          id: 6,\n          title: 'Fence Installation',\n          client: 'Jennifer Garcia',\n          date: new Date(2023, 4, 20, 8, 0),\n          address: '303 Maple Dr, Nowhere, CA',\n          status: 'pending',\n          price: 1800,\n          description: 'Install 100 feet of 6-foot privacy fence around backyard.'\n        },\n        {\n          id: 7,\n          title: 'Electrical Wiring',\n          client: 'Robert Martinez',\n          date: new Date(2023, 3, 28, 15, 0),\n          address: '404 Birch Ln, Anytown, CA',\n          status: 'completed',\n          price: 750,\n          description: 'Update electrical panel and add new outlets in home office.'\n        },\n        {\n          id: 8,\n          title: 'Landscaping',\n          client: 'Lisa Anderson',\n          date: new Date(2023, 4, 25, 10, 0),\n          address: '505 Spruce Ct, Somewhere, CA',\n          status: 'scheduled',\n          price: 1500,\n          description: 'Redesign front yard with new plants, mulch, and decorative stones.'\n        }\n      ];\n      \n      setJobs(mockJobs);\n    } catch (error) {\n      console.error('Error fetching jobs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter jobs based on status and search term\n  const filteredJobs = jobs.filter(job => {\n    const matchesFilter = filter === 'all' || job.status === filter;\n    const matchesSearch = job.title.toLowerCase().includes(searchTerm.toLowerCase()) || \n                          job.client.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          job.address.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  // Sort jobs\n  const sortedJobs = [...filteredJobs].sort((a, b) => {\n    if (sortBy === 'date') {\n      return sortOrder === 'asc' ? a.date - b.date : b.date - a.date;\n    } else if (sortBy === 'price') {\n      return sortOrder === 'asc' ? a.price - b.price : b.price - a.price;\n    } else if (sortBy === 'title') {\n      return sortOrder === 'asc' \n        ? a.title.localeCompare(b.title) \n        : b.title.localeCompare(a.title);\n    } else if (sortBy === 'client') {\n      return sortOrder === 'asc' \n        ? a.client.localeCompare(b.client) \n        : b.client.localeCompare(a.client);\n    }\n    return 0;\n  });\n\n  // Toggle sort order\n  const toggleSort = (field) => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortOrder('asc');\n    }\n  };\n\n  // Get status badge\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'pending':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n            <ClockIcon className=\"mr-1 h-4 w-4\" />\n            Pending\n          </span>\n        );\n      case 'confirmed':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n            <CheckCircleIcon className=\"mr-1 h-4 w-4\" />\n            Confirmed\n          </span>\n        );\n      case 'scheduled':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n            <CheckCircleIcon className=\"mr-1 h-4 w-4\" />\n            Scheduled\n          </span>\n        );\n      case 'completed':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n            <CheckCircleIcon className=\"mr-1 h-4 w-4\" />\n            Completed\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n            <XCircleIcon className=\"mr-1 h-4 w-4\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n            {status.charAt(0).toUpperCase() + status.slice(1)}\n          </span>\n        );\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Jobs</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Filters and search */}\n        <div className=\"bg-white shadow rounded-lg p-6 mt-6\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n              <div>\n                <label htmlFor=\"filter\" className=\"block text-sm font-medium text-gray-700\">\n                  Filter by status\n                </label>\n                <select\n                  id=\"filter\"\n                  name=\"filter\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={filter}\n                  onChange={(e) => setFilter(e.target.value)}\n                >\n                  <option value=\"all\">All Jobs</option>\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"confirmed\">Confirmed</option>\n                  <option value=\"scheduled\">Scheduled</option>\n                  <option value=\"completed\">Completed</option>\n                  <option value=\"cancelled\">Cancelled</option>\n                </select>\n              </div>\n              <div>\n                <label htmlFor=\"sort\" className=\"block text-sm font-medium text-gray-700\">\n                  Sort by\n                </label>\n                <select\n                  id=\"sort\"\n                  name=\"sort\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={sortBy}\n                  onChange={(e) => {\n                    setSortBy(e.target.value);\n                    setSortOrder('asc');\n                  }}\n                >\n                  <option value=\"date\">Date</option>\n                  <option value=\"price\">Price</option>\n                  <option value=\"title\">Job Title</option>\n                  <option value=\"client\">Client Name</option>\n                </select>\n              </div>\n              <div>\n                <label htmlFor=\"order\" className=\"block text-sm font-medium text-gray-700\">\n                  Order\n                </label>\n                <select\n                  id=\"order\"\n                  name=\"order\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={sortOrder}\n                  onChange={(e) => setSortOrder(e.target.value)}\n                >\n                  <option value=\"asc\">Ascending</option>\n                  <option value=\"desc\">Descending</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"w-full md:w-64\">\n              <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700\">\n                Search\n              </label>\n              <div className=\"mt-1 relative rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"search\"\n                  id=\"search\"\n                  className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md\"\n                  placeholder=\"Search jobs...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Jobs list */}\n        <div className=\"mt-8\">\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n            <ul className=\"divide-y divide-gray-200\">\n              {sortedJobs.length > 0 ? (\n                sortedJobs.map((job) => (\n                  <li key={job.id}>\n                    <div className=\"px-4 py-4 sm:px-6\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <p className=\"text-sm font-medium text-blue-600 truncate\">{job.title}</p>\n                          <div className=\"ml-2\">\n                            {getStatusBadge(job.status)}\n                          </div>\n                        </div>\n                        <div className=\"ml-2 flex-shrink-0 flex\">\n                          <p className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                            ${job.price}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 sm:flex sm:justify-between\">\n                        <div className=\"sm:flex\">\n                          <p className=\"flex items-center text-sm text-gray-500\">\n                            Client: {job.client}\n                          </p>\n                          <p className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6\">\n                            {job.address}\n                          </p>\n                        </div>\n                        <div className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0\">\n                          <p>\n                            {format(job.date, 'MMM d, yyyy h:mm a')}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 text-sm text-gray-700\">\n                        <p>{job.description}</p>\n                      </div>\n                      <div className=\"mt-3 flex justify-end space-x-3\">\n                        <button\n                          type=\"button\"\n                          className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                        >\n                          <EyeIcon className=\"mr-1 h-4 w-4\" />\n                          View Details\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                        >\n                          <ChatBubbleLeftRightIcon className=\"mr-1 h-4 w-4\" />\n                          Message Client\n                        </button>\n                        {job.status !== 'completed' && job.status !== 'cancelled' && (\n                          <>\n                            <button\n                              type=\"button\"\n                              className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                            >\n                              <PencilIcon className=\"mr-1 h-4 w-4\" />\n                              Edit\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent shadow-sm text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                            >\n                              <XCircleIcon className=\"mr-1 h-4 w-4\" />\n                              Cancel\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </li>\n                ))\n              ) : (\n                <li className=\"px-4 py-6 text-center text-gray-500\">\n                  No jobs found matching your criteria\n                </li>\n              )}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderJobs;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { format, startOfMonth, endOfMonth, startOfWeek, endOfWeek, addDays, isSameMonth, isSameDay, addMonths, subMonths } from 'date-fns';\nimport { \n  ChevronLeftIcon, \n  ChevronRightIcon,\n  PlusIcon\n} from '@heroicons/react/24/outline';\n\nconst ProviderCalendar = () => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [showEventModal, setShowEventModal] = useState(false);\n\n  useEffect(() => {\n    fetchEvents();\n  }, [currentDate]);\n\n  const fetchEvents = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch events from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock events data\n      const mockEvents = [\n        {\n          id: 1,\n          title: 'Kitchen Consultation',\n          client: 'John Smith',\n          address: '123 Main St, Anytown, CA',\n          date: new Date(2023, 4, 15, 10, 0),\n          endDate: new Date(2023, 4, 15, 11, 30),\n          type: 'consultation',\n          notes: 'Initial consultation for kitchen renovation project.'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Remodel',\n          client: 'Sarah Johnson',\n          address: '456 Oak Ave, Somewhere, CA',\n          date: new Date(2023, 4, 16, 14, 30),\n          endDate: new Date(2023, 4, 16, 17, 0),\n          type: 'work',\n          notes: 'Installing new shower fixtures and vanity.'\n        },\n        {\n          id: 3,\n          title: 'Deck Measurement',\n          client: 'Michael Brown',\n          address: '789 Pine Rd, Nowhere, CA',\n          date: new Date(2023, 4, 18, 9, 0),\n          endDate: new Date(2023, 4, 18, 10, 0),\n          type: 'measurement',\n          notes: 'Taking measurements for new deck installation.'\n        },\n        {\n          id: 4,\n          title: 'Interior Painting',\n          client: 'Emily Wilson',\n          address: '101 Elm St, Anytown, CA',\n          date: new Date(2023, 4, 20, 13, 0),\n          endDate: new Date(2023, 4, 20, 18, 0),\n          type: 'work',\n          notes: 'Painting living room and dining room.'\n        },\n        {\n          id: 5,\n          title: 'Roof Inspection',\n          client: 'David Lee',\n          address: '202 Cedar Ave, Somewhere, CA',\n          date: new Date(2023, 4, 22, 11, 0),\n          endDate: new Date(2023, 4, 22, 12, 0),\n          type: 'inspection',\n          notes: 'Inspecting roof for potential leaks.'\n        },\n        {\n          id: 6,\n          title: 'Fence Installation',\n          client: 'Jennifer Garcia',\n          address: '303 Maple Dr, Nowhere, CA',\n          date: new Date(2023, 4, 25, 8, 0),\n          endDate: new Date(2023, 4, 25, 16, 0),\n          type: 'work',\n          notes: 'Installing new privacy fence in backyard.'\n        },\n        {\n          id: 7,\n          title: 'Electrical Work',\n          client: 'Robert Martinez',\n          address: '404 Birch Ln, Anytown, CA',\n          date: new Date(2023, 4, 28, 15, 0),\n          endDate: new Date(2023, 4, 28, 17, 0),\n          type: 'work',\n          notes: 'Updating electrical panel and adding new outlets.'\n        },\n        {\n          id: 8,\n          title: 'Landscaping Consultation',\n          client: 'Lisa Anderson',\n          address: '505 Spruce Ct, Somewhere, CA',\n          date: new Date(2023, 4, 30, 10, 0),\n          endDate: new Date(2023, 4, 30, 11, 0),\n          type: 'consultation',\n          notes: 'Discussing front yard landscaping design.'\n        }\n      ];\n      \n      setEvents(mockEvents);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePrevMonth = () => {\n    setCurrentDate(subMonths(currentDate, 1));\n  };\n\n  const handleNextMonth = () => {\n    setCurrentDate(addMonths(currentDate, 1));\n  };\n\n  const handleEventClick = (event) => {\n    setSelectedEvent(event);\n    setShowEventModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedEvent(null);\n    setShowEventModal(false);\n  };\n\n  // Get event type badge\n  const getEventTypeBadge = (type) => {\n    const types = {\n      consultation: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'Consultation' },\n      work: { bg: 'bg-green-100', text: 'text-green-800', label: 'Work' },\n      measurement: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'Measurement' },\n      inspection: { bg: 'bg-purple-100', text: 'text-purple-800', label: 'Inspection' }\n    };\n    \n    const typeInfo = types[type] || { bg: 'bg-gray-100', text: 'text-gray-800', label: type };\n    \n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${typeInfo.bg} ${typeInfo.text}`}>\n        {typeInfo.label}\n      </span>\n    );\n  };\n\n  // Format time\n  const formatTime = (date) => {\n    return format(date, 'h:mm a');\n  };\n\n  // Render calendar header\n  const renderHeader = () => {\n    return (\n      <div className=\"flex items-center justify-between mb-4\">\n        <button\n          type=\"button\"\n          onClick={handlePrevMonth}\n          className=\"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ChevronLeftIcon className=\"h-5 w-5 text-gray-600\" />\n        </button>\n        <h2 className=\"text-xl font-semibold text-gray-900\">\n          {format(currentDate, 'MMMM yyyy')}\n        </h2>\n        <button\n          type=\"button\"\n          onClick={handleNextMonth}\n          className=\"p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ChevronRightIcon className=\"h-5 w-5 text-gray-600\" />\n        </button>\n      </div>\n    );\n  };\n\n  // Render days of week\n  const renderDays = () => {\n    const days = [];\n    const date = startOfWeek(currentDate);\n\n    for (let i = 0; i < 7; i++) {\n      days.push(\n        <div key={i} className=\"text-center font-semibold text-gray-600 text-sm py-2\">\n          {format(addDays(date, i), 'EEEE')}\n        </div>\n      );\n    }\n\n    return <div className=\"grid grid-cols-7 gap-1\">{days}</div>;\n  };\n\n  // Render cells\n  const renderCells = () => {\n    const monthStart = startOfMonth(currentDate);\n    const monthEnd = endOfMonth(monthStart);\n    const startDate = startOfWeek(monthStart);\n    const endDate = endOfWeek(monthEnd);\n\n    const rows = [];\n    let days = [];\n    let day = startDate;\n\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        const cloneDay = day;\n        const formattedDate = format(day, 'd');\n        const dayEvents = events.filter(event => isSameDay(event.date, day));\n        \n        days.push(\n          <div\n            key={day.toString()}\n            className={`min-h-[120px] p-2 border border-gray-200 ${\n              !isSameMonth(day, monthStart)\n                ? 'bg-gray-50 text-gray-400'\n                : isSameDay(day, new Date())\n                ? 'bg-blue-50'\n                : 'bg-white'\n            }`}\n          >\n            <div className=\"flex justify-between items-start\">\n              <span className={`text-sm font-medium ${\n                !isSameMonth(day, monthStart)\n                  ? 'text-gray-400'\n                  : isSameDay(day, new Date())\n                  ? 'text-blue-600'\n                  : 'text-gray-900'\n              }`}>\n                {formattedDate}\n              </span>\n              {isSameMonth(day, monthStart) && (\n                <button\n                  type=\"button\"\n                  className=\"p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  <PlusIcon className=\"h-4 w-4 text-gray-400\" />\n                </button>\n              )}\n            </div>\n            <div className=\"mt-1 space-y-1 max-h-[80px] overflow-y-auto\">\n              {dayEvents.map(event => (\n                <div\n                  key={event.id}\n                  onClick={() => handleEventClick(event)}\n                  className=\"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200\"\n                >\n                  <div className=\"font-medium truncate\">{event.title}</div>\n                  <div className=\"text-xs text-blue-600\">{formatTime(event.date)}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n      rows.push(\n        <div key={day.toString()} className=\"grid grid-cols-7 gap-1\">\n          {days}\n        </div>\n      );\n      days = [];\n    }\n\n    return <div className=\"space-y-1\">{rows}</div>;\n  };\n\n  // Render list view\n  const renderListView = () => {\n    // Group events by date\n    const eventsByDate = events.reduce((acc, event) => {\n      const dateKey = format(event.date, 'yyyy-MM-dd');\n      if (!acc[dateKey]) {\n        acc[dateKey] = [];\n      }\n      acc[dateKey].push(event);\n      return acc;\n    }, {});\n\n    // Sort dates\n    const sortedDates = Object.keys(eventsByDate).sort();\n\n    return (\n      <div className=\"space-y-6\">\n        {sortedDates.map(dateKey => {\n          const date = new Date(dateKey);\n          const dayEvents = eventsByDate[dateKey];\n          \n          return (\n            <div key={dateKey} className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n              <div className=\"px-4 py-5 sm:px-6 bg-gray-50\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                  {format(date, 'EEEE, MMMM d, yyyy')}\n                </h3>\n              </div>\n              <ul className=\"divide-y divide-gray-200\">\n                {dayEvents.map(event => (\n                  <li key={event.id}>\n                    <div\n                      className=\"px-4 py-4 sm:px-6 hover:bg-gray-50 cursor-pointer\"\n                      onClick={() => handleEventClick(event)}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <p className=\"text-sm font-medium text-blue-600 truncate\">{event.title}</p>\n                          <div className=\"ml-2\">\n                            {getEventTypeBadge(event.type)}\n                          </div>\n                        </div>\n                        <div className=\"ml-2 flex-shrink-0 flex\">\n                          <p className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                            {formatTime(event.date)} - {formatTime(event.endDate)}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 sm:flex sm:justify-between\">\n                        <div className=\"sm:flex\">\n                          <p className=\"flex items-center text-sm text-gray-500\">\n                            Client: {event.client}\n                          </p>\n                          <p className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6\">\n                            {event.address}\n                          </p>\n                        </div>\n                      </div>\n                      {event.notes && (\n                        <div className=\"mt-2 text-sm text-gray-500\">\n                          <p>{event.notes}</p>\n                        </div>\n                      )}\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  // Event modal\n  const renderEventModal = () => {\n    if (!selectedEvent) return null;\n\n    return (\n      <div className=\"fixed z-10 inset-0 overflow-y-auto\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n          <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" aria-hidden=\"true\" onClick={handleCloseModal}></div>\n\n          <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n          <div className=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\">\n            <div>\n              <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-title\">\n                  {selectedEvent.title}\n                </h3>\n                <div className=\"mt-4\">\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-500 w-24\">Type:</span>\n                    <div>{getEventTypeBadge(selectedEvent.type)}</div>\n                  </div>\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-500 w-24\">Date:</span>\n                    <span className=\"text-sm text-gray-900\">{format(selectedEvent.date, 'EEEE, MMMM d, yyyy')}</span>\n                  </div>\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-500 w-24\">Time:</span>\n                    <span className=\"text-sm text-gray-900\">{formatTime(selectedEvent.date)} - {formatTime(selectedEvent.endDate)}</span>\n                  </div>\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-500 w-24\">Client:</span>\n                    <span className=\"text-sm text-gray-900\">{selectedEvent.client}</span>\n                  </div>\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-500 w-24\">Address:</span>\n                    <span className=\"text-sm text-gray-900\">{selectedEvent.address}</span>\n                  </div>\n                  {selectedEvent.notes && (\n                    <div className=\"flex items-start mb-2\">\n                      <span className=\"text-sm font-medium text-gray-500 w-24\">Notes:</span>\n                      <span className=\"text-sm text-gray-900\">{selectedEvent.notes}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\n              <button\n                type=\"button\"\n                className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm\"\n                onClick={handleCloseModal}\n              >\n                Close\n              </button>\n              <button\n                type=\"button\"\n                className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm\"\n              >\n                Edit\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const [view, setView] = useState('calendar'); // 'calendar' or 'list'\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Calendar</h1>\n          <div className=\"flex space-x-2\">\n            <button\n              type=\"button\"\n              className={`px-4 py-2 text-sm font-medium rounded-md ${\n                view === 'calendar'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n              }`}\n              onClick={() => setView('calendar')}\n            >\n              Calendar View\n            </button>\n            <button\n              type=\"button\"\n              className={`px-4 py-2 text-sm font-medium rounded-md ${\n                view === 'list'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n              }`}\n              onClick={() => setView('list')}\n            >\n              List View\n            </button>\n            <button\n              type=\"button\"\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <PlusIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n              Add Event\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"mt-6 bg-white shadow overflow-hidden sm:rounded-lg p-6\">\n          {view === 'calendar' ? (\n            <>\n              {renderHeader()}\n              {renderDays()}\n              {renderCells()}\n            </>\n          ) : (\n            renderListView()\n          )}\n        </div>\n      </div>\n      {showEventModal && renderEventModal()}\n    </div>\n  );\n};\n\nexport default ProviderCalendar;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { format } from 'date-fns';\nimport { \n  PaperAirplaneIcon, \n  PaperClipIcon,\n  EllipsisHorizontalIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline';\n\nconst ProviderMessages = () => {\n  const [conversations, setConversations] = useState([]);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetchConversations();\n  }, []);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      fetchMessages(selectedConversation.id);\n    }\n  }, [selectedConversation]);\n\n  const fetchConversations = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch conversations from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock conversations data\n      const mockConversations = [\n        {\n          id: 1,\n          client: {\n            id: 101,\n            name: 'John Smith',\n            avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80'\n          },\n          lastMessage: {\n            text: 'When can you come to look at the kitchen?',\n            timestamp: new Date(2023, 4, 10, 14, 30),\n            isRead: true,\n            sender: 'client'\n          },\n          project: 'Kitchen Renovation',\n          unreadCount: 0\n        },\n        {\n          id: 2,\n          client: {\n            id: 102,\n            name: 'Sarah Johnson',\n            avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80'\n          },\n          lastMessage: {\n            text: 'The bathroom looks great! Thank you for your work.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            isRead: true,\n            sender: 'client'\n          },\n          project: 'Bathroom Remodel',\n          unreadCount: 0\n        },\n        {\n          id: 3,\n          client: {\n            id: 103,\n            name: 'Michael Brown',\n            avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80'\n          },\n          lastMessage: {\n            text: 'I have a question about the quote you sent.',\n            timestamp: new Date(2023, 4, 11, 9, 45),\n            isRead: false,\n            sender: 'client'\n          },\n          project: 'Deck Installation',\n          unreadCount: 2\n        },\n        {\n          id: 4,\n          client: {\n            id: 104,\n            name: 'Emily Wilson',\n            avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80'\n          },\n          lastMessage: {\n            text: 'Can we schedule the painting for next week?',\n            timestamp: new Date(2023, 4, 8, 16, 20),\n            isRead: true,\n            sender: 'client'\n          },\n          project: 'Interior Painting',\n          unreadCount: 0\n        },\n        {\n          id: 5,\n          client: {\n            id: 105,\n            name: 'David Lee',\n            avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80'\n          },\n          lastMessage: {\n            text: 'I just sent the payment for the roof repair.',\n            timestamp: new Date(2023, 4, 7, 11, 10),\n            isRead: true,\n            sender: 'client'\n          },\n          project: 'Roof Repair',\n          unreadCount: 0\n        }\n      ];\n      \n      setConversations(mockConversations);\n      \n      // Select the first conversation by default\n      if (mockConversations.length > 0 && !selectedConversation) {\n        setSelectedConversation(mockConversations[0]);\n      }\n      \n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMessages = async (conversationId) => {\n    try {\n      // In a real app, you would fetch messages from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock messages data\n      const mockMessages = {\n        1: [\n          {\n            id: 1,\n            text: 'Hi, I\\'m interested in renovating my kitchen. Do you offer free consultations?',\n            timestamp: new Date(2023, 4, 9, 9, 30),\n            sender: 'client'\n          },\n          {\n            id: 2,\n            text: 'Yes, we do offer free consultations. I\\'d be happy to come take a look at your kitchen and discuss your renovation ideas.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'Great! When would you be available?',\n            timestamp: new Date(2023, 4, 9, 10, 45),\n            sender: 'client'\n          },\n          {\n            id: 4,\n            text: 'I have availability this Thursday or Friday afternoon. Would either of those work for you?',\n            timestamp: new Date(2023, 4, 9, 11, 30),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'Friday afternoon would work well. How about 2 PM?',\n            timestamp: new Date(2023, 4, 9, 14, 0),\n            sender: 'client'\n          },\n          {\n            id: 6,\n            text: '2 PM on Friday works for me. I\\'ll put it on my calendar. Could you please provide your address?',\n            timestamp: new Date(2023, 4, 9, 14, 45),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: '123 Main St, Anytown, CA. Thanks!',\n            timestamp: new Date(2023, 4, 9, 15, 30),\n            sender: 'client'\n          },\n          {\n            id: 8,\n            text: 'When can you come to look at the kitchen?',\n            timestamp: new Date(2023, 4, 10, 14, 30),\n            sender: 'client'\n          }\n        ],\n        2: [\n          {\n            id: 1,\n            text: 'Hello, I\\'m interested in remodeling my bathroom. Can you help with that?',\n            timestamp: new Date(2023, 4, 5, 13, 0),\n            sender: 'client'\n          },\n          {\n            id: 2,\n            text: 'Hi Sarah, yes we specialize in bathroom remodels. What kind of changes are you looking to make?',\n            timestamp: new Date(2023, 4, 5, 14, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'I want to replace the tub with a walk-in shower, new vanity, and update the flooring and lighting.',\n            timestamp: new Date(2023, 4, 5, 15, 0),\n            sender: 'client'\n          },\n          {\n            id: 4,\n            text: 'That sounds like a great project. I can come by to take measurements and provide a quote. When would be a good time?',\n            timestamp: new Date(2023, 4, 6, 9, 0),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'How about next Monday at 10 AM?',\n            timestamp: new Date(2023, 4, 6, 10, 30),\n            sender: 'client'\n          },\n          {\n            id: 6,\n            text: 'Monday at 10 AM works for me. I\\'ll see you then!',\n            timestamp: new Date(2023, 4, 6, 11, 15),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: 'The bathroom looks great! Thank you for your work.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            sender: 'client'\n          }\n        ],\n        3: [\n          {\n            id: 1,\n            text: 'Hi, I\\'m interested in getting a deck built in my backyard. Can you provide a quote?',\n            timestamp: new Date(2023, 4, 10, 15, 0),\n            sender: 'client'\n          },\n          {\n            id: 2,\n            text: 'Hello Michael, I\\'d be happy to provide a quote for your deck. Could you tell me the approximate size you\\'re looking for?',\n            timestamp: new Date(2023, 4, 10, 16, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'I\\'m thinking about a 12x16 deck with railings and stairs.',\n            timestamp: new Date(2023, 4, 10, 17, 0),\n            sender: 'client'\n          },\n          {\n            id: 4,\n            text: 'Thanks for the information. I\\'ve prepared a quote based on your requirements. I\\'ll send it over shortly.',\n            timestamp: new Date(2023, 4, 11, 9, 0),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'I\\'ve sent the quote to your email. Please let me know if you have any questions.',\n            timestamp: new Date(2023, 4, 11, 9, 15),\n            sender: 'provider'\n          },\n          {\n            id: 6,\n            text: 'I have a question about the quote you sent.',\n            timestamp: new Date(2023, 4, 11, 9, 45),\n            sender: 'client'\n          }\n        ],\n        4: [\n          {\n            id: 1,\n            text: 'Hello, I need to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?',\n            timestamp: new Date(2023, 4, 7, 10, 0),\n            sender: 'client'\n          },\n          {\n            id: 2,\n            text: 'Hi Emily, yes I have some availability coming up. What colors are you thinking of using?',\n            timestamp: new Date(2023, 4, 7, 11, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'I\\'m thinking of a light gray for the living room and hallway, and a sage green for the dining room.',\n            timestamp: new Date(2023, 4, 7, 13, 0),\n            sender: 'client'\n          },\n          {\n            id: 4,\n            text: 'Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.',\n            timestamp: new Date(2023, 4, 7, 14, 30),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.',\n            timestamp: new Date(2023, 4, 7, 15, 45),\n            sender: 'client'\n          },\n          {\n            id: 6,\n            text: 'Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.',\n            timestamp: new Date(2023, 4, 8, 9, 0),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: 'Can we schedule the painting for next week?',\n            timestamp: new Date(2023, 4, 8, 16, 20),\n            sender: 'client'\n          }\n        ],\n        5: [\n          {\n            id: 1,\n            text: 'Hi, I have a leak in my roof that needs to be repaired. Can you help?',\n            timestamp: new Date(2023, 4, 5, 9, 0),\n            sender: 'client'\n          },\n          {\n            id: 2,\n            text: 'Hello David, I can definitely help with your roof leak. Is it causing any damage inside your home?',\n            timestamp: new Date(2023, 4, 5, 10, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'Yes, there\\'s a water stain on the ceiling in my upstairs bedroom.',\n            timestamp: new Date(2023, 4, 5, 11, 15),\n            sender: 'client'\n          },\n          {\n            id: 4,\n            text: 'I understand. This sounds like it needs prompt attention. I can come by tomorrow to assess the damage and provide a quote. Would that work for you?',\n            timestamp: new Date(2023, 4, 5, 13, 0),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'Tomorrow would be great. I\\'m available all day.',\n            timestamp: new Date(2023, 4, 5, 14, 30),\n            sender: 'client'\n          },\n          {\n            id: 6,\n            text: 'Perfect. I\\'ll be there around 10 AM if that works for you.',\n            timestamp: new Date(2023, 4, 5, 15, 0),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: '10 AM is perfect. See you then.',\n            timestamp: new Date(2023, 4, 5, 15, 30),\n            sender: 'client'\n          },\n          {\n            id: 8,\n            text: 'I\\'ve completed the roof repair. The leak was caused by damaged shingles, which I\\'ve replaced. I\\'ve also sealed the area to prevent future leaks.',\n            timestamp: new Date(2023, 4, 6, 16, 0),\n            sender: 'provider'\n          },\n          {\n            id: 9,\n            text: 'Thank you for the quick service. How much do I owe you?',\n            timestamp: new Date(2023, 4, 6, 17, 30),\n            sender: 'client'\n          },\n          {\n            id: 10,\n            text: 'The total comes to $950. I\\'ve sent an invoice to your email.',\n            timestamp: new Date(2023, 4, 6, 18, 0),\n            sender: 'provider'\n          },\n          {\n            id: 11,\n            text: 'I just sent the payment for the roof repair.',\n            timestamp: new Date(2023, 4, 7, 11, 10),\n            sender: 'client'\n          }\n        ]\n      };\n      \n      setMessages(mockMessages[conversationId] || []);\n      \n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    }\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    \n    if (!newMessage.trim() || !selectedConversation) return;\n    \n    // In a real app, you would save the message to your database\n    // For demo purposes, we'll just add it to the local state\n    \n    const newMessageObj = {\n      id: messages.length + 1,\n      text: newMessage,\n      timestamp: new Date(),\n      sender: 'provider'\n    };\n    \n    setMessages([...messages, newMessageObj]);\n    \n    // Update the conversation with the new last message\n    setConversations(conversations.map(conv => \n      conv.id === selectedConversation.id\n        ? {\n            ...conv,\n            lastMessage: {\n              text: newMessage,\n              timestamp: new Date(),\n              isRead: true,\n              sender: 'provider'\n            }\n          }\n        : conv\n    ));\n    \n    setNewMessage('');\n  };\n\n  // Format timestamp\n  const formatMessageTime = (timestamp) => {\n    return format(timestamp, 'h:mm a');\n  };\n  \n  const formatConversationTime = (timestamp) => {\n    const now = new Date();\n    const messageDate = new Date(timestamp);\n    \n    // If the message is from today, show the time\n    if (messageDate.toDateString() === now.toDateString()) {\n      return format(messageDate, 'h:mm a');\n    }\n    \n    // If the message is from this week, show the day\n    const diffDays = Math.floor((now - messageDate) / (1000 * 60 * 60 * 24));\n    if (diffDays < 7) {\n      return format(messageDate, 'EEEE');\n    }\n    \n    // Otherwise, show the date\n    return format(messageDate, 'MMM d');\n  };\n\n  // Filter conversations based on search term\n  const filteredConversations = conversations.filter(conv => \n    conv.client.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.project.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (loading && conversations.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Messages</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"mt-6 bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"flex h-[calc(100vh-200px)]\">\n            {/* Conversation list */}\n            <div className=\"w-1/3 border-r border-gray-200\">\n              <div className=\"p-4 border-b border-gray-200\">\n                <div className=\"relative\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                  </div>\n                  <input\n                    type=\"text\"\n                    className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    placeholder=\"Search conversations\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                  />\n                </div>\n              </div>\n              <div className=\"overflow-y-auto h-full pb-20\">\n                <ul className=\"divide-y divide-gray-200\">\n                  {filteredConversations.map((conversation) => (\n                    <li\n                      key={conversation.id}\n                      className={`hover:bg-gray-50 cursor-pointer ${\n                        selectedConversation?.id === conversation.id ? 'bg-blue-50' : ''\n                      }`}\n                      onClick={() => setSelectedConversation(conversation)}\n                    >\n                      <div className=\"px-4 py-4 sm:px-6\">\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center\">\n                            <div className=\"flex-shrink-0 relative\">\n                              <img\n                                className=\"h-10 w-10 rounded-full\"\n                                src={conversation.client.avatar}\n                                alt={conversation.client.name}\n                              />\n                              {conversation.unreadCount > 0 && (\n                                <span className=\"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                                  {conversation.unreadCount}\n                                </span>\n                              )}\n                            </div>\n                            <div className=\"ml-4\">\n                              <div className=\"flex items-center\">\n                                <h3 className=\"text-sm font-medium text-gray-900\">{conversation.client.name}</h3>\n                                <span className=\"ml-2 text-xs text-gray-500\">\n                                  {formatConversationTime(conversation.lastMessage.timestamp)}\n                                </span>\n                              </div>\n                              <p className=\"text-sm text-gray-500 truncate\">{conversation.project}</p>\n                              <p className={`text-sm truncate ${\n                                conversation.unreadCount > 0 ? 'font-semibold text-gray-900' : 'text-gray-500'\n                              }`}>\n                                {conversation.lastMessage.sender === 'provider' ? 'You: ' : ''}\n                                {conversation.lastMessage.text}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n            \n            {/* Message area */}\n            <div className=\"w-2/3 flex flex-col\">\n              {selectedConversation ? (\n                <>\n                  {/* Conversation header */}\n                  <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <img\n                        className=\"h-10 w-10 rounded-full\"\n                        src={selectedConversation.client.avatar}\n                        alt={selectedConversation.client.name}\n                      />\n                      <div className=\"ml-4\">\n                        <h3 className=\"text-sm font-medium text-gray-900\">{selectedConversation.client.name}</h3>\n                        <p className=\"text-sm text-gray-500\">{selectedConversation.project}</p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      className=\"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      <EllipsisHorizontalIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                    </button>\n                  </div>\n                  \n                  {/* Messages */}\n                  <div className=\"flex-1 p-4 overflow-y-auto\">\n                    <div className=\"space-y-4\">\n                      {messages.map((message) => (\n                        <div\n                          key={message.id}\n                          className={`flex ${message.sender === 'provider' ? 'justify-end' : 'justify-start'}`}\n                        >\n                          {message.sender === 'client' && (\n                            <img\n                              className=\"h-8 w-8 rounded-full mr-2 self-end\"\n                              src={selectedConversation.client.avatar}\n                              alt={selectedConversation.client.name}\n                            />\n                          )}\n                          <div\n                            className={`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${\n                              message.sender === 'provider'\n                                ? 'bg-blue-600 text-white'\n                                : 'bg-gray-100 text-gray-900'\n                            }`}\n                          >\n                            <p className=\"text-sm\">{message.text}</p>\n                            <p\n                              className={`text-xs mt-1 text-right ${\n                                message.sender === 'provider' ? 'text-blue-200' : 'text-gray-500'\n                              }`}\n                            >\n                              {formatMessageTime(message.timestamp)}\n                            </p>\n                          </div>\n                          {message.sender === 'provider' && (\n                            <img\n                              className=\"h-8 w-8 rounded-full ml-2 self-end\"\n                              src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"\n                              alt=\"You\"\n                            />\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Message input */}\n                  <div className=\"p-4 border-t border-gray-200\">\n                    <form onSubmit={handleSendMessage} className=\"flex items-center\">\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        <PaperClipIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                      <input\n                        type=\"text\"\n                        className=\"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        placeholder=\"Type a message...\"\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                      />\n                      <button\n                        type=\"submit\"\n                        disabled={!newMessage.trim()}\n                        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        <PaperAirplaneIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                    </form>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center\">\n                  <div className=\"text-center\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">No conversation selected</h3>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Select a conversation from the list to view messages.\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderMessages;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\n\nconst ProviderSettings = () => {\n  const { user, updateUser } = useAuth();\n  const { userProfile } = useApp();\n  \n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n  \n  // Account settings\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  \n  // Notification settings\n  const [notificationSettings, setNotificationSettings] = useState({\n    email_notifications: true,\n    sms_notifications: false,\n    new_job_requests: true,\n    messages: true,\n    reviews: true,\n    payment_received: true,\n    marketing: false\n  });\n  \n  // Privacy settings\n  const [privacySettings, setPrivacySettings] = useState({\n    show_profile: true,\n    show_contact_info: true,\n    show_reviews: true,\n    show_projects: true\n  });\n\n  useEffect(() => {\n    if (user) {\n      setEmail(user.email || '');\n    }\n    \n    // In a real app, you would fetch notification and privacy settings from your database\n    // For demo purposes, we'll use mock data\n  }, [user]);\n\n  const handleUpdateEmail = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the email in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update email\n      // const { error } = await updateUser({ email });\n      \n      // if (error) throw error;\n      \n      setMessage({ type: 'success', text: 'Email updated successfully!' });\n    } catch (error) {\n      console.error('Error updating email:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating email' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdatePassword = async (e) => {\n    e.preventDefault();\n    \n    if (password !== confirmPassword) {\n      setMessage({ type: 'error', text: 'Passwords do not match' });\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the password in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update password\n      // const { error } = await updateUser({ password });\n      \n      // if (error) throw error;\n      \n      setMessage({ type: 'success', text: 'Password updated successfully!' });\n      setPassword('');\n      setConfirmPassword('');\n    } catch (error) {\n      console.error('Error updating password:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating password' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNotificationChange = (setting) => {\n    setNotificationSettings({\n      ...notificationSettings,\n      [setting]: !notificationSettings[setting]\n    });\n  };\n\n  const handlePrivacyChange = (setting) => {\n    setPrivacySettings({\n      ...privacySettings,\n      [setting]: !privacySettings[setting]\n    });\n  };\n\n  const handleSaveNotificationSettings = async () => {\n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the notification settings in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      setMessage({ type: 'success', text: 'Notification settings updated successfully!' });\n    } catch (error) {\n      console.error('Error updating notification settings:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating notification settings' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePrivacySettings = async () => {\n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the privacy settings in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      setMessage({ type: 'success', text: 'Privacy settings updated successfully!' });\n    } catch (error) {\n      console.error('Error updating privacy settings:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating privacy settings' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"mt-6 space-y-6\">\n          {/* Account settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Account Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage your account information and password.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              {message.text && (\n                <div className={`mb-4 p-4 rounded-md ${\n                  message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n                }`}>\n                  {message.text}\n                </div>\n              )}\n              \n              <div className=\"space-y-6\">\n                {/* Update email */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900\">Email Address</h4>\n                  <form onSubmit={handleUpdateEmail} className=\"mt-2\">\n                    <div className=\"flex items-end space-x-4\">\n                      <div className=\"flex-grow\">\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                          New Email\n                        </label>\n                        <input\n                          type=\"email\"\n                          name=\"email\"\n                          id=\"email\"\n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                      >\n                        {loading ? 'Updating...' : 'Update Email'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n                \n                {/* Update password */}\n                <div className=\"pt-6 border-t border-gray-200\">\n                  <h4 className=\"text-sm font-medium text-gray-900\">Password</h4>\n                  <form onSubmit={handleUpdatePassword} className=\"mt-2 space-y-4\">\n                    <div>\n                      <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                        New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        id=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n                        Confirm New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        name=\"confirmPassword\"\n                        id=\"confirmPassword\"\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                      />\n                    </div>\n                    <div className=\"flex justify-end\">\n                      <button\n                        type=\"submit\"\n                        disabled={loading || !password || !confirmPassword}\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                      >\n                        {loading ? 'Updating...' : 'Update Password'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Notification settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Notification Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage how and when you receive notifications.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900\">Notification Methods</h4>\n                  <div className=\"mt-2 space-y-4\">\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"email_notifications\"\n                          name=\"email_notifications\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.email_notifications}\n                          onChange={() => handleNotificationChange('email_notifications')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"email_notifications\" className=\"font-medium text-gray-700\">\n                          Email Notifications\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications via email.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"sms_notifications\"\n                          name=\"sms_notifications\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.sms_notifications}\n                          onChange={() => handleNotificationChange('sms_notifications')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"sms_notifications\" className=\"font-medium text-gray-700\">\n                          SMS Notifications\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications via text message.</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"pt-6 border-t border-gray-200\">\n                  <h4 className=\"text-sm font-medium text-gray-900\">Notification Types</h4>\n                  <div className=\"mt-2 space-y-4\">\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"new_job_requests\"\n                          name=\"new_job_requests\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.new_job_requests}\n                          onChange={() => handleNotificationChange('new_job_requests')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"new_job_requests\" className=\"font-medium text-gray-700\">\n                          New Job Requests\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications when you get new job requests.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"messages\"\n                          name=\"messages\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.messages}\n                          onChange={() => handleNotificationChange('messages')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"messages\" className=\"font-medium text-gray-700\">\n                          Messages\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications for new messages.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"reviews\"\n                          name=\"reviews\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.reviews}\n                          onChange={() => handleNotificationChange('reviews')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"reviews\" className=\"font-medium text-gray-700\">\n                          Reviews\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications when you get new reviews.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"payment_received\"\n                          name=\"payment_received\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.payment_received}\n                          onChange={() => handleNotificationChange('payment_received')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"payment_received\" className=\"font-medium text-gray-700\">\n                          Payment Received\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications when you receive payments.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"marketing\"\n                          name=\"marketing\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.marketing}\n                          onChange={() => handleNotificationChange('marketing')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"marketing\" className=\"font-medium text-gray-700\">\n                          Marketing\n                        </label>\n                        <p className=\"text-gray-500\">Receive marketing and promotional emails.</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={handleSaveNotificationSettings}\n                    disabled={loading}\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                  >\n                    {loading ? 'Saving...' : 'Save Notification Settings'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Privacy settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Privacy Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage what information is visible to others.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"show_profile\"\n                        name=\"show_profile\"\n                        type=\"checkbox\"\n                        checked={privacySettings.show_profile}\n                        onChange={() => handlePrivacyChange('show_profile')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"show_profile\" className=\"font-medium text-gray-700\">\n                        Show Profile\n                      </label>\n                      <p className=\"text-gray-500\">Make your profile visible to potential clients.</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"show_contact_info\"\n                        name=\"show_contact_info\"\n                        type=\"checkbox\"\n                        checked={privacySettings.show_contact_info}\n                        onChange={() => handlePrivacyChange('show_contact_info')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"show_contact_info\" className=\"font-medium text-gray-700\">\n                        Show Contact Information\n                      </label>\n                      <p className=\"text-gray-500\">Make your contact information visible to potential clients.</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"show_reviews\"\n                        name=\"show_reviews\"\n                        type=\"checkbox\"\n                        checked={privacySettings.show_reviews}\n                        onChange={() => handlePrivacyChange('show_reviews')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"show_reviews\" className=\"font-medium text-gray-700\">\n                        Show Reviews\n                      </label>\n                      <p className=\"text-gray-500\">Make your reviews visible to potential clients.</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"show_projects\"\n                        name=\"show_projects\"\n                        type=\"checkbox\"\n                        checked={privacySettings.show_projects}\n                        onChange={() => handlePrivacyChange('show_projects')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"show_projects\" className=\"font-medium text-gray-700\">\n                        Show Projects\n                      </label>\n                      <p className=\"text-gray-500\">Make your projects visible to potential clients.</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={handleSavePrivacySettings}\n                    disabled={loading}\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                  >\n                    {loading ? 'Saving...' : 'Save Privacy Settings'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Delete account */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Delete Account</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Permanently delete your account and all associated data.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-4\">\n                <p className=\"text-sm text-gray-500\">\n                  Once you delete your account, there is no going back. Please be certain.\n                </p>\n                <button\n                  type=\"button\"\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  Delete Account\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProviderSettings;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\nimport { \n  PlusIcon, \n  ClockIcon, \n  CheckCircleIcon, \n  ExclamationCircleIcon,\n  ChatBubbleLeftRightIcon,\n  StarIcon\n} from '@heroicons/react/24/outline';\n\n// Import Chart.js components\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\n\n// Register Chart.js components\nChartJS.register(ArcElement, Tooltip, Legend);\n\nfunction HomeownerDashboard() {\n  const { user } = useAuth();\n  const { userProfile } = useApp();\n  const [projects, setProjects] = useState([]);\n  const [recentProviders, setRecentProviders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Mock data for the dashboard\n  const projectStatusData = {\n    labels: ['Completed', 'In Progress', 'Pending', 'Cancelled'],\n    datasets: [\n      {\n        data: [4, 2, 3, 1],\n        backgroundColor: [\n          'rgba(34, 197, 94, 0.7)',\n          'rgba(59, 130, 246, 0.7)',\n          'rgba(234, 179, 8, 0.7)',\n          'rgba(239, 68, 68, 0.7)',\n        ],\n        borderColor: [\n          'rgba(34, 197, 94, 1)',\n          'rgba(59, 130, 246, 1)',\n          'rgba(234, 179, 8, 1)',\n          'rgba(239, 68, 68, 1)',\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  // Fetch projects and providers data\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // In a real app, these would be actual queries to your Supabase tables\n        // For now, we'll use mock data\n        \n        // Mock projects data\n        const mockProjects = [\n          {\n            id: '1',\n            title: 'Kitchen Renovation',\n            description: 'Complete kitchen remodel including new cabinets, countertops, and appliances.',\n            status: 'in_progress',\n            start_date: '2023-05-15',\n            end_date: '2023-06-30',\n            budget: 15000,\n            provider: {\n              id: '101',\n              name: 'Elite Home Renovations',\n              avatar_url: 'https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n              rating: 4.8\n            }\n          },\n          {\n            id: '2',\n            title: 'Bathroom Remodel',\n            description: 'Update master bathroom with new shower, vanity, and fixtures.',\n            status: 'pending',\n            start_date: '2023-07-10',\n            end_date: '2023-07-25',\n            budget: 8000,\n            provider: {\n              id: '102',\n              name: 'Modern Plumbing Solutions',\n              avatar_url: 'https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n              rating: 4.6\n            }\n          },\n          {\n            id: '3',\n            title: 'Deck Construction',\n            description: 'Build a new composite deck in the backyard.',\n            status: 'pending',\n            start_date: '2023-08-05',\n            end_date: '2023-08-20',\n            budget: 12000,\n            provider: null\n          },\n          {\n            id: '4',\n            title: 'Interior Painting',\n            description: 'Paint living room, dining room, and hallway.',\n            status: 'completed',\n            start_date: '2023-04-10',\n            end_date: '2023-04-15',\n            budget: 3000,\n            provider: {\n              id: '103',\n              name: 'Perfect Painting Co.',\n              avatar_url: 'https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n              rating: 5.0\n            }\n          }\n        ];\n        \n        // Mock recent providers data\n        const mockProviders = [\n          {\n            id: '101',\n            name: 'Elite Home Renovations',\n            service_type: 'General Contractor',\n            avatar_url: 'https://images.pexels.com/photos/3760514/pexels-photo-3760514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n            rating: 4.8,\n            reviews: 124\n          },\n          {\n            id: '102',\n            name: 'Modern Plumbing Solutions',\n            service_type: 'Plumbing',\n            avatar_url: 'https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n            rating: 4.6,\n            reviews: 89\n          },\n          {\n            id: '103',\n            name: 'Perfect Painting Co.',\n            service_type: 'Painting',\n            avatar_url: 'https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n            rating: 5.0,\n            reviews: 56\n          },\n          {\n            id: '104',\n            name: 'Green Thumb Landscaping',\n            service_type: 'Landscaping',\n            avatar_url: 'https://images.pexels.com/photos/8961251/pexels-photo-8961251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n            rating: 4.7,\n            reviews: 112\n          }\n        ];\n\n        setProjects(mockProjects);\n        setRecentProviders(mockProviders);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n        setError('Failed to load dashboard data. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [user]);\n\n  // Helper function to get status badge\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'completed':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n            <CheckCircleIcon className=\"w-4 h-4 mr-1\" />\n            Completed\n          </span>\n        );\n      case 'in_progress':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n            <ClockIcon className=\"w-4 h-4 mr-1\" />\n            In Progress\n          </span>\n        );\n      case 'pending':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n            <ClockIcon className=\"w-4 h-4 mr-1\" />\n            Pending\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n            <ExclamationCircleIcon className=\"w-4 h-4 mr-1\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n            Unknown\n          </span>\n        );\n    }\n  };\n\n  // Helper function to format currency\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    }).format(amount);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-12 h-12 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-4 text-red-700 bg-red-100 rounded-md\">\n        <p>{error}</p>\n        <button\n          className=\"mt-2 text-sm font-medium text-red-700 underline\"\n          onClick={() => window.location.reload()}\n        >\n          Try again\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Welcome section */}\n      <div className=\"p-6 bg-white rounded-lg shadow\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">\n          Welcome back, {userProfile?.full_name || 'Homeowner'}!\n        </h1>\n        <p className=\"mt-1 text-gray-600\">\n          Here's an overview of your home improvement projects and services.\n        </p>\n      </div>\n\n      {/* Stats overview */}\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4\">\n        <div className=\"p-6 bg-white rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <div className=\"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md\">\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"></path>\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Total Projects</h2>\n              <p className=\"text-2xl font-semibold text-gray-700\">{projects.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6 bg-white rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <div className=\"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-green-100 rounded-md\">\n              <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Completed</h2>\n              <p className=\"text-2xl font-semibold text-gray-700\">\n                {projects.filter(p => p.status === 'completed').length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6 bg-white rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <div className=\"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-blue-100 rounded-md\">\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-medium text-gray-900\">In Progress</h2>\n              <p className=\"text-2xl font-semibold text-gray-700\">\n                {projects.filter(p => p.status === 'in_progress').length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6 bg-white rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <div className=\"flex items-center justify-center flex-shrink-0 w-12 h-12 bg-yellow-100 rounded-md\">\n              <svg className=\"w-6 h-6 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Pending</h2>\n              <p className=\"text-2xl font-semibold text-gray-700\">\n                {projects.filter(p => p.status === 'pending').length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Projects and chart section */}\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        {/* Recent projects */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"overflow-hidden bg-white rounded-lg shadow\">\n            <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Recent Projects</h2>\n              <Link\n                to=\"/homeowner/projects\"\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-500\"\n              >\n                View all\n              </Link>\n            </div>\n            <div className=\"divide-y divide-gray-200\">\n              {projects.length > 0 ? (\n                projects.slice(0, 3).map((project) => (\n                  <div key={project.id} className=\"p-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className=\"text-lg font-medium text-gray-900\">{project.title}</h3>\n                      {getStatusBadge(project.status)}\n                    </div>\n                    <p className=\"mt-1 text-sm text-gray-600\">{project.description}</p>\n                    <div className=\"grid grid-cols-2 gap-4 mt-4\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Budget</p>\n                        <p className=\"text-sm font-medium text-gray-900\">{formatCurrency(project.budget)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-gray-500\">Timeline</p>\n                        <p className=\"text-sm font-medium text-gray-900\">\n                          {new Date(project.start_date).toLocaleDateString()} - {new Date(project.end_date).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                    {project.provider && (\n                      <div className=\"flex items-center mt-4 space-x-2\">\n                        <img\n                          src={project.provider.avatar_url}\n                          alt={project.provider.name}\n                          className=\"w-8 h-8 rounded-full\"\n                        />\n                        <div>\n                          <p className=\"text-sm font-medium text-gray-900\">{project.provider.name}</p>\n                          <div className=\"flex items-center\">\n                            <StarIcon className=\"w-4 h-4 text-yellow-400\" />\n                            <span className=\"ml-1 text-sm text-gray-600\">{project.provider.rating}</span>\n                          </div>\n                        </div>\n                        <div className=\"flex-1\"></div>\n                        <button className=\"inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200\">\n                          <ChatBubbleLeftRightIcon className=\"w-4 h-4 mr-1\" />\n                          Message\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ))\n              ) : (\n                <div className=\"p-6 text-center\">\n                  <p className=\"text-gray-500\">No projects found.</p>\n                  <Link\n                    to=\"/homeowner/projects/new\"\n                    className=\"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700\"\n                  >\n                    <PlusIcon className=\"w-5 h-5 mr-2\" />\n                    Create New Project\n                  </Link>\n                </div>\n              )}\n            </div>\n            {projects.length > 0 && (\n              <div className=\"px-6 py-4 bg-gray-50\">\n                <Link\n                  to=\"/homeowner/projects/new\"\n                  className=\"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  <PlusIcon className=\"w-5 h-5 mr-1\" />\n                  Create New Project\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Project status chart */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"overflow-hidden bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Project Status</h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-center h-64\">\n                <Doughnut \n                  data={projectStatusData} \n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'bottom',\n                      }\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Recent providers */}\n      <div className=\"overflow-hidden bg-white rounded-lg shadow\">\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-medium text-gray-900\">Recent Service Providers</h2>\n          <Link\n            to=\"/homeowner/providers\"\n            className=\"text-sm font-medium text-blue-600 hover:text-blue-500\"\n          >\n            View all\n          </Link>\n        </div>\n        <div className=\"divide-y divide-gray-200\">\n          {recentProviders.length > 0 ? (\n            <div className=\"grid grid-cols-1 divide-y divide-gray-200 sm:grid-cols-2 sm:divide-y-0 sm:divide-x lg:grid-cols-4\">\n              {recentProviders.map((provider) => (\n                <div key={provider.id} className=\"p-6\">\n                  <div className=\"flex items-center\">\n                    <img\n                      src={provider.avatar_url}\n                      alt={provider.name}\n                      className=\"w-12 h-12 rounded-full\"\n                    />\n                    <div className=\"ml-4\">\n                      <h3 className=\"text-sm font-medium text-gray-900\">{provider.name}</h3>\n                      <p className=\"text-sm text-gray-500\">{provider.service_type}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center mt-4\">\n                    <div className=\"flex items-center\">\n                      <StarIcon className=\"w-5 h-5 text-yellow-400\" />\n                      <span className=\"ml-1 text-sm font-medium text-gray-900\">{provider.rating}</span>\n                    </div>\n                    <span className=\"mx-2 text-gray-500\">•</span>\n                    <span className=\"text-sm text-gray-500\">{provider.reviews} reviews</span>\n                  </div>\n                  <div className=\"flex mt-4 space-x-2\">\n                    <button className=\"flex-1 px-3 py-1 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200\">\n                      View Profile\n                    </button>\n                    <button className=\"flex-1 px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\">\n                      Contact\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"p-6 text-center\">\n              <p className=\"text-gray-500\">No recent service providers.</p>\n              <Link\n                to=\"/homeowner/providers\"\n                className=\"inline-flex items-center px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700\"\n              >\n                Find Service Providers\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomeownerDashboard;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\nimport { \n  PencilIcon, \n  CheckIcon, \n  CameraIcon\n} from '@heroicons/react/24/outline';\n\nconst HomeownerProfile = () => {\n  const { user } = useAuth();\n  const { userProfile, updateUserProfile } = useApp();\n  \n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [projects, setProjects] = useState([]);\n  \n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    phone: '',\n    address: '',\n    city: '',\n    state: '',\n    zip: '',\n    bio: ''\n  });\n\n  useEffect(() => {\n    if (userProfile) {\n      setFormData({\n        first_name: userProfile.first_name || '',\n        last_name: userProfile.last_name || '',\n        phone: userProfile.phone || '',\n        address: userProfile.address || '',\n        city: userProfile.city || '',\n        state: userProfile.state || '',\n        zip: userProfile.zip || '',\n        bio: userProfile.bio || ''\n      });\n      \n      fetchProjects();\n    }\n  }, [userProfile]);\n\n  const fetchProjects = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch projects from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock projects data\n      const mockProjects = [\n        {\n          id: 1,\n          title: 'Kitchen Renovation',\n          description: 'Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.',\n          status: 'in_progress',\n          provider: 'Elite Home Renovations',\n          provider_id: 101,\n          start_date: new Date(2023, 3, 15),\n          end_date: new Date(2023, 5, 30),\n          budget: 45000,\n          spent: 30000,\n          image: 'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Remodel',\n          description: 'Full bathroom remodel including new shower, vanity, toilet, and tile work.',\n          status: 'in_progress',\n          provider: 'Premium Bathroom Solutions',\n          provider_id: 102,\n          start_date: new Date(2023, 4, 1),\n          end_date: new Date(2023, 5, 15),\n          budget: 25000,\n          spent: 15000,\n          image: 'https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 3,\n          title: 'Deck Installation',\n          description: 'Built a new cedar deck with railings and stairs in the backyard.',\n          status: 'completed',\n          provider: 'Outdoor Living Experts',\n          provider_id: 103,\n          start_date: new Date(2023, 2, 10),\n          end_date: new Date(2023, 3, 5),\n          budget: 12000,\n          spent: 11500,\n          image: 'https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        }\n      ];\n      \n      setProjects(mockProjects);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      \n      // In a real app, you would update the profile in your database\n      // For demo purposes, we'll just update the local state\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update profile\n      // const { data, error } = await updateUserProfile(formData);\n      \n      // if (error) throw error;\n      \n      setEditing(false);\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Format date\n  const formatDate = (date) => {\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(date);\n  };\n\n  // Get status badge\n  const getStatusBadge = (status) => {\n    const statuses = {\n      in_progress: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'In Progress' },\n      completed: { bg: 'bg-green-100', text: 'text-green-800', label: 'Completed' },\n      pending: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'Pending' },\n      cancelled: { bg: 'bg-red-100', text: 'text-red-800', label: 'Cancelled' }\n    };\n    \n    const statusInfo = statuses[status] || { bg: 'bg-gray-100', text: 'text-gray-800', label: status };\n    \n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusInfo.bg} ${statusInfo.text}`}>\n        {statusInfo.label}\n      </span>\n    );\n  };\n\n  if (loading && !userProfile) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Profile</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Profile header */}\n        <div className=\"mt-6 bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"relative h-40 bg-blue-600\">\n            <button\n              type=\"button\"\n              className=\"absolute top-2 right-2 p-2 rounded-full bg-white bg-opacity-75 text-gray-700 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <CameraIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          <div className=\"px-4 py-5 sm:px-6 flex flex-col sm:flex-row sm:items-end -mt-16\">\n            <div className=\"flex-shrink-0 relative\">\n              <img\n                className=\"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32\"\n                src={userProfile?.avatar_url || \"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"}\n                alt=\"\"\n              />\n              <button\n                type=\"button\"\n                className=\"absolute bottom-0 right-0 p-1 rounded-full bg-white text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <CameraIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n              </button>\n            </div>\n            <div className=\"mt-6 sm:mt-0 sm:ml-6 flex-1\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-900\">\n                    {userProfile?.first_name} {userProfile?.last_name}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">Homeowner</p>\n                </div>\n                <div>\n                  <button\n                    type=\"button\"\n                    onClick={() => setEditing(!editing)}\n                    className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <PencilIcon className=\"-ml-1 mr-2 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Profile content */}\n        <div className=\"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3\">\n          {/* Profile information */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Profile Information</h3>\n                {!editing && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setEditing(true)}\n                    className=\"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <PencilIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                )}\n              </div>\n              {editing ? (\n                <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"space-y-6\">\n                      <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n                        <div>\n                          <label htmlFor=\"first_name\" className=\"block text-sm font-medium text-gray-700\">\n                            First name\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"first_name\"\n                            id=\"first_name\"\n                            value={formData.first_name}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"last_name\" className=\"block text-sm font-medium text-gray-700\">\n                            Last name\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"last_name\"\n                            id=\"last_name\"\n                            value={formData.last_name}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                      </div>\n                      <div>\n                        <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\n                          Phone\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"phone\"\n                          id=\"phone\"\n                          value={formData.phone}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700\">\n                          Bio\n                        </label>\n                        <textarea\n                          id=\"bio\"\n                          name=\"bio\"\n                          rows={3}\n                          value={formData.bio}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"address\" className=\"block text-sm font-medium text-gray-700\">\n                          Address\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"address\"\n                          id=\"address\"\n                          value={formData.address}\n                          onChange={handleInputChange}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3\">\n                        <div>\n                          <label htmlFor=\"city\" className=\"block text-sm font-medium text-gray-700\">\n                            City\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"city\"\n                            id=\"city\"\n                            value={formData.city}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"state\" className=\"block text-sm font-medium text-gray-700\">\n                            State\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"state\"\n                            id=\"state\"\n                            value={formData.state}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                        <div>\n                          <label htmlFor=\"zip\" className=\"block text-sm font-medium text-gray-700\">\n                            ZIP\n                          </label>\n                          <input\n                            type=\"text\"\n                            name=\"zip\"\n                            id=\"zip\"\n                            value={formData.zip}\n                            onChange={handleInputChange}\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"mt-6 flex justify-end space-x-3\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setEditing(false)}\n                        className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        type=\"submit\"\n                        className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        {loading ? (\n                          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                        ) : (\n                          <CheckIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n                        )}\n                        Save\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              ) : (\n                <div className=\"border-t border-gray-200\">\n                  <dl>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Full name</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.first_name} {formData.last_name}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Email address</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {user?.email}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Phone</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.phone || 'Not specified'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Bio</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.bio || 'No bio provided'}\n                      </dd>\n                    </div>\n                    <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Address</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                        {formData.address ? (\n                          <>\n                            {formData.address}<br />\n                            {formData.city}, {formData.state} {formData.zip}\n                          </>\n                        ) : (\n                          'Not specified'\n                        )}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Projects */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n                <h3 className=\"text-lg font-medium leading-6 text-gray-900\">My Projects</h3>\n                <button\n                  type=\"button\"\n                  className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  New Project\n                </button>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                {projects.length > 0 ? (\n                  <ul className=\"divide-y divide-gray-200\">\n                    {projects.map((project) => (\n                      <li key={project.id} className=\"px-4 py-4 sm:px-6\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-16 w-16 rounded-md overflow-hidden\">\n                            <img\n                              src={project.image}\n                              alt={project.title}\n                              className=\"h-full w-full object-cover\"\n                            />\n                          </div>\n                          <div className=\"ml-4 flex-1\">\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h4 className=\"text-lg font-medium text-gray-900\">{project.title}</h4>\n                                <p className=\"text-sm text-gray-500\">Provider: {project.provider}</p>\n                              </div>\n                              <div>\n                                {getStatusBadge(project.status)}\n                              </div>\n                            </div>\n                            <p className=\"mt-1 text-sm text-gray-500\">{project.description}</p>\n                            <div className=\"mt-2 flex justify-between text-xs text-gray-500\">\n                              <span>\n                                {formatDate(project.start_date)} - {formatDate(project.end_date)}\n                              </span>\n                              <span>\n                                Budget: ${project.budget.toLocaleString()} | Spent: ${project.spent.toLocaleString()}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                ) : (\n                  <div className=\"px-4 py-5 sm:px-6 text-center text-gray-500\">\n                    You don't have any projects yet.\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeownerProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { format } from 'date-fns';\nimport { \n  CheckCircleIcon, \n  ClockIcon, \n  ExclamationCircleIcon,\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  ChatBubbleLeftRightIcon\n} from '@heroicons/react/24/outline';\n\nconst HomeownerProjects = () => {\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('date');\n  const [sortOrder, setSortOrder] = useState('desc');\n\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  const fetchProjects = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch projects from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock projects data\n      const mockProjects = [\n        {\n          id: 1,\n          title: 'Kitchen Renovation',\n          description: 'Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.',\n          status: 'in_progress',\n          provider: 'Elite Home Renovations',\n          provider_id: 101,\n          start_date: new Date(2023, 3, 15),\n          end_date: new Date(2023, 5, 30),\n          budget: 45000,\n          spent: 30000,\n          image: 'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 2,\n          title: 'Bathroom Remodel',\n          description: 'Full bathroom remodel including new shower, vanity, toilet, and tile work.',\n          status: 'in_progress',\n          provider: 'Premium Bathroom Solutions',\n          provider_id: 102,\n          start_date: new Date(2023, 4, 1),\n          end_date: new Date(2023, 5, 15),\n          budget: 25000,\n          spent: 15000,\n          image: 'https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 3,\n          title: 'Deck Installation',\n          description: 'Built a new cedar deck with railings and stairs in the backyard.',\n          status: 'completed',\n          provider: 'Outdoor Living Experts',\n          provider_id: 103,\n          start_date: new Date(2023, 2, 10),\n          end_date: new Date(2023, 3, 5),\n          budget: 12000,\n          spent: 11500,\n          image: 'https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 4,\n          title: 'Interior Painting',\n          description: 'Painted living room, dining room, and hallway with premium paint.',\n          status: 'completed',\n          provider: 'Perfect Painting Services',\n          provider_id: 104,\n          start_date: new Date(2023, 1, 15),\n          end_date: new Date(2023, 1, 25),\n          budget: 5000,\n          spent: 4800,\n          image: 'https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 5,\n          title: 'Roof Repair',\n          description: 'Repaired damaged shingles and fixed leak in roof.',\n          status: 'completed',\n          provider: 'Top Notch Roofing',\n          provider_id: 105,\n          start_date: new Date(2023, 0, 5),\n          end_date: new Date(2023, 0, 10),\n          budget: 3000,\n          spent: 2800,\n          image: 'https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        },\n        {\n          id: 6,\n          title: 'Landscaping Project',\n          description: 'Front yard landscaping with new plants, mulch, and decorative stones.',\n          status: 'pending',\n          provider: 'Green Thumb Landscaping',\n          provider_id: 106,\n          start_date: new Date(2023, 5, 1),\n          end_date: new Date(2023, 5, 15),\n          budget: 8000,\n          spent: 0,\n          image: 'https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        }\n      ];\n      \n      setProjects(mockProjects);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter projects based on status and search term\n  const filteredProjects = projects.filter(project => {\n    const matchesFilter = filter === 'all' || project.status === filter;\n    const matchesSearch = project.title.toLowerCase().includes(searchTerm.toLowerCase()) || \n                          project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          project.provider.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  // Sort projects\n  const sortedProjects = [...filteredProjects].sort((a, b) => {\n    if (sortBy === 'date') {\n      return sortOrder === 'asc' ? a.start_date - b.start_date : b.start_date - a.start_date;\n    } else if (sortBy === 'budget') {\n      return sortOrder === 'asc' ? a.budget - b.budget : b.budget - a.budget;\n    } else if (sortBy === 'title') {\n      return sortOrder === 'asc' \n        ? a.title.localeCompare(b.title) \n        : b.title.localeCompare(a.title);\n    } else if (sortBy === 'provider') {\n      return sortOrder === 'asc' \n        ? a.provider.localeCompare(b.provider) \n        : b.provider.localeCompare(a.provider);\n    }\n    return 0;\n  });\n\n  // Toggle sort order\n  const toggleSort = (field) => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortOrder('asc');\n    }\n  };\n\n  // Get status badge\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'in_progress':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n            <ClockIcon className=\"mr-1 h-4 w-4\" />\n            In Progress\n          </span>\n        );\n      case 'completed':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n            <CheckCircleIcon className=\"mr-1 h-4 w-4\" />\n            Completed\n          </span>\n        );\n      case 'pending':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n            <ClockIcon className=\"mr-1 h-4 w-4\" />\n            Pending\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n            <ExclamationCircleIcon className=\"mr-1 h-4 w-4\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n            {status.charAt(0).toUpperCase() + status.slice(1).replace('_', ' ')}\n          </span>\n        );\n    }\n  };\n\n  // Format date\n  const formatDate = (date) => {\n    return format(date, 'MMM d, yyyy');\n  };\n\n  // Calculate progress percentage\n  const calculateProgress = (spent, budget) => {\n    return Math.round((spent / budget) * 100);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Projects</h1>\n          <button\n            type=\"button\"\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <PlusIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n            New Project\n          </button>\n        </div>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Filters and search */}\n        <div className=\"bg-white shadow rounded-lg p-6 mt-6\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n              <div>\n                <label htmlFor=\"filter\" className=\"block text-sm font-medium text-gray-700\">\n                  Filter by status\n                </label>\n                <select\n                  id=\"filter\"\n                  name=\"filter\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={filter}\n                  onChange={(e) => setFilter(e.target.value)}\n                >\n                  <option value=\"all\">All Projects</option>\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"in_progress\">In Progress</option>\n                  <option value=\"completed\">Completed</option>\n                  <option value=\"cancelled\">Cancelled</option>\n                </select>\n              </div>\n              <div>\n                <label htmlFor=\"sort\" className=\"block text-sm font-medium text-gray-700\">\n                  Sort by\n                </label>\n                <select\n                  id=\"sort\"\n                  name=\"sort\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={sortBy}\n                  onChange={(e) => {\n                    setSortBy(e.target.value);\n                    setSortOrder('asc');\n                  }}\n                >\n                  <option value=\"date\">Date</option>\n                  <option value=\"budget\">Budget</option>\n                  <option value=\"title\">Project Title</option>\n                  <option value=\"provider\">Provider Name</option>\n                </select>\n              </div>\n              <div>\n                <label htmlFor=\"order\" className=\"block text-sm font-medium text-gray-700\">\n                  Order\n                </label>\n                <select\n                  id=\"order\"\n                  name=\"order\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={sortOrder}\n                  onChange={(e) => setSortOrder(e.target.value)}\n                >\n                  <option value=\"asc\">Ascending</option>\n                  <option value=\"desc\">Descending</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"w-full md:w-64\">\n              <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700\">\n                Search\n              </label>\n              <div className=\"mt-1 relative rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"search\"\n                  id=\"search\"\n                  className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md\"\n                  placeholder=\"Search projects...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Projects grid */}\n        <div className=\"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\n          {sortedProjects.length > 0 ? (\n            sortedProjects.map((project) => (\n              <div key={project.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n                <div className=\"h-48 w-full overflow-hidden\">\n                  <img\n                    src={project.image}\n                    alt={project.title}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n                <div className=\"px-4 py-4\">\n                  <div className=\"flex justify-between items-start\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">{project.title}</h3>\n                    {getStatusBadge(project.status)}\n                  </div>\n                  <p className=\"mt-1 text-sm text-gray-500 line-clamp-2\">{project.description}</p>\n                  <p className=\"mt-2 text-sm text-gray-700\">Provider: {project.provider}</p>\n                  <div className=\"mt-2 flex justify-between text-xs text-gray-500\">\n                    <span>Start: {formatDate(project.start_date)}</span>\n                    <span>End: {formatDate(project.end_date)}</span>\n                  </div>\n                  <div className=\"mt-3\">\n                    <div className=\"flex justify-between items-center text-xs text-gray-500\">\n                      <span>Budget: ${project.budget.toLocaleString()}</span>\n                      <span>Spent: ${project.spent.toLocaleString()} ({calculateProgress(project.spent, project.budget)}%)</span>\n                    </div>\n                    <div className=\"mt-1 w-full bg-gray-200 rounded-full h-2\">\n                      <div\n                        className={`h-2 rounded-full ${\n                          project.status === 'completed' ? 'bg-green-600' : 'bg-blue-600'\n                        }`}\n                        style={{ width: `${calculateProgress(project.spent, project.budget)}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                  <div className=\"mt-4 flex justify-between\">\n                    <Link\n                      to={`/homeowner/projects/${project.id}`}\n                      className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      <EyeIcon className=\"-ml-0.5 mr-1 h-4 w-4\" aria-hidden=\"true\" />\n                      View Details\n                    </Link>\n                    <div className=\"flex space-x-2\">\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        <ChatBubbleLeftRightIcon className=\"h-4 w-4\" aria-hidden=\"true\" />\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        <PencilIcon className=\"h-4 w-4\" aria-hidden=\"true\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500\">\n              No projects found matching your criteria\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeownerProjects;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { \n  StarIcon,\n  MagnifyingGlassIcon,\n  ChatBubbleLeftRightIcon,\n  PhoneIcon\n} from '@heroicons/react/24/outline';\n\nconst HomeownerProviders = () => {\n  const [providers, setProviders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedService, setSelectedService] = useState('all');\n  const [selectedRating, setSelectedRating] = useState('all');\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' or 'list'\n\n  useEffect(() => {\n    fetchProviders();\n  }, []);\n\n  const fetchProviders = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch providers from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock providers data\n      const mockProviders = [\n        {\n          id: 101,\n          name: 'Michael Brown',\n          company: 'Elite Home Renovations',\n          avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.9,\n          reviews: 27,\n          services: ['Kitchen Renovation', 'Bathroom Remodeling', 'Basement Finishing'],\n          description: 'Specializing in high-end home renovations with over 15 years of experience. Licensed and insured contractor with a focus on quality craftsmanship.',\n          location: 'Anytown, CA',\n          phone: '(555) 123-4567',\n          email: 'michael@elitehomerenovations.com',\n          website: 'www.elitehomerenovations.com',\n          projects_completed: 124\n        },\n        {\n          id: 102,\n          name: 'Jennifer Garcia',\n          company: 'Premium Bathroom Solutions',\n          avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.8,\n          reviews: 19,\n          services: ['Bathroom Remodeling', 'Plumbing', 'Tile Work'],\n          description: 'Bathroom renovation specialist with expertise in modern designs and water-efficient fixtures. Creating beautiful and functional bathrooms for over a decade.',\n          location: 'Somewhere, CA',\n          phone: '(555) 234-5678',\n          email: 'jennifer@premiumbathrooms.com',\n          website: 'www.premiumbathrooms.com',\n          projects_completed: 87\n        },\n        {\n          id: 103,\n          name: 'David Lee',\n          company: 'Outdoor Living Experts',\n          avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.7,\n          reviews: 15,\n          services: ['Deck Building', 'Landscaping', 'Fence Installation'],\n          description: 'Transform your outdoor space with custom decks, professional landscaping, and quality fencing. Creating beautiful outdoor living areas that extend your home.',\n          location: 'Nowhere, CA',\n          phone: '(555) 345-6789',\n          email: 'david@outdoorlivingexperts.com',\n          website: 'www.outdoorlivingexperts.com',\n          projects_completed: 56\n        },\n        {\n          id: 104,\n          name: 'Sarah Johnson',\n          company: 'Perfect Painting Services',\n          avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.9,\n          reviews: 32,\n          services: ['Interior Painting', 'Exterior Painting', 'Cabinet Refinishing'],\n          description: 'Professional painting services for interior and exterior projects. Attention to detail and premium materials for a flawless finish every time.',\n          location: 'Anytown, CA',\n          phone: '(555) 456-7890',\n          email: 'sarah@perfectpainting.com',\n          website: 'www.perfectpainting.com',\n          projects_completed: 215\n        },\n        {\n          id: 105,\n          name: 'Robert Martinez',\n          company: 'Martinez Electrical',\n          avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/257886/pexels-photo-257886.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.8,\n          reviews: 24,\n          services: ['Electrical Work', 'Lighting Installation', 'Home Automation'],\n          description: 'Licensed electrician providing safe and reliable electrical services. Specializing in modern lighting solutions and smart home technology integration.',\n          location: 'Somewhere, CA',\n          phone: '(555) 567-8901',\n          email: 'robert@martinezelectrical.com',\n          website: 'www.martinezelectrical.com',\n          projects_completed: 143\n        },\n        {\n          id: 106,\n          name: 'Lisa Anderson',\n          company: 'Green Thumb Landscaping',\n          avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/589/garden-grass-lawn-green.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.6,\n          reviews: 18,\n          services: ['Landscaping', 'Garden Design', 'Lawn Care'],\n          description: 'Creating beautiful and sustainable outdoor spaces. From complete landscape design to regular maintenance, we help you enjoy your yard year-round.',\n          location: 'Nowhere, CA',\n          phone: '(555) 678-9012',\n          email: 'lisa@greenthumblandscaping.com',\n          website: 'www.greenthumblandscaping.com',\n          projects_completed: 92\n        },\n        {\n          id: 107,\n          name: 'James Wilson',\n          company: 'Wilson Roofing & Siding',\n          avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/5417837/pexels-photo-5417837.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.7,\n          reviews: 21,\n          services: ['Roofing', 'Siding', 'Gutter Installation'],\n          description: 'Protect your home with quality roofing and siding services. Experienced team providing durable solutions for all your exterior needs.',\n          location: 'Anytown, CA',\n          phone: '(555) 789-0123',\n          email: 'james@wilsonroofing.com',\n          website: 'www.wilsonroofing.com',\n          projects_completed: 178\n        },\n        {\n          id: 108,\n          name: 'Emily Davis',\n          company: 'Custom Cabinetry & Woodwork',\n          avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          cover: 'https://images.pexels.com/photos/5824883/pexels-photo-5824883.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          rating: 4.9,\n          reviews: 16,\n          services: ['Custom Cabinets', 'Woodworking', 'Furniture Making'],\n          description: 'Master woodworker creating custom cabinetry, built-ins, and fine furniture. Bringing your vision to life with exceptional craftsmanship and attention to detail.',\n          location: 'Somewhere, CA',\n          phone: '(555) 890-1234',\n          email: 'emily@customcabinetry.com',\n          website: 'www.customcabinetry.com',\n          projects_completed: 64\n        }\n      ];\n      \n      setProviders(mockProviders);\n    } catch (error) {\n      console.error('Error fetching providers:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Get all unique services\n  const allServices = [...new Set(providers.flatMap(provider => provider.services))].sort();\n\n  // Filter providers based on search term, selected service, and rating\n  const filteredProviders = providers.filter(provider => {\n    const matchesSearch = \n      provider.name.toLowerCase().includes(searchTerm.toLowerCase()) || \n      provider.company.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      provider.services.some(service => service.toLowerCase().includes(searchTerm.toLowerCase())) ||\n      provider.description.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesService = selectedService === 'all' || provider.services.includes(selectedService);\n    \n    const matchesRating = selectedRating === 'all' || \n      (selectedRating === '5' && provider.rating >= 4.8) ||\n      (selectedRating === '4' && provider.rating >= 4.0 && provider.rating < 4.8) ||\n      (selectedRating === '3' && provider.rating >= 3.0 && provider.rating < 4.0);\n    \n    return matchesSearch && matchesService && matchesRating;\n  });\n\n  // Helper function to render stars for ratings\n  const renderStars = (rating) => {\n    return (\n      <div className=\"flex items-center\">\n        {[...Array(5)].map((_, i) => (\n          <StarIcon\n            key={i}\n            className={`h-5 w-5 ${\n              i < Math.floor(rating) ? 'text-yellow-400' : 'text-gray-300'\n            } ${i === Math.floor(rating) && rating % 1 > 0 ? 'text-yellow-400' : ''}`}\n            aria-hidden=\"true\"\n          />\n        ))}\n        <span className=\"ml-1 text-sm text-gray-500\">{rating.toFixed(1)}</span>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Service Providers</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Filters and search */}\n        <div className=\"bg-white shadow rounded-lg p-6 mt-6\">\n          <div className=\"flex flex-col space-y-4\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n                <div>\n                  <label htmlFor=\"service\" className=\"block text-sm font-medium text-gray-700\">\n                    Filter by service\n                  </label>\n                  <select\n                    id=\"service\"\n                    name=\"service\"\n                    className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                    value={selectedService}\n                    onChange={(e) => setSelectedService(e.target.value)}\n                  >\n                    <option value=\"all\">All Services</option>\n                    {allServices.map((service) => (\n                      <option key={service} value={service}>\n                        {service}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label htmlFor=\"rating\" className=\"block text-sm font-medium text-gray-700\">\n                    Filter by rating\n                  </label>\n                  <select\n                    id=\"rating\"\n                    name=\"rating\"\n                    className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                    value={selectedRating}\n                    onChange={(e) => setSelectedRating(e.target.value)}\n                  >\n                    <option value=\"all\">All Ratings</option>\n                    <option value=\"5\">4.8+ Stars</option>\n                    <option value=\"4\">4.0+ Stars</option>\n                    <option value=\"3\">3.0+ Stars</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"w-full md:w-64\">\n                <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700\">\n                  Search\n                </label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    id=\"search\"\n                    className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md\"\n                    placeholder=\"Search providers...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"flex justify-end\">\n              <div className=\"flex border border-gray-300 rounded-md\">\n                <button\n                  type=\"button\"\n                  className={`px-4 py-2 text-sm font-medium ${\n                    viewMode === 'grid'\n                      ? 'bg-blue-100 text-blue-700'\n                      : 'bg-white text-gray-700 hover:bg-gray-50'\n                  } rounded-l-md`}\n                  onClick={() => setViewMode('grid')}\n                >\n                  Grid\n                </button>\n                <button\n                  type=\"button\"\n                  className={`px-4 py-2 text-sm font-medium ${\n                    viewMode === 'list'\n                      ? 'bg-blue-100 text-blue-700'\n                      : 'bg-white text-gray-700 hover:bg-gray-50'\n                  } rounded-r-md`}\n                  onClick={() => setViewMode('list')}\n                >\n                  List\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Providers display */}\n        {viewMode === 'grid' ? (\n          <div className=\"mt-8 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\n            {filteredProviders.length > 0 ? (\n              filteredProviders.map((provider) => (\n                <div key={provider.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n                  <div className=\"h-32 w-full overflow-hidden relative\">\n                    <img\n                      src={provider.cover}\n                      alt={provider.company}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black opacity-50\"></div>\n                    <div className=\"absolute bottom-4 left-4 flex items-center\">\n                      <img\n                        className=\"h-12 w-12 rounded-full ring-2 ring-white\"\n                        src={provider.avatar}\n                        alt={provider.name}\n                      />\n                      <div className=\"ml-3 text-white\">\n                        <p className=\"text-sm font-medium\">{provider.name}</p>\n                        <p className=\"text-xs\">{provider.company}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"px-4 py-4\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center\">\n                        {renderStars(provider.rating)}\n                        <span className=\"ml-1 text-xs text-gray-500\">({provider.reviews})</span>\n                      </div>\n                      <span className=\"text-xs text-gray-500\">{provider.location}</span>\n                    </div>\n                    <p className=\"mt-2 text-sm text-gray-500 line-clamp-2\">{provider.description}</p>\n                    <div className=\"mt-3 flex flex-wrap gap-1\">\n                      {provider.services.map((service, index) => (\n                        <span\n                          key={index}\n                          className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\n                        >\n                          {service}\n                        </span>\n                      ))}\n                    </div>\n                    <div className=\"mt-4 flex justify-between\">\n                      <Link\n                        to={`/homeowner/providers/${provider.id}`}\n                        className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        View Profile\n                      </Link>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          type=\"button\"\n                          className=\"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                        >\n                          <ChatBubbleLeftRightIcon className=\"h-4 w-4\" aria-hidden=\"true\" />\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"inline-flex items-center px-2 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                        >\n                          <PhoneIcon className=\"h-4 w-4\" aria-hidden=\"true\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"col-span-full bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500\">\n                No providers found matching your criteria\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"mt-8 bg-white shadow overflow-hidden sm:rounded-lg\">\n            <ul className=\"divide-y divide-gray-200\">\n              {filteredProviders.length > 0 ? (\n                filteredProviders.map((provider) => (\n                  <li key={provider.id} className=\"px-6 py-4\">\n                    <div className=\"flex items-center\">\n                      <img\n                        className=\"h-16 w-16 rounded-full\"\n                        src={provider.avatar}\n                        alt={provider.name}\n                      />\n                      <div className=\"ml-4 flex-1\">\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <h3 className=\"text-lg font-medium text-gray-900\">{provider.name}</h3>\n                            <p className=\"text-sm text-gray-500\">{provider.company}</p>\n                          </div>\n                          <div className=\"flex items-center\">\n                            {renderStars(provider.rating)}\n                            <span className=\"ml-1 text-xs text-gray-500\">({provider.reviews})</span>\n                          </div>\n                        </div>\n                        <p className=\"mt-1 text-sm text-gray-500\">{provider.description}</p>\n                        <div className=\"mt-2 flex items-center justify-between\">\n                          <div className=\"flex flex-wrap gap-1\">\n                            {provider.services.map((service, index) => (\n                              <span\n                                key={index}\n                                className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\n                              >\n                                {service}\n                              </span>\n                            ))}\n                          </div>\n                          <span className=\"text-xs text-gray-500\">{provider.location}</span>\n                        </div>\n                        <div className=\"mt-3 flex justify-between items-center\">\n                          <div className=\"text-xs text-gray-500\">\n                            {provider.projects_completed} projects completed\n                          </div>\n                          <div className=\"flex space-x-3\">\n                            <button\n                              type=\"button\"\n                              className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                            >\n                              <PhoneIcon className=\"-ml-0.5 mr-1 h-4 w-4\" aria-hidden=\"true\" />\n                              Call\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                            >\n                              <ChatBubbleLeftRightIcon className=\"-ml-0.5 mr-1 h-4 w-4\" aria-hidden=\"true\" />\n                              Message\n                            </button>\n                            <Link\n                              to={`/homeowner/providers/${provider.id}`}\n                              className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                            >\n                              View Profile\n                            </Link>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                ))\n              ) : (\n                <li className=\"px-6 py-4 text-center text-gray-500\">\n                  No providers found matching your criteria\n                </li>\n              )}\n            </ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default HomeownerProviders;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { format } from 'date-fns';\nimport { \n  PaperAirplaneIcon, \n  PaperClipIcon,\n  EllipsisHorizontalIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline';\n\nconst HomeownerMessages = () => {\n  const [conversations, setConversations] = useState([]);\n  const [selectedConversation, setSelectedConversation] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetchConversations();\n  }, []);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      fetchMessages(selectedConversation.id);\n    }\n  }, [selectedConversation]);\n\n  const fetchConversations = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch conversations from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock conversations data\n      const mockConversations = [\n        {\n          id: 1,\n          provider: {\n            id: 101,\n            name: 'Michael Brown',\n            avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n            company: 'Elite Home Renovations'\n          },\n          lastMessage: {\n            text: 'I can come by on Friday at 2 PM to look at your kitchen.',\n            timestamp: new Date(2023, 4, 10, 14, 30),\n            isRead: true,\n            sender: 'provider'\n          },\n          project: 'Kitchen Renovation',\n          unreadCount: 0\n        },\n        {\n          id: 2,\n          provider: {\n            id: 102,\n            name: 'Jennifer Garcia',\n            avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n            company: 'Perfect Painting Services'\n          },\n          lastMessage: {\n            text: 'I have availability next week for your painting project.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            isRead: false,\n            sender: 'provider'\n          },\n          project: 'Interior Painting',\n          unreadCount: 2\n        },\n        {\n          id: 3,\n          provider: {\n            id: 103,\n            name: 'Robert Martinez',\n            avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n            company: 'Martinez Electrical'\n          },\n          lastMessage: {\n            text: 'The electrical work in your home office is complete. All outlets are now working properly.',\n            timestamp: new Date(2023, 4, 8, 16, 45),\n            isRead: true,\n            sender: 'provider'\n          },\n          project: 'Electrical Work',\n          unreadCount: 0\n        },\n        {\n          id: 4,\n          provider: {\n            id: 104,\n            name: 'Lisa Anderson',\n            avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n            company: 'Green Thumb Landscaping'\n          },\n          lastMessage: {\n            text: 'I\\'ve prepared a design proposal for your front yard landscaping project.',\n            timestamp: new Date(2023, 4, 7, 11, 30),\n            isRead: true,\n            sender: 'provider'\n          },\n          project: 'Landscaping',\n          unreadCount: 0\n        }\n      ];\n      \n      setConversations(mockConversations);\n      \n      // Select the first conversation by default\n      if (mockConversations.length > 0 && !selectedConversation) {\n        setSelectedConversation(mockConversations[0]);\n      }\n      \n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMessages = async (conversationId) => {\n    try {\n      // In a real app, you would fetch messages from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock messages data\n      const mockMessages = {\n        1: [\n          {\n            id: 1,\n            text: 'Hi, I\\'m interested in renovating my kitchen. Do you offer free consultations?',\n            timestamp: new Date(2023, 4, 9, 9, 30),\n            sender: 'homeowner'\n          },\n          {\n            id: 2,\n            text: 'Yes, we do offer free consultations. I\\'d be happy to come take a look at your kitchen and discuss your renovation ideas.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'Great! When would you be available?',\n            timestamp: new Date(2023, 4, 9, 10, 45),\n            sender: 'homeowner'\n          },\n          {\n            id: 4,\n            text: 'I have availability this Thursday or Friday afternoon. Would either of those work for you?',\n            timestamp: new Date(2023, 4, 9, 11, 30),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'Friday afternoon would work well. How about 2 PM?',\n            timestamp: new Date(2023, 4, 9, 14, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 6,\n            text: '2 PM on Friday works for me. I\\'ll put it on my calendar. Could you please provide your address?',\n            timestamp: new Date(2023, 4, 9, 14, 45),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: '123 Main St, Anytown, CA. Thanks!',\n            timestamp: new Date(2023, 4, 9, 15, 30),\n            sender: 'homeowner'\n          },\n          {\n            id: 8,\n            text: 'I can come by on Friday at 2 PM to look at your kitchen.',\n            timestamp: new Date(2023, 4, 10, 14, 30),\n            sender: 'provider'\n          }\n        ],\n        2: [\n          {\n            id: 1,\n            text: 'Hello, I\\'m looking to get my living room, dining room, and hallway painted. Do you have availability in the next few weeks?',\n            timestamp: new Date(2023, 4, 7, 10, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 2,\n            text: 'Hi! Yes, I have some availability coming up. What colors are you thinking of using?',\n            timestamp: new Date(2023, 4, 7, 11, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'I\\'m thinking of a light gray for the living room and hallway, and a sage green for the dining room.',\n            timestamp: new Date(2023, 4, 7, 13, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 4,\n            text: 'Those colors sound nice. I can provide a quote if you let me know the approximate square footage or dimensions of the rooms.',\n            timestamp: new Date(2023, 4, 7, 14, 30),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'The living room is about 15x20, dining room is 12x14, and the hallway is about 30 feet long and 4 feet wide.',\n            timestamp: new Date(2023, 4, 7, 15, 45),\n            sender: 'homeowner'\n          },\n          {\n            id: 6,\n            text: 'Thanks for the information. Based on those dimensions, I estimate it would take about 3-4 days to complete the job. I have availability starting the week after next.',\n            timestamp: new Date(2023, 4, 8, 9, 0),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: 'I was hoping to get it done sooner. Do you have any availability next week?',\n            timestamp: new Date(2023, 4, 8, 16, 20),\n            sender: 'homeowner'\n          },\n          {\n            id: 8,\n            text: 'I have availability next week for your painting project.',\n            timestamp: new Date(2023, 4, 9, 10, 15),\n            sender: 'provider'\n          }\n        ],\n        3: [\n          {\n            id: 1,\n            text: 'Hi, I need to add some outlets in my home office. Can you help with that?',\n            timestamp: new Date(2023, 4, 5, 9, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 2,\n            text: 'Hello! Yes, I can help with adding outlets to your home office. How many outlets do you need and where would you like them placed?',\n            timestamp: new Date(2023, 4, 5, 10, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'I need 3 new outlets - one on each wall of the office. I\\'m currently only using extension cords which isn\\'t ideal.',\n            timestamp: new Date(2023, 4, 5, 11, 15),\n            sender: 'homeowner'\n          },\n          {\n            id: 4,\n            text: 'I understand. Using extension cords long-term can be a fire hazard. I can install the new outlets for you. When would be a good time for me to come take a look?',\n            timestamp: new Date(2023, 4, 5, 13, 0),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'Would tomorrow afternoon work? I\\'m free after 2 PM.',\n            timestamp: new Date(2023, 4, 5, 14, 30),\n            sender: 'homeowner'\n          },\n          {\n            id: 6,\n            text: 'Tomorrow at 3 PM works for me. I\\'ll see you then!',\n            timestamp: new Date(2023, 4, 5, 15, 0),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: 'Great, see you at 3 PM. My address is 456 Oak Ave, Somewhere, CA.',\n            timestamp: new Date(2023, 4, 5, 15, 30),\n            sender: 'homeowner'\n          },\n          {\n            id: 8,\n            text: 'The electrical work in your home office is complete. All outlets are now working properly.',\n            timestamp: new Date(2023, 4, 8, 16, 45),\n            sender: 'provider'\n          }\n        ],\n        4: [\n          {\n            id: 1,\n            text: 'Hello, I\\'m interested in redesigning my front yard with new landscaping. Do you offer design services?',\n            timestamp: new Date(2023, 4, 5, 13, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 2,\n            text: 'Hi! Yes, we offer comprehensive landscape design services. We can create a custom design based on your preferences, budget, and the specific conditions of your yard.',\n            timestamp: new Date(2023, 4, 5, 14, 30),\n            sender: 'provider'\n          },\n          {\n            id: 3,\n            text: 'That sounds great. I\\'m looking for a low-maintenance design with native plants and perhaps a small seating area.',\n            timestamp: new Date(2023, 4, 5, 15, 0),\n            sender: 'homeowner'\n          },\n          {\n            id: 4,\n            text: 'Native plants and a seating area would make a beautiful, sustainable front yard. I\\'d be happy to create a design proposal for you. Could we schedule a time for me to visit your property and take measurements?',\n            timestamp: new Date(2023, 4, 6, 9, 0),\n            sender: 'provider'\n          },\n          {\n            id: 5,\n            text: 'Yes, that would be helpful. How about this Saturday morning?',\n            timestamp: new Date(2023, 4, 6, 10, 30),\n            sender: 'homeowner'\n          },\n          {\n            id: 6,\n            text: 'Saturday morning works for me. How about 10 AM?',\n            timestamp: new Date(2023, 4, 6, 11, 15),\n            sender: 'provider'\n          },\n          {\n            id: 7,\n            text: '10 AM on Saturday is perfect. My address is 505 Spruce Ct, Somewhere, CA.',\n            timestamp: new Date(2023, 4, 6, 13, 45),\n            sender: 'homeowner'\n          },\n          {\n            id: 8,\n            text: 'I\\'ve prepared a design proposal for your front yard landscaping project.',\n            timestamp: new Date(2023, 4, 7, 11, 30),\n            sender: 'provider'\n          }\n        ]\n      };\n      \n      setMessages(mockMessages[conversationId] || []);\n      \n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    }\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    \n    if (!newMessage.trim() || !selectedConversation) return;\n    \n    // In a real app, you would save the message to your database\n    // For demo purposes, we'll just add it to the local state\n    \n    const newMessageObj = {\n      id: messages.length + 1,\n      text: newMessage,\n      timestamp: new Date(),\n      sender: 'homeowner'\n    };\n    \n    setMessages([...messages, newMessageObj]);\n    \n    // Update the conversation with the new last message\n    setConversations(conversations.map(conv => \n      conv.id === selectedConversation.id\n        ? {\n            ...conv,\n            lastMessage: {\n              text: newMessage,\n              timestamp: new Date(),\n              isRead: true,\n              sender: 'homeowner'\n            }\n          }\n        : conv\n    ));\n    \n    setNewMessage('');\n  };\n\n  // Format timestamp\n  const formatMessageTime = (timestamp) => {\n    return format(timestamp, 'h:mm a');\n  };\n  \n  const formatConversationTime = (timestamp) => {\n    const now = new Date();\n    const messageDate = new Date(timestamp);\n    \n    // If the message is from today, show the time\n    if (messageDate.toDateString() === now.toDateString()) {\n      return format(messageDate, 'h:mm a');\n    }\n    \n    // If the message is from this week, show the day\n    const diffDays = Math.floor((now - messageDate) / (1000 * 60 * 60 * 24));\n    if (diffDays < 7) {\n      return format(messageDate, 'EEEE');\n    }\n    \n    // Otherwise, show the date\n    return format(messageDate, 'MMM d');\n  };\n\n  // Filter conversations based on search term\n  const filteredConversations = conversations.filter(conv => \n    conv.provider.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.provider.company.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.project.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (loading && conversations.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Messages</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"mt-6 bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"flex h-[calc(100vh-200px)]\">\n            {/* Conversation list */}\n            <div className=\"w-1/3 border-r border-gray-200\">\n              <div className=\"p-4 border-b border-gray-200\">\n                <div className=\"relative\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                  </div>\n                  <input\n                    type=\"text\"\n                    className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    placeholder=\"Search conversations\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                  />\n                </div>\n              </div>\n              <div className=\"overflow-y-auto h-full pb-20\">\n                <ul className=\"divide-y divide-gray-200\">\n                  {filteredConversations.map((conversation) => (\n                    <li\n                      key={conversation.id}\n                      className={`hover:bg-gray-50 cursor-pointer ${\n                        selectedConversation?.id === conversation.id ? 'bg-blue-50' : ''\n                      }`}\n                      onClick={() => setSelectedConversation(conversation)}\n                    >\n                      <div className=\"px-4 py-4 sm:px-6\">\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center\">\n                            <div className=\"flex-shrink-0 relative\">\n                              <img\n                                className=\"h-10 w-10 rounded-full\"\n                                src={conversation.provider.avatar}\n                                alt={conversation.provider.name}\n                              />\n                              {conversation.unreadCount > 0 && (\n                                <span className=\"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                                  {conversation.unreadCount}\n                                </span>\n                              )}\n                            </div>\n                            <div className=\"ml-4\">\n                              <div className=\"flex items-center\">\n                                <h3 className=\"text-sm font-medium text-gray-900\">{conversation.provider.name}</h3>\n                                <span className=\"ml-2 text-xs text-gray-500\">\n                                  {formatConversationTime(conversation.lastMessage.timestamp)}\n                                </span>\n                              </div>\n                              <p className=\"text-sm text-gray-500 truncate\">{conversation.provider.company}</p>\n                              <p className=\"text-xs text-gray-500 truncate\">{conversation.project}</p>\n                              <p className={`text-sm truncate ${\n                                conversation.unreadCount > 0 ? 'font-semibold text-gray-900' : 'text-gray-500'\n                              }`}>\n                                {conversation.lastMessage.sender === 'homeowner' ? 'You: ' : ''}\n                                {conversation.lastMessage.text}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n            \n            {/* Message area */}\n            <div className=\"w-2/3 flex flex-col\">\n              {selectedConversation ? (\n                <>\n                  {/* Conversation header */}\n                  <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <img\n                        className=\"h-10 w-10 rounded-full\"\n                        src={selectedConversation.provider.avatar}\n                        alt={selectedConversation.provider.name}\n                      />\n                      <div className=\"ml-4\">\n                        <h3 className=\"text-sm font-medium text-gray-900\">{selectedConversation.provider.name}</h3>\n                        <p className=\"text-sm text-gray-500\">{selectedConversation.provider.company}</p>\n                        <p className=\"text-xs text-gray-500\">{selectedConversation.project}</p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      className=\"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    >\n                      <EllipsisHorizontalIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                    </button>\n                  </div>\n                  \n                  {/* Messages */}\n                  <div className=\"flex-1 p-4 overflow-y-auto\">\n                    <div className=\"space-y-4\">\n                      {messages.map((message) => (\n                        <div\n                          key={message.id}\n                          className={`flex ${message.sender === 'homeowner' ? 'justify-end' : 'justify-start'}`}\n                        >\n                          {message.sender === 'provider' && (\n                            <img\n                              className=\"h-8 w-8 rounded-full mr-2 self-end\"\n                              src={selectedConversation.provider.avatar}\n                              alt={selectedConversation.provider.name}\n                            />\n                          )}\n                          <div\n                            className={`rounded-lg px-4 py-2 max-w-xs sm:max-w-md ${\n                              message.sender === 'homeowner'\n                                ? 'bg-blue-600 text-white'\n                                : 'bg-gray-100 text-gray-900'\n                            }`}\n                          >\n                            <p className=\"text-sm\">{message.text}</p>\n                            <p\n                              className={`text-xs mt-1 text-right ${\n                                message.sender === 'homeowner' ? 'text-blue-200' : 'text-gray-500'\n                              }`}\n                            >\n                              {formatMessageTime(message.timestamp)}\n                            </p>\n                          </div>\n                          {message.sender === 'homeowner' && (\n                            <img\n                              className=\"h-8 w-8 rounded-full ml-2 self-end\"\n                              src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"\n                              alt=\"You\"\n                            />\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Message input */}\n                  <div className=\"p-4 border-t border-gray-200\">\n                    <form onSubmit={handleSendMessage} className=\"flex items-center\">\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center p-2 border border-transparent rounded-full text-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      >\n                        <PaperClipIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                      <input\n                        type=\"text\"\n                        className=\"block w-full mx-4 px-4 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        placeholder=\"Type a message...\"\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                      />\n                      <button\n                        type=\"submit\"\n                        disabled={!newMessage.trim()}\n                        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        <PaperAirplaneIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                    </form>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center\">\n                  <div className=\"text-center\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">No conversation selected</h3>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Select a conversation from the list to view messages.\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeownerMessages;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\n\nconst HomeownerSettings = () => {\n  const { user, updateUser } = useAuth();\n  const { userProfile } = useApp();\n  \n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n  \n  // Account settings\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  \n  // Notification settings\n  const [notificationSettings, setNotificationSettings] = useState({\n    email_notifications: true,\n    sms_notifications: false,\n    project_updates: true,\n    messages: true,\n    quotes: true,\n    payment_reminders: true,\n    marketing: false\n  });\n  \n  // Privacy settings\n  const [privacySettings, setPrivacySettings] = useState({\n    share_contact_info: true,\n    share_project_details: true,\n    allow_reviews: true\n  });\n\n  useEffect(() => {\n    if (user) {\n      setEmail(user.email || '');\n    }\n    \n    // In a real app, you would fetch notification and privacy settings from your database\n    // For demo purposes, we'll use mock data\n  }, [user]);\n\n  const handleUpdateEmail = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the email in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update email\n      // const { error } = await updateUser({ email });\n      \n      // if (error) throw error;\n      \n      setMessage({ type: 'success', text: 'Email updated successfully!' });\n    } catch (error) {\n      console.error('Error updating email:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating email' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdatePassword = async (e) => {\n    e.preventDefault();\n    \n    if (password !== confirmPassword) {\n      setMessage({ type: 'error', text: 'Passwords do not match' });\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the password in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Update password\n      // const { error } = await updateUser({ password });\n      \n      // if (error) throw error;\n      \n      setMessage({ type: 'success', text: 'Password updated successfully!' });\n      setPassword('');\n      setConfirmPassword('');\n    } catch (error) {\n      console.error('Error updating password:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating password' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNotificationChange = (setting) => {\n    setNotificationSettings({\n      ...notificationSettings,\n      [setting]: !notificationSettings[setting]\n    });\n  };\n\n  const handlePrivacyChange = (setting) => {\n    setPrivacySettings({\n      ...privacySettings,\n      [setting]: !privacySettings[setting]\n    });\n  };\n\n  const handleSaveNotificationSettings = async () => {\n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the notification settings in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      setMessage({ type: 'success', text: 'Notification settings updated successfully!' });\n    } catch (error) {\n      console.error('Error updating notification settings:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating notification settings' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePrivacySettings = async () => {\n    try {\n      setLoading(true);\n      setMessage({ type: '', text: '' });\n      \n      // In a real app, you would update the privacy settings in your database\n      // For demo purposes, we'll just show a success message\n      \n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      setMessage({ type: 'success', text: 'Privacy settings updated successfully!' });\n    } catch (error) {\n      console.error('Error updating privacy settings:', error);\n      setMessage({ type: 'error', text: error.message || 'An error occurred while updating privacy settings' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Settings</h1>\n      </div>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <div className=\"mt-6 space-y-6\">\n          {/* Account settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Account Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage your account information and password.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              {message.text && (\n                <div className={`mb-4 p-4 rounded-md ${\n                  message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n                }`}>\n                  {message.text}\n                </div>\n              )}\n              \n              <div className=\"space-y-6\">\n                {/* Update email */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900\">Email Address</h4>\n                  <form onSubmit={handleUpdateEmail} className=\"mt-2\">\n                    <div className=\"flex items-end space-x-4\">\n                      <div className=\"flex-grow\">\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                          New Email\n                        </label>\n                        <input\n                          type=\"email\"\n                          name=\"email\"\n                          id=\"email\"\n                          value={email}\n                          onChange={(e) => setEmail(e.target.value)}\n                          className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        />\n                      </div>\n                      <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                      >\n                        {loading ? 'Updating...' : 'Update Email'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n                \n                {/* Update password */}\n                <div className=\"pt-6 border-t border-gray-200\">\n                  <h4 className=\"text-sm font-medium text-gray-900\">Password</h4>\n                  <form onSubmit={handleUpdatePassword} className=\"mt-2 space-y-4\">\n                    <div>\n                      <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                        New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        id=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n                        Confirm New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        name=\"confirmPassword\"\n                        id=\"confirmPassword\"\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                      />\n                    </div>\n                    <div className=\"flex justify-end\">\n                      <button\n                        type=\"submit\"\n                        disabled={loading || !password || !confirmPassword}\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                      >\n                        {loading ? 'Updating...' : 'Update Password'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Notification settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Notification Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage how and when you receive notifications.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-900\">Notification Methods</h4>\n                  <div className=\"mt-2 space-y-4\">\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"email_notifications\"\n                          name=\"email_notifications\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.email_notifications}\n                          onChange={() => handleNotificationChange('email_notifications')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"email_notifications\" className=\"font-medium text-gray-700\">\n                          Email Notifications\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications via email.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"sms_notifications\"\n                          name=\"sms_notifications\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.sms_notifications}\n                          onChange={() => handleNotificationChange('sms_notifications')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"sms_notifications\" className=\"font-medium text-gray-700\">\n                          SMS Notifications\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications via text message.</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"pt-6 border-t border-gray-200\">\n                  <h4 className=\"text-sm font-medium text-gray-900\">Notification Types</h4>\n                  <div className=\"mt-2 space-y-4\">\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"project_updates\"\n                          name=\"project_updates\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.project_updates}\n                          onChange={() => handleNotificationChange('project_updates')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"project_updates\" className=\"font-medium text-gray-700\">\n                          Project Updates\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications about updates to your projects.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"messages\"\n                          name=\"messages\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.messages}\n                          onChange={() => handleNotificationChange('messages')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"messages\" className=\"font-medium text-gray-700\">\n                          Messages\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications for new messages.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"quotes\"\n                          name=\"quotes\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.quotes}\n                          onChange={() => handleNotificationChange('quotes')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"quotes\" className=\"font-medium text-gray-700\">\n                          Quotes\n                        </label>\n                        <p className=\"text-gray-500\">Receive notifications when you get new quotes.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"payment_reminders\"\n                          name=\"payment_reminders\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.payment_reminders}\n                          onChange={() => handleNotificationChange('payment_reminders')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"payment_reminders\" className=\"font-medium text-gray-700\">\n                          Payment Reminders\n                        </label>\n                        <p className=\"text-gray-500\">Receive reminders about upcoming payments.</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-start\">\n                      <div className=\"flex items-center h-5\">\n                        <input\n                          id=\"marketing\"\n                          name=\"marketing\"\n                          type=\"checkbox\"\n                          checked={notificationSettings.marketing}\n                          onChange={() => handleNotificationChange('marketing')}\n                          className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                        />\n                      </div>\n                      <div className=\"ml-3 text-sm\">\n                        <label htmlFor=\"marketing\" className=\"font-medium text-gray-700\">\n                          Marketing\n                        </label>\n                        <p className=\"text-gray-500\">Receive marketing and promotional emails.</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={handleSaveNotificationSettings}\n                    disabled={loading}\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                  >\n                    {loading ? 'Saving...' : 'Save Notification Settings'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Privacy settings */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Privacy Settings</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Manage what information is shared with service providers.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"share_contact_info\"\n                        name=\"share_contact_info\"\n                        type=\"checkbox\"\n                        checked={privacySettings.share_contact_info}\n                        onChange={() => handlePrivacyChange('share_contact_info')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"share_contact_info\" className=\"font-medium text-gray-700\">\n                        Share Contact Information\n                      </label>\n                      <p className=\"text-gray-500\">Allow service providers to see your contact information.</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"share_project_details\"\n                        name=\"share_project_details\"\n                        type=\"checkbox\"\n                        checked={privacySettings.share_project_details}\n                        onChange={() => handlePrivacyChange('share_project_details')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"share_project_details\" className=\"font-medium text-gray-700\">\n                        Share Project Details\n                      </label>\n                      <p className=\"text-gray-500\">Allow your project details to be shared in the community section.</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"allow_reviews\"\n                        name=\"allow_reviews\"\n                        type=\"checkbox\"\n                        checked={privacySettings.allow_reviews}\n                        onChange={() => handlePrivacyChange('allow_reviews')}\n                        className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"allow_reviews\" className=\"font-medium text-gray-700\">\n                        Allow Reviews\n                      </label>\n                      <p className=\"text-gray-500\">Allow service providers to request reviews from you.</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={handleSavePrivacySettings}\n                    disabled={loading}\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                  >\n                    {loading ? 'Saving...' : 'Save Privacy Settings'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Delete account */}\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Delete Account</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Permanently delete your account and all associated data.\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n              <div className=\"space-y-4\">\n                <p className=\"text-sm text-gray-500\">\n                  Once you delete your account, there is no going back. Please be certain.\n                </p>\n                <button\n                  type=\"button\"\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  Delete Account\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeownerSettings;\n","import { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabase';\nimport { ApiKeyService } from '../lib/integrations';\n\nconst AdminContext = createContext();\n\nexport function AdminProvider({ children }) {\n  const [adminUser, setAdminUser] = useState(null);\n  const [adminRole, setAdminRole] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function loadAdminData() {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        // Get the current user\n        const { data: { user } } = await supabase.auth.getUser();\n        \n        if (!user) {\n          setLoading(false);\n          return;\n        }\n        \n        // Check if the user is an admin\n        const { data: adminData, error: adminError } = await supabase\n          .from('admin_users')\n          .select(`\n            *,\n            role:role_id (\n              id,\n              name,\n              permissions\n            )\n          `)\n          .eq('user_id', user.id)\n          .single();\n        \n        if (adminError && adminError.code !== 'PGRST116') { // PGRST116 is \"no rows returned\"\n          throw adminError;\n        }\n        \n        if (adminData) {\n          setAdminUser(adminData);\n          setAdminRole(adminData.role);\n        }\n      } catch (error) {\n        console.error('Error loading admin data:', error);\n        setError('Failed to load admin data. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    loadAdminData();\n    \n    // Subscribe to auth changes\n    const { data: authListener } = supabase.auth.onAuthStateChange(() => {\n      loadAdminData();\n    });\n    \n    return () => {\n      authListener?.subscription.unsubscribe();\n    };\n  }, []);\n\n  // Check if the admin has a specific permission\n  const hasPermission = (category, permission) => {\n    if (!adminRole || !adminRole.permissions) return false;\n    \n    const categoryPermissions = adminRole.permissions[category];\n    if (!categoryPermissions) return false;\n    \n    return categoryPermissions[permission] === true;\n  };\n\n  // Create a new API key\n  const createApiKey = async (keyData) => {\n    if (!hasPermission('api_management', 'manage_keys')) {\n      throw new Error('You do not have permission to create API keys');\n    }\n    \n    return ApiKeyService.createApiKey(keyData);\n  };\n\n  // Revoke an API key\n  const revokeApiKey = async (id) => {\n    if (!hasPermission('api_management', 'manage_keys')) {\n      throw new Error('You do not have permission to revoke API keys');\n    }\n    \n    return ApiKeyService.revokeApiKey(id);\n  };\n\n  const value = {\n    adminUser,\n    adminRole,\n    loading,\n    error,\n    isAdmin: !!adminUser,\n    hasPermission,\n    createApiKey,\n    revokeApiKey\n  };\n\n  return (\n    <AdminContext.Provider value={value}>\n      {children}\n    </AdminContext.Provider>\n  );\n}\n\nexport function useAdmin() {\n  const context = useContext(AdminContext);\n  if (context === undefined) {\n    throw new Error('useAdmin must be used within an AdminProvider');\n  }\n  return context;\n}\n","import { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabase';\nimport { useAdmin } from '../../contexts/AdminContext';\nimport { \n  UserGroupIcon, \n  ShieldCheckIcon, \n  DocumentTextIcon,\n  PuzzlePieceIcon,\n  KeyIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\n\nexport default function Dashboard() {\n  const { hasPermission } = useAdmin();\n  const [stats, setStats] = useState({\n    adminUsers: 0,\n    pendingVerifications: 0,\n    contentPages: 0,\n    integrations: 0,\n    apiKeys: 0\n  });\n  const [recentAuditLogs, setRecentAuditLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchDashboardData() {\n      try {\n        setLoading(true);\n        \n        // Fetch stats\n        const [\n          { count: adminUsersCount },\n          { count: pendingVerificationsCount },\n          { count: contentPagesCount },\n          { count: integrationsCount },\n          { count: apiKeysCount },\n          { data: auditLogs }\n        ] = await Promise.all([\n          // Admin users count\n          supabase\n            .from('admin_users')\n            .select('*', { count: 'exact', head: true }),\n          \n          // Pending verifications count\n          supabase\n            .from('provider_verifications')\n            .select('*', { count: 'exact', head: true })\n            .eq('status', 'pending'),\n          \n          // Content pages count\n          supabase\n            .from('content_pages')\n            .select('*', { count: 'exact', head: true }),\n          \n          // Integrations count\n          supabase\n            .from('integration_configs')\n            .select('*', { count: 'exact', head: true }),\n          \n          // API keys count\n          supabase\n            .from('api_keys')\n            .select('*', { count: 'exact', head: true }),\n          \n          // Recent audit logs\n          supabase\n            .from('audit_logs')\n            .select('*, auth_users:user_id(email)')\n            .order('created_at', { ascending: false })\n            .limit(5)\n        ]);\n        \n        setStats({\n          adminUsers: adminUsersCount || 0,\n          pendingVerifications: pendingVerificationsCount || 0,\n          contentPages: contentPagesCount || 0,\n          integrations: integrationsCount || 0,\n          apiKeys: apiKeysCount || 0\n        });\n        \n        setRecentAuditLogs(auditLogs || []);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    fetchDashboardData();\n  }, []);\n\n  const cards = [\n    {\n      name: 'Admin Users',\n      href: '/admin/users',\n      icon: UserGroupIcon,\n      value: stats.adminUsers,\n      show: hasPermission('access_management', 'view_users')\n    },\n    {\n      name: 'Pending Verifications',\n      href: '/admin/verifications',\n      icon: ShieldCheckIcon,\n      value: stats.pendingVerifications,\n      show: hasPermission('provider_management', 'manage_verifications')\n    },\n    {\n      name: 'Content Pages',\n      href: '/admin/content',\n      icon: DocumentTextIcon,\n      value: stats.contentPages,\n      show: hasPermission('content_management', 'view_pages')\n    },\n    {\n      name: 'Integrations',\n      href: '/admin/integrations',\n      icon: PuzzlePieceIcon,\n      value: stats.integrations,\n      show: hasPermission('integrations', 'view_integrations')\n    },\n    {\n      name: 'API Keys',\n      href: '/admin/api-keys',\n      icon: KeyIcon,\n      value: stats.apiKeys,\n      show: hasPermission('api_management', 'view_keys')\n    }\n  ].filter(card => card.show);\n\n  return (\n    <div>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Admin Dashboard</h1>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Overview of your system and recent activity\n        </p>\n      </div>\n      \n      {loading ? (\n        <div className=\"flex justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        </div>\n      ) : (\n        <>\n          <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 mb-8\">\n            {cards.map((card) => (\n              <Link\n                key={card.name}\n                to={card.href}\n                className=\"relative overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:px-6 sm:pt-6 hover:shadow-md transition-shadow duration-200\"\n              >\n                <dt>\n                  <div className=\"absolute rounded-md bg-primary-500 p-3\">\n                    <card.icon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\n                  </div>\n                  <p className=\"ml-16 truncate text-sm font-medium text-gray-500\">{card.name}</p>\n                </dt>\n                <dd className=\"ml-16 flex items-baseline\">\n                  <p className=\"text-2xl font-semibold text-gray-900\">{card.value}</p>\n                </dd>\n              </Link>\n            ))}\n          </div>\n          \n          {hasPermission('access_management', 'view_audit_logs') && (\n            <div className=\"mt-8\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Recent Activity</h2>\n              <div className=\"overflow-hidden bg-white shadow sm:rounded-md\">\n                <ul role=\"list\" className=\"divide-y divide-gray-200\">\n                  {recentAuditLogs.length > 0 ? (\n                    recentAuditLogs.map((log) => (\n                      <li key={log.id}>\n                        <div className=\"px-4 py-4 sm:px-6\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center\">\n                              <ClockIcon className=\"h-5 w-5 text-gray-400 mr-2\" />\n                              <p className=\"truncate text-sm font-medium text-primary-600\">\n                                {log.action.charAt(0).toUpperCase() + log.action.slice(1)} {log.entity_type.replace(/_/g, ' ')}\n                              </p>\n                            </div>\n                            <div className=\"ml-2 flex flex-shrink-0\">\n                              <p className=\"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800\">\n                                {new Date(log.created_at).toLocaleString()}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"mt-2 sm:flex sm:justify-between\">\n                            <div className=\"sm:flex\">\n                              <p className=\"flex items-center text-sm text-gray-500\">\n                                {log.auth_users?.email || 'Unknown user'}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n                    ))\n                  ) : (\n                    <li className=\"px-4 py-5 sm:px-6 text-center text-sm text-gray-500\">\n                      No recent activity found\n                    </li>\n                  )}\n                </ul>\n                <div className=\"bg-gray-50 px-4 py-3 text-right sm:px-6\">\n                  <Link\n                    to=\"/admin/audit-logs\"\n                    className=\"text-sm font-medium text-primary-600 hover:text-primary-500\"\n                  >\n                    View all activity\n                  </Link>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport AdminDashboard from '../../components/admin/Dashboard';\n\nconst Dashboard = () => {\n  return <AdminDashboard />;\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedRole, setSelectedRole] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [usersPerPage] = useState(10);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch users from auth.users and join with profiles\n      const { data, error } = await supabase\n        .from('profiles')\n        .select(`\n          id,\n          first_name,\n          last_name,\n          email,\n          role,\n          created_at,\n          last_sign_in_at,\n          is_active\n        `)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      \n      setUsers(data || []);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      setError('Failed to load users. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRoleChange = async (userId, newRole) => {\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({ role: newRole })\n        .eq('id', userId);\n\n      if (error) throw error;\n\n      // Update local state\n      setUsers(users.map(user => \n        user.id === userId ? { ...user, role: newRole } : user\n      ));\n    } catch (error) {\n      console.error('Error updating user role:', error);\n      alert('Failed to update user role. Please try again.');\n    }\n  };\n\n  const toggleUserStatus = async (userId, currentStatus) => {\n    try {\n      const newStatus = !currentStatus;\n      \n      const { error } = await supabase\n        .from('profiles')\n        .update({ is_active: newStatus })\n        .eq('id', userId);\n\n      if (error) throw error;\n\n      // Update local state\n      setUsers(users.map(user => \n        user.id === userId ? { ...user, is_active: newStatus } : user\n      ));\n    } catch (error) {\n      console.error('Error toggling user status:', error);\n      alert('Failed to update user status. Please try again.');\n    }\n  };\n\n  // Filter users based on search term and role\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = \n      user.first_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.last_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = selectedRole === 'all' || user.role === selectedRole;\n    \n    return matchesSearch && matchesRole;\n  });\n\n  // Pagination\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n        <strong className=\"font-bold\">Error!</strong>\n        <span className=\"block sm:inline\"> {error}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">User Management</h1>\n      \n      {/* Filters */}\n      <div className=\"flex flex-col md:flex-row justify-between mb-6 space-y-4 md:space-y-0\">\n        <div className=\"relative w-full md:w-1/3\">\n          <input\n            type=\"text\"\n            placeholder=\"Search users...\"\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          <svg\n            className=\"absolute right-3 top-2.5 h-5 w-5 text-gray-400\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n        \n        <div className=\"w-full md:w-1/4\">\n          <select\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={selectedRole}\n            onChange={(e) => setSelectedRole(e.target.value)}\n          >\n            <option value=\"all\">All Roles</option>\n            <option value=\"admin\">Admin</option>\n            <option value=\"provider\">Provider</option>\n            <option value=\"homeowner\">Homeowner</option>\n          </select>\n        </div>\n      </div>\n      \n      {/* Users Table */}\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white border border-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                User\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Email\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Role\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Joined\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-200\">\n            {currentUsers.length > 0 ? (\n              currentUsers.map((user) => (\n                <tr key={user.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                        {user.first_name && user.last_name ? (\n                          <span className=\"text-gray-600 font-medium\">\n                            {user.first_name.charAt(0)}{user.last_name.charAt(0)}\n                          </span>\n                        ) : (\n                          <span className=\"text-gray-600 font-medium\">\n                            {user.email.charAt(0).toUpperCase()}\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {user.first_name && user.last_name \n                            ? `${user.first_name} ${user.last_name}`\n                            : 'No Name'\n                          }\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm text-gray-500\">\n                    {user.email}\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <select\n                      className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      value={user.role}\n                      onChange={(e) => handleRoleChange(user.id, e.target.value)}\n                    >\n                      <option value=\"admin\">Admin</option>\n                      <option value=\"provider\">Provider</option>\n                      <option value=\"homeowner\">Homeowner</option>\n                    </select>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm text-gray-500\">\n                    {new Date(user.created_at).toLocaleDateString()}\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <span\n                      className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                        user.is_active\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-red-100 text-red-800'\n                      }`}\n                    >\n                      {user.is_active ? 'Active' : 'Inactive'}\n                    </span>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm font-medium\">\n                    <button\n                      onClick={() => toggleUserStatus(user.id, user.is_active)}\n                      className={`mr-2 px-3 py-1 rounded ${\n                        user.is_active\n                          ? 'bg-red-100 text-red-600 hover:bg-red-200'\n                          : 'bg-green-100 text-green-600 hover:bg-green-200'\n                      }`}\n                    >\n                      {user.is_active ? 'Deactivate' : 'Activate'}\n                    </button>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"6\" className=\"py-4 px-4 text-center text-gray-500\">\n                  No users found matching your criteria.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      \n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex justify-between items-center mt-6\">\n          <div className=\"text-sm text-gray-500\">\n            Showing {indexOfFirstUser + 1} to {Math.min(indexOfLastUser, filteredUsers.length)} of {filteredUsers.length} users\n          </div>\n          <div className=\"flex space-x-1\">\n            <button\n              onClick={() => paginate(Math.max(1, currentPage - 1))}\n              disabled={currentPage === 1}\n              className={`px-3 py-1 rounded ${\n                currentPage === 1\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Previous\n            </button>\n            {[...Array(totalPages).keys()].map(number => (\n              <button\n                key={number + 1}\n                onClick={() => paginate(number + 1)}\n                className={`px-3 py-1 rounded ${\n                  currentPage === number + 1\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                {number + 1}\n              </button>\n            ))}\n            <button\n              onClick={() => paginate(Math.min(totalPages, currentPage + 1))}\n              disabled={currentPage === totalPages}\n              className={`px-3 py-1 rounded ${\n                currentPage === totalPages\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Users;\n","import React from 'react';\nimport AdminUsers from '../../components/admin/Users';\n\nconst Users = () => {\n  return <AdminUsers />;\n};\n\nexport default Users;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst Providers = () => {\n  const [providers, setProviders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedStatus, setSelectedStatus] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [providersPerPage] = useState(10);\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    fetchProviders();\n    fetchCategories();\n  }, []);\n\n  const fetchCategories = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('service_categories')\n        .select('*')\n        .order('name');\n\n      if (error) throw error;\n      setCategories(data || []);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n\n  const fetchProviders = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch providers (users with role 'provider')\n      const { data, error } = await supabase\n        .from('profiles')\n        .select(`\n          id,\n          first_name,\n          last_name,\n          email,\n          phone,\n          created_at,\n          is_active,\n          is_verified,\n          provider_details (\n            id,\n            business_name,\n            description,\n            years_of_experience,\n            service_area,\n            hourly_rate,\n            service_category_id,\n            rating,\n            total_reviews,\n            total_projects\n          )\n        `)\n        .eq('role', 'provider');\n\n      if (error) throw error;\n      \n      setProviders(data || []);\n    } catch (error) {\n      console.error('Error fetching providers:', error);\n      setError('Failed to load providers. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleProviderStatus = async (providerId, currentStatus) => {\n    try {\n      const newStatus = !currentStatus;\n      \n      const { error } = await supabase\n        .from('profiles')\n        .update({ is_active: newStatus })\n        .eq('id', providerId);\n\n      if (error) throw error;\n\n      // Update local state\n      setProviders(providers.map(provider => \n        provider.id === providerId ? { ...provider, is_active: newStatus } : provider\n      ));\n    } catch (error) {\n      console.error('Error toggling provider status:', error);\n      alert('Failed to update provider status. Please try again.');\n    }\n  };\n\n  const toggleVerificationStatus = async (providerId, currentStatus) => {\n    try {\n      const newStatus = !currentStatus;\n      \n      const { error } = await supabase\n        .from('profiles')\n        .update({ is_verified: newStatus })\n        .eq('id', providerId);\n\n      if (error) throw error;\n\n      // Update local state\n      setProviders(providers.map(provider => \n        provider.id === providerId ? { ...provider, is_verified: newStatus } : provider\n      ));\n    } catch (error) {\n      console.error('Error toggling verification status:', error);\n      alert('Failed to update verification status. Please try again.');\n    }\n  };\n\n  // Filter providers based on search term, category, and status\n  const filteredProviders = providers.filter(provider => {\n    const matchesSearch = \n      provider.first_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      provider.last_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      provider.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      provider.provider_details?.[0]?.business_name?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesCategory = selectedCategory === 'all' || \n      provider.provider_details?.[0]?.service_category_id === selectedCategory;\n    \n    const matchesStatus = selectedStatus === 'all' || \n      (selectedStatus === 'active' && provider.is_active) ||\n      (selectedStatus === 'inactive' && !provider.is_active) ||\n      (selectedStatus === 'verified' && provider.is_verified) ||\n      (selectedStatus === 'unverified' && !provider.is_verified);\n    \n    return matchesSearch && matchesCategory && matchesStatus;\n  });\n\n  // Pagination\n  const indexOfLastProvider = currentPage * providersPerPage;\n  const indexOfFirstProvider = indexOfLastProvider - providersPerPage;\n  const currentProviders = filteredProviders.slice(indexOfFirstProvider, indexOfLastProvider);\n  const totalPages = Math.ceil(filteredProviders.length / providersPerPage);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  const getCategoryName = (categoryId) => {\n    const category = categories.find(cat => cat.id === categoryId);\n    return category ? category.name : 'Unknown';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n        <strong className=\"font-bold\">Error!</strong>\n        <span className=\"block sm:inline\"> {error}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">Service Provider Management</h1>\n      \n      {/* Filters */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            placeholder=\"Search providers...\"\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          <svg\n            className=\"absolute right-3 top-2.5 h-5 w-5 text-gray-400\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n        \n        <div>\n          <select\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={selectedCategory}\n            onChange={(e) => setSelectedCategory(e.target.value)}\n          >\n            <option value=\"all\">All Categories</option>\n            {categories.map(category => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <div>\n          <select\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={selectedStatus}\n            onChange={(e) => setSelectedStatus(e.target.value)}\n          >\n            <option value=\"all\">All Statuses</option>\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n            <option value=\"verified\">Verified</option>\n            <option value=\"unverified\">Unverified</option>\n          </select>\n        </div>\n      </div>\n      \n      {/* Providers Table */}\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white border border-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Provider\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Business\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Category\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Rating\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Projects\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-200\">\n            {currentProviders.length > 0 ? (\n              currentProviders.map((provider) => (\n                <tr key={provider.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                        {provider.first_name && provider.last_name ? (\n                          <span className=\"text-gray-600 font-medium\">\n                            {provider.first_name.charAt(0)}{provider.last_name.charAt(0)}\n                          </span>\n                        ) : (\n                          <span className=\"text-gray-600 font-medium\">\n                            {provider.email.charAt(0).toUpperCase()}\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {provider.first_name && provider.last_name \n                            ? `${provider.first_name} ${provider.last_name}`\n                            : 'No Name'\n                          }\n                        </div>\n                        <div className=\"text-sm text-gray-500\">{provider.email}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">\n                      {provider.provider_details?.[0]?.business_name || 'N/A'}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {provider.provider_details?.[0]?.service_area || 'N/A'}\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm text-gray-500\">\n                    {provider.provider_details?.[0]?.service_category_id \n                      ? getCategoryName(provider.provider_details[0].service_category_id)\n                      : 'N/A'\n                    }\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-sm text-gray-900 mr-1\">\n                        {provider.provider_details?.[0]?.rating?.toFixed(1) || 'N/A'}\n                      </span>\n                      {provider.provider_details?.[0]?.rating && (\n                        <svg className=\"w-4 h-4 text-yellow-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                        </svg>\n                      )}\n                      <span className=\"text-xs text-gray-500 ml-1\">\n                        ({provider.provider_details?.[0]?.total_reviews || 0})\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm text-gray-500\">\n                    {provider.provider_details?.[0]?.total_projects || 0}\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap\">\n                    <div className=\"flex flex-col space-y-1\">\n                      <span\n                        className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                          provider.is_active\n                            ? 'bg-green-100 text-green-800'\n                            : 'bg-red-100 text-red-800'\n                        }`}\n                      >\n                        {provider.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                      <span\n                        className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                          provider.is_verified\n                            ? 'bg-blue-100 text-blue-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}\n                      >\n                        {provider.is_verified ? 'Verified' : 'Unverified'}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex flex-col space-y-2\">\n                      <button\n                        onClick={() => toggleProviderStatus(provider.id, provider.is_active)}\n                        className={`px-3 py-1 rounded text-xs ${\n                          provider.is_active\n                            ? 'bg-red-100 text-red-600 hover:bg-red-200'\n                            : 'bg-green-100 text-green-600 hover:bg-green-200'\n                        }`}\n                      >\n                        {provider.is_active ? 'Deactivate' : 'Activate'}\n                      </button>\n                      <button\n                        onClick={() => toggleVerificationStatus(provider.id, provider.is_verified)}\n                        className={`px-3 py-1 rounded text-xs ${\n                          provider.is_verified\n                            ? 'bg-yellow-100 text-yellow-600 hover:bg-yellow-200'\n                            : 'bg-blue-100 text-blue-600 hover:bg-blue-200'\n                        }`}\n                      >\n                        {provider.is_verified ? 'Unverify' : 'Verify'}\n                      </button>\n                      <button\n                        className=\"px-3 py-1 rounded text-xs bg-gray-100 text-gray-600 hover:bg-gray-200\"\n                        onClick={() => {\n                          // View provider details functionality\n                          alert('View provider details - to be implemented');\n                        }}\n                      >\n                        View Details\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"7\" className=\"py-4 px-4 text-center text-gray-500\">\n                  No providers found matching your criteria.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      \n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex justify-between items-center mt-6\">\n          <div className=\"text-sm text-gray-500\">\n            Showing {indexOfFirstProvider + 1} to {Math.min(indexOfLastProvider, filteredProviders.length)} of {filteredProviders.length} providers\n          </div>\n          <div className=\"flex space-x-1\">\n            <button\n              onClick={() => paginate(Math.max(1, currentPage - 1))}\n              disabled={currentPage === 1}\n              className={`px-3 py-1 rounded ${\n                currentPage === 1\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Previous\n            </button>\n            {[...Array(totalPages).keys()].map(number => (\n              <button\n                key={number + 1}\n                onClick={() => paginate(number + 1)}\n                className={`px-3 py-1 rounded ${\n                  currentPage === number + 1\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                {number + 1}\n              </button>\n            ))}\n            <button\n              onClick={() => paginate(Math.min(totalPages, currentPage + 1))}\n              disabled={currentPage === totalPages}\n              className={`px-3 py-1 rounded ${\n                currentPage === totalPages\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Providers;\n","import React from 'react';\nimport AdminProviders from '../../components/admin/Providers';\n\nconst Providers = () => {\n  return <AdminProviders />;\n};\n\nexport default Providers;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst Reports = () => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [timeRange, setTimeRange] = useState('month');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    totalProviders: 0,\n    totalHomeowners: 0,\n    totalProjects: 0,\n    completedProjects: 0,\n    totalRevenue: 0,\n    averageRating: 0,\n    userGrowth: [],\n    projectsByCategory: [],\n    revenueByMonth: []\n  });\n\n  useEffect(() => {\n    fetchReportData();\n  }, [timeRange]);\n\n  const fetchReportData = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real application, these would be separate database queries\n      // For this example, we'll simulate the data\n      \n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Generate mock data based on time range\n      const mockData = generateMockData(timeRange);\n      setStats(mockData);\n      \n    } catch (error) {\n      console.error('Error fetching report data:', error);\n      setError('Failed to load report data. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateMockData = (range) => {\n    // Generate different data based on selected time range\n    let months = [];\n    let userGrowth = [];\n    let revenueData = [];\n    \n    switch(range) {\n      case 'week':\n        months = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n        userGrowth = [5, 7, 10, 8, 12, 6, 9];\n        revenueData = [1200, 1500, 1800, 1600, 2200, 1900, 1700];\n        break;\n      case 'month':\n        months = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];\n        userGrowth = [25, 38, 42, 35];\n        revenueData = [8500, 9200, 10500, 9800];\n        break;\n      case 'year':\n        months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        userGrowth = [120, 150, 180, 210, 250, 280, 310, 340, 370, 400, 430, 450];\n        revenueData = [35000, 42000, 38000, 45000, 52000, 58000, 62000, 59000, 65000, 70000, 75000, 80000];\n        break;\n      default:\n        months = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];\n        userGrowth = [25, 38, 42, 35];\n        revenueData = [8500, 9200, 10500, 9800];\n    }\n    \n    return {\n      totalUsers: 2458,\n      totalProviders: 587,\n      totalHomeowners: 1871,\n      totalProjects: 1245,\n      completedProjects: 876,\n      totalRevenue: revenueData.reduce((a, b) => a + b, 0),\n      averageRating: 4.7,\n      userGrowth: months.map((month, index) => ({ month, count: userGrowth[index] })),\n      projectsByCategory: [\n        { category: 'Plumbing', count: 245 },\n        { category: 'Electrical', count: 198 },\n        { category: 'Carpentry', count: 176 },\n        { category: 'Painting', count: 152 },\n        { category: 'Landscaping', count: 138 },\n        { category: 'Roofing', count: 112 },\n        { category: 'HVAC', count: 98 },\n        { category: 'Other', count: 126 }\n      ],\n      revenueByMonth: months.map((month, index) => ({ month, amount: revenueData[index] }))\n    };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n        <strong className=\"font-bold\">Error!</strong>\n        <span className=\"block sm:inline\"> {error}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n        <h1 className=\"text-2xl font-semibold text-gray-800\">Analytics & Reports</h1>\n        \n        <div className=\"mt-4 md:mt-0\">\n          <select\n            className=\"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            value={timeRange}\n            onChange={(e) => setTimeRange(e.target.value)}\n          >\n            <option value=\"week\">Last 7 Days</option>\n            <option value=\"month\">Last 30 Days</option>\n            <option value=\"year\">Last 12 Months</option>\n          </select>\n        </div>\n      </div>\n      \n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"-mb-px flex space-x-8\">\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'overview'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('overview')}\n          >\n            Overview\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'users'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('users')}\n          >\n            Users\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'projects'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('projects')}\n          >\n            Projects\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'revenue'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('revenue')}\n          >\n            Revenue\n          </button>\n        </nav>\n      </div>\n      \n      {/* Overview Tab */}\n      {activeTab === 'overview' && (\n        <div>\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-blue-100 text-blue-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Users</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalUsers.toLocaleString()}</p>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-green-500 text-sm font-medium flex items-center\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 10l7-7m0 0l7 7m-7-7v18\"></path>\n                    </svg>\n                    12.5%\n                  </span>\n                  <span className=\"text-gray-500 text-sm ml-2\">vs. previous period</span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-green-100 text-green-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Projects</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalProjects.toLocaleString()}</p>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-green-500 text-sm font-medium flex items-center\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 10l7-7m0 0l7 7m-7-7v18\"></path>\n                    </svg>\n                    8.2%\n                  </span>\n                  <span className=\"text-gray-500 text-sm ml-2\">vs. previous period</span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\"></path>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Completion Rate</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">\n                    {Math.round((stats.completedProjects / stats.totalProjects) * 100)}%\n                  </p>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-green-500 text-sm font-medium flex items-center\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 10l7-7m0 0l7 7m-7-7v18\"></path>\n                    </svg>\n                    3.7%\n                  </span>\n                  <span className=\"text-gray-500 text-sm ml-2\">vs. previous period</span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-purple-100 text-purple-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Revenue</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">${stats.totalRevenue.toLocaleString()}</p>\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-green-500 text-sm font-medium flex items-center\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 10l7-7m0 0l7 7m-7-7v18\"></path>\n                    </svg>\n                    15.3%\n                  </span>\n                  <span className=\"text-gray-500 text-sm ml-2\">vs. previous period</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Charts */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">User Growth</h3>\n              <div className=\"h-64 flex items-end space-x-2\">\n                {stats.userGrowth.map((item, index) => (\n                  <div key={index} className=\"flex flex-col items-center flex-1\">\n                    <div \n                      className=\"w-full bg-blue-500 rounded-t\"\n                      style={{ \n                        height: `${(item.count / Math.max(...stats.userGrowth.map(i => i.count))) * 200}px` \n                      }}\n                    ></div>\n                    <div className=\"text-xs text-gray-500 mt-2\">{item.month}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Projects by Category</h3>\n              <div className=\"h-64 overflow-y-auto\">\n                {stats.projectsByCategory.map((item, index) => (\n                  <div key={index} className=\"mb-4\">\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium text-gray-700\">{item.category}</span>\n                      <span className=\"text-sm font-medium text-gray-700\">{item.count}</span>\n                    </div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ \n                          width: `${(item.count / Math.max(...stats.projectsByCategory.map(i => i.count))) * 100}%` \n                        }}\n                      ></div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Users Tab */}\n      {activeTab === 'users' && (\n        <div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-blue-100 text-blue-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Users</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalUsers.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-green-100 text-green-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Service Providers</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalProviders.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Homeowners</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalHomeowners.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">User Growth</h3>\n              <div className=\"h-64 flex items-end space-x-2\">\n                {stats.userGrowth.map((item, index) => (\n                  <div key={index} className=\"flex flex-col items-center flex-1\">\n                    <div \n                      className=\"w-full bg-blue-500 rounded-t\"\n                      style={{ \n                        height: `${(item.count / Math.max(...stats.userGrowth.map(i => i.count))) * 200}px` \n                      }}\n                    ></div>\n                    <div className=\"text-xs text-gray-500 mt-2\">{item.month}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">User Distribution</h3>\n              <div className=\"h-64 flex items-center justify-center\">\n                <div className=\"w-48 h-48 rounded-full border-8 border-gray-200 relative\">\n                  {/* Provider segment */}\n                  <div \n                    className=\"absolute inset-0 bg-blue-500\"\n                    style={{ \n                      clipPath: `polygon(50% 50%, 50% 0%, ${50 + 50 * Math.cos(2 * Math.PI * stats.totalProviders / stats.totalUsers)}% ${50 - 50 * Math.sin(2 * Math.PI * stats.totalProviders / stats.totalUsers)}%, 50% 0%)` \n                    }}\n                  ></div>\n                  \n                  {/* Homeowner segment */}\n                  <div \n                    className=\"absolute inset-0 bg-green-500\"\n                    style={{ \n                      clipPath: `polygon(50% 50%, ${50 + 50 * Math.cos(2 * Math.PI * stats.totalProviders / stats.totalUsers)}% ${50 - 50 * Math.sin(2 * Math.PI * stats.totalProviders / stats.totalUsers)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)` \n                    }}\n                  ></div>\n                  \n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"w-32 h-32 bg-white rounded-full\"></div>\n                  </div>\n                </div>\n                \n                <div className=\"ml-8\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className=\"w-4 h-4 bg-blue-500 mr-2\"></div>\n                    <span className=\"text-sm text-gray-700\">Providers ({Math.round(stats.totalProviders / stats.totalUsers * 100)}%)</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-4 h-4 bg-green-500 mr-2\"></div>\n                    <span className=\"text-sm text-gray-700\">Homeowners ({Math.round(stats.totalHomeowners / stats.totalUsers * 100)}%)</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Projects Tab */}\n      {activeTab === 'projects' && (\n        <div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-blue-100 text-blue-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Projects</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.totalProjects.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-green-100 text-green-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Completed Projects</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.completedProjects.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Average Rating</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{stats.averageRating.toFixed(1)}/5.0</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Projects by Category</h3>\n              <div className=\"h-64 overflow-y-auto\">\n                {stats.projectsByCategory.map((item, index) => (\n                  <div key={index} className=\"mb-4\">\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium text-gray-700\">{item.category}</span>\n                      <span className=\"text-sm font-medium text-gray-700\">{item.count}</span>\n                    </div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ \n                          width: `${(item.count / Math.max(...stats.projectsByCategory.map(i => i.count))) * 100}%` \n                        }}\n                      ></div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Project Status</h3>\n              <div className=\"h-64 flex items-center justify-center\">\n                <div className=\"w-48 h-48 rounded-full border-8 border-gray-200 relative\">\n                  {/* Completed segment */}\n                  <div \n                    className=\"absolute inset-0 bg-green-500\"\n                    style={{ \n                      clipPath: `polygon(50% 50%, 50% 0%, ${50 + 50 * Math.cos(2 * Math.PI * stats.completedProjects / stats.totalProjects)}% ${50 - 50 * Math.sin(2 * Math.PI * stats.completedProjects / stats.totalProjects)}%, 50% 0%)` \n                    }}\n                  ></div>\n                  \n                  {/* In Progress segment */}\n                  <div \n                    className=\"absolute inset-0 bg-blue-500\"\n                    style={{ \n                      clipPath: `polygon(50% 50%, ${50 + 50 * Math.cos(2 * Math.PI * stats.completedProjects / stats.totalProjects)}% ${50 - 50 * Math.sin(2 * Math.PI * stats.completedProjects / stats.totalProjects)}%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%)` \n                    }}\n                  ></div>\n                  \n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"w-32 h-32 bg-white rounded-full\"></div>\n                  </div>\n                </div>\n                \n                <div className=\"ml-8\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className=\"w-4 h-4 bg-green-500 mr-2\"></div>\n                    <span className=\"text-sm text-gray-700\">Completed ({Math.round(stats.completedProjects / stats.totalProjects * 100)}%)</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-4 h-4 bg-blue-500 mr-2\"></div>\n                    <span className=\"text-sm text-gray-700\">In Progress ({Math.round((stats.totalProjects - stats.completedProjects) / stats.totalProjects * 100)}%)</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Revenue Tab */}\n      {activeTab === 'revenue' && (\n        <div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-purple-100 text-purple-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Revenue</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">${stats.totalRevenue.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-blue-100 text-blue-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Average per Project</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">\n                    ${Math.round(stats.totalRevenue / stats.totalProjects).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"p-3 rounded-full bg-green-100 text-green-500 mr-4\">\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"></path>\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Growth Rate</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">+15.3%</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Revenue Trend</h3>\n            <div className=\"h-64 flex items-end space-x-2\">\n              {stats.revenueByMonth.map((item, index) => (\n                <div key={index} className=\"flex flex-col items-center flex-1\">\n                  <div \n                    className=\"w-full bg-purple-500 rounded-t\"\n                    style={{ \n                      height: `${(item.amount / Math.max(...stats.revenueByMonth.map(i => i.amount))) * 200}px` \n                    }}\n                  ></div>\n                  <div className=\"text-xs text-gray-500 mt-2\">{item.month}</div>\n                  <div className=\"text-xs font-medium text-gray-700\">${(item.amount / 1000).toFixed(1)}k</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Export Button */}\n      <div className=\"mt-8 flex justify-end\">\n        <button\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n          onClick={() => {\n            alert('Export functionality would be implemented here');\n          }}\n        >\n          Export Report\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Reports;\n","import React from 'react';\nimport AdminReports from '../../components/admin/Reports';\n\nconst Reports = () => {\n  return <AdminReports />;\n};\n\nexport default Reports;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '../../lib/supabaseClient';\n\nconst Settings = () => {\n  const [activeTab, setActiveTab] = useState('general');\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(null);\n  const [error, setError] = useState(null);\n  \n  // General settings\n  const [generalSettings, setGeneralSettings] = useState({\n    siteName: 'Home Renovation Platform',\n    siteDescription: 'Connect homeowners with trusted service providers',\n    contactEmail: 'support@renovationplatform.com',\n    supportPhone: '+1 (555) 123-4567',\n    maintenanceMode: false\n  });\n  \n  // Email settings\n  const [emailSettings, setEmailSettings] = useState({\n    emailProvider: 'smtp',\n    smtpHost: 'smtp.example.com',\n    smtpPort: '587',\n    smtpUsername: 'notifications@renovationplatform.com',\n    smtpPassword: '••••••••••••',\n    senderName: 'Renovation Platform',\n    senderEmail: 'notifications@renovationplatform.com',\n    enableEmailNotifications: true\n  });\n  \n  // Payment settings\n  const [paymentSettings, setPaymentSettings] = useState({\n    paymentGateway: 'stripe',\n    currencyCode: 'USD',\n    testMode: true,\n    platformFeePercentage: 5,\n    minimumWithdrawalAmount: 50,\n    autoPayoutEnabled: false,\n    payoutSchedule: 'weekly'\n  });\n  \n  // Security settings\n  const [securitySettings, setSecuritySettings] = useState({\n    requireEmailVerification: true,\n    twoFactorAuthEnabled: false,\n    passwordMinLength: 8,\n    passwordRequireSpecialChar: true,\n    passwordRequireNumber: true,\n    sessionTimeout: 60,\n    maxLoginAttempts: 5,\n    recaptchaEnabled: true\n  });\n\n  const handleGeneralSubmit = async (e) => {\n    e.preventDefault();\n    await saveSettings('general', generalSettings);\n  };\n  \n  const handleEmailSubmit = async (e) => {\n    e.preventDefault();\n    await saveSettings('email', emailSettings);\n  };\n  \n  const handlePaymentSubmit = async (e) => {\n    e.preventDefault();\n    await saveSettings('payment', paymentSettings);\n  };\n  \n  const handleSecuritySubmit = async (e) => {\n    e.preventDefault();\n    await saveSettings('security', securitySettings);\n  };\n\n  const saveSettings = async (type, data) => {\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    \n    try {\n      // In a real application, this would save to the database\n      // For this example, we'll simulate an API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Success message\n      setSuccess(`${type.charAt(0).toUpperCase() + type.slice(1)} settings updated successfully.`);\n      \n      // Clear success message after 5 seconds\n      setTimeout(() => {\n        setSuccess(null);\n      }, 5000);\n    } catch (err) {\n      console.error(`Error saving ${type} settings:`, err);\n      setError(`Failed to save ${type} settings. Please try again.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"-mb-px flex space-x-8 px-6\" aria-label=\"Tabs\">\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'general'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('general')}\n          >\n            General\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'email'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('email')}\n          >\n            Email\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'payment'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('payment')}\n          >\n            Payment\n          </button>\n          <button\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'security'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('security')}\n          >\n            Security\n          </button>\n        </nav>\n      </div>\n      \n      <div className=\"p-6\">\n        <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">Platform Settings</h1>\n        \n        {success && (\n          <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6\">\n            {success}\n          </div>\n        )}\n        \n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n            {error}\n          </div>\n        )}\n        \n        {/* General Settings */}\n        {activeTab === 'general' && (\n          <form onSubmit={handleGeneralSubmit}>\n            <div className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"siteName\" className=\"block text-sm font-medium text-gray-700\">\n                  Site Name\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"siteName\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={generalSettings.siteName}\n                  onChange={(e) => setGeneralSettings({...generalSettings, siteName: e.target.value})}\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"siteDescription\" className=\"block text-sm font-medium text-gray-700\">\n                  Site Description\n                </label>\n                <textarea\n                  id=\"siteDescription\"\n                  rows=\"3\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={generalSettings.siteDescription}\n                  onChange={(e) => setGeneralSettings({...generalSettings, siteDescription: e.target.value})}\n                ></textarea>\n              </div>\n              \n              <div>\n                <label htmlFor=\"contactEmail\" className=\"block text-sm font-medium text-gray-700\">\n                  Contact Email\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"contactEmail\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={generalSettings.contactEmail}\n                  onChange={(e) => setGeneralSettings({...generalSettings, contactEmail: e.target.value})}\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"supportPhone\" className=\"block text-sm font-medium text-gray-700\">\n                  Support Phone\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"supportPhone\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={generalSettings.supportPhone}\n                  onChange={(e) => setGeneralSettings({...generalSettings, supportPhone: e.target.value})}\n                />\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"maintenanceMode\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={generalSettings.maintenanceMode}\n                    onChange={(e) => setGeneralSettings({...generalSettings, maintenanceMode: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"maintenanceMode\" className=\"font-medium text-gray-700\">\n                    Maintenance Mode\n                  </label>\n                  <p className=\"text-gray-500\">\n                    When enabled, the site will display a maintenance message to all users except administrators.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-6\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${\n                  loading ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'Saving...' : 'Save Settings'}\n              </button>\n            </div>\n          </form>\n        )}\n        \n        {/* Email Settings */}\n        {activeTab === 'email' && (\n          <form onSubmit={handleEmailSubmit}>\n            <div className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"emailProvider\" className=\"block text-sm font-medium text-gray-700\">\n                  Email Provider\n                </label>\n                <select\n                  id=\"emailProvider\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={emailSettings.emailProvider}\n                  onChange={(e) => setEmailSettings({...emailSettings, emailProvider: e.target.value})}\n                >\n                  <option value=\"smtp\">SMTP</option>\n                  <option value=\"sendgrid\">SendGrid</option>\n                  <option value=\"mailchimp\">Mailchimp</option>\n                  <option value=\"aws_ses\">AWS SES</option>\n                </select>\n              </div>\n              \n              <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n                <div>\n                  <label htmlFor=\"smtpHost\" className=\"block text-sm font-medium text-gray-700\">\n                    SMTP Host\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"smtpHost\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.smtpHost}\n                    onChange={(e) => setEmailSettings({...emailSettings, smtpHost: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"smtpPort\" className=\"block text-sm font-medium text-gray-700\">\n                    SMTP Port\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"smtpPort\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.smtpPort}\n                    onChange={(e) => setEmailSettings({...emailSettings, smtpPort: e.target.value})}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n                <div>\n                  <label htmlFor=\"smtpUsername\" className=\"block text-sm font-medium text-gray-700\">\n                    SMTP Username\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"smtpUsername\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.smtpUsername}\n                    onChange={(e) => setEmailSettings({...emailSettings, smtpUsername: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"smtpPassword\" className=\"block text-sm font-medium text-gray-700\">\n                    SMTP Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"smtpPassword\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.smtpPassword}\n                    onChange={(e) => setEmailSettings({...emailSettings, smtpPassword: e.target.value})}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n                <div>\n                  <label htmlFor=\"senderName\" className=\"block text-sm font-medium text-gray-700\">\n                    Sender Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"senderName\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.senderName}\n                    onChange={(e) => setEmailSettings({...emailSettings, senderName: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"senderEmail\" className=\"block text-sm font-medium text-gray-700\">\n                    Sender Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"senderEmail\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                    value={emailSettings.senderEmail}\n                    onChange={(e) => setEmailSettings({...emailSettings, senderEmail: e.target.value})}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"enableEmailNotifications\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={emailSettings.enableEmailNotifications}\n                    onChange={(e) => setEmailSettings({...emailSettings, enableEmailNotifications: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"enableEmailNotifications\" className=\"font-medium text-gray-700\">\n                    Enable Email Notifications\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Send automated email notifications for important events (new projects, messages, etc.).\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-6\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${\n                  loading ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'Saving...' : 'Save Settings'}\n              </button>\n            </div>\n          </form>\n        )}\n        \n        {/* Payment Settings */}\n        {activeTab === 'payment' && (\n          <form onSubmit={handlePaymentSubmit}>\n            <div className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"paymentGateway\" className=\"block text-sm font-medium text-gray-700\">\n                  Payment Gateway\n                </label>\n                <select\n                  id=\"paymentGateway\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={paymentSettings.paymentGateway}\n                  onChange={(e) => setPaymentSettings({...paymentSettings, paymentGateway: e.target.value})}\n                >\n                  <option value=\"stripe\">Stripe</option>\n                  <option value=\"paypal\">PayPal</option>\n                  <option value=\"square\">Square</option>\n                </select>\n              </div>\n              \n              <div>\n                <label htmlFor=\"currencyCode\" className=\"block text-sm font-medium text-gray-700\">\n                  Currency\n                </label>\n                <select\n                  id=\"currencyCode\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={paymentSettings.currencyCode}\n                  onChange={(e) => setPaymentSettings({...paymentSettings, currencyCode: e.target.value})}\n                >\n                  <option value=\"USD\">USD - US Dollar</option>\n                  <option value=\"EUR\">EUR - Euro</option>\n                  <option value=\"GBP\">GBP - British Pound</option>\n                  <option value=\"CAD\">CAD - Canadian Dollar</option>\n                  <option value=\"AUD\">AUD - Australian Dollar</option>\n                </select>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"testMode\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={paymentSettings.testMode}\n                    onChange={(e) => setPaymentSettings({...paymentSettings, testMode: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"testMode\" className=\"font-medium text-gray-700\">\n                    Test Mode\n                  </label>\n                  <p className=\"text-gray-500\">\n                    When enabled, payments will be processed in sandbox/test mode.\n                  </p>\n                </div>\n              </div>\n              \n              <div>\n                <label htmlFor=\"platformFeePercentage\" className=\"block text-sm font-medium text-gray-700\">\n                  Platform Fee (%)\n                </label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <input\n                    type=\"number\"\n                    id=\"platformFeePercentage\"\n                    min=\"0\"\n                    max=\"100\"\n                    step=\"0.1\"\n                    className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md\"\n                    value={paymentSettings.platformFeePercentage}\n                    onChange={(e) => setPaymentSettings({...paymentSettings, platformFeePercentage: parseFloat(e.target.value)})}\n                  />\n                  <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                    <span className=\"text-gray-500 sm:text-sm\">%</span>\n                  </div>\n                </div>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Percentage fee charged by the platform on each transaction.\n                </p>\n              </div>\n              \n              <div>\n                <label htmlFor=\"minimumWithdrawalAmount\" className=\"block text-sm font-medium text-gray-700\">\n                  Minimum Withdrawal Amount\n                </label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <span className=\"text-gray-500 sm:text-sm\">$</span>\n                  </div>\n                  <input\n                    type=\"number\"\n                    id=\"minimumWithdrawalAmount\"\n                    min=\"0\"\n                    step=\"1\"\n                    className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 sm:text-sm border-gray-300 rounded-md\"\n                    value={paymentSettings.minimumWithdrawalAmount}\n                    onChange={(e) => setPaymentSettings({...paymentSettings, minimumWithdrawalAmount: parseInt(e.target.value)})}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"autoPayoutEnabled\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={paymentSettings.autoPayoutEnabled}\n                    onChange={(e) => setPaymentSettings({...paymentSettings, autoPayoutEnabled: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"autoPayoutEnabled\" className=\"font-medium text-gray-700\">\n                    Automatic Payouts\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Automatically process payouts to service providers based on the schedule below.\n                  </p>\n                </div>\n              </div>\n              \n              <div>\n                <label htmlFor=\"payoutSchedule\" className=\"block text-sm font-medium text-gray-700\">\n                  Payout Schedule\n                </label>\n                <select\n                  id=\"payoutSchedule\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={paymentSettings.payoutSchedule}\n                  onChange={(e) => setPaymentSettings({...paymentSettings, payoutSchedule: e.target.value})}\n                  disabled={!paymentSettings.autoPayoutEnabled}\n                >\n                  <option value=\"daily\">Daily</option>\n                  <option value=\"weekly\">Weekly</option>\n                  <option value=\"biweekly\">Bi-weekly</option>\n                  <option value=\"monthly\">Monthly</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"mt-6\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${\n                  loading ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'Saving...' : 'Save Settings'}\n              </button>\n            </div>\n          </form>\n        )}\n        \n        {/* Security Settings */}\n        {activeTab === 'security' && (\n          <form onSubmit={handleSecuritySubmit}>\n            <div className=\"space-y-6\">\n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"requireEmailVerification\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={securitySettings.requireEmailVerification}\n                    onChange={(e) => setSecuritySettings({...securitySettings, requireEmailVerification: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"requireEmailVerification\" className=\"font-medium text-gray-700\">\n                    Require Email Verification\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Users must verify their email address before accessing the platform.\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"twoFactorAuthEnabled\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={securitySettings.twoFactorAuthEnabled}\n                    onChange={(e) => setSecuritySettings({...securitySettings, twoFactorAuthEnabled: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"twoFactorAuthEnabled\" className=\"font-medium text-gray-700\">\n                    Enable Two-Factor Authentication\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Allow users to enable two-factor authentication for their accounts.\n                  </p>\n                </div>\n              </div>\n              \n              <div>\n                <label htmlFor=\"passwordMinLength\" className=\"block text-sm font-medium text-gray-700\">\n                  Minimum Password Length\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"passwordMinLength\"\n                  min=\"6\"\n                  max=\"32\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={securitySettings.passwordMinLength}\n                  onChange={(e) => setSecuritySettings({...securitySettings, passwordMinLength: parseInt(e.target.value)})}\n                />\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"passwordRequireSpecialChar\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={securitySettings.passwordRequireSpecialChar}\n                    onChange={(e) => setSecuritySettings({...securitySettings, passwordRequireSpecialChar: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"passwordRequireSpecialChar\" className=\"font-medium text-gray-700\">\n                    Require Special Character\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Passwords must contain at least one special character.\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"passwordRequireNumber\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={securitySettings.passwordRequireNumber}\n                    onChange={(e) => setSecuritySettings({...securitySettings, passwordRequireNumber: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"passwordRequireNumber\" className=\"font-medium text-gray-700\">\n                    Require Number\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Passwords must contain at least one number.\n                  </p>\n                </div>\n              </div>\n              \n              <div>\n                <label htmlFor=\"sessionTimeout\" className=\"block text-sm font-medium text-gray-700\">\n                  Session Timeout (minutes)\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"sessionTimeout\"\n                  min=\"5\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={securitySettings.sessionTimeout}\n                  onChange={(e) => setSecuritySettings({...securitySettings, sessionTimeout: parseInt(e.target.value)})}\n                />\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Users will be automatically logged out after this period of inactivity.\n                </p>\n              </div>\n              \n              <div>\n                <label htmlFor=\"maxLoginAttempts\" className=\"block text-sm font-medium text-gray-700\">\n                  Maximum Login Attempts\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"maxLoginAttempts\"\n                  min=\"1\"\n                  className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  value={securitySettings.maxLoginAttempts}\n                  onChange={(e) => setSecuritySettings({...securitySettings, maxLoginAttempts: parseInt(e.target.value)})}\n                />\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Account will be temporarily locked after this many failed login attempts.\n                </p>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"flex items-center h-5\">\n                  <input\n                    id=\"recaptchaEnabled\"\n                    type=\"checkbox\"\n                    className=\"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    checked={securitySettings.recaptchaEnabled}\n                    onChange={(e) => setSecuritySettings({...securitySettings, recaptchaEnabled: e.target.checked})}\n                  />\n                </div>\n                <div className=\"ml-3 text-sm\">\n                  <label htmlFor=\"recaptchaEnabled\" className=\"font-medium text-gray-700\">\n                    Enable reCAPTCHA\n                  </label>\n                  <p className=\"text-gray-500\">\n                    Use Google reCAPTCHA to protect forms from spam and abuse.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-6\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${\n                  loading ? 'opacity-70 cursor-not-allowed' : ''\n                }`}\n              >\n                {loading ? 'Saving...' : 'Save Settings'}\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import React from 'react';\nimport AdminSettings from '../../components/admin/Settings';\n\nconst Settings = () => {\n  return <AdminSettings />;\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { \n  ChatBubbleLeftRightIcon, \n  HeartIcon, \n  ShareIcon,\n  HandThumbUpIcon,\n  UserGroupIcon,\n  PhotoIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline';\n\nconst CommunityHub = () => {\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  const fetchProjects = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch projects from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock projects data\n      const mockProjects = [\n        {\n          id: 1,\n          title: 'Modern Kitchen Renovation',\n          description: 'Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances.',\n          author: 'John Smith',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 3, 15),\n          category: 'kitchen',\n          images: [\n            'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 24,\n          comments: 8,\n          shares: 3\n        },\n        {\n          id: 2,\n          title: 'Backyard Deck and Landscaping',\n          description: 'Built a new cedar deck and completely redesigned the backyard with native plants and a stone pathway.',\n          author: 'Sarah Johnson',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 3, 20),\n          category: 'outdoor',\n          images: [\n            'https://images.pexels.com/photos/5997993/pexels-photo-5997993.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 32,\n          comments: 12,\n          shares: 5\n        },\n        {\n          id: 3,\n          title: 'Bathroom Remodel Tips',\n          description: 'Professional tips for remodeling your bathroom on a budget while still achieving a luxury look.',\n          author: 'Michael Brown',\n          authorRole: 'provider',\n          authorAvatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 3, 25),\n          category: 'bathroom',\n          images: [\n            'https://images.pexels.com/photos/6585598/pexels-photo-6585598.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 45,\n          comments: 18,\n          shares: 10\n        },\n        {\n          id: 4,\n          title: 'DIY Living Room Makeover',\n          description: 'How I transformed my living room with just paint, new curtains, and rearranging furniture. Budget-friendly tips included!',\n          author: 'Emily Wilson',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 4, 2),\n          category: 'living',\n          images: [\n            'https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 38,\n          comments: 15,\n          shares: 7\n        },\n        {\n          id: 5,\n          title: 'Energy-Efficient Home Upgrades',\n          description: 'Sharing my experience installing solar panels, upgrading insulation, and replacing windows to create an energy-efficient home.',\n          author: 'David Lee',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 4, 5),\n          category: 'energy',\n          images: [\n            'https://images.pexels.com/photos/9875441/pexels-photo-9875441.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 29,\n          comments: 11,\n          shares: 8\n        },\n        {\n          id: 6,\n          title: 'Professional Painting Techniques',\n          description: 'Learn the techniques professionals use to get perfect paint results every time. From prep work to final touches.',\n          author: 'Jennifer Garcia',\n          authorRole: 'provider',\n          authorAvatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          date: new Date(2023, 4, 8),\n          category: 'painting',\n          images: [\n            'https://images.pexels.com/photos/6444256/pexels-photo-6444256.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n          ],\n          likes: 52,\n          comments: 23,\n          shares: 15\n        }\n      ];\n      \n      setProjects(mockProjects);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filter projects based on category and search term\n  const filteredProjects = projects.filter(project => {\n    const matchesFilter = filter === 'all' || project.category === filter;\n    const matchesSearch = project.title.toLowerCase().includes(searchTerm.toLowerCase()) || \n                          project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                          project.author.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  // Format date\n  const formatDate = (date) => {\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(date);\n  };\n\n  // Get category badge\n  const getCategoryBadge = (category) => {\n    const categories = {\n      kitchen: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'Kitchen' },\n      bathroom: { bg: 'bg-green-100', text: 'text-green-800', label: 'Bathroom' },\n      outdoor: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'Outdoor' },\n      living: { bg: 'bg-purple-100', text: 'text-purple-800', label: 'Living Room' },\n      energy: { bg: 'bg-red-100', text: 'text-red-800', label: 'Energy Efficiency' },\n      painting: { bg: 'bg-indigo-100', text: 'text-indigo-800', label: 'Painting' }\n    };\n    \n    const categoryInfo = categories[category] || { bg: 'bg-gray-100', text: 'text-gray-800', label: category };\n    \n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${categoryInfo.bg} ${categoryInfo.text}`}>\n        {categoryInfo.label}\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Community Hub</h1>\n        <p className=\"mt-2 text-sm text-gray-700\">\n          Share your home improvement projects, get inspired, and connect with others.\n        </p>\n      </div>\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n        {/* Filters and search */}\n        <div className=\"bg-white shadow rounded-lg p-6 mt-6\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n              <div>\n                <label htmlFor=\"filter\" className=\"block text-sm font-medium text-gray-700\">\n                  Filter by category\n                </label>\n                <select\n                  id=\"filter\"\n                  name=\"filter\"\n                  className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\"\n                  value={filter}\n                  onChange={(e) => setFilter(e.target.value)}\n                >\n                  <option value=\"all\">All Categories</option>\n                  <option value=\"kitchen\">Kitchen</option>\n                  <option value=\"bathroom\">Bathroom</option>\n                  <option value=\"outdoor\">Outdoor</option>\n                  <option value=\"living\">Living Room</option>\n                  <option value=\"energy\">Energy Efficiency</option>\n                  <option value=\"painting\">Painting</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"w-full md:w-64\">\n              <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700\">\n                Search\n              </label>\n              <div className=\"mt-1 relative rounded-md shadow-sm\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                </div>\n                <input\n                  type=\"text\"\n                  name=\"search\"\n                  id=\"search\"\n                  className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 sm:text-sm border-gray-300 rounded-md\"\n                  placeholder=\"Search projects...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Create post button */}\n        <div className=\"mt-6\">\n          <button\n            type=\"button\"\n            className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <PhotoIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n            Share Your Project\n          </button>\n        </div>\n\n        {/* Projects grid */}\n        <div className=\"mt-8 grid gap-6 lg:grid-cols-2\">\n          {filteredProjects.length > 0 ? (\n            filteredProjects.map((project) => (\n              <div key={project.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n                <div className=\"p-6\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0\">\n                      <img\n                        className=\"h-10 w-10 rounded-full\"\n                        src={project.authorAvatar}\n                        alt={project.author}\n                      />\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"flex items-center\">\n                        <h3 className=\"text-sm font-medium text-gray-900\">{project.author}</h3>\n                        {project.authorRole === 'provider' && (\n                          <span className=\"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                            Pro\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-500\">{formatDate(project.date)}</p>\n                    </div>\n                    <div className=\"ml-auto\">\n                      {getCategoryBadge(project.category)}\n                    </div>\n                  </div>\n                  <div className=\"mt-4\">\n                    <Link to={`/community/project/${project.id}`} className=\"text-lg font-medium text-blue-600 hover:text-blue-500\">\n                      {project.title}\n                    </Link>\n                    <p className=\"mt-2 text-sm text-gray-500\">{project.description}</p>\n                  </div>\n                  {project.images.length > 0 && (\n                    <div className=\"mt-4\">\n                      <img\n                        src={project.images[0]}\n                        alt={project.title}\n                        className=\"h-64 w-full object-cover rounded-lg\"\n                      />\n                    </div>\n                  )}\n                  <div className=\"mt-4 flex justify-between\">\n                    <div className=\"flex space-x-4\">\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                      >\n                        <HandThumbUpIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                        <span>{project.likes}</span>\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                      >\n                        <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                        <span>{project.comments}</span>\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                      >\n                        <ShareIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                        <span>{project.shares}</span>\n                      </button>\n                    </div>\n                    <Link\n                      to={`/community/project/${project.id}`}\n                      className=\"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500\"\n                    >\n                      View Details\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            ))\n          ) : (\n            <div className=\"lg:col-span-2 bg-white overflow-hidden shadow rounded-lg p-6 text-center text-gray-500\">\n              No projects found matching your criteria\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CommunityHub;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { supabase } from '../../lib/supabase';\nimport { \n  ChatBubbleLeftRightIcon, \n  HeartIcon, \n  ShareIcon,\n  HandThumbUpIcon,\n  ArrowLeftIcon,\n  PaperClipIcon,\n  PaperAirplaneIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\n\nconst ProjectDetails = () => {\n  const { id } = useParams();\n  const [project, setProject] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [commentText, setCommentText] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    fetchProjectDetails();\n  }, [id]);\n\n  const fetchProjectDetails = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real app, you would fetch project details from your database\n      // For demo purposes, we'll use mock data\n      \n      // Mock project data\n      const mockProject = {\n        id: parseInt(id),\n        title: 'Modern Kitchen Renovation',\n        description: 'Complete kitchen renovation with custom cabinets, quartz countertops, and new appliances. The project took approximately 6 weeks to complete and was done by a professional contractor.',\n        longDescription: `\n          <p>When we first moved into our home, the kitchen was functional but outdated. The cabinets were from the 90s, the countertops were laminate, and the appliances were showing their age. After saving for a few years, we decided it was time for a complete renovation.</p>\n          \n          <h3>Planning Phase</h3>\n          <p>We started by researching kitchen designs and creating a mood board. We wanted a modern look with clean lines, but also something that would stand the test of time. We worked with a kitchen designer to finalize the layout and select materials.</p>\n          \n          <h3>Demo and Construction</h3>\n          <p>The demo took about a week. Everything was removed down to the studs. This gave us the opportunity to update the electrical and plumbing to current code. The construction phase included:</p>\n          <ul>\n            <li>New drywall and ceiling</li>\n            <li>Recessed lighting and pendant lights over the island</li>\n            <li>Custom white shaker cabinets with soft-close hinges</li>\n            <li>Quartz countertops in a marble-look finish</li>\n            <li>Subway tile backsplash</li>\n            <li>New hardwood flooring to match the rest of the house</li>\n            <li>Stainless steel appliances (refrigerator, range, dishwasher, microwave)</li>\n          </ul>\n          \n          <h3>Challenges</h3>\n          <p>We discovered some water damage behind the sink that required additional work. This added about a week to the timeline and increased the budget by about $2,000. We also had a delay with the countertop installation due to a measurement error, which pushed things back another week.</p>\n          \n          <h3>Final Result</h3>\n          <p>Despite the challenges, we're thrilled with the final result. The kitchen is now the heart of our home, and we enjoy spending time cooking and entertaining. The investment has definitely been worth it, both for our enjoyment and for the value it's added to our home.</p>\n          \n          <h3>Budget Breakdown</h3>\n          <p>For those interested in the costs:</p>\n          <ul>\n            <li>Cabinets: $12,000</li>\n            <li>Countertops: $4,500</li>\n            <li>Appliances: $6,000</li>\n            <li>Flooring: $3,000</li>\n            <li>Lighting: $1,500</li>\n            <li>Plumbing fixtures: $800</li>\n            <li>Backsplash: $1,200</li>\n            <li>Labor: $15,000</li>\n            <li>Total: Approximately $44,000</li>\n          </ul>\n          \n          <p>Feel free to ask any questions in the comments!</p>\n        `,\n        author: 'John Smith',\n        authorRole: 'homeowner',\n        authorAvatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n        date: new Date(2023, 3, 15),\n        category: 'kitchen',\n        images: [\n          'https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          'https://images.pexels.com/photos/3214064/pexels-photo-3214064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\n          'https://images.pexels.com/photos/3926542/pexels-photo-3926542.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'\n        ],\n        likes: 24,\n        comments: 8,\n        shares: 3,\n        tags: ['kitchen', 'renovation', 'modern', 'quartz', 'custom cabinets']\n      };\n      \n      // Mock comments\n      const mockComments = [\n        {\n          id: 1,\n          author: 'Sarah Johnson',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          text: 'This looks amazing! I love the quartz countertops. How long did the entire renovation take?',\n          date: new Date(2023, 3, 16),\n          likes: 3\n        },\n        {\n          id: 2,\n          author: 'Michael Brown',\n          authorRole: 'provider',\n          authorAvatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          text: 'Great work! As a contractor, I appreciate the attention to detail. The subway tile backsplash is installed perfectly.',\n          date: new Date(2023, 3, 17),\n          likes: 5\n        },\n        {\n          id: 3,\n          author: 'Emily Wilson',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          text: 'I\\'m planning a similar renovation. Would you mind sharing your budget breakdown?',\n          date: new Date(2023, 3, 18),\n          likes: 2\n        },\n        {\n          id: 4,\n          author: 'John Smith',\n          authorRole: 'homeowner',\n          authorAvatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n          text: 'Thanks everyone! @Sarah - It took about 6 weeks total. @Emily - I\\'ve updated the post with a budget breakdown. Let me know if you have any other questions!',\n          date: new Date(2023, 3, 19),\n          likes: 4\n        }\n      ];\n      \n      setProject(mockProject);\n      setComments(mockComments);\n    } catch (error) {\n      console.error('Error fetching project details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmitComment = async (e) => {\n    e.preventDefault();\n    \n    if (!commentText.trim()) return;\n    \n    try {\n      setSubmitting(true);\n      \n      // In a real app, you would save the comment to your database\n      // For demo purposes, we'll just add it to the local state\n      \n      const newComment = {\n        id: comments.length + 1,\n        author: 'Current User',\n        authorRole: 'homeowner',\n        authorAvatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n        text: commentText,\n        date: new Date(),\n        likes: 0\n      };\n      \n      setComments([...comments, newComment]);\n      setCommentText('');\n      \n      // Update comment count\n      setProject({\n        ...project,\n        comments: project.comments + 1\n      });\n      \n    } catch (error) {\n      console.error('Error submitting comment:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Format date\n  const formatDate = (date) => {\n    return format(date, 'MMM d, yyyy');\n  };\n\n  // Get category badge\n  const getCategoryBadge = (category) => {\n    const categories = {\n      kitchen: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'Kitchen' },\n      bathroom: { bg: 'bg-green-100', text: 'text-green-800', label: 'Bathroom' },\n      outdoor: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'Outdoor' },\n      living: { bg: 'bg-purple-100', text: 'text-purple-800', label: 'Living Room' },\n      energy: { bg: 'bg-red-100', text: 'text-red-800', label: 'Energy Efficiency' },\n      painting: { bg: 'bg-indigo-100', text: 'text-indigo-800', label: 'Painting' }\n    };\n    \n    const categoryInfo = categories[category] || { bg: 'bg-gray-100', text: 'text-gray-800', label: category };\n    \n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${categoryInfo.bg} ${categoryInfo.text}`}>\n        {categoryInfo.label}\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (!project) {\n    return (\n      <div className=\"py-6\">\n        <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg p-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Project not found</h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                The project you're looking for doesn't exist or has been removed.\n              </p>\n              <div className=\"mt-6\">\n                <Link\n                  to=\"/community\"\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  <ArrowLeftIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n                  Back to Community\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"py-6\">\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Back button */}\n        <div className=\"mb-6\">\n          <Link\n            to=\"/community\"\n            className=\"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500\"\n          >\n            <ArrowLeftIcon className=\"mr-1 h-5 w-5\" aria-hidden=\"true\" />\n            Back to Community\n          </Link>\n        </div>\n        \n        {/* Project details */}\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:px-6\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <img\n                  className=\"h-12 w-12 rounded-full\"\n                  src={project.authorAvatar}\n                  alt={project.author}\n                />\n              </div>\n              <div className=\"ml-4\">\n                <div className=\"flex items-center\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">{project.author}</h3>\n                  {project.authorRole === 'provider' && (\n                    <span className=\"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                      Pro\n                    </span>\n                  )}\n                </div>\n                <p className=\"text-sm text-gray-500\">{formatDate(project.date)}</p>\n              </div>\n              <div className=\"ml-auto\">\n                {getCategoryBadge(project.category)}\n              </div>\n            </div>\n          </div>\n          \n          {/* Project images */}\n          {project.images.length > 0 && (\n            <div className=\"border-t border-gray-200\">\n              <div className=\"px-4 py-5 sm:px-6\">\n                <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\n                  <div className=\"col-span-2\">\n                    <img\n                      src={project.images[0]}\n                      alt={project.title}\n                      className=\"h-64 w-full object-cover rounded-lg\"\n                    />\n                  </div>\n                  {project.images.slice(1).map((image, index) => (\n                    <div key={index}>\n                      <img\n                        src={image}\n                        alt={`${project.title} ${index + 2}`}\n                        className=\"h-40 w-full object-cover rounded-lg\"\n                      />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n          \n          {/* Project content */}\n          <div className=\"border-t border-gray-200\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">{project.title}</h2>\n              <p className=\"mt-2 text-sm text-gray-500\">{project.description}</p>\n              \n              <div className=\"mt-4 prose prose-sm max-w-none\" dangerouslySetInnerHTML={{ __html: project.longDescription }} />\n              \n              {/* Tags */}\n              {project.tags && project.tags.length > 0 && (\n                <div className=\"mt-4 flex flex-wrap gap-2\">\n                  {project.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\"\n                    >\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n              \n              {/* Actions */}\n              <div className=\"mt-6 flex justify-between border-t border-gray-200 pt-4\">\n                <div className=\"flex space-x-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                  >\n                    <HandThumbUpIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                    <span>{project.likes}</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                  >\n                    <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                    <span>{project.comments}</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900\"\n                  >\n                    <ShareIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                    <span>{project.shares}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Comments section */}\n          <div className=\"border-t border-gray-200\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Comments ({comments.length})</h3>\n              \n              {/* Comment form */}\n              <div className=\"mt-4\">\n                <form onSubmit={handleSubmitComment}>\n                  <div className=\"flex items-start space-x-4\">\n                    <div className=\"flex-shrink-0\">\n                      <img\n                        className=\"h-10 w-10 rounded-full\"\n                        src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"\n                        alt=\"Current user\"\n                      />\n                    </div>\n                    <div className=\"min-w-0 flex-1\">\n                      <div className=\"border border-gray-300 rounded-lg shadow-sm overflow-hidden focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500\">\n                        <textarea\n                          rows={3}\n                          name=\"comment\"\n                          id=\"comment\"\n                          className=\"block w-full py-3 border-0 resize-none focus:ring-0 sm:text-sm\"\n                          placeholder=\"Add a comment...\"\n                          value={commentText}\n                          onChange={(e) => setCommentText(e.target.value)}\n                        />\n                        <div className=\"py-2 px-3 border-t border-gray-200\">\n                          <div className=\"flex justify-between items-center\">\n                            <div className=\"flex items-center\">\n                              <button\n                                type=\"button\"\n                                className=\"-m-2.5 w-10 h-10 rounded-full inline-flex items-center justify-center text-gray-400 hover:text-gray-500\"\n                              >\n                                <PaperClipIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                <span className=\"sr-only\">Attach a file</span>\n                              </button>\n                            </div>\n                            <div className=\"flex-shrink-0\">\n                              <button\n                                type=\"submit\"\n                                disabled={!commentText.trim() || submitting}\n                                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                              >\n                                {submitting ? (\n                                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                  </svg>\n                                ) : (\n                                  <PaperAirplaneIcon className=\"-ml-1 mr-2 h-4 w-4\" />\n                                )}\n                                Post\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n              \n              {/* Comments list */}\n              <div className=\"mt-6 space-y-6\">\n                {comments.map((comment) => (\n                  <div key={comment.id} className=\"flex space-x-4\">\n                    <div className=\"flex-shrink-0\">\n                      <img\n                        className=\"h-10 w-10 rounded-full\"\n                        src={comment.authorAvatar}\n                        alt={comment.author}\n                      />\n                    </div>\n                    <div className=\"flex-1 bg-gray-50 rounded-lg px-4 py-2 sm:px-6 sm:py-4\">\n                      <div className=\"sm:flex sm:justify-between sm:items-baseline\">\n                        <div>\n                          <div className=\"flex items-center\">\n                            <h3 className=\"text-sm font-medium text-gray-900\">{comment.author}</h3>\n                            {comment.authorRole === 'provider' && (\n                              <span className=\"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                                Pro\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        <p className=\"mt-1 text-xs text-gray-500 sm:mt-0\">{formatDate(comment.date)}</p>\n                      </div>\n                      <div className=\"mt-2 text-sm text-gray-700\">\n                        <p>{comment.text}</p>\n                      </div>\n                      <div className=\"mt-2 text-sm\">\n                        <button\n                          type=\"button\"\n                          className=\"inline-flex items-center text-gray-500 hover:text-gray-700\"\n                        >\n                          <HandThumbUpIcon className=\"h-4 w-4 mr-1\" />\n                          <span>{comment.likes}</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetails;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useApp } from '../../contexts/AppContext';\n\nconst Home = () => {\n  const { user } = useAuth();\n  const { userProfile } = useApp();\n  const role = userProfile?.role || 'homeowner';\n\n  return (\n    <div className=\"bg-white\">\n      {/* Header */}\n      <header className=\"relative bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6\">\n          <div className=\"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10\">\n            <div className=\"flex justify-start lg:w-0 lg:flex-1\">\n              <Link to=\"/\" className=\"text-2xl font-bold text-blue-600\">\n                ServiceConnectPro\n              </Link>\n            </div>\n            \n            <nav className=\"hidden md:flex space-x-10\">\n              <Link to=\"/about\" className=\"text-base font-medium text-gray-500 hover:text-gray-900\">\n                About\n              </Link>\n              <Link to=\"/pricing\" className=\"text-base font-medium text-gray-500 hover:text-gray-900\">\n                Pricing\n              </Link>\n              <Link to=\"/contact\" className=\"text-base font-medium text-gray-500 hover:text-gray-900\">\n                Contact\n              </Link>\n            </nav>\n            \n            <div className=\"hidden md:flex items-center justify-end md:flex-1 lg:w-0\">\n              {user ? (\n                <Link\n                  to={`/${role}/dashboard`}\n                  className=\"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700\"\n                >\n                  Dashboard\n                </Link>\n              ) : (\n                <>\n                  <Link to=\"/login\" className=\"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900\">\n                    Sign in\n                  </Link>\n                  <Link\n                    to=\"/register\"\n                    className=\"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700\"\n                  >\n                    Sign up\n                  </Link>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Hero section */}\n      <div className=\"relative\">\n        <div className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\n          <div className=\"relative shadow-xl sm:rounded-2xl sm:overflow-hidden\">\n            <div className=\"absolute inset-0\">\n              <img\n                className=\"h-full w-full object-cover\"\n                src=\"https://images.pexels.com/photos/3990359/pexels-photo-3990359.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\"\n                alt=\"Home renovation\"\n              />\n              <div className=\"absolute inset-0 bg-blue-700 mix-blend-multiply\"></div>\n            </div>\n            <div className=\"relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8\">\n              <h1 className=\"text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl\">\n                <span className=\"block text-white\">Connect with trusted</span>\n                <span className=\"block text-blue-200\">home service professionals</span>\n              </h1>\n              <p className=\"mt-6 max-w-lg mx-auto text-center text-xl text-white sm:max-w-3xl\">\n                Find qualified service providers for your home renovation and maintenance projects. \n                Get quotes, schedule appointments, and manage your projects all in one place.\n              </p>\n              <div className=\"mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center\">\n                <div className=\"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5\">\n                  <Link\n                    to={user ? `/${role}/dashboard` : \"/register\"}\n                    className=\"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-700 bg-white hover:bg-blue-50 sm:px-8\"\n                  >\n                    {user ? 'Go to Dashboard' : 'Get started'}\n                  </Link>\n                  <Link\n                    to=\"/about\"\n                    className=\"flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-500 bg-opacity-60 hover:bg-opacity-70 sm:px-8\"\n                  >\n                    Learn more\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Features section */}\n      <div className=\"py-12 bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"lg:text-center\">\n            <h2 className=\"text-base text-blue-600 font-semibold tracking-wide uppercase\">Features</h2>\n            <p className=\"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl\">\n              A better way to manage home projects\n            </p>\n            <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\">\n              Our platform connects homeowners with qualified service providers and streamlines the entire project management process.\n            </p>\n          </div>\n\n          <div className=\"mt-10\">\n            <dl className=\"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10\">\n              <div className=\"relative\">\n                <dt>\n                  <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white\">\n                    <svg className=\"h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                  <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">Project Management</p>\n                </dt>\n                <dd className=\"mt-2 ml-16 text-base text-gray-500\">\n                  Create and manage projects, set budgets, track progress, and communicate with service providers all in one place.\n                </dd>\n              </div>\n\n              <div className=\"relative\">\n                <dt>\n                  <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white\">\n                    <svg className=\"h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n                    </svg>\n                  </div>\n                  <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">Verified Providers</p>\n                </dt>\n                <dd className=\"mt-2 ml-16 text-base text-gray-500\">\n                  All service providers are verified and reviewed by other homeowners, ensuring you get quality work from trusted professionals.\n                </dd>\n              </div>\n\n              <div className=\"relative\">\n                <dt>\n                  <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white\">\n                    <svg className=\"h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                  <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">Scheduling</p>\n                </dt>\n                <dd className=\"mt-2 ml-16 text-base text-gray-500\">\n                  Schedule appointments, set reminders, and coordinate with service providers using our integrated calendar system.\n                </dd>\n              </div>\n\n              <div className=\"relative\">\n                <dt>\n                  <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white\">\n                    <svg className=\"h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z\" />\n                    </svg>\n                  </div>\n                  <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">Secure Messaging</p>\n                </dt>\n                <dd className=\"mt-2 ml-16 text-base text-gray-500\">\n                  Communicate directly with service providers through our secure messaging system, keeping all project communications in one place.\n                </dd>\n              </div>\n            </dl>\n          </div>\n        </div>\n      </div>\n\n      {/* CTA section */}\n      <div className=\"bg-blue-700\">\n        <div className=\"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8\">\n          <h2 className=\"text-3xl font-extrabold text-white sm:text-4xl\">\n            <span className=\"block\">Ready to get started?</span>\n            <span className=\"block\">Sign up for free today.</span>\n          </h2>\n          <p className=\"mt-4 text-lg leading-6 text-blue-200\">\n            Join thousands of homeowners and service providers already using ServiceConnectPro to simplify home project management.\n          </p>\n          <Link\n            to={user ? `/${role}/dashboard` : \"/register\"}\n            className=\"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 sm:w-auto\"\n          >\n            {user ? 'Go to Dashboard' : 'Sign up for free'}\n          </Link>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"bg-white\">\n        <div className=\"max-w-7xl mx-auto py-12 px-4 overflow-hidden sm:px-6 lg:px-8\">\n          <nav className=\"-mx-5 -my-2 flex flex-wrap justify-center\" aria-label=\"Footer\">\n            <div className=\"px-5 py-2\">\n              <Link to=\"/about\" className=\"text-base text-gray-500 hover:text-gray-900\">\n                About\n              </Link>\n            </div>\n            <div className=\"px-5 py-2\">\n              <Link to=\"/pricing\" className=\"text-base text-gray-500 hover:text-gray-900\">\n                Pricing\n              </Link>\n            </div>\n            <div className=\"px-5 py-2\">\n              <Link to=\"/contact\" className=\"text-base text-gray-500 hover:text-gray-900\">\n                Contact\n              </Link>\n            </div>\n            <div className=\"px-5 py-2\">\n              <Link to=\"/terms\" className=\"text-base text-gray-500 hover:text-gray-900\">\n                Terms\n              </Link>\n            </div>\n            <div className=\"px-5 py-2\">\n              <Link to=\"/privacy\" className=\"text-base text-gray-500 hover:text-gray-900\">\n                Privacy\n              </Link>\n            </div>\n          </nav>\n          <p className=\"mt-8 text-center text-base text-gray-400\">\n            &copy; 2023 ServiceConnectPro. All rights reserved.\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst About = () => {\n  return (\n    <div className=\"bg-white\">\n      {/* Header */}\n      <header className=\"relative bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6\">\n          <div className=\"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10\">\n            <div className=\"flex justify-start lg:w-0 lg:flex-1\">\n              <Link to=\"/\" className=\"text-xl font-bold text-blue-600\">\n                ServiceConnectPro\n              </Link>\n            </div>\n            <div className=\"hidden md:flex items-center justify-end md:flex-1 lg:w-0\">\n              <Link to=\"/login\" className=\"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900\">\n                Sign in\n              </Link>\n              <Link\n                to=\"/register\"\n                className=\"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700\"\n              >\n                Sign up\n              </Link>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Hero section */}\n      <div className=\"relative py-16 bg-white overflow-hidden\">\n        <div className=\"hidden lg:block lg:absolute lg:inset-y-0 lg:h-full lg:w-full\">\n          <div className=\"relative h-full text-lg max-w-prose mx-auto\" aria-hidden=\"true\">\n            <svg\n              className=\"absolute top-12 left-full transform translate-x-32\"\n              width={404}\n              height={384}\n              fill=\"none\"\n              viewBox=\"0 0 404 384\"\n            >\n              <defs>\n                <pattern\n                  id=\"74b3fd99-0a6f-4271-bef2-e80eeafdf357\"\n                  x={0}\n                  y={0}\n                  width={20}\n                  height={20}\n                  patternUnits=\"userSpaceOnUse\"\n                >\n                  <rect x={0} y={0} width={4} height={4} className=\"text-gray-200\" fill=\"currentColor\" />\n                </pattern>\n              </defs>\n              <rect width={404} height={384} fill=\"url(#74b3fd99-0a6f-4271-bef2-e80eeafdf357)\" />\n            </svg>\n            <svg\n              className=\"absolute top-1/2 right-full transform -translate-y-1/2 -translate-x-32\"\n              width={404}\n              height={384}\n              fill=\"none\"\n              viewBox=\"0 0 404 384\"\n            >\n              <defs>\n                <pattern\n                  id=\"f210dbf6-a58d-4871-961e-36d5016a0f49\"\n                  x={0}\n                  y={0}\n                  width={20}\n                  height={20}\n                  patternUnits=\"userSpaceOnUse\"\n                >\n                  <rect x={0} y={0} width={4} height={4} className=\"text-gray-200\" fill=\"currentColor\" />\n                </pattern>\n              </defs>\n              <rect width={404} height={384} fill=\"url(#f210dbf6-a58d-4871-961e-36d5016a0f49)\" />\n            </svg>\n          </div>\n        </div>\n        <div className=\"relative px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-lg max-w-prose mx-auto\">\n            <h1>\n              <span className=\"block text-base text-center text-blue-600 font-semibold tracking-wide uppercase\">\n                About Us\n              </span>\n              <span className=\"mt-2 block text-3xl text-center leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl\">\n                Our Mission and Story\n              </span>\n            </h1>\n            <p className=\"mt-8 text-xl text-gray-500 leading-8\">\n              ServiceConnectPro was founded with a simple mission: to transform how homeowners find and work with service professionals, making home improvement and maintenance easier, more transparent, and more reliable.\n            </p>\n          </div>\n          <div className=\"mt-6 prose prose-blue prose-lg text-gray-500 mx-auto\">\n            <h2>Our Beginning</h2>\n            <p>\n              The idea for ServiceConnectPro was born out of frustration. Our founders, experienced homeowners and service providers themselves, recognized the challenges that existed on both sides of the home service industry:\n            </p>\n            <ul>\n              <li>Homeowners struggled to find reliable, qualified professionals</li>\n              <li>Service providers faced challenges in finding new clients and managing their businesses</li>\n              <li>Both sides dealt with communication issues, scheduling conflicts, and payment complications</li>\n            </ul>\n            <p>\n              In 2023, we set out to build a platform that would address these pain points and create a better experience for everyone involved.\n            </p>\n            \n            <h2>What We Believe</h2>\n            <p>\n              At ServiceConnectPro, we believe that home improvement and maintenance shouldn't be stressful. We're guided by a few core principles:\n            </p>\n            <ul>\n              <li><strong>Trust and transparency</strong> are essential in the home service industry</li>\n              <li><strong>Technology</strong> can simplify and improve the experience for both homeowners and service providers</li>\n              <li><strong>Quality work</strong> deserves recognition and fair compensation</li>\n              <li><strong>Communication</strong> is the foundation of successful projects</li>\n            </ul>\n            \n            <figure>\n              <img\n                className=\"w-full rounded-lg\"\n                src=\"https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2\"\n                alt=\"Team meeting\"\n                width={1310}\n                height={873}\n              />\n              <figcaption>Our team working to improve the platform</figcaption>\n            </figure>\n            \n            <h2>How We're Different</h2>\n            <p>\n              Unlike other platforms, ServiceConnectPro focuses on building lasting relationships between homeowners and service providers. We're not just about one-time transactions—we're about creating a community where:\n            </p>\n            <ul>\n              <li>Homeowners can find trusted professionals for all their home service needs</li>\n              <li>Service providers can build their reputation and grow their business</li>\n              <li>Both sides benefit from streamlined communication, scheduling, and payment processes</li>\n            </ul>\n            \n            <h2>Our Team</h2>\n            <p>\n              ServiceConnectPro is built by a diverse team of professionals with backgrounds in technology, home services, customer experience, and business development. We're united by our passion for solving real problems and creating value for our users.\n            </p>\n            \n            <h2>Join Us</h2>\n            <p>\n              Whether you're a homeowner looking for reliable service professionals or a provider looking to grow your business, we invite you to join the ServiceConnectPro community. Together, we can transform the home service industry.\n            </p>\n            \n            <div className=\"mt-10\">\n              <Link\n                to=\"/register\"\n                className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Get Started Today\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-800\">\n        <div className=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8\">\n          <div className=\"xl:grid xl:grid-cols-3 xl:gap-8\">\n            <div className=\"space-y-8 xl:col-span-1\">\n              <h2 className=\"text-xl font-bold text-white\">ServiceConnectPro</h2>\n              <p className=\"text-gray-300 text-base\">\n                Connecting homeowners with trusted service professionals since 2023.\n              </p>\n              <div className=\"flex space-x-6\">\n                {/* Social media links would go here */}\n              </div>\n            </div>\n            <div className=\"mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2\">\n              <div className=\"md:grid md:grid-cols-2 md:gap-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Solutions</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        For Homeowners\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        For Service Providers\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/pricing\" className=\"text-base text-gray-300 hover:text-white\">\n                        Pricing\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"mt-12 md:mt-0\">\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Support</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Help Center\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/contact\" className=\"text-base text-gray-300 hover:text-white\">\n                        Contact Us\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        FAQ\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"md:grid md:grid-cols-2 md:gap-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Company</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"/about\" className=\"text-base text-gray-300 hover:text-white\">\n                        About\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Blog\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Careers\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"mt-12 md:mt-0\">\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Legal</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Privacy\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Terms\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-12 border-t border-gray-700 pt-8\">\n            <p className=\"text-base text-gray-400 xl:text-center\">\n              &copy; 2023 ServiceConnectPro. All rights reserved.\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default About;\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Contact = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    subject: '',\n    message: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setError(null);\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Success handling\n      setSubmitSuccess(true);\n      setFormData({\n        name: '',\n        email: '',\n        subject: '',\n        message: ''\n      });\n      \n      // Reset success message after 5 seconds\n      setTimeout(() => {\n        setSubmitSuccess(false);\n      }, 5000);\n    } catch (err) {\n      setError('There was an error sending your message. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      {/* Hero Section */}\n      <div className=\"bg-blue-600 text-white py-16\">\n        <div className=\"container mx-auto px-4\">\n          <h1 className=\"text-4xl font-bold mb-4\">Contact Us</h1>\n          <p className=\"text-xl max-w-2xl\">\n            Have questions about our platform? Need help with your project? \n            Our team is here to assist you every step of the way.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\n          {/* Contact Form */}\n          <div className=\"bg-white rounded-lg shadow-md p-8\">\n            <h2 className=\"text-2xl font-semibold mb-6\">Send Us a Message</h2>\n            \n            {submitSuccess && (\n              <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6\">\n                Thank you for your message! We'll get back to you soon.\n              </div>\n            )}\n            \n            {error && (\n              <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n                {error}\n              </div>\n            )}\n            \n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-4\">\n                <label htmlFor=\"name\" className=\"block text-gray-700 font-medium mb-2\">\n                  Your Name\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n              \n              <div className=\"mb-4\">\n                <label htmlFor=\"email\" className=\"block text-gray-700 font-medium mb-2\">\n                  Email Address\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n              \n              <div className=\"mb-4\">\n                <label htmlFor=\"subject\" className=\"block text-gray-700 font-medium mb-2\">\n                  Subject\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"subject\"\n                  name=\"subject\"\n                  value={formData.subject}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n              \n              <div className=\"mb-6\">\n                <label htmlFor=\"message\" className=\"block text-gray-700 font-medium mb-2\">\n                  Message\n                </label>\n                <textarea\n                  id=\"message\"\n                  name=\"message\"\n                  value={formData.message}\n                  onChange={handleChange}\n                  rows=\"5\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  required\n                ></textarea>\n              </div>\n              \n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className={`w-full bg-blue-600 text-white py-3 px-4 rounded-md font-medium transition ${\n                  isSubmitting ? 'opacity-70 cursor-not-allowed' : 'hover:bg-blue-700'\n                }`}\n              >\n                {isSubmitting ? 'Sending...' : 'Send Message'}\n              </button>\n            </form>\n          </div>\n          \n          {/* Contact Information */}\n          <div>\n            <h2 className=\"text-2xl font-semibold mb-6\">Contact Information</h2>\n            \n            <div className=\"space-y-8\">\n              <div className=\"flex items-start\">\n                <div className=\"bg-blue-100 p-3 rounded-full mr-4\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Phone</h3>\n                  <p className=\"mt-1 text-gray-600\">+1 (555) 123-4567</p>\n                  <p className=\"mt-1 text-gray-600\">Monday-Friday, 9am-5pm EST</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"bg-blue-100 p-3 rounded-full mr-4\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Email</h3>\n                  <p className=\"mt-1 text-gray-600\">support@renovationplatform.com</p>\n                  <p className=\"mt-1 text-gray-600\">We'll respond within 24 hours</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-start\">\n                <div className=\"bg-blue-100 p-3 rounded-full mr-4\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900\">Office</h3>\n                  <p className=\"mt-1 text-gray-600\">123 Renovation Street</p>\n                  <p className=\"mt-1 text-gray-600\">Suite 456</p>\n                  <p className=\"mt-1 text-gray-600\">San Francisco, CA 94103</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-12\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Follow Us</h3>\n              <div className=\"flex space-x-4\">\n                <a href=\"#\" className=\"text-gray-600 hover:text-blue-600\">\n                  <span className=\"sr-only\">Facebook</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path fillRule=\"evenodd\" d=\"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z\" clipRule=\"evenodd\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-600 hover:text-blue-600\">\n                  <span className=\"sr-only\">Instagram</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path fillRule=\"evenodd\" d=\"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z\" clipRule=\"evenodd\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-600 hover:text-blue-600\">\n                  <span className=\"sr-only\">Twitter</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path d=\"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-600 hover:text-blue-600\">\n                  <span className=\"sr-only\">LinkedIn</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\" />\n                  </svg>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Contact;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Pricing = () => {\n  const [billingPeriod, setBillingPeriod] = useState('monthly');\n  \n  const plans = [\n    {\n      name: 'Basic',\n      description: 'Perfect for homeowners with occasional projects',\n      monthlyPrice: 0,\n      yearlyPrice: 0,\n      features: [\n        'Post up to 3 projects',\n        'Connect with up to 5 service providers',\n        'Basic project management tools',\n        'Community forum access',\n        'Email support'\n      ],\n      cta: 'Get Started',\n      highlighted: false\n    },\n    {\n      name: 'Premium',\n      description: 'For homeowners with multiple renovation needs',\n      monthlyPrice: 19.99,\n      yearlyPrice: 199.99,\n      features: [\n        'Unlimited project postings',\n        'Priority matching with providers',\n        'Advanced project management tools',\n        'Milestone tracking',\n        'Document storage',\n        'Phone and email support',\n        'Verified provider access'\n      ],\n      cta: 'Start Free Trial',\n      highlighted: true\n    },\n    {\n      name: 'Professional',\n      description: 'For service providers looking to grow their business',\n      monthlyPrice: 49.99,\n      yearlyPrice: 499.99,\n      features: [\n        'Featured provider listing',\n        'Unlimited project bidding',\n        'Business profile customization',\n        'Client management tools',\n        'Payment processing',\n        'Marketing tools',\n        'Analytics dashboard',\n        'Priority support'\n      ],\n      cta: 'Start Free Trial',\n      highlighted: false\n    }\n  ];\n\n  return (\n    <div className=\"bg-gray-50\">\n      {/* Header */}\n      <header className=\"relative bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6\">\n          <div className=\"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10\">\n            <div className=\"flex justify-start lg:w-0 lg:flex-1\">\n              <Link to=\"/\" className=\"text-xl font-bold text-blue-600\">\n                ServiceConnectPro\n              </Link>\n            </div>\n            <div className=\"hidden md:flex items-center justify-end md:flex-1 lg:w-0\">\n              <Link to=\"/login\" className=\"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900\">\n                Sign in\n              </Link>\n              <Link\n                to=\"/register\"\n                className=\"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700\"\n              >\n                Sign up\n              </Link>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Pricing Section */}\n      <div className=\"max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8\">\n        <div className=\"sm:flex sm:flex-col sm:align-center\">\n          <h1 className=\"text-5xl font-extrabold text-gray-900 sm:text-center\">Pricing Plans</h1>\n          <p className=\"mt-5 text-xl text-gray-500 sm:text-center\">\n            Choose the perfect plan for your needs. Start with a 14-day free trial.\n          </p>\n          \n          {/* Toggle between monthly and yearly billing */}\n          <div className=\"relative self-center mt-6 bg-gray-100 rounded-lg p-0.5 flex sm:mt-8\">\n            <button\n              type=\"button\"\n              className={`${\n                billingPeriod === 'monthly' ? 'bg-white border-gray-200 shadow-sm' : 'border border-transparent'\n              } relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`}\n              onClick={() => setBillingPeriod('monthly')}\n            >\n              Monthly billing\n            </button>\n            <button\n              type=\"button\"\n              className={`${\n                billingPeriod === 'yearly' ? 'bg-white border-gray-200 shadow-sm' : 'border border-transparent'\n              } ml-0.5 relative w-1/2 rounded-md py-2 text-sm font-medium whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-blue-500 focus:z-10 sm:w-auto sm:px-8`}\n              onClick={() => setBillingPeriod('yearly')}\n            >\n              Yearly billing\n              <span className=\"absolute -top-2 -right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800\">\n                Save 15%\n              </span>\n            </button>\n          </div>\n        </div>\n\n        {/* Pricing Cards */}\n        <div className=\"mt-12 space-y-4 sm:mt-16 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6 lg:max-w-4xl lg:mx-auto xl:max-w-none xl:mx-0 xl:grid-cols-3\">\n          {plans.map((plan) => (\n            <div\n              key={plan.name}\n              className={`${\n                plan.highlighted\n                  ? 'border-2 border-blue-500 shadow-xl'\n                  : 'border border-gray-200'\n              } rounded-lg shadow-sm divide-y divide-gray-200 bg-white`}\n            >\n              {plan.highlighted && (\n                <div className=\"bg-blue-500 text-white text-center py-2 rounded-t-lg\">\n                  Most Popular\n                </div>\n              )}\n              <div className=\"p-6\">\n                <h2 className=\"text-2xl font-semibold text-gray-900\">{plan.name}</h2>\n                <p className=\"mt-2 text-gray-500\">{plan.description}</p>\n                <p className=\"mt-8\">\n                  <span className=\"text-4xl font-extrabold text-gray-900\">\n                    ${billingPeriod === 'monthly' ? plan.monthlyPrice : plan.yearlyPrice}\n                  </span>\n                  <span className=\"text-base font-medium text-gray-500\">\n                    /{billingPeriod === 'monthly' ? 'mo' : 'year'}\n                  </span>\n                </p>\n                <Link\n                  to=\"/register\"\n                  className={`${\n                    plan.highlighted\n                      ? 'bg-blue-500 hover:bg-blue-600 focus:ring-blue-500'\n                      : 'bg-blue-50 text-blue-700 hover:bg-blue-100 focus:ring-blue-200'\n                  } mt-8 block w-full py-3 px-6 border border-transparent rounded-md text-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2`}\n                >\n                  {plan.cta}\n                </Link>\n              </div>\n              <div className=\"pt-6 pb-8 px-6\">\n                <h3 className=\"text-sm font-medium text-gray-900 tracking-wide uppercase\">What's included</h3>\n                <ul className=\"mt-6 space-y-4\">\n                  {plan.features.map((feature, index) => (\n                    <li key={index} className=\"flex\">\n                      <svg\n                        className=\"flex-shrink-0 h-6 w-6 text-green-500\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                        aria-hidden=\"true\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M5 13l4 4L19 7\"\n                        />\n                      </svg>\n                      <span className=\"ml-3 text-base text-gray-500\">{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* FAQ Section */}\n      <div className=\"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:py-24 lg:px-8\">\n        <div className=\"max-w-3xl mx-auto divide-y-2 divide-gray-200\">\n          <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Frequently asked questions\n          </h2>\n          <dl className=\"mt-6 space-y-6 divide-y divide-gray-200\">\n            <div className=\"pt-6\">\n              <dt className=\"text-lg font-medium text-gray-900\">\n                Can I cancel my subscription at any time?\n              </dt>\n              <dd className=\"mt-2 text-base text-gray-500\">\n                Yes, you can cancel your subscription at any time. Your plan will remain active until the end of your current billing period.\n              </dd>\n            </div>\n            <div className=\"pt-6\">\n              <dt className=\"text-lg font-medium text-gray-900\">\n                What payment methods do you accept?\n              </dt>\n              <dd className=\"mt-2 text-base text-gray-500\">\n                We accept all major credit cards, PayPal, and bank transfers for annual plans.\n              </dd>\n            </div>\n            <div className=\"pt-6\">\n              <dt className=\"text-lg font-medium text-gray-900\">\n                Do you offer discounts for non-profits or educational institutions?\n              </dt>\n              <dd className=\"mt-2 text-base text-gray-500\">\n                Yes, we offer special pricing for non-profits, educational institutions, and community organizations. Please contact our sales team for more information.\n              </dd>\n            </div>\n            <div className=\"pt-6\">\n              <dt className=\"text-lg font-medium text-gray-900\">\n                Can I upgrade or downgrade my plan later?\n              </dt>\n              <dd className=\"mt-2 text-base text-gray-500\">\n                Absolutely! You can upgrade your plan at any time and the new features will be immediately available. If you downgrade, the changes will take effect at the start of your next billing cycle.\n              </dd>\n            </div>\n            <div className=\"pt-6\">\n              <dt className=\"text-lg font-medium text-gray-900\">\n                Is there a limit to how many projects I can create?\n              </dt>\n              <dd className=\"mt-2 text-base text-gray-500\">\n                The Basic plan allows up to 3 active projects at a time. Premium and Professional plans offer unlimited project creation.\n              </dd>\n            </div>\n          </dl>\n        </div>\n      </div>\n\n      {/* CTA Section */}\n      <div className=\"bg-blue-700\">\n        <div className=\"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8\">\n          <h2 className=\"text-3xl font-extrabold text-white sm:text-4xl\">\n            <span className=\"block\">Ready to get started?</span>\n            <span className=\"block\">Start your free trial today.</span>\n          </h2>\n          <p className=\"mt-4 text-lg leading-6 text-blue-200\">\n            Join thousands of homeowners and service providers already using ServiceConnectPro to simplify their renovation projects.\n          </p>\n          <Link\n            to=\"/register\"\n            className=\"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 sm:w-auto\"\n          >\n            Sign up for free\n          </Link>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-800\">\n        <div className=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8\">\n          <div className=\"xl:grid xl:grid-cols-3 xl:gap-8\">\n            <div className=\"space-y-8 xl:col-span-1\">\n              <h2 className=\"text-xl font-bold text-white\">ServiceConnectPro</h2>\n              <p className=\"text-gray-300 text-base\">\n                Connecting homeowners with trusted service professionals since 2023.\n              </p>\n              <div className=\"flex space-x-6\">\n                {/* Social media links would go here */}\n              </div>\n            </div>\n            <div className=\"mt-12 grid grid-cols-2 gap-8 xl:mt-0 xl:col-span-2\">\n              <div className=\"md:grid md:grid-cols-2 md:gap-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Solutions</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        For Homeowners\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        For Service Providers\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/pricing\" className=\"text-base text-gray-300 hover:text-white\">\n                        Pricing\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"mt-12 md:mt-0\">\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Support</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Help Center\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"/contact\" className=\"text-base text-gray-300 hover:text-white\">\n                        Contact Us\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        FAQ\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"md:grid md:grid-cols-2 md:gap-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Company</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"/about\" className=\"text-base text-gray-300 hover:text-white\">\n                        About\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Blog\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Careers\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"mt-12 md:mt-0\">\n                  <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">Legal</h3>\n                  <ul className=\"mt-4 space-y-4\">\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Privacy\n                      </Link>\n                    </li>\n                    <li>\n                      <Link to=\"#\" className=\"text-base text-gray-300 hover:text-white\">\n                        Terms\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-12 border-t border-gray-700 pt-8\">\n            <p className=\"text-base text-gray-400 xl:text-center\">\n              &copy; 2023 ServiceConnectPro. All rights reserved.\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Pricing;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound = () => {\n  return (\n    <div className=\"min-h-screen bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8\">\n      <div className=\"max-w-max mx-auto\">\n        <main className=\"sm:flex\">\n          <p className=\"text-4xl font-extrabold text-blue-600 sm:text-5xl\">404</p>\n          <div className=\"sm:ml-6\">\n            <div className=\"sm:border-l sm:border-gray-200 sm:pl-6\">\n              <h1 className=\"text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl\">Page not found</h1>\n              <p className=\"mt-1 text-base text-gray-500\">Please check the URL in the address bar and try again.</p>\n            </div>\n            <div className=\"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6\">\n              <Link\n                to=\"/\"\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Go back home\n              </Link>\n              <Link\n                to=\"/contact\"\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Contact support\n              </Link>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport { useApp } from './contexts/AppContext';\n\n// Layout components\nimport MainLayout from './layouts/MainLayout';\nimport AuthLayout from './layouts/AuthLayout';\nimport AdminLayout from './layouts/AdminLayout';\n\n// Auth pages\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport ForgotPassword from './pages/auth/ForgotPassword';\n\n// Provider pages\nimport ProviderDashboard from './pages/provider/Dashboard';\nimport ProviderProfile from './pages/provider/Profile';\nimport ProviderJobs from './pages/provider/Jobs';\nimport ProviderCalendar from './pages/provider/Calendar';\nimport ProviderMessages from './pages/provider/Messages';\nimport ProviderSettings from './pages/provider/Settings';\n\n// Homeowner pages\nimport HomeownerDashboard from './pages/homeowner/Dashboard';\nimport HomeownerProfile from './pages/homeowner/Profile';\nimport HomeownerProjects from './pages/homeowner/Projects';\nimport HomeownerProviders from './pages/homeowner/Providers';\nimport HomeownerMessages from './pages/homeowner/Messages';\nimport HomeownerSettings from './pages/homeowner/Settings';\n\n// Admin pages\nimport AdminDashboard from './pages/admin/Dashboard';\nimport AdminUsers from './pages/admin/Users';\nimport AdminProviders from './pages/admin/Providers';\nimport AdminReports from './pages/admin/Reports';\nimport AdminSettings from './pages/admin/Settings';\n\n// Community pages\nimport CommunityHub from './pages/community/CommunityHub';\nimport ProjectDetails from './pages/community/ProjectDetails';\n\n// Public pages\nimport Home from './pages/public/Home';\nimport About from './pages/public/About';\nimport Contact from './pages/public/Contact';\nimport Pricing from './pages/public/Pricing';\nimport NotFound from './pages/public/NotFound';\n\nfunction App() {\n  const { user, loading: authLoading } = useAuth();\n  const { userProfile, loading: profileLoading } = useApp();\n  \n  const loading = authLoading || profileLoading;\n  const userRole = userProfile?.role || 'homeowner';\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"w-16 h-16 border-t-4 border-b-4 border-blue-500 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <Routes>\n        {/* Public routes */}\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/about\" element={<About />} />\n        <Route path=\"/contact\" element={<Contact />} />\n        <Route path=\"/pricing\" element={<Pricing />} />\n        \n        {/* Auth routes */}\n        <Route element={<AuthLayout />}>\n          <Route path=\"/login\" element={!user ? <Login /> : <Navigate to={`/${userRole}/dashboard`} />} />\n          <Route path=\"/register\" element={!user ? <Register /> : <Navigate to={`/${userRole}/dashboard`} />} />\n          <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n        </Route>\n\n        {/* Community routes - accessible to all */}\n        <Route path=\"/community\" element={<MainLayout />}>\n          <Route index element={<CommunityHub />} />\n          <Route path=\"project/:id\" element={<ProjectDetails />} />\n        </Route>\n\n        {/* Provider routes */}\n        <Route \n          path=\"/provider\" \n          element={\n            user && userRole === 'provider' \n              ? <MainLayout /> \n              : <Navigate to={user ? `/${userRole}/dashboard` : \"/login\"} />\n          }\n        >\n          <Route path=\"dashboard\" element={<ProviderDashboard />} />\n          <Route path=\"profile\" element={<ProviderProfile />} />\n          <Route path=\"jobs\" element={<ProviderJobs />} />\n          <Route path=\"calendar\" element={<ProviderCalendar />} />\n          <Route path=\"messages\" element={<ProviderMessages />} />\n          <Route path=\"settings\" element={<ProviderSettings />} />\n        </Route>\n\n        {/* Homeowner routes */}\n        <Route \n          path=\"/homeowner\" \n          element={\n            user && (userRole === 'homeowner' || userRole === 'provider') \n              ? <MainLayout /> \n              : <Navigate to={user ? `/${userRole}/dashboard` : \"/login\"} />\n          }\n        >\n          <Route path=\"dashboard\" element={<HomeownerDashboard />} />\n          <Route path=\"profile\" element={<HomeownerProfile />} />\n          <Route path=\"projects\" element={<HomeownerProjects />} />\n          <Route path=\"providers\" element={<HomeownerProviders />} />\n          <Route path=\"messages\" element={<HomeownerMessages />} />\n          <Route path=\"settings\" element={<HomeownerSettings />} />\n        </Route>\n\n        {/* Admin routes */}\n        <Route \n          path=\"/admin\" \n          element={\n            user && userRole === 'admin' \n              ? <AdminLayout /> \n              : <Navigate to={user ? `/${userRole}/dashboard` : \"/login\"} />\n          }\n        >\n          <Route path=\"dashboard\" element={<AdminDashboard />} />\n          <Route path=\"users\" element={<AdminUsers />} />\n          <Route path=\"providers\" element={<AdminProviders />} />\n          <Route path=\"reports\" element={<AdminReports />} />\n          <Route path=\"settings\" element={<AdminSettings />} />\n        </Route>\n\n        {/* 404 route */}\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.jsx';\nimport './index.css';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { AppProvider } from './contexts/AppContext';\n\n// Use createRoot API without StrictMode to reduce potential issues\nReactDOM.createRoot(document.getElementById('root')).render(\n  <AuthProvider>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </AuthProvider>\n);\n"],"file":"assets/index-f04cec3a.js"}
